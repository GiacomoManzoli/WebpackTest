{"version":3,"sources":["webpack://MyLib/webpack/universalModuleDefinition","webpack://MyLib/webpack/bootstrap","webpack://MyLib/./src/index.js","webpack://MyLib/./src/libs/bimsurfer/bimsurfer.js"],"names":["console","log","$","BIMSURFER","undefined","uuid","runiqueId","ui","extend","version","keyCode","BACKSPACE","COMMA","DELETE","DOWN","END","ENTER","ESCAPE","HOME","LEFT","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_ENTER","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","PAGE_DOWN","PAGE_UP","PERIOD","RIGHT","SPACE","TAB","UP","fn","focus","orig","delay","each","elem","setTimeout","call","apply","arguments","scrollParent","ie","test","css","parents","filter","eq","length","document","zIndex","position","value","parseInt","isNaN","parent","uniqueId","id","removeUniqueId","removeAttr","focusable","element","isTabIndexNotNaN","map","mapName","img","nodeName","toLowerCase","parentNode","name","href","visible","disabled","expr","filters","addBack","data","createPseudo","dataName","i","match","attr","tabbable","tabIndex","isTabIndexNaN","outerWidth","jquery","side","type","innerWidth","innerHeight","outerHeight","reduce","size","border","margin","parseFloat","selector","add","prevObject","removeData","key","camelCase","exec","navigator","userAgent","support","selectstart","createElement","disableSelection","bind","event","preventDefault","enableSelection","unbind","plugin","module","option","set","proto","prototype","plugins","push","instance","args","nodeType","options","hasScroll","el","a","scroll","has","jQuery","slice","Array","_cleanData","cleanData","elems","triggerHandler","e","widget","base","fullName","existingConstructor","constructor","basePrototype","proxiedPrototype","namespace","split","Widget","_createWidget","_proto","_childConstructors","prop","isFunction","_super","_superApply","__super","__superApply","returnValue","widgetEventPrefix","widgetName","widgetFullName","child","childPrototype","bridge","target","input","inputIndex","inputLength","hasOwnProperty","isPlainObject","object","isMethodCall","concat","methodValue","error","charAt","pushStack","get","_init","defaultElement","create","eventNamespace","_getCreateOptions","bindings","hoverable","_on","remove","destroy","style","ownerDocument","window","defaultView","parentWindow","_create","_trigger","_getCreateEventData","noop","_destroy","removeClass","parts","curOption","shift","pop","_setOptions","_setOption","toggleClass","enable","disable","suppressDisabledCheck","handlers","delegateElement","handler","handlerProxy","hasClass","guid","eventName","delegate","_off","join","undelegate","_delay","_hoverable","mouseenter","currentTarget","addClass","mouseleave","_focusable","focusin","focusout","callback","Event","originalEvent","trigger","isDefaultPrevented","show","hide","method","defaultEffect","effect","hasOptions","effectName","duration","isEmptyObject","complete","effects","easing","queue","next","mouseHandled","mouseup","cancel","distance","_mouseInit","that","_mouseDown","stopImmediatePropagation","started","_mouseDestroy","_mouseMoveDelegate","_mouseUpDelegate","_mouseStarted","_mouseUp","_mouseDownEvent","btnIsLeft","which","elIsCancel","closest","_mouseCapture","mouseDelayMet","_mouseDelayTimer","_mouseDistanceMet","_mouseDelayMet","_mouseStart","_mouseMove","documentMode","button","_mouseDrag","_mouseStop","Math","max","abs","pageX","pageY","cachedScrollbarWidth","round","rhorizontal","rvertical","roffset","rposition","rpercent","_position","getOffsets","offsets","width","height","parseCss","property","getDimensions","raw","offset","top","left","isWindow","scrollTop","scrollLeft","scrollbarWidth","w1","w2","div","innerDiv","children","append","offsetWidth","clientWidth","getScrollInfo","within","overflowX","overflowY","hasOverflowX","scrollWidth","hasOverflowY","scrollHeight","getWithinInfo","withinElement","of","atOffset","targetWidth","targetHeight","targetOffset","basePosition","dimensions","scrollInfo","collision","at","pos","horizontalOffset","verticalOffset","collisionPosition","using","elemWidth","elemHeight","marginLeft","marginTop","collisionWidth","collisionHeight","myOffset","my","offsetFractions","dir","props","right","bottom","feedback","horizontal","vertical","important","fit","withinOffset","collisionPosLeft","overLeft","overRight","newOverRight","collisionPosTop","overTop","overBottom","newOverBottom","flip","offsetLeft","newOverLeft","offsetTop","newOverTop","flipfit","testElement","testElementParent","testElementStyle","body","getElementsByTagName","visibility","background","appendChild","documentElement","insertBefore","firstChild","cssText","innerHTML","removeChild","mouse","addClasses","appendTo","axis","connectToSortable","containment","cursor","cursorAt","grid","handle","helper","iframeFix","opacity","refreshPositions","revert","revertDuration","scope","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","stack","drag","start","stop","o","_getHandle","offsetHeight","_createHelper","_cacheHelperProportions","ddmanager","current","_cacheMargins","cssPosition","offsetParent","offsetParentCssPosition","positionAbs","margins","click","_getParentOffset","relative","_getRelativeOffset","originalPosition","_generatePosition","originalPageX","originalPageY","_adjustOffsetFromHelper","_setContainment","_clear","dropBehaviour","prepareOffsets","dragStart","noPropagation","_convertPositionTo","_uiHash","dropped","drop","contains","animate","dragStop","is","find","clone","obj","isArray","helperProportions","po","tagName","p","over","c","ce","relative_container","d","mod","co","cancelHelperRemoval","inst","uiSortable","item","sortables","sortable","shouldRevert","isOver","_helper","currentItem","innermostIntersecting","thisSortable","_intersectsWith","containerCache","fromOutside","placeholder","t","_cursor","_opacity","overflowOffset","scrolled","snapElements","String","items","$t","$o","ts","bs","ls","rs","l","r","b","first","x1","x2","y1","y2","snapping","release","snapItem","min","group","makeArray","sort","_zIndex","isOverAxis","x","reference","accept","activeClass","greedy","hoverClass","tolerance","activate","deactivate","out","isover","isout","proportions","droppables","splice","_activate","draggable","_deactivate","_over","_out","_drop","custom","childrenIntersection","not","intersect","droppable","toleranceMode","draggableLeft","draggableTop","absolute","clickOffset","j","m","list","droppablesLoop","parentsUntil","greedyChild","parentInstance","intersects","num","v","isNumber","alsoResize","animateDuration","animateEasing","aspectRatio","autoHide","ghost","handles","maxHeight","maxWidth","minHeight","minWidth","resize","n","hname","_aspectRatio","originalElement","_proportionallyResizeElements","wrap","elementIsWrapper","marginRight","marginBottom","originalResizeStyle","zoom","display","_proportionallyResize","s","w","se","sw","ne","nw","trim","_renderAxis","padPos","padWrapper","_handles","mouseover","resizing","className","wrapper","exp","insertAfter","capture","curleft","curtop","iniPos","_renderProxy","originalSize","sizeDiff","originalMousePosition","_propagate","smp","prevTop","prevLeft","prevWidth","prevHeight","dx","dy","_change","_updateVirtualBoundaries","shiftKey","_updateRatio","_respectSize","_updateCache","pr","ista","soffseth","soffsetw","forceAspectRatio","pMinWidth","pMaxWidth","pMinHeight","pMaxHeight","Infinity","_vBoundaries","cpos","csize","ismaxw","ismaxh","isminw","isminh","dw","dh","cw","ch","borders","paddings","prel","borderDif","elementOffset","cs","sp","step","oc","containerElement","containerOffset","containerPosition","parentData","containerSize","woset","hoset","isParent","isOffsetRelative","cp","pRatio","cop","ho","h","_store","os","op","delta","_alsoResize","sum","gridX","gridY","ox","oy","newWidth","newHeight","isMaxWidth","isMaxHeight","isMinWidth","isMinHeight","autoRefresh","selected","selecting","unselected","unselecting","selectees","dragged","refresh","$this","$element","startselected","opos","selectee","metaKey","ctrlKey","doSelect","tmp","hit","isFloating","ready","connectWith","dropOnEmpty","forcePlaceholderSize","forceHelperSize","beforeStop","change","receive","update","floating","overrideHandle","validHandle","reverting","_refreshItems","_removeCurrentsFromItems","noActivation","currentContainer","domPosition","prev","_createPlaceholder","storedCursor","storedStylesheet","_storedOpacity","_storedZIndex","_preserveHelperProportions","containers","dragging","itemElement","intersection","lastPositionAbs","_intersectsWithPointer","direction","_intersectsWithSides","_rearrange","_contactContainers","cur","animation","_storedCSS","_noFinalSort","after","prepend","serialize","_getItemsAsjQuery","connected","str","res","attribute","expression","toArray","ret","dyClick","dxClick","isOverElementHeight","isOverElementWidth","isOverElement","forcePointerForContainers","verticalDirection","_getDragVerticalDirection","horizontalDirection","_getDragHorizontalDirection","isOverBottomHalf","isOverRightHalf","_connectWith","queries","grep","targetData","_queries","queriesLength","fast","toleranceElement","refreshContainers","container","dist","itemWithLeastDistance","posProperty","sizeProperty","nearBottom","innermostContainer","innermostIndex","scrollIsRootNode","hardRefresh","nextSibling","counter","delayedTriggers","before","_inst","sender","uid","hideProps","showProps","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","active","collapsible","header","heightStyle","icons","activeHeader","beforeActivate","prevShow","prevHide","_processPanels","headers","_refresh","panel","content","_createIcons","prependTo","_destroyIcons","contents","removeAttribute","_setupEvents","_keydown","altKey","currentIndex","index","toFocus","_eventHandler","_panelKeyDown","accordionId","_findActive","headerId","panelId","siblings","events","keydown","clicked","clickedIsActive","collapsing","toShow","toHide","eventData","oldHeader","oldPanel","newHeader","newPanel","_toggle","_animate","_toggleComplete","total","adjust","down","now","fx","requestIndex","autoFocus","minLength","source","close","open","response","search","select","pending","suppressKeyPress","suppressKeyPressRepeat","suppressInput","isTextarea","isInput","isMultiLine","valueMethod","isNewMenu","_move","_keyEvent","menu","_value","term","_searchTimeout","keypress","selectedItem","previous","blur","cancelBlur","clearTimeout","searching","_initSource","_appendTo","role","mousedown","menuElement","one","menufocus","liveRegion","text","menuselect","activeElement","beforeunload","xhr","abort","array","url","request","autocomplete","ajax","dataType","success","_search","cancelSearch","_response","__response","_normalize","_suggest","_close","label","ul","empty","_renderMenu","_resizeMenu","_renderItemData","_renderItem","isFirstItem","isLastItem","keyEvent","escapeRegex","replace","matcher","RegExp","messages","noResults","results","amount","message","lastActive","startXPos","startYPos","clickDragged","baseClasses","stateClasses","typeClasses","formResetHandler","form","radioGroup","radio","radios","primary","secondary","_determineButtonType","hasTitle","buttonElement","toggleButton","focusClass","val","html","keyup","_resetButton","ancestor","labelSelector","checked","last","isDisabled","buttonText","multipleIcons","buttonClasses","buttons","rtl","end","datepicker","PROP_NAME","instActive","Datepicker","_curInst","_disabledInputs","_datepickerShowing","_inDialog","_mainDivId","_inlineClass","_appendClass","_triggerClass","_dialogClass","_disableClass","_unselectableClass","_currentClass","_dayOverClass","regional","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","dateFormat","firstDay","isRTL","showMonthAfterYear","yearSuffix","_defaults","showOn","showAnim","showOptions","defaultDate","appendText","buttonImage","buttonImageOnly","hideIfNoPrevNext","navigationAsDateFormat","gotoCurrent","changeMonth","changeYear","yearRange","showOtherMonths","selectOtherMonths","showWeek","calculateWeek","iso8601Week","shortYearCutoff","minDate","maxDate","beforeShowDay","beforeShow","onSelect","onChangeMonthYear","onClose","numberOfMonths","showCurrentAtPos","stepMonths","stepBigMonths","altField","altFormat","constrainInput","showButtonPanel","autoSize","dpDiv","bindHover","markerClassName","maxRows","_widgetDatepicker","setDefaults","settings","extendRemove","_attachDatepicker","inline","_newInst","_connectDatepicker","_inlineDatepicker","selectedDay","selectedMonth","selectedYear","drawMonth","drawYear","_attachments","_doKeyDown","_doKeyPress","_doKeyUp","_autoSize","_disableDatepicker","_get","_showDatepicker","src","alt","title","_lastInput","_hideDatepicker","findMax","maxI","date","Date","names","setMonth","setDate","getDay","_formatDate","divSpan","_setDate","_getDefaultDate","_updateDatepicker","_updateAlternate","_dialogDatepicker","browserWidth","browserHeight","scrollX","scrollY","_dialogInst","_dialogInput","_pos","clientHeight","blockUI","_destroyDatepicker","$target","_enableDatepicker","_isDisabledDatepicker","_getInst","err","_optionDatepicker","_getDateDatepicker","_getMinMaxDate","_changeDatepicker","_refreshDatepicker","_setDateDatepicker","noDefault","_setDateFromField","_getDate","dateStr","sel","handled","_selectDay","_adjustDate","_clearDate","_gotoToday","stopPropagation","chars","chr","_possibleChars","fromCharCode","charCode","indexOf","lastVal","parseDate","_getFormatConfig","beforeShowSettings","isFixed","_findPos","_checkOffset","_shouldFocusInput","_generateHTML","_attachHandlers","origyearshtml","numMonths","_getNumberOfMonths","cols","yearshtml","replaceWith","dpWidth","dpHeight","inputWidth","inputHeight","viewWidth","viewHeight","hidden","postProcess","_tidyDialog","unblockUI","_checkExternalClick","period","_adjustInstDate","currentDay","currentMonth","currentYear","getDate","getMonth","getFullYear","_notifyChange","_selectMonthYear","selectedIndex","month","year","td","_selectDate","formatDate","noWeekends","day","time","checkDate","getTime","floor","format","toString","iFormat","dim","extra","iValue","shortYearCutoffTemp","doy","literal","lookAhead","matches","getNumber","isDoubled","digits","substring","getName","shortNames","longNames","k","pair","substr","checkLiteral","_ticksTo1970","_getDaysInMonth","_daylightSavingAdjust","ATOM","COOKIE","ISO_8601","RFC_822","RFC_850","RFC_1036","RFC_1123","RFC_2822","RSS","TICKS","TIMESTAMP","W3C","formatNumber","len","formatName","output","getYear","dates","_restrictMinMax","_determineDate","offsetNumeric","offsetString","pattern","newDate","setHours","setMinutes","setSeconds","setMilliseconds","getHours","noChange","clear","origMonth","origYear","startDate","today","selectDay","getAttribute","selectMonth","selectYear","maxDraw","gotoDate","controls","buttonPanel","dow","row","col","selectedDate","cornerClass","calender","thead","daysInMonth","leadDays","curRows","numRows","printDate","dRow","tbody","daySettings","otherMonth","unselectable","tempDate","isMultiMonth","currentDate","_canAdjustMonth","_isInRange","_generateMonthYearHeader","_getFirstDayOfMonth","ceil","inMinYear","inMaxYear","years","thisYear","determineYear","endYear","monthHtml","onChange","minMax","curYear","curMonth","yearSplit","minYear","maxYear","initialized","otherArgs","sizeRelatedOptions","resizableRelatedOptions","autoOpen","closeOnEscape","dialogClass","modal","topOffset","resizable","beforeClose","resizeStart","resizeStop","originalCss","originalTitle","_createWrapper","uiDialog","_createTitlebar","_createButtonPane","_makeDraggable","_makeResizable","_isOpen","_destroyOverlay","detach","opener","_hide","isOpen","moveToTop","_moveToTop","silent","moved","nextAll","_focusTabbable","_size","_createOverlay","_show","hasFocus","uiDialogButtonPane","uiDialogTitlebarClose","_keepFocus","checkFocus","isActive","tabbables","uiDialogTitle","uiDialogTitlebar","_title","uiButtonSet","_createButtons","buttonOptions","showText","filteredUi","_blockFrames","_unblockFrames","resizeHandles","_minHeight","isVisible","resizableOptions","isDraggable","isResizable","nonContentHeight","minContentHeight","maxContentHeight","iframeBlocks","iframe","_allowInteraction","dialog","overlayInstances","overlay","uiBackCompat","myAt","offsetPosition","submenu","menus","activeMenu","proxy","expand","timer","keepActiveItem","collapseAll","character","skip","regex","escape","previousPage","nextPage","collapse","previousFilter","filterTimer","icon","submenus","submenuCarat","_itemRole","listbox","nested","focused","_scrollIntoView","_startOpening","borderTop","elementHeight","itemHeight","_hasScroll","fromFocus","_open","all","currentMenu","startMenu","newItem","prevAll","oldValue","_constrainedValue","valueDiv","_refreshValue","newValue","indeterminate","_percentage","percentage","toggle","toFixed","overlayDiv","numPages","orientation","range","values","slide","_keySliding","_mouseSliding","_animateOff","_handleIndex","_detectOrientation","_createRange","_createHandles","handleCount","existingHandles","classes","_valueMin","elements","_handleEvents","normValue","closestHandle","allowed","mouseOverHandle","elementSize","y","_normValueFromMouse","_valueMax","thisDistance","_lastChangedValue","_start","_clickOffset","_slide","_stop","pixelTotal","pixelMouse","percentMouse","valueTotal","valueMouse","_trimAlignValue","uiHash","newVal","otherVal","newValues","vals","_values","valsLength","valModStep","alignValue","lastValPercent","valPercent","valueMin","valueMax","oRange","_set","curVal","modifier","culture","up","incremental","numberFormat","page","spin","_draw","_events","mousewheel","spinning","_spin","mousewheelTimer","_repeat","uiSpinner","_uiSpinnerHtml","_buttonHtml","steps","_adjustValue","_increment","_precision","precision","_precisionOf","decimal","aboveMin","prevValue","_parse","_format","Globalize","allowAny","parsed","stepUp","_stepUp","stepDown","_stepDown","pageUp","pages","pageDown","tabId","rhash","getNextTabId","isLocal","anchor","hash","decodeURIComponent","location","beforeLoad","load","running","_processTabs","_initialActive","unique","tabs","li","anchors","locationHash","tab","_getPanelForTab","_tabKeydown","focusedTab","goingForward","_handlePageNav","activating","_focusNextTab","_panelKeydown","_findNextTab","lastTabIndex","constrain","inArray","_setupDisabled","_setupHeightStyle","_tabId","_sanitizeSelector","lis","tablist","panels","_getList","anchorId","originalAriaControls","_createPanel","oldTab","newTab","_getIndex","merge","_ajaxSettings","statusText","jqXHR","status","beforeSend","ajaxSettings","increments","addDescribedBy","describedby","removeDescribedBy","tooltipClass","track","tooltips","_disable","_updateContent","_enable","blurEvent","contentOption","eventType","tooltip","delayedShow","positionOption","_find","_tooltip","mousemove","setInterval","clearInterval","interval","fakeEvent","_removeTooltip","closing","dataSpace","stepHooks","rplusequals","stringParsers","re","parse","execResult","space","color","Color","green","blue","alpha","spaces","rgba","red","idx","hsla","hue","saturation","lightness","propTypes","supportElem","colors","backgroundColor","spaceName","cache","def","clamp","allowEmpty","stringParse","string","_rgba","parser","transparent","_default","to","from","compare","same","_","localCache","isCache","_space","used","transition","other","startColor","result","startValue","endValue","blend","opaque","rgb","toRgbaString","prefix","toHslaString","toHexString","includeAlpha","hue2rgb","q","g","diff","arr","local","vtype","_hsla","hook","hooks","cssHooks","curElem","colorInit","borderColor","expanded","part","aqua","black","fuchsia","gray","lime","maroon","navy","olive","purple","silver","teal","white","yellow","classAnimationActions","shorthandStyles","borderBottom","borderLeft","borderRight","borderWidth","padding","setAttr","getElementStyles","getComputedStyle","currentStyle","styles","styleDifference","oldStyle","newStyle","animateClass","speed","animated","baseClass","applyClassChange","allAnimations","action","styleInfo","dfd","Deferred","opts","resolve","promise","when","done","classNames","force","switchClass","save","restore","setMode","mode","getBaseline","origin","original","createWrapper","fontSize","removeWrapper","setTransition","factor","unit","cssUnit","_normalizeArguments","speeds","off","standardAnimationOption","effectMethod","run","baseEasings","pow","Sine","cos","PI","Circ","sqrt","Elastic","sin","Back","Bounce","pow2","bounce","easeIn","rpositivemotion","blind","ref","ref2","motion","overflow","times","anims","upAnim","downAnim","queuelen","dequeue","clip","vert","explode","rows","pieces","cells","mx","childComplete","animComplete","fade","fold","percent","horizFirst","widthFirst","animation1","animation2","highlight","backgroundImage","pulsate","showhide","animateTo","puff","scale","baseline","props0","props1","props2","cProps","vProps","hProps","zero","c_original","toRef","shake","positiveMotion","transfer","targetFixed","fixTop","fixLeft","endPosition","startPosition","require","requirejs","define","ba","J","N","K","z","O","ha","H","S","ca","da","B","Error","requireType","requireModules","originalError","ia","f","C","T","pkgs","main","A","contextName","paths","undef","D","normalize","nameToUrl","parentMap","unnormalized","originalName","isDefine","Module","u","defineEmitComplete","on","emit","onError","U","ja","I","W","G","depMaps","depMatched","defineDep","check","E","waitSeconds","startTime","X","enabled","inited","fetched","ea","Y","F","init","L","srcElement","onScriptLoad","detachEvent","Z","removeEventListener","onScriptError","node","M","P","baseUrl","shim","config","aa","V","makeRequire","exports","usingExports","uri","depExports","pluginMaps","depCount","factory","errback","ignore","fetch","enableBuildCallback","deps","callPlugin","enabling","defining","defined","execCb","requireMap","onResourceLoad","defineEmitted","fromText","Q","completeLoad","skipMap","registry","urlFetched","defQueue","makeModuleMap","nextTick","configure","exportsFn","makeShimExports","packages","ka","fa","__requireJsBuild","isBrowser","toUrl","lastIndexOf","specified","enforceDefine","jsExtRegExp","urlArgs","la","readyState","R","ga","ma","na","Object","importScripts","platform","opera","context","newContext","contexts","head","xhtml","createElementNS","scriptType","charset","async","setAttribute","attachEvent","addEventListener","amd","eval","WebGLDebugUtils","msg","glValidEnumContexts","glEnums","ctx","propertyName","checkInit","mightBeEnum","glEnumToString","glFunctionArgToString","functionName","argumentIndex","funcInfo","glFunctionArgsToString","argStr","ii","makePropertyWrapper","__defineGetter__","__defineSetter__","makeFunctionWrapper","makeDebugContext","opt_onErrorFunc","opt_onFunc","glErrorShadow","makeErrorWrapper","getError","NO_ERROR","resetToInitialState","numAttribs","getParameter","MAX_VERTEX_ATTRIBS","createBuffer","bindBuffer","ARRAY_BUFFER","disableVertexAttribArray","vertexAttribPointer","FLOAT","vertexAttrib1f","deleteBuffer","numTextureUnits","MAX_TEXTURE_IMAGE_UNITS","activeTexture","TEXTURE0","bindTexture","TEXTURE_CUBE_MAP","TEXTURE_2D","useProgram","ELEMENT_ARRAY_BUFFER","bindFramebuffer","FRAMEBUFFER","bindRenderbuffer","RENDERBUFFER","BLEND","CULL_FACE","DEPTH_TEST","DITHER","SCISSOR_TEST","blendColor","blendEquation","FUNC_ADD","blendFunc","ONE","ZERO","clearColor","clearDepth","clearStencil","colorMask","cullFace","BACK","depthFunc","LESS","depthMask","depthRange","frontFace","CCW","hint","GENERATE_MIPMAP_HINT","DONT_CARE","lineWidth","pixelStorei","PACK_ALIGNMENT","UNPACK_ALIGNMENT","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","BROWSER_DEFAULT_WEBGL","polygonOffset","sampleCoverage","scissor","canvas","stencilFunc","ALWAYS","stencilMask","stencilOp","KEEP","viewport","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","makeLostContextSimulatingCanvas","unwrappedContext_","wrappedContext_","onLost_","onRestored_","contextId_","contextLost_","resourceId_","resourceDb_","numCallsToLoseContext_","numCalls_","canRestore_","restoreTimeout_","glErrorShadow_","getContext","WebGLRenderingContext","makeLostContextSimulatingContext","wrapEvent","listener","info","handleEvent","addOnContextLostListener","addOnContextRestoredListener","wrapAddEventListener","bubble","loseContext","clearErrors","CONTEXT_LOST_WEBGL","makeWebGLContextEvent","callbacks","restoreContext","freeResources","loseContextInNCalls","numCalls","getNumCalls","setRestoreTimeout","timeout","isWebGLObject","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLTexture","checkResources","arg","__webglDebugContextLostId__","keys","loseContextIfTime","makeLostContextFunctionWrapper","resource","deleteFramebuffer","deleteProgram","deleteRenderbuffer","deleteShader","deleteTexture","statusMessage","creationFunctions","functionsThatShouldReturnNull","isFunctions","checkFramebufferStatus","FRAMEBUFFER_UNSUPPORTED","getAttribLocation","getVertexAttribOffset","isContextLost","SceneJS_Map","_baseId","baseId","lastUniqueId","addItem","SceneJS_error","fatalError","SceneJS","errors","ID_CLASH","findId","removeItem","VERSION","_baseStateId","_handleMap","_topicSubs","_handleTopics","_topicPubs","_engines","_engineIds","publish","topic","pub","forget","subsForTopic","unpublish","topicSubs","_engine","branchDirty","once","self","sub","createScene","json","ILLEGAL_NODE_CONFIG","engine","SceneJS_Engine","SceneJS_events","fireEvent","SCENE_CREATED","scene","sceneId","getScene","getScenes","scenes","_isArray","testObject","propertyIsEnumerable","_shallowClone","o2","_applyIf","_apply","_isEmpty","reset","temp","RESET","pluginPath","configs","libPath","SceneJS_eventManager","_handlerIds","typeHandlers","createEvent","numSubs","onEvent","handlersForType","handlerId","params","unEvent","Plugins","nodePlugins","pluginSubs","addPlugin","pluginType","loadDeps","subId","subs","ok","SceneJS_configsModule","loadScript","hasPlugin","getPlugin","pluginFilePath","script","onreadystatechange","onload","ERROR","NODE_CREATED","SCENE_COMPILING","SCENE_DESTROYED","OBJECT_COMPILING","WEBGL_CONTEXT_LOST","WEBGL_CONTEXT_RESTORED","addListener","command","priority","removeListener","lastIdx","func","subscribe","unsubscribe","SceneJS_Canvas","canvasId","contextAttr","getElementById","CANVAS_NOT_FOUND","simulateWebGLContextLost","gl","initWebGL","_WEBGL_CONTEXT_NAMES","WEBGL_NOT_SUPPORTED","loseWebGLContext","_numPasses","numPasses","_coreFactory","SceneJS_CoreFactory","_nodeFactory","SceneJS_NodeFactory","SceneJS_Display","dof","sceneDirty","_sceneBranchesDirty","_nodesToDestroy","_numNodesToDestroy","paused","destroyed","sceneStatus","nodes","numTasks","createNode","addNodes","webglRestored","setNumPasses","getNodeType","hasNodeType","nodeTypes","_doDestroyNodes","core","getCore","coreId","getNode","_fromPlugin","numNodes","childNode","addNode","_doDestroy","putCore","_core","putNode","findNode","nodeId","findNodes","nodeIdRegex","nodeMap","hasCore","dirty","renderFrame","rendered","_needCompile","pass","_doCompile","render","fnName","sleeping","prevTime","requestAnimationFrame","pick","canvasX","canvasY","rayPick","imageDirty","drawListDirty","stateSortDirty","stateOrderDirty","objectListDirty","pubSubProxy","SceneJS_PubSubProxy","_compileNodes","pause","doPause","destroyNode","nodeStatus","Int32Array","Float32Array","lastTime","vendors","cancelAnimationFrame","currTime","timeToCall","activeSceneId","code","errorName","_getErrorName","exception","fatal","NODE_CONFIG_EXPECTED","SHADER_COMPILATION_FAILURE","SHADER_LINK_FAILURE","OUT_OF_VRAM","WEBGL_UNSUPPORTED_NODE_CONFIG","NODE_NOT_FOUND","NODE_ILLEGAL_STATE","PLUGIN_INVALID","setConfigs","path","cfg","subCfg","getConfigs","setDebugConfigs","getDebugConfigs","funcs","queues","indent","indentStr","_setIndent","_indent","indentArray","_log","warn","debug","setFuncs","channel","_flush","__log","getFuncs","SceneJS_math_divVec3","dest","SceneJS_math_negateVector4","SceneJS_math_addVec4","SceneJS_math_addVec4s","SceneJS_math_addVec3","SceneJS_math_addVec3s","SceneJS_math_addScalarVec4","SceneJS_math_subVec4","SceneJS_math_subVec3","SceneJS_math_lerpVec3","t1","t2","p1","p2","f2","f1","SceneJS_math_subVec2","SceneJS_math_subVec4Scalar","SceneJS_math_subScalarVec4","SceneJS_math_mulVec4","SceneJS_math_mulVec4Scalar","SceneJS_math_mulVec3Scalar","SceneJS_math_mulVec2Scalar","SceneJS_math_divVec4","SceneJS_math_divScalarVec3","SceneJS_math_divVec3s","SceneJS_math_divVec4s","SceneJS_math_divScalarVec4","SceneJS_math_dotVector4","SceneJS_math_cross3Vec4","u0","u1","u2","v0","v1","v2","SceneJS_math_cross3Vec3","z2","SceneJS_math_sqLenVec4","SceneJS_math_lenVec4","SceneJS_math_dotVector3","SceneJS_math_dotVector2","SceneJS_math_sqLenVec3","SceneJS_math_sqLenVec2","SceneJS_math_lenVec3","SceneJS_math_lenVec2","SceneJS_math_rcpVec3","SceneJS_math_normalizeVec4","SceneJS_math_normalizeVec3","SceneJS_math_normalizeVec2","SceneJS_math_mat4","SceneJS_math_dupMat4","SceneJS_math_getCellMat4","SceneJS_math_setCellMat4","SceneJS_math_getRowMat4","SceneJS_math_setRowMat4","SceneJS_math_setRowMat4c","SceneJS_math_setRowMat4s","SceneJS_math_getColMat4","SceneJS_math_setColMat4v","SceneJS_math_setColMat4c","SceneJS_math_setColMat4Scalar","SceneJS_math_mat4To3","SceneJS_math_m4s","SceneJS_math_setMat4ToZeroes","SceneJS_math_setMat4ToOnes","SceneJS_math_diagonalMat4v","SceneJS_math_diagonalMat4c","SceneJS_math_diagonalMat4s","SceneJS_math_identityMat4","SceneJS_math_isIdentityMat4","SceneJS_math_negateMat4","SceneJS_math_addMat4","SceneJS_math_addMat4Scalar","SceneJS_math_addScalarMat4","SceneJS_math_subMat4","SceneJS_math_subMat4Scalar","SceneJS_math_subScalarMat4","SceneJS_math_mulMat4","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b10","b11","b12","b13","b20","b21","b22","b23","b30","b31","b32","b33","SceneJS_math_mulMat4s","SceneJS_math_mulMat4v4","v3","SceneJS_math_transposeMat4","mat","m4","m14","m8","m13","m12","m9","SceneJS_math_determinantMat4","SceneJS_math_inverseMat4","b04","b05","b06","b07","b08","b09","invDet","SceneJS_math_traceMat4","SceneJS_math_translationMat4v","SceneJS_math_translationMat4c","SceneJS_math_translationMat4s","SceneJS_math_rotationMat4v","anglerad","ax","xy","yz","zx","xs","ys","zs","SceneJS_math_rotationMat4c","SceneJS_math_scalingMat4v","SceneJS_math_scalingMat4c","SceneJS_math_scalingMat4s","SceneJS_math_LOOKAT_OBJ","eye","look","SceneJS_math_LOOKAT_ARRAYS","SceneJS_math_ORTHO_OBJ","near","far","SceneJS_math_lookAtMat4v","posx","posy","posz","upx","upy","upz","targetx","targety","targetz","z0","z1","x0","y0","SceneJS_math_lookAtMat4c","SceneJS_math_orthoMat4c","rl","tb","SceneJS_math_frustumMat4v","fmin","fmax","fmin4","fmax4","vsum","vdif","vdif0","vdif1","vdif2","SceneJS_math_frustumMatrix4","SceneJS_math_perspectiveMatrix4","fovyrad","aspectratio","znear","zfar","pmin","pmax","tan","SceneJS_math_transformPoint3","p0","SceneJS_math_transformPoints3","points","pi","m0","m1","m2","m3","m5","m6","m7","m10","m11","m15","SceneJS_math_transformVector3","SceneJS_math_transformVector4","SceneJS_math_projectVec4","SceneJS_math_Plane3","normal","normal0","normal1","normal2","SceneJS_math_MAX_DOUBLE","Number","POSITIVE_INFINITY","SceneJS_math_MIN_DOUBLE","NEGATIVE_INFINITY","SceneJS_math_Box3","fromPoints","pointsLength","points_i3","pDiv0","pDiv1","pDiv2","isEmpty","getCenter","getSize","getFacesAreas","getSurfaceArea","getVolume","getOffset","half_delta","SceneJS_math_AxisBox3","min0","min1","min2","max0","max1","max2","verts","toBox3","box","SceneJS_math_Sphere3","center","radius","surfaceArea","thisRadius","SceneJS_math_billboardMat","viewMatrix","rotVec","scaleVec","scaleVecRcp","sMat","rotMatInverse","SceneJS_math_FrustumPlane","nx","ny","nz","testVertex","SceneJS_math_OUTSIDE_FRUSTUM","SceneJS_math_INTERSECT_FRUSTUM","SceneJS_math_INSIDE_FRUSTUM","SceneJS_math_Frustum","projectionMatrix","planes","sMatInv","matrix","billboardMatrix","textAxisBoxIntersection","bminmax","plane","getProjectedSize","diagVec","diagSize","halfSize","getProjectedState","modelCoords","viewCoords","canvasBoxMin0","canvasBoxMin1","canvasBoxMax0","canvasBoxMax1","arrLen","viewport2","viewport3","diagCanvasBoxVec","diagCanvasBoxSize","canvasBox","canvasSize","SceneJS_math_identityQuaternion","SceneJS_math_angleAxisQuaternion","degrees","angleRad","halfAngle","fsin","SceneJS_math_mulQuaternions","p3","q0","q1","q2","q3","SceneJS_math_newMat4FromQuaternion","tx","ty","tz","twx","twy","twz","txx","txy","txz","tyy","tyz","tzz","SceneJS_math_slerp","q13","q23","cosHalfAngle","acos","sinHalfAngle","SceneJS_math_normalizeQuaternion","SceneJS_math_conjugateQuaternion","SceneJS_math_angleAxisFromQuaternion","angle","SceneJS_sceneStatusModule","taskIds","tasks","sceneStates","taskStarted","description","popups","statusPopups","getId","getCanvas","taskId","sceneState","nodeStates","popupContainer","createPopupContainer","descCounts","descCount","nodeState","task","createPopup","taskFinished","dismissPopup","taskFailed","failPopup","_webgl","ArrayBuffer","numItems","itemSize","usage","_allocate","bufferData","setData","bufferSubData","Attribute","program","bindFloatArrayBuffer","buffer","enableVertexAttribArray","bindInterleavedFloatArrayBuffer","components","stride","byteOffset","enumMap","funcAdd","funcSubtract","funcReverseSubtract","srcColor","oneMinusSrcColor","dstColor","oneMinusDstColor","srcAlpha","oneMinusSrcAlpha","dstAlpha","oneMinusDstAlpha","contantColor","oneMinusConstantColor","constantAlpha","oneMinusConstantAlpha","srcAlphaSaturate","front","back","frontAndBack","never","less","equal","lequal","greater","notequal","gequal","always","ccw","linear","nearest","linearMipMapNearest","nearestMipMapNearest","nearestMipMapLinear","linearMipMapLinear","repeat","clampToEdge","mirroredRepeat","luminance","luminanceAlpha","textureBinding2D","textureBindingCubeMap","compareRToTexture","unsignedByte","RenderBuffer","buf","bound","_gl","_touch","framebuf","texture","renderbuf","createFramebuffer","createRenderbuffer","createTexture","texParameteri","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","RGBA","UNSIGNED_BYTE","textureStorage","WebGLUnsignedByteArray","renderbufferStorage","DEPTH_COMPONENT16","framebufferTexture2D","COLOR_ATTACHMENT0","framebufferRenderbuffer","DEPTH_ATTACHMENT","isFramebuffer","FRAMEBUFFER_COMPLETE","FRAMEBUFFER_INCOMPLETE_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_DIMENSIONS","read","pickX","pickY","pix","Uint8Array","readPixels","getTexture","Program","vertexSources","fragmentSources","u_name","shader","_uniforms","_samplers","_attributes","materialSettings","specularColor","specular","shine","_shaders","Shader","VERTEX_SHADER","FRAGMENT_SHADER","createProgram","valid","attachShader","linkProgram","debugCfg","numUniforms","getProgramParameter","ACTIVE_UNIFORMS","uniformValues","valueIndex","getActiveUniform","getUniformLocation","SAMPLER_2D","SAMPLER_CUBE","Sampler","Uniform","ACTIVE_ATTRIBUTES","getActiveAttrib","setProfile","profile","_profile","getLocation","getUniform","varying","sampler","setUniform","numberValue","setValue","uniform","uniform1i","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","lines","Texture2D","minFilter","magFilter","wrapS","wrapT","isDepth","depthMode","depthCompareMode","depthCompareFunc","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR","generateMipmap","ensureImageSizePowerOfTwo","image","isPowerOfTwo","nextHighestPowerOfTwo","drawImage","logging","BOOL","BOOL_VEC2","uniform2iv","BOOL_VEC3","uniform3iv","BOOL_VEC4","uniform4iv","INT","uniform1iv","INT_VEC2","INT_VEC3","INT_VEC4","uniform1f","FLOAT_VEC2","uniform2fv","FLOAT_VEC3","uniform3fv","FLOAT_VEC4","uniform4fv","FLOAT_MAT2","uniformMatrix2fv","FALSE","FLOAT_MAT3","uniformMatrix3fv","FLOAT_MAT4","uniformMatrix4fv","getValue","SceneJS_nodeEventsModule","idStack","listenerStack","stackLen","defaultCore","stateId","listeners","renderListeners","preVisitNode","renderedSubs","worldPosSubs","viewPosSubs","cameraPosSubs","projPosSubs","canvasPosSubs","getWorldPos","getViewPos","getCameraPos","getProjPos","getCanvasPos","postVisitNode","SceneJS_Core","useCount","_stateMap","_cores","coreTypes","createCoreType","superType","addCoreBuilder","coreAliases","alias","cores","Node","_construct","_listeners","_numListeners","getCoreId","getID","getNodeId","getType","getData","getNumNodes","getNodes","getNodeAt","getFirstNode","getLastNode","disconnectNodeAt","disconnect","removeNodeAt","removeNode","_compile","gotNode","removedNode","disconnectNodes","removeNodes","nodeAttr","nodei","insertNode","mapNodes","_fireEvent","hasListener","hasListeners","removeListeners","getParent","getParentOfType","eachParent","count","hasNode","nodeGot","eachNode","stoppedNode","andSelf","depthFirst","breadthFirst","_iterateEachNode","_iterateEachNodeDepthFirst","belowRoot","findNodesByType","recursive","_findNodesByType","findParentByType","subAttr","_createAccessor","_add","inc","_inc","insert","_remove","methodName","toUpperCase","__proto__","accessors","_insert","getJSON","preCompile","postCompile","renderSubs","_destroyTree","_subs","createNodeType","typeName","coreTypeName","augment","_createNode","_getType","typePath","_loadScript","onerror","defaultMatrix","defaultMat","optics","fovy","aspect","coreStack","projTransform","Camera","setOptics","getDefaultMatrix","_rebuild","getOptics","getMatrix","_tick","clips","Clips","_setClip","setClips","indexNum","normalAndDist","Enable","setEnabled","getEnabled","picking","clipping","backfaces","frontface","backfaceLighting","backfaceTexturing","diffuse","ambient","reflection","flags","Flags","setFlags","addFlags","getFlags","setPicking","getPicking","setClipping","getClipping","setTransparent","getTransparent","setBackfaces","getBackfaces","setFrontface","getFrontface","setBackfaceLighting","getBackfaceLighting","setBackfaceTexturing","getBackfaceTexturing","setDiffuse","getDiffuse","setSpecular","getSpecular","setAmbient","getAmbient","setReflection","getReflection","targets","nodeCoreMap","renderTarget","_buildNodeCore","ColorTarget","bufType","renderBuf","__core","parentCore","DepthTarget","Geometry","_initNodeCore","autoNormals","normals","primitive","_getPrimitiveType","positions","indices","_buildNormals","arrays","_applyOptions","uv","uv2","Uint16Array","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","positions2","scaleX","scaleY","scaleZ","originX","originY","originZ","destroyBuffers","vertexBuf","normalBuf","uvBuf","uvBuf2","colorBuf","indexBuf","interleavedBuf","STATIC_DRAW","canInterleave","dataLength","interleavedValues","interleavedArrays","interleavedArrayStrides","prepareInterleaveBuffer","strideInElements","interleavedPositionOffset","interleavedNormalOffset","interleavedUVOffset","interleavedUV2Offset","interleavedColorOffset","interleaved","arrayCount","interleavedStride","_updateArray","arrayLen","itemsLen","nvecs","j0","j1","j2","setSource","sourceConfigs","_sourceConfigs","_source","getSource","setPositions","_boundary","positionsOffset","getPositions","setNormals","normalsOffset","getNormals","setColors","colorsOffset","getColors","getIndices","setUV","uvOffset","getUV","setUV2","uv2Buf","uv2Offset","getUV2","getPrimitive","getBoundary","xmin","ymin","zmin","xmax","ymax","zmax","_loading","_inheritVBOs","geometry","buildObject","core2","boundary","removeObject","_destroyNodeCore","pickable","stage","Stage","setPriority","getPriority","layer","Layer","setClearDepth","getClearDepth","Library","lights","makeHash","light","Lights","_initLight","attenuation","constantAttenuation","linearAttenuation","quadraticAttenuation","setLights","_setLight","normalMat","defaultNormalMat","normalMatrix","lookAt","viewTransform","Lookat","_mat","_xf","eyeX","eyeY","eyeZ","lookX","lookY","lookZ","upX","upY","upZ","setEye","setLook","setUp","rebuild","incEye","setEyeX","setEyeY","setEyeZ","incEyeX","incEyeY","incEyeZ","getEye","incLook","setLookX","setLookY","setLookZ","incLookX","incLookY","incLookZ","getLook","incUp","setUpX","setUpY","setUpZ","incUpX","incUpY","incUpZ","getUp","getAttributes","baseColor","material","Material","setBaseColor","setSpecularColor","setShine","setEmit","setAlpha","defaultBaseColor","setColor","getBaseColor","getColor","defaultSpecularColor","getSpecularColor","getShine","getEmit","getAlpha","morph","morphGeometry","MorphGeometry","sourceService","created","dataTargets","dataTarget","morphTargets","morphTarget","targetIndex","_display","Function","setFactor","targetsData","keysData","key1","key2","arry","getFactor","getKeys","getTargets","_makeHash","target0","Name","setName","renderer","createProps","getSuperProperty","processProps","setProps","setProperties","restoreProps","restoreProperties","glModeSetters","glStateSetters","setter","glEnum","enableBlend","flag","eqn","blendEquationSeparate","sfactor","dfactor","blendFuncSeparate","srcRGB","dstRGB","depth","clearValue","enableCullFace","enableDepthTest","enableDepthMask","zNear","zFar","enableScissorTest","mask","stencil","Renderer","setViewport","getViewport","setScissor","getScissor","setClear","getClear","setEnableBlend","getEnableBlend","setBlendColor","getBlendColor","setBlendEquation","getBlendEquation","setBlendEquationSeparate","getBlendEquationSeparate","setBlendFunc","getBlendFunc","setBlendFuncSeparate","getBlendFuncSeparate","setEnableCullFace","getEnableCullFace","setCullFace","getCullFace","setEnableDepthTest","getEnableDepthTest","setDepthFunc","getDepthFunc","setEnableDepthMask","getEnableDepthMask","setDepthRange","getDepthRange","setFrontFace","getFrontFace","setLineWidth","getLineWidth","setEnableScissorTest","getEnableScissorTest","setClearStencil","getClearStencil","setColorMask","getColorMask","lookup","_depthFuncName","depthBuffer","DepthBuf","enumName","blendEnabled","colorBuffer","ColorBuffer","setBlendEnabled","getBlendEnabled","scissorTestEnabled","view","View","setScissorTestEnabled","getScissorTestEnabled","Scene","tagMask","setTagMask","_tagSelector","getGL","getZBufferDepth","DEPTH_BITS","selectTags","getTagMask","needFrame","isRunning","containsNode","getStatus","shaderVertexCodeStack","shaderVertexHooksStack","shaderFragmentCodeStack","shaderFragmentHooksStack","shaderParamsStack","shaders","fragment","combineMapStack","vertex","paramsStack","maps","map1","map2","pushHooks","hookStacks","_setShaders","setParams","coreParams","getParams","shaderParams","ShaderParams","Style","tag","Tag","setTag","matched","getTag","Texture","layers","waitForLoad","layerParams","colorTarget","video","applyFrom","applyTo","blendMode","blendFactor","translate","rotate","_setLayerTransform","targetNode","_loadLayerTexture","loaded","_setLayerTexture","Image","_ensureImageSizePowerOfTwo","crossOrigin","_isPowerOfTwo","_nextHighestPowerOfTwo","_getGLOption","LINEAR","REPEAT","_getOption","LUMINANCE","COMPARE_R_TO_TEXTURE","LEQUAL","flipY","internalFormat","sourceFormat","ALPHA","sourceType","defaultVal","glName","glValue","setLayer","_setLayer","setLayers","matrixAsArray","hashParts","texLayer","TextureMap","_matrixDirty","buildMatrix","_loadTexture","_initTexture","setTarget","exists","setSrc","setImage","setBlendFactor","getBlendFactor","setTranslate","getTranslate","setScale","getScale","setRotate","getRotate","cubemap","Reflect","intensity","faces","TEXTURE_CUBE_MAP_POSITIVE_X","TEXTURE_CUBE_MAP_NEGATIVE_X","TEXTURE_CUBE_MAP_POSITIVE_Y","TEXTURE_CUBE_MAP_NEGATIVE_Y","TEXTURE_CUBE_MAP_POSITIVE_Z","TEXTURE_CUBE_MAP_NEGATIVE_Z","numImagesLoaded","loadFailed","face","XForm","SceneJS_modelXFormStack","buildCore","setElements","getModelMatrix","build","getWorldMatrix","setDirty","Matrix","setMatrix","Rotate","setMultOrder","multOrder","setAngle","setXYZ","getAngle","xyz","getXYZ","setX","getX","setY","getY","setZ","getZ","incAngle","Translate","incX","incY","incZ","Scale","matrixDirty","defaultNormalMatrix","numCores","transformStack","modelTransform","Types","addType","methods","_method","hasType","_canvas","_programFactory","SceneJS_ProgramFactory","_chunkFactory","SceneJS_ChunkFactory","_objectFactory","SceneJS_ObjectFactory","_objects","_ambientColor","_objectList","_objectListLen","_drawList","_drawListLen","_pickDrawList","_pickDrawListLen","_targetList","_targetListLen","_frameCtx","pickNames","VAO","renderListenerCtx","RenderContext","pickBufDirty","rayPickBufDirty","pickBuf","rayPickBuf","objectId","getObject","putProgram","getProgram","_setChunk","order","chunkType","chunkId","chunkClass","chunkTypes","oldChunk","chunks","putChunk","programGlobal","getChunk","_setAmbient","putObject","tagSelector","_buildObjectList","_makeStateSortKeys","_stateSort","_buildDrawList","_doDrawList","sortKey","_stateSortObjects","_logObjectList","_lastStateId","_lastPickStateId","targetObjectLists","targetListList","targetList","tagRegex","tagCore","_objectDrawList","_objectDrawListLen","lenj","_appendRenderTargetChunk","_appendObjectToDrawLists","chunk","draw","_logDrawList","_logPickList","finish","pickedObjectIndex","pickIndex","pickName","canvasPos","screenZ","_unpackDepth","projMat","cameraMat","viewMat","pvMat","pvMatInverse","world1","world2","vWorld","worldPos","depthZ","vec","bitShift","frameCtx","modelMat","depthbufEnabled","textureUnit","ambientColor","getExtension","flush","bindVertexArrayOES","SceneJS_ProgramSourceFactory","_sourceCache","states","SceneJS_ProgramSource","_composePickingVertexShader","_composePickingFragmentShader","_composeRenderingVertexShader","_composeRenderingFragmentShader","putSource","customShaders","customVertexShader","vertexHooks","customFragmentShader","fragmentHooks","morphing","_hasNormals","worldNormal","viewNormal","modelPos","viewPos","worldPosClip","viewPosClip","worldEyeVec","_isTexturing","_isCubeMapping","texturing","projMatrix","cubeMapping","texturePos","materialBaseColor","materialAlpha","materialEmit","materialSpecular","materialSpecularColor","materialShine","pixelColor","pickVertexSrc","pickFragmentSrc","drawVertexSrc","drawFragmentSrc","_programs","_nextProgramId","SceneJS_Program","drawUniformFlags","_freeObjects","_numFreeObjects","SceneJS_Object","chunksLen","getCameraMatrix","getViewMatrix","canvasWidth","canvasHeight","pc","_pc","_camPos","_vc","_wc","SceneJS_Chunk","_chunks","_freeChunks","createChunkType","supa","drawAndPick","freeChunks","recycle","_uPMatrixDraw","_uZNearDraw","_uZFarDraw","_uPMatrixPick","_uZNearPick","_uZFarPick","uClipMode","uClipNormalAndDist","_pick","vars","_depthModeDraw","_depthModePick","drawElements","UNSIGNED_SHORT","_uBackfaceTexturingDraw","_uBackfaceLightingDraw","_uSpecularLightingDraw","_uClippingDraw","_uAmbientDraw","_uDiffuseDraw","_uReflectionDraw","_uClippingPick","CW","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","drawUniforms","_aVertexDraw","_aNormalDraw","_aUVDraw","_aUV2Draw","_aColorDraw","_aMorphVertexDraw","_aMorphNormalDraw","_uMorphFactorDraw","_aVertexPick","_aNormalPick","_aUVPick","_aUV2Pick","_aMorphVertexPick","_aMorphNormalPick","_uMorphFactorPick","VAOMorphKey1","VAOMorphKey2","VAOHasInterleavedBuf","VAOExt","deleteVertexArrayOES","morphDraw","target1","target2","setDrawMorphFactor","doMorph","cleanInterleavedBuf","createVertexArrayOES","morphPick","_uAmbientColor","_uLightColor","_uLightDir","_uLightPos","_uLightCutOff","_uLightSpotExp","_uLightAttenuation","_uvMatrixDraw","_uVNMatrixDraw","_uWorldEyeDraw","_uvMatrixPick","_uMaterialBaseColor","_uMaterialSpecularColor","_uMaterialSpecular","_uMaterialShine","_uMaterialEmit","_uMaterialAlpha","_uPickColor","_rayPickMode","drawProgram","pickProgram","_uTexSampler","_uTexMatrix","_uTexBlendFactor","_uCubeMapSampler","_uCubeMapIntensity","_uMatLocationDraw","_uNormalMatLocationDraw","_uMatLocationPick","_uNormalMatLocationPick","forceXFormCoreRebuild","ReadUTF8","asyncStream","state","process","available","dataView","getInt16","arrayBuffer","StringView","ReadByte","getInt8","ReadFloatArray","align4","ReadIntArray","ReadInt","getInt32","ReadFloats","getFloat32","ReadLong","AsyncStream","othis","lastStream","todolist","totalReceived","lastTotalReceived","stoppedOnMax","byteLength","addReadUTF8","addReadByte","addReadFloatArray","addReadIntArray","addReadFloats","addReadInt","addReadLong","todoitem","DataView","processDone","newData","CLASS","VERSION_NUMBER","Class","subClass","classObject","__construct","newClass","Constants","timeoutTime","defaultTypes","materials","IfcSpace","IfcRoof","IfcSlab","IfcWall","IfcWallStandardCase","IfcDoor","IfcWindow","IfcOpeningElement","IfcRailing","IfcColumn","IfcBeam","IfcBeamStandardCase","IfcFurnishingElement","IfcCurtainWall","IfcStair","IfcStairFlight","IfcBuildingElementProxy","IfcFlowSegment","IfcFlowitting","IfcFlowTerminal","IfcProxy","IfcSite","IfcLightFixture","IfcDuctSegment","IfcDistributionFlowElement","IfcDuctFitting","IfcPlate","IfcPile","IfcAirTerminal","IfcMember","IfcCovering","IfcTransportElement","IfcFlowController","IfcFlowFitting","IfcRamp","IfcFurniture","IfcFooting","IfcSystemFurnitureElement","camera","maxOrbitSpeed","orbitSpeedFactor","zoomSpeedFactor","panSpeedFactor","highlightSelectedObject","wire","highlightSelectedSpecialObject","ProgressBarStyle","Continuous","Marquee","Control","SYSTEM","DOMelement","Events","redraw","setViewer","viewer","removeFromSurfer","initEvents","activateWhenReady","sceneLoaded","_this","unregister","register","fadeIn","fadeOut","DataInputStreamReader","system","readUTF8","align8","readFloat","readInt","readByte","readLong","getUint32","readFloatArray2","readFloatArray","readDoubleArray","Float64Array","readIntArray2","readIntArray","readShortArray","Int16Array","Util","isset","eventArguments","normalizeEvent","continueEvent","GeometryLoader","bimServerApi","models","progressListeners","objectAddedListeners","prepareReceived","todo","stats","nrPrimitives","nrVertices","nrNormals","nrColors","dataToInfo","loadedGeometry","infoToOid","addProgressListener","progressListener","readObject","geometryType","roid","geometryInfoOid","hasTransparency","objectBounds","transformationMatrix","geometryDataOid","coreIds","oid","gid","trans","coreNodes","forEach","modelNode","nrParts","partId","nrIndices","vertices","convertToLines","library","geometryInfoId","nrObjectsRead","lineIndices","i1","i2","i3","updateProgress","downloadInitiated","nrObjects","groupId","topicId","setBinaryDataListener","binaryDataListener","downloadViaWebsocket","readEnd","readStart","modelBounds","boundsTranslate","firstModel","lookat","maincamera","diagonal","inputStream","messageType","progressHandler","unregisterProgressHandler","progress","setTitle","setLoadOids","roids","oids","query","include","field","getSerializerByPluginClassName","serializer","serializerOid","sync","JSON","stringify","registerProgressHandler","ProgressLoader","server","autoUnregister","registered","registering","responseHandler","FX","Tween","TweenSpline","_dt","_intervalID","_r","_tweens","lookAtNode","play","_target","_sequence","_timeline","_play","_t","tick","dt","dt_prime","totalTime","sequence","lookAts","_i","_len","lerpLookAtNode","tween","_results","idle","isInteger","nVal","isFinite","vInput","sEncoding","nOffset","nLength","fTAView","aWhole","aRaw","fPutOutptCode","fGetOutptChrSize","nInptLen","nStartIdx","nTranscrType","encoding","encSwitch","putUTF8CharCode","getUTF8CharLength","putUTF16CharCode","getUTF16CharLength","Uint32Array","typeSwitch","classSwitch","subarray","vSource","nOutptLen","nCharStart","nCharEnd","nEndIdx","fGetInptChrSize","fGetInptChrCode","rawData","makeIndex","loadUTF8CharCode","loadUTF16CharCode","conversionSwitch","nOutptIdx","nInptIdx","nChrCode","nChrIdx","nIdx","charCodeAt","nMapIdx","bufferView","freeze","aChars","nLen","nPart","aTarget","nChar","nPutAt","nFrstChr","b64ToUint6","nChr","uint6ToB64","nUint6","bytesToBase64","aBytes","sB64Enc","nMod3","nUint24","base64ToBytes","sBase64","nBlockBytes","nInLen","nOutLen","nMod4","nOutIdx","nInIdx","makeFromBase64","sB64Inpt","nByteOffset","nChrLength","nStartFrom","nChrEnd","nRawLength","nIdxEnd","nStopAtChr","RangeError","toBase64","bWholeBuffer","subview","nCharOffset","nCharLength","nChrLen","nStrLen","bVariableLen","nStartOffset","nStringLength","nRawLen","forEachChar","fCallback","oThat","nChrOffset","aSource","nRawEnd","nRawIdx","valueOf","fGetCode","fGetIncr","sView","variable","removeA","what","GLMAT_EPSILON","GLMAT_ARRAY_TYPE","GLMAT_RANDOM","random","glMatrix","setMatrixArrayType","toRadian","vec4","fromValues","copy","subtract","multiply","mul","divide","scaleAndAdd","squaredDistance","sqrDist","squaredLength","sqrLen","negate","dot","lerp","ay","az","aw","transformMat4","transformQuat","qx","qy","qz","qw","ix","iy","iz","iw","vec3","cross","bx","by","bz","zScale","transformMat3","vec2","transformMat2","transformMat2d","mat4","identity","transpose","invert","det","adjoint","determinant","b0","b1","b2","b3","rad","rotateX","rotateY","rotateZ","fromRotationTranslation","xx","xz","yy","zz","wx","wy","wz","fromQuat","frustum","nf","perspective","ortho","lr","bt","eyex","eyey","eyez","centerx","centery","centerz","mat3","fromMat4","fromMat2d","normalFromMat4","mat2d","ab","ac","ad","atx","aty","bb","bc","bd","btx","bty","st","ct","vx","vy","mat2","a1","a0","a2","a3","quat","rotationTo","tmpvec3","xUnitVec3","yUnitVec3","setAxisAngle","setAxes","matr","fromMat3","bw","calculateW","slerp","omega","cosom","sinom","scale0","scale1","invDot","conjugate","fTrace","fRoot","GEOMETRY_TYPE_TRIANGLES","GEOMETRY_TYPE_INSTANCE","Viewer","connectedServers","activeGeometryLoaders","waitingGeometryLoaders","autoStart","addControl","PickFlyOrbit","addLight","Light","Sun","Ambient","visibleTypes","serverUrl","serverUsername","serverPassword","projectOid","BIMServer","Server","loginStatus","project","getProjectByOid","loadScene","revisionOid","startNewLoaders","addConnectedServer","control","removeControl","removeFromViewer","getControl","drawCanvas","lastDown","offsetX","offsetY","CAPTURE_ID","addCaptureNode","useCapture","geometryLoader","clickSelect","ClickSelect","loadGeometry","hideType","revision","refreshMask","hideRevision","showRevision","types","ifcTypes","showType","downX","downY","highlighted","lastSelected","mouseDown","mouseUp","unselect","geometryNode","newGeometry","LayerList","showCheckboxes","autoDraw","controlClass","loadedProjects","projectLi","projectUl","loadedRevisions","revisionLi","comment","revisionUl","ifcType","typeLi","checkbox","ObjectTreeView","projectHtml","classIdPrefix","drawRelationships","objects","relationship","drawObject","decomposedBy","definedBy","drawProject","projLi","relationships","vecCrossProduct","vecMultiplyScalar","vecSubtract","vecMagnitude","vecNormalize","vecNegate","vecAdd","touching","orbitDragging","panDragging","orbiting","flying","panning","lastX","lastY","yaw","pitch","prevZoom","prevScale","rate","startEye","startPivot","endPivot","currentPivot","flightStartTime","flightDuration","mouseMove","mouseWheel","touchStart","touchMove","touchEnd","touchPinch","touchPan","ease","tc","lerp3","component","updateTimer","timeNow","timeElapsed","timeElapsedNormalized","rotating","startYaw","startPitch","endYaw","endPitch","sphericalCoords","phi","theta","atan2","easedTime","phiTheta","startPhi","startTheta","PI_2","zoomX","zoomY","zoomZ","dif","flightDist","obtainView","tgt","restoreView","cy","currentPT","eventualPT","actionMove","forward","moveX","moveY","move","wheelDelta","detail","targetTouches","clientX","clientY","deltaX","deltaY","ProgressBar","shownPercentage","animationSpeed","animationTimer","currentType","marqueeImageSrc","marqueeImage","marqueeSpeed","changeType","animateProgress","changeMessage","loadingType","bar","setAnimationSpeed","changeShownProgress","lightObject","myLights","myLight"],"mappings":"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","file":"mylib.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MyLib\"] = factory();\n\telse\n\t\troot[\"MyLib\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","console.log($);\nconsole.log(BIMSURFER);\n\nexport default {};\n","/*! jQuery UI - v1.10.3 - 2013-10-08\n* http://jqueryui.com\n* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js\n* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */\n\n(function( $, undefined ) {\n\nvar uuid = 0,\n\truniqueId = /^ui-id-\\d+$/;\n\n// $.ui might exist from components with no dependencies, e.g., $.ui.position\n$.ui = $.ui || {};\n\n$.extend( $.ui, {\n\tversion: \"1.10.3\",\n\n\tkeyCode: {\n\t\tBACKSPACE: 8,\n\t\tCOMMA: 188,\n\t\tDELETE: 46,\n\t\tDOWN: 40,\n\t\tEND: 35,\n\t\tENTER: 13,\n\t\tESCAPE: 27,\n\t\tHOME: 36,\n\t\tLEFT: 37,\n\t\tNUMPAD_ADD: 107,\n\t\tNUMPAD_DECIMAL: 110,\n\t\tNUMPAD_DIVIDE: 111,\n\t\tNUMPAD_ENTER: 108,\n\t\tNUMPAD_MULTIPLY: 106,\n\t\tNUMPAD_SUBTRACT: 109,\n\t\tPAGE_DOWN: 34,\n\t\tPAGE_UP: 33,\n\t\tPERIOD: 190,\n\t\tRIGHT: 39,\n\t\tSPACE: 32,\n\t\tTAB: 9,\n\t\tUP: 38\n\t}\n});\n\n// plugins\n$.fn.extend({\n\tfocus: (function( orig ) {\n\t\treturn function( delay, fn ) {\n\t\t\treturn typeof delay === \"number\" ?\n\t\t\t\tthis.each(function() {\n\t\t\t\t\tvar elem = this;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t$( elem ).focus();\n\t\t\t\t\t\tif ( fn ) {\n\t\t\t\t\t\t\tfn.call( elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay );\n\t\t\t\t}) :\n\t\t\t\torig.apply( this, arguments );\n\t\t};\n\t})( $.fn.focus ),\n\n\tscrollParent: function() {\n\t\tvar scrollParent;\n\t\tif (($.ui.ie && (/(static|relative)/).test(this.css(\"position\"))) || (/absolute/).test(this.css(\"position\"))) {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (/(relative|absolute|fixed)/).test($.css(this,\"position\")) && (/(auto|scroll)/).test($.css(this,\"overflow\")+$.css(this,\"overflow-y\")+$.css(this,\"overflow-x\"));\n\t\t\t}).eq(0);\n\t\t} else {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (/(auto|scroll)/).test($.css(this,\"overflow\")+$.css(this,\"overflow-y\")+$.css(this,\"overflow-x\"));\n\t\t\t}).eq(0);\n\t\t}\n\n\t\treturn (/fixed/).test(this.css(\"position\")) || !scrollParent.length ? $(document) : scrollParent;\n\t},\n\n\tzIndex: function( zIndex ) {\n\t\tif ( zIndex !== undefined ) {\n\t\t\treturn this.css( \"zIndex\", zIndex );\n\t\t}\n\n\t\tif ( this.length ) {\n\t\t\tvar elem = $( this[ 0 ] ), position, value;\n\t\t\twhile ( elem.length && elem[ 0 ] !== document ) {\n\t\t\t\t// Ignore z-index if position is set to a value where z-index is ignored by the browser\n\t\t\t\t// This makes behavior of this function consistent across browsers\n\t\t\t\t// WebKit always returns auto if the element is positioned\n\t\t\t\tposition = elem.css( \"position\" );\n\t\t\t\tif ( position === \"absolute\" || position === \"relative\" || position === \"fixed\" ) {\n\t\t\t\t\t// IE returns 0 when zIndex is not specified\n\t\t\t\t\t// other browsers return a string\n\t\t\t\t\t// we ignore the case of nested elements with an explicit value of 0\n\t\t\t\t\t// <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n\t\t\t\t\tvalue = parseInt( elem.css( \"zIndex\" ), 10 );\n\t\t\t\t\tif ( !isNaN( value ) && value !== 0 ) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telem = elem.parent();\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t},\n\n\tuniqueId: function() {\n\t\treturn this.each(function() {\n\t\t\tif ( !this.id ) {\n\t\t\t\tthis.id = \"ui-id-\" + (++uuid);\n\t\t\t}\n\t\t});\n\t},\n\n\tremoveUniqueId: function() {\n\t\treturn this.each(function() {\n\t\t\tif ( runiqueId.test( this.id ) ) {\n\t\t\t\t$( this ).removeAttr( \"id\" );\n\t\t\t}\n\t\t});\n\t}\n});\n\n// selectors\nfunction focusable( element, isTabIndexNotNaN ) {\n\tvar map, mapName, img,\n\t\tnodeName = element.nodeName.toLowerCase();\n\tif ( \"area\" === nodeName ) {\n\t\tmap = element.parentNode;\n\t\tmapName = map.name;\n\t\tif ( !element.href || !mapName || map.nodeName.toLowerCase() !== \"map\" ) {\n\t\t\treturn false;\n\t\t}\n\t\timg = $( \"img[usemap=#\" + mapName + \"]\" )[0];\n\t\treturn !!img && visible( img );\n\t}\n\treturn ( /input|select|textarea|button|object/.test( nodeName ) ?\n\t\t!element.disabled :\n\t\t\"a\" === nodeName ?\n\t\t\telement.href || isTabIndexNotNaN :\n\t\t\tisTabIndexNotNaN) &&\n\t\t// the element and all of its ancestors must be visible\n\t\tvisible( element );\n}\n\nfunction visible( element ) {\n\treturn $.expr.filters.visible( element ) &&\n\t\t!$( element ).parents().addBack().filter(function() {\n\t\t\treturn $.css( this, \"visibility\" ) === \"hidden\";\n\t\t}).length;\n}\n\n$.extend( $.expr[ \":\" ], {\n\tdata: $.expr.createPseudo ?\n\t\t$.expr.createPseudo(function( dataName ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn !!$.data( elem, dataName );\n\t\t\t};\n\t\t}) :\n\t\t// support: jQuery <1.8\n\t\tfunction( elem, i, match ) {\n\t\t\treturn !!$.data( elem, match[ 3 ] );\n\t\t},\n\n\tfocusable: function( element ) {\n\t\treturn focusable( element, !isNaN( $.attr( element, \"tabindex\" ) ) );\n\t},\n\n\ttabbable: function( element ) {\n\t\tvar tabIndex = $.attr( element, \"tabindex\" ),\n\t\t\tisTabIndexNaN = isNaN( tabIndex );\n\t\treturn ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );\n\t}\n});\n\n// support: jQuery <1.8\nif ( !$( \"<a>\" ).outerWidth( 1 ).jquery ) {\n\t$.each( [ \"Width\", \"Height\" ], function( i, name ) {\n\t\tvar side = name === \"Width\" ? [ \"Left\", \"Right\" ] : [ \"Top\", \"Bottom\" ],\n\t\t\ttype = name.toLowerCase(),\n\t\t\torig = {\n\t\t\t\tinnerWidth: $.fn.innerWidth,\n\t\t\t\tinnerHeight: $.fn.innerHeight,\n\t\t\t\touterWidth: $.fn.outerWidth,\n\t\t\t\touterHeight: $.fn.outerHeight\n\t\t\t};\n\n\t\tfunction reduce( elem, size, border, margin ) {\n\t\t\t$.each( side, function() {\n\t\t\t\tsize -= parseFloat( $.css( elem, \"padding\" + this ) ) || 0;\n\t\t\t\tif ( border ) {\n\t\t\t\t\tsize -= parseFloat( $.css( elem, \"border\" + this + \"Width\" ) ) || 0;\n\t\t\t\t}\n\t\t\t\tif ( margin ) {\n\t\t\t\t\tsize -= parseFloat( $.css( elem, \"margin\" + this ) ) || 0;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn size;\n\t\t}\n\n\t\t$.fn[ \"inner\" + name ] = function( size ) {\n\t\t\tif ( size === undefined ) {\n\t\t\t\treturn orig[ \"inner\" + name ].call( this );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this ).css( type, reduce( this, size ) + \"px\" );\n\t\t\t});\n\t\t};\n\n\t\t$.fn[ \"outer\" + name] = function( size, margin ) {\n\t\t\tif ( typeof size !== \"number\" ) {\n\t\t\t\treturn orig[ \"outer\" + name ].call( this, size );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this).css( type, reduce( this, size, true, margin ) + \"px\" );\n\t\t\t});\n\t\t};\n\t});\n}\n\n// support: jQuery <1.8\nif ( !$.fn.addBack ) {\n\t$.fn.addBack = function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t};\n}\n\n// support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)\nif ( $( \"<a>\" ).data( \"a-b\", \"a\" ).removeData( \"a-b\" ).data( \"a-b\" ) ) {\n\t$.fn.removeData = (function( removeData ) {\n\t\treturn function( key ) {\n\t\t\tif ( arguments.length ) {\n\t\t\t\treturn removeData.call( this, $.camelCase( key ) );\n\t\t\t} else {\n\t\t\t\treturn removeData.call( this );\n\t\t\t}\n\t\t};\n\t})( $.fn.removeData );\n}\n\n\n\n\n\n// deprecated\n$.ui.ie = !!/msie [\\w.]+/.exec( navigator.userAgent.toLowerCase() );\n\n$.support.selectstart = \"onselectstart\" in document.createElement( \"div\" );\n$.fn.extend({\n\tdisableSelection: function() {\n\t\treturn this.bind( ( $.support.selectstart ? \"selectstart\" : \"mousedown\" ) +\n\t\t\t\".ui-disableSelection\", function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t},\n\n\tenableSelection: function() {\n\t\treturn this.unbind( \".ui-disableSelection\" );\n\t}\n});\n\n$.extend( $.ui, {\n\t// $.ui.plugin is deprecated. Use $.widget() extensions instead.\n\tplugin: {\n\t\tadd: function( module, option, set ) {\n\t\t\tvar i,\n\t\t\t\tproto = $.ui[ module ].prototype;\n\t\t\tfor ( i in set ) {\n\t\t\t\tproto.plugins[ i ] = proto.plugins[ i ] || [];\n\t\t\t\tproto.plugins[ i ].push( [ option, set[ i ] ] );\n\t\t\t}\n\t\t},\n\t\tcall: function( instance, name, args ) {\n\t\t\tvar i,\n\t\t\t\tset = instance.plugins[ name ];\n\t\t\tif ( !set || !instance.element[ 0 ].parentNode || instance.element[ 0 ].parentNode.nodeType === 11 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor ( i = 0; i < set.length; i++ ) {\n\t\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\n\t\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// only used by resizable\n\thasScroll: function( el, a ) {\n\n\t\t//If overflow is hidden, the element might have extra content, but the user wants to hide it\n\t\tif ( $( el ).css( \"overflow\" ) === \"hidden\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar scroll = ( a && a === \"left\" ) ? \"scrollLeft\" : \"scrollTop\",\n\t\t\thas = false;\n\n\t\tif ( el[ scroll ] > 0 ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// TODO: determine which cases actually cause this to happen\n\t\t// if the element doesn't have the scroll set, see if it's possible to\n\t\t// set the scroll\n\t\tel[ scroll ] = 1;\n\t\thas = ( el[ scroll ] > 0 );\n\t\tel[ scroll ] = 0;\n\t\treturn has;\n\t}\n});\n\n})( jQuery );\n(function( $, undefined ) {\n\nvar uuid = 0,\n\tslice = Array.prototype.slice,\n\t_cleanData = $.cleanData;\n$.cleanData = function( elems ) {\n\tfor ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {\n\t\ttry {\n\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t// http://bugs.jquery.com/ticket/8235\n\t\t} catch( e ) {}\n\t}\n\t_cleanData( elems );\n};\n\n$.widget = function( name, base, prototype ) {\n\tvar fullName, existingConstructor, constructor, basePrototype,\n\t\t// proxiedPrototype allows the provided prototype to remain unmodified\n\t\t// so that it can be used as a mixin for multiple widgets (#8876)\n\t\tproxiedPrototype = {},\n\t\tnamespace = name.split( \".\" )[ 0 ];\n\n\tname = name.split( \".\" )[ 1 ];\n\tfullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\t// create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\t\t// allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\t// extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\t\t// copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\t\t// track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t});\n\n\tbasePrototype = new base();\n\t// we need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = (function() {\n\t\t\tvar _super = function() {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t\t},\n\t\t\t\t_superApply = function( args ) {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t\t};\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super,\n\t\t\t\t\t__superApply = this._superApply,\n\t\t\t\t\treturnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t})();\n\t});\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? basePrototype.widgetEventPrefix : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t});\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor, child._proto );\n\t\t});\n\t\t// remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n};\n\n$.widget.extend = function( target ) {\n\tvar input = slice.call( arguments, 1 ),\n\t\tinputIndex = 0,\n\t\tinputLength = input.length,\n\t\tkey,\n\t\tvalue;\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\",\n\t\t\targs = slice.call( arguments, 1 ),\n\t\t\treturnValue = this;\n\n\t\t// allow multiple hashes to be passed on init\n\t\toptions = !isMethodCall && args.length ?\n\t\t\t$.widget.extend.apply( null, [ options ].concat(args) ) :\n\t\t\toptions;\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each(function() {\n\t\t\t\tvar methodValue,\n\t\t\t\t\tinstance = $.data( this, fullName );\n\t\t\t\tif ( !instance ) {\n\t\t\t\t\treturn $.error( \"cannot call methods on \" + name + \" prior to initialization; \" +\n\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t}\n\t\t\t\tif ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name + \" widget instance\" );\n\t\t\t\t}\n\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\tmethodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} )._init();\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\toptions: {\n\t\tdisabled: false,\n\n\t\t// callbacks\n\t\tcreate: null\n\t},\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = uuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.document = $( element.style ?\n\t\t\t\t// element within the document\n\t\t\t\telement.ownerDocument :\n\t\t\t\t// element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[0].defaultView || this.document[0].parentWindow );\n\t\t}\n\n\t\tthis._create();\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\t_getCreateOptions: $.noop,\n\t_getCreateEventData: $.noop,\n\t_create: $.noop,\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tthis._destroy();\n\t\t// we can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t// 1.9 BC for #7810\n\t\t\t// TODO remove dual storage\n\t\t\t.removeData( this.widgetName )\n\t\t\t.removeData( this.widgetFullName )\n\t\t\t// support: jquery <1.6.3\n\t\t\t// http://bugs.jquery.com/ticket/9413\n\t\t\t.removeData( $.camelCase( this.widgetFullName ) );\n\t\tthis.widget()\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeClass(\n\t\t\t\tthis.widgetFullName + \"-disabled \" +\n\t\t\t\t\"ui-state-disabled\" );\n\n\t\t// clean up events and states\n\t\tthis.bindings.unbind( this.eventNamespace );\n\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t},\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key,\n\t\t\tparts,\n\t\t\tcurOption,\n\t\t\ti;\n\n\t\tif ( arguments.length === 0 ) {\n\t\t\t// don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\t\t\t// handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( value === undefined ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( value === undefined ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\t_setOption: function( key, value ) {\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.widget()\n\t\t\t\t.toggleClass( this.widgetFullName + \"-disabled ui-state-disabled\", !!value )\n\t\t\t\t.attr( \"aria-disabled\", value );\n\t\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tenable: function() {\n\t\treturn this._setOption( \"disabled\", false );\n\t},\n\tdisable: function() {\n\t\treturn this._setOption( \"disabled\", true );\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement,\n\t\t\tinstance = this;\n\n\t\t// no suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// no element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\t// accept selectors, DOM elements\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\t\t\t\t// allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^(\\w+)\\s*(.*)$/ ),\n\t\t\t\teventName = match[1] + instance.eventNamespace,\n\t\t\t\tselector = match[2];\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.delegate( selector, eventName, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.bind( eventName, handlerProxy );\n\t\t\t}\n\t\t});\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = (eventName || \"\").split( \" \" ).join( this.eventNamespace + \" \" ) + this.eventNamespace;\n\t\telement.unbind( eventName ).undelegate( eventName );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-hover\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-focus\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig,\n\t\t\tcallback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\t\t// the original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[0], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\t\tvar hasOptions,\n\t\t\teffectName = !options ?\n\t\t\t\tmethod :\n\t\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\t\tdefaultEffect :\n\t\t\t\t\toptions.effect || defaultEffect;\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue(function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t});\n\t\t}\n\t};\n});\n\n})( jQuery );\n(function( $, undefined ) {\n\nvar mouseHandled = false;\n$( document ).mouseup( function() {\n\tmouseHandled = false;\n});\n\n$.widget(\"ui.mouse\", {\n\tversion: \"1.10.3\",\n\toptions: {\n\t\tcancel: \"input,textarea,button,select,option\",\n\t\tdistance: 1,\n\t\tdelay: 0\n\t},\n\t_mouseInit: function() {\n\t\tvar that = this;\n\n\t\tthis.element\n\t\t\t.bind(\"mousedown.\"+this.widgetName, function(event) {\n\t\t\t\treturn that._mouseDown(event);\n\t\t\t})\n\t\t\t.bind(\"click.\"+this.widgetName, function(event) {\n\t\t\t\tif (true === $.data(event.target, that.widgetName + \".preventClickEvent\")) {\n\t\t\t\t\t$.removeData(event.target, that.widgetName + \".preventClickEvent\");\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.started = false;\n\t},\n\n\t// TODO: make sure destroying one instance of mouse doesn't mess with\n\t// other instances of mouse\n\t_mouseDestroy: function() {\n\t\tthis.element.unbind(\".\"+this.widgetName);\n\t\tif ( this._mouseMoveDelegate ) {\n\t\t\t$(document)\n\t\t\t\t.unbind(\"mousemove.\"+this.widgetName, this._mouseMoveDelegate)\n\t\t\t\t.unbind(\"mouseup.\"+this.widgetName, this._mouseUpDelegate);\n\t\t}\n\t},\n\n\t_mouseDown: function(event) {\n\t\t// don't let more than one widget handle mouseStart\n\t\tif( mouseHandled ) { return; }\n\n\t\t// we may have missed mouseup (out of window)\n\t\t(this._mouseStarted && this._mouseUp(event));\n\n\t\tthis._mouseDownEvent = event;\n\n\t\tvar that = this,\n\t\t\tbtnIsLeft = (event.which === 1),\n\t\t\t// event.target.nodeName works around a bug in IE 8 with\n\t\t\t// disabled inputs (#7620)\n\t\t\telIsCancel = (typeof this.options.cancel === \"string\" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);\n\t\tif (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.mouseDelayMet = !this.options.delay;\n\t\tif (!this.mouseDelayMet) {\n\t\t\tthis._mouseDelayTimer = setTimeout(function() {\n\t\t\t\tthat.mouseDelayMet = true;\n\t\t\t}, this.options.delay);\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted = (this._mouseStart(event) !== false);\n\t\t\tif (!this._mouseStarted) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Click event may never have fired (Gecko & Opera)\n\t\tif (true === $.data(event.target, this.widgetName + \".preventClickEvent\")) {\n\t\t\t$.removeData(event.target, this.widgetName + \".preventClickEvent\");\n\t\t}\n\n\t\t// these delegates are required to keep context\n\t\tthis._mouseMoveDelegate = function(event) {\n\t\t\treturn that._mouseMove(event);\n\t\t};\n\t\tthis._mouseUpDelegate = function(event) {\n\t\t\treturn that._mouseUp(event);\n\t\t};\n\t\t$(document)\n\t\t\t.bind(\"mousemove.\"+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.bind(\"mouseup.\"+this.widgetName, this._mouseUpDelegate);\n\n\t\tevent.preventDefault();\n\n\t\tmouseHandled = true;\n\t\treturn true;\n\t},\n\n\t_mouseMove: function(event) {\n\t\t// IE mouseup check - mouseup happened when mouse was out of window\n\t\tif ($.ui.ie && ( !document.documentMode || document.documentMode < 9 ) && !event.button) {\n\t\t\treturn this._mouseUp(event);\n\t\t}\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseDrag(event);\n\t\t\treturn event.preventDefault();\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted =\n\t\t\t\t(this._mouseStart(this._mouseDownEvent, event) !== false);\n\t\t\t(this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));\n\t\t}\n\n\t\treturn !this._mouseStarted;\n\t},\n\n\t_mouseUp: function(event) {\n\t\t$(document)\n\t\t\t.unbind(\"mousemove.\"+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.unbind(\"mouseup.\"+this.widgetName, this._mouseUpDelegate);\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseStarted = false;\n\n\t\t\tif (event.target === this._mouseDownEvent.target) {\n\t\t\t\t$.data(event.target, this.widgetName + \".preventClickEvent\", true);\n\t\t\t}\n\n\t\t\tthis._mouseStop(event);\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseDistanceMet: function(event) {\n\t\treturn (Math.max(\n\t\t\t\tMath.abs(this._mouseDownEvent.pageX - event.pageX),\n\t\t\t\tMath.abs(this._mouseDownEvent.pageY - event.pageY)\n\t\t\t) >= this.options.distance\n\t\t);\n\t},\n\n\t_mouseDelayMet: function(/* event */) {\n\t\treturn this.mouseDelayMet;\n\t},\n\n\t// These are placeholder methods, to be overriden by extending plugin\n\t_mouseStart: function(/* event */) {},\n\t_mouseDrag: function(/* event */) {},\n\t_mouseStop: function(/* event */) {},\n\t_mouseCapture: function(/* event */) { return true; }\n});\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.ui = $.ui || {};\n\nvar cachedScrollbarWidth,\n\tmax = Math.max,\n\tabs = Math.abs,\n\tround = Math.round,\n\trhorizontal = /left|center|right/,\n\trvertical = /top|center|bottom/,\n\troffset = /[\\+\\-]\\d+(\\.[\\d]+)?%?/,\n\trposition = /^\\w+/,\n\trpercent = /%$/,\n\t_position = $.fn.position;\n\nfunction getOffsets( offsets, width, height ) {\n\treturn [\n\t\tparseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),\n\t\tparseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )\n\t];\n}\n\nfunction parseCss( element, property ) {\n\treturn parseInt( $.css( element, property ), 10 ) || 0;\n}\n\nfunction getDimensions( elem ) {\n\tvar raw = elem[0];\n\tif ( raw.nodeType === 9 ) {\n\t\treturn {\n\t\t\twidth: elem.width(),\n\t\t\theight: elem.height(),\n\t\t\toffset: { top: 0, left: 0 }\n\t\t};\n\t}\n\tif ( $.isWindow( raw ) ) {\n\t\treturn {\n\t\t\twidth: elem.width(),\n\t\t\theight: elem.height(),\n\t\t\toffset: { top: elem.scrollTop(), left: elem.scrollLeft() }\n\t\t};\n\t}\n\tif ( raw.preventDefault ) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\toffset: { top: raw.pageY, left: raw.pageX }\n\t\t};\n\t}\n\treturn {\n\t\twidth: elem.outerWidth(),\n\t\theight: elem.outerHeight(),\n\t\toffset: elem.offset()\n\t};\n}\n\n$.position = {\n\tscrollbarWidth: function() {\n\t\tif ( cachedScrollbarWidth !== undefined ) {\n\t\t\treturn cachedScrollbarWidth;\n\t\t}\n\t\tvar w1, w2,\n\t\t\tdiv = $( \"<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>\" ),\n\t\t\tinnerDiv = div.children()[0];\n\n\t\t$( \"body\" ).append( div );\n\t\tw1 = innerDiv.offsetWidth;\n\t\tdiv.css( \"overflow\", \"scroll\" );\n\n\t\tw2 = innerDiv.offsetWidth;\n\n\t\tif ( w1 === w2 ) {\n\t\t\tw2 = div[0].clientWidth;\n\t\t}\n\n\t\tdiv.remove();\n\n\t\treturn (cachedScrollbarWidth = w1 - w2);\n\t},\n\tgetScrollInfo: function( within ) {\n\t\tvar overflowX = within.isWindow ? \"\" : within.element.css( \"overflow-x\" ),\n\t\t\toverflowY = within.isWindow ? \"\" : within.element.css( \"overflow-y\" ),\n\t\t\thasOverflowX = overflowX === \"scroll\" ||\n\t\t\t\t( overflowX === \"auto\" && within.width < within.element[0].scrollWidth ),\n\t\t\thasOverflowY = overflowY === \"scroll\" ||\n\t\t\t\t( overflowY === \"auto\" && within.height < within.element[0].scrollHeight );\n\t\treturn {\n\t\t\twidth: hasOverflowY ? $.position.scrollbarWidth() : 0,\n\t\t\theight: hasOverflowX ? $.position.scrollbarWidth() : 0\n\t\t};\n\t},\n\tgetWithinInfo: function( element ) {\n\t\tvar withinElement = $( element || window ),\n\t\t\tisWindow = $.isWindow( withinElement[0] );\n\t\treturn {\n\t\t\telement: withinElement,\n\t\t\tisWindow: isWindow,\n\t\t\toffset: withinElement.offset() || { left: 0, top: 0 },\n\t\t\tscrollLeft: withinElement.scrollLeft(),\n\t\t\tscrollTop: withinElement.scrollTop(),\n\t\t\twidth: isWindow ? withinElement.width() : withinElement.outerWidth(),\n\t\t\theight: isWindow ? withinElement.height() : withinElement.outerHeight()\n\t\t};\n\t}\n};\n\n$.fn.position = function( options ) {\n\tif ( !options || !options.of ) {\n\t\treturn _position.apply( this, arguments );\n\t}\n\n\t// make a copy, we don't want to modify arguments\n\toptions = $.extend( {}, options );\n\n\tvar atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,\n\t\ttarget = $( options.of ),\n\t\twithin = $.position.getWithinInfo( options.within ),\n\t\tscrollInfo = $.position.getScrollInfo( within ),\n\t\tcollision = ( options.collision || \"flip\" ).split( \" \" ),\n\t\toffsets = {};\n\n\tdimensions = getDimensions( target );\n\tif ( target[0].preventDefault ) {\n\t\t// force left top to allow flipping\n\t\toptions.at = \"left top\";\n\t}\n\ttargetWidth = dimensions.width;\n\ttargetHeight = dimensions.height;\n\ttargetOffset = dimensions.offset;\n\t// clone to reuse original targetOffset later\n\tbasePosition = $.extend( {}, targetOffset );\n\n\t// force my and at to have valid horizontal and vertical positions\n\t// if a value is missing or invalid, it will be converted to center\n\t$.each( [ \"my\", \"at\" ], function() {\n\t\tvar pos = ( options[ this ] || \"\" ).split( \" \" ),\n\t\t\thorizontalOffset,\n\t\t\tverticalOffset;\n\n\t\tif ( pos.length === 1) {\n\t\t\tpos = rhorizontal.test( pos[ 0 ] ) ?\n\t\t\t\tpos.concat( [ \"center\" ] ) :\n\t\t\t\trvertical.test( pos[ 0 ] ) ?\n\t\t\t\t\t[ \"center\" ].concat( pos ) :\n\t\t\t\t\t[ \"center\", \"center\" ];\n\t\t}\n\t\tpos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : \"center\";\n\t\tpos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : \"center\";\n\n\t\t// calculate offsets\n\t\thorizontalOffset = roffset.exec( pos[ 0 ] );\n\t\tverticalOffset = roffset.exec( pos[ 1 ] );\n\t\toffsets[ this ] = [\n\t\t\thorizontalOffset ? horizontalOffset[ 0 ] : 0,\n\t\t\tverticalOffset ? verticalOffset[ 0 ] : 0\n\t\t];\n\n\t\t// reduce to just the positions without the offsets\n\t\toptions[ this ] = [\n\t\t\trposition.exec( pos[ 0 ] )[ 0 ],\n\t\t\trposition.exec( pos[ 1 ] )[ 0 ]\n\t\t];\n\t});\n\n\t// normalize collision option\n\tif ( collision.length === 1 ) {\n\t\tcollision[ 1 ] = collision[ 0 ];\n\t}\n\n\tif ( options.at[ 0 ] === \"right\" ) {\n\t\tbasePosition.left += targetWidth;\n\t} else if ( options.at[ 0 ] === \"center\" ) {\n\t\tbasePosition.left += targetWidth / 2;\n\t}\n\n\tif ( options.at[ 1 ] === \"bottom\" ) {\n\t\tbasePosition.top += targetHeight;\n\t} else if ( options.at[ 1 ] === \"center\" ) {\n\t\tbasePosition.top += targetHeight / 2;\n\t}\n\n\tatOffset = getOffsets( offsets.at, targetWidth, targetHeight );\n\tbasePosition.left += atOffset[ 0 ];\n\tbasePosition.top += atOffset[ 1 ];\n\n\treturn this.each(function() {\n\t\tvar collisionPosition, using,\n\t\t\telem = $( this ),\n\t\t\telemWidth = elem.outerWidth(),\n\t\t\telemHeight = elem.outerHeight(),\n\t\t\tmarginLeft = parseCss( this, \"marginLeft\" ),\n\t\t\tmarginTop = parseCss( this, \"marginTop\" ),\n\t\t\tcollisionWidth = elemWidth + marginLeft + parseCss( this, \"marginRight\" ) + scrollInfo.width,\n\t\t\tcollisionHeight = elemHeight + marginTop + parseCss( this, \"marginBottom\" ) + scrollInfo.height,\n\t\t\tposition = $.extend( {}, basePosition ),\n\t\t\tmyOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );\n\n\t\tif ( options.my[ 0 ] === \"right\" ) {\n\t\t\tposition.left -= elemWidth;\n\t\t} else if ( options.my[ 0 ] === \"center\" ) {\n\t\t\tposition.left -= elemWidth / 2;\n\t\t}\n\n\t\tif ( options.my[ 1 ] === \"bottom\" ) {\n\t\t\tposition.top -= elemHeight;\n\t\t} else if ( options.my[ 1 ] === \"center\" ) {\n\t\t\tposition.top -= elemHeight / 2;\n\t\t}\n\n\t\tposition.left += myOffset[ 0 ];\n\t\tposition.top += myOffset[ 1 ];\n\n\t\t// if the browser doesn't support fractions, then round for consistent results\n\t\tif ( !$.support.offsetFractions ) {\n\t\t\tposition.left = round( position.left );\n\t\t\tposition.top = round( position.top );\n\t\t}\n\n\t\tcollisionPosition = {\n\t\t\tmarginLeft: marginLeft,\n\t\t\tmarginTop: marginTop\n\t\t};\n\n\t\t$.each( [ \"left\", \"top\" ], function( i, dir ) {\n\t\t\tif ( $.ui.position[ collision[ i ] ] ) {\n\t\t\t\t$.ui.position[ collision[ i ] ][ dir ]( position, {\n\t\t\t\t\ttargetWidth: targetWidth,\n\t\t\t\t\ttargetHeight: targetHeight,\n\t\t\t\t\telemWidth: elemWidth,\n\t\t\t\t\telemHeight: elemHeight,\n\t\t\t\t\tcollisionPosition: collisionPosition,\n\t\t\t\t\tcollisionWidth: collisionWidth,\n\t\t\t\t\tcollisionHeight: collisionHeight,\n\t\t\t\t\toffset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],\n\t\t\t\t\tmy: options.my,\n\t\t\t\t\tat: options.at,\n\t\t\t\t\twithin: within,\n\t\t\t\t\telem : elem\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tif ( options.using ) {\n\t\t\t// adds feedback as second argument to using callback, if present\n\t\t\tusing = function( props ) {\n\t\t\t\tvar left = targetOffset.left - position.left,\n\t\t\t\t\tright = left + targetWidth - elemWidth,\n\t\t\t\t\ttop = targetOffset.top - position.top,\n\t\t\t\t\tbottom = top + targetHeight - elemHeight,\n\t\t\t\t\tfeedback = {\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\telement: target,\n\t\t\t\t\t\t\tleft: targetOffset.left,\n\t\t\t\t\t\t\ttop: targetOffset.top,\n\t\t\t\t\t\t\twidth: targetWidth,\n\t\t\t\t\t\t\theight: targetHeight\n\t\t\t\t\t\t},\n\t\t\t\t\t\telement: {\n\t\t\t\t\t\t\telement: elem,\n\t\t\t\t\t\t\tleft: position.left,\n\t\t\t\t\t\t\ttop: position.top,\n\t\t\t\t\t\t\twidth: elemWidth,\n\t\t\t\t\t\t\theight: elemHeight\n\t\t\t\t\t\t},\n\t\t\t\t\t\thorizontal: right < 0 ? \"left\" : left > 0 ? \"right\" : \"center\",\n\t\t\t\t\t\tvertical: bottom < 0 ? \"top\" : top > 0 ? \"bottom\" : \"middle\"\n\t\t\t\t\t};\n\t\t\t\tif ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {\n\t\t\t\t\tfeedback.horizontal = \"center\";\n\t\t\t\t}\n\t\t\t\tif ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {\n\t\t\t\t\tfeedback.vertical = \"middle\";\n\t\t\t\t}\n\t\t\t\tif ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {\n\t\t\t\t\tfeedback.important = \"horizontal\";\n\t\t\t\t} else {\n\t\t\t\t\tfeedback.important = \"vertical\";\n\t\t\t\t}\n\t\t\t\toptions.using.call( this, props, feedback );\n\t\t\t};\n\t\t}\n\n\t\telem.offset( $.extend( position, { using: using } ) );\n\t});\n};\n\n$.ui.position = {\n\tfit: {\n\t\tleft: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.isWindow ? within.scrollLeft : within.offset.left,\n\t\t\t\touterWidth = within.width,\n\t\t\t\tcollisionPosLeft = position.left - data.collisionPosition.marginLeft,\n\t\t\t\toverLeft = withinOffset - collisionPosLeft,\n\t\t\t\toverRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,\n\t\t\t\tnewOverRight;\n\n\t\t\t// element is wider than within\n\t\t\tif ( data.collisionWidth > outerWidth ) {\n\t\t\t\t// element is initially over the left side of within\n\t\t\t\tif ( overLeft > 0 && overRight <= 0 ) {\n\t\t\t\t\tnewOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset;\n\t\t\t\t\tposition.left += overLeft - newOverRight;\n\t\t\t\t// element is initially over right side of within\n\t\t\t\t} else if ( overRight > 0 && overLeft <= 0 ) {\n\t\t\t\t\tposition.left = withinOffset;\n\t\t\t\t// element is initially over both left and right sides of within\n\t\t\t\t} else {\n\t\t\t\t\tif ( overLeft > overRight ) {\n\t\t\t\t\t\tposition.left = withinOffset + outerWidth - data.collisionWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition.left = withinOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t// too far left -> align with left edge\n\t\t\t} else if ( overLeft > 0 ) {\n\t\t\t\tposition.left += overLeft;\n\t\t\t// too far right -> align with right edge\n\t\t\t} else if ( overRight > 0 ) {\n\t\t\t\tposition.left -= overRight;\n\t\t\t// adjust based on position and margin\n\t\t\t} else {\n\t\t\t\tposition.left = max( position.left - collisionPosLeft, position.left );\n\t\t\t}\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.isWindow ? within.scrollTop : within.offset.top,\n\t\t\t\touterHeight = data.within.height,\n\t\t\t\tcollisionPosTop = position.top - data.collisionPosition.marginTop,\n\t\t\t\toverTop = withinOffset - collisionPosTop,\n\t\t\t\toverBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,\n\t\t\t\tnewOverBottom;\n\n\t\t\t// element is taller than within\n\t\t\tif ( data.collisionHeight > outerHeight ) {\n\t\t\t\t// element is initially over the top of within\n\t\t\t\tif ( overTop > 0 && overBottom <= 0 ) {\n\t\t\t\t\tnewOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset;\n\t\t\t\t\tposition.top += overTop - newOverBottom;\n\t\t\t\t// element is initially over bottom of within\n\t\t\t\t} else if ( overBottom > 0 && overTop <= 0 ) {\n\t\t\t\t\tposition.top = withinOffset;\n\t\t\t\t// element is initially over both top and bottom of within\n\t\t\t\t} else {\n\t\t\t\t\tif ( overTop > overBottom ) {\n\t\t\t\t\t\tposition.top = withinOffset + outerHeight - data.collisionHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition.top = withinOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t// too far up -> align with top\n\t\t\t} else if ( overTop > 0 ) {\n\t\t\t\tposition.top += overTop;\n\t\t\t// too far down -> align with bottom edge\n\t\t\t} else if ( overBottom > 0 ) {\n\t\t\t\tposition.top -= overBottom;\n\t\t\t// adjust based on position and margin\n\t\t\t} else {\n\t\t\t\tposition.top = max( position.top - collisionPosTop, position.top );\n\t\t\t}\n\t\t}\n\t},\n\tflip: {\n\t\tleft: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.offset.left + within.scrollLeft,\n\t\t\t\touterWidth = within.width,\n\t\t\t\toffsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,\n\t\t\t\tcollisionPosLeft = position.left - data.collisionPosition.marginLeft,\n\t\t\t\toverLeft = collisionPosLeft - offsetLeft,\n\t\t\t\toverRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,\n\t\t\t\tmyOffset = data.my[ 0 ] === \"left\" ?\n\t\t\t\t\t-data.elemWidth :\n\t\t\t\t\tdata.my[ 0 ] === \"right\" ?\n\t\t\t\t\t\tdata.elemWidth :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 0 ] === \"left\" ?\n\t\t\t\t\tdata.targetWidth :\n\t\t\t\t\tdata.at[ 0 ] === \"right\" ?\n\t\t\t\t\t\t-data.targetWidth :\n\t\t\t\t\t\t0,\n\t\t\t\toffset = -2 * data.offset[ 0 ],\n\t\t\t\tnewOverRight,\n\t\t\t\tnewOverLeft;\n\n\t\t\tif ( overLeft < 0 ) {\n\t\t\t\tnewOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset;\n\t\t\t\tif ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {\n\t\t\t\t\tposition.left += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( overRight > 0 ) {\n\t\t\t\tnewOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft;\n\t\t\t\tif ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {\n\t\t\t\t\tposition.left += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.offset.top + within.scrollTop,\n\t\t\t\touterHeight = within.height,\n\t\t\t\toffsetTop = within.isWindow ? within.scrollTop : within.offset.top,\n\t\t\t\tcollisionPosTop = position.top - data.collisionPosition.marginTop,\n\t\t\t\toverTop = collisionPosTop - offsetTop,\n\t\t\t\toverBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,\n\t\t\t\ttop = data.my[ 1 ] === \"top\",\n\t\t\t\tmyOffset = top ?\n\t\t\t\t\t-data.elemHeight :\n\t\t\t\t\tdata.my[ 1 ] === \"bottom\" ?\n\t\t\t\t\t\tdata.elemHeight :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 1 ] === \"top\" ?\n\t\t\t\t\tdata.targetHeight :\n\t\t\t\t\tdata.at[ 1 ] === \"bottom\" ?\n\t\t\t\t\t\t-data.targetHeight :\n\t\t\t\t\t\t0,\n\t\t\t\toffset = -2 * data.offset[ 1 ],\n\t\t\t\tnewOverTop,\n\t\t\t\tnewOverBottom;\n\t\t\tif ( overTop < 0 ) {\n\t\t\t\tnewOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset;\n\t\t\t\tif ( ( position.top + myOffset + atOffset + offset) > overTop && ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) ) {\n\t\t\t\t\tposition.top += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( overBottom > 0 ) {\n\t\t\t\tnewOverTop = position.top -  data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop;\n\t\t\t\tif ( ( position.top + myOffset + atOffset + offset) > overBottom && ( newOverTop > 0 || abs( newOverTop ) < overBottom ) ) {\n\t\t\t\t\tposition.top += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tflipfit: {\n\t\tleft: function() {\n\t\t\t$.ui.position.flip.left.apply( this, arguments );\n\t\t\t$.ui.position.fit.left.apply( this, arguments );\n\t\t},\n\t\ttop: function() {\n\t\t\t$.ui.position.flip.top.apply( this, arguments );\n\t\t\t$.ui.position.fit.top.apply( this, arguments );\n\t\t}\n\t}\n};\n\n// fraction support test\n(function () {\n\tvar testElement, testElementParent, testElementStyle, offsetLeft, i,\n\t\tbody = document.getElementsByTagName( \"body\" )[ 0 ],\n\t\tdiv = document.createElement( \"div\" );\n\n\t//Create a \"fake body\" for testing based on method used in jQuery.support\n\ttestElement = document.createElement( body ? \"div\" : \"body\" );\n\ttestElementStyle = {\n\t\tvisibility: \"hidden\",\n\t\twidth: 0,\n\t\theight: 0,\n\t\tborder: 0,\n\t\tmargin: 0,\n\t\tbackground: \"none\"\n\t};\n\tif ( body ) {\n\t\t$.extend( testElementStyle, {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: \"-1000px\",\n\t\t\ttop: \"-1000px\"\n\t\t});\n\t}\n\tfor ( i in testElementStyle ) {\n\t\ttestElement.style[ i ] = testElementStyle[ i ];\n\t}\n\ttestElement.appendChild( div );\n\ttestElementParent = body || document.documentElement;\n\ttestElementParent.insertBefore( testElement, testElementParent.firstChild );\n\n\tdiv.style.cssText = \"position: absolute; left: 10.7432222px;\";\n\n\toffsetLeft = $( div ).offset().left;\n\t$.support.offsetFractions = offsetLeft > 10 && offsetLeft < 11;\n\n\ttestElement.innerHTML = \"\";\n\ttestElementParent.removeChild( testElement );\n})();\n\n}( jQuery ) );\n(function( $, undefined ) {\n\n$.widget(\"ui.draggable\", $.ui.mouse, {\n\tversion: \"1.10.3\",\n\twidgetEventPrefix: \"drag\",\n\toptions: {\n\t\taddClasses: true,\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectToSortable: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\tiframeFix: false,\n\t\topacity: false,\n\t\trefreshPositions: false,\n\t\trevert: false,\n\t\trevertDuration: 500,\n\t\tscope: \"default\",\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tsnap: false,\n\t\tsnapMode: \"both\",\n\t\tsnapTolerance: 20,\n\t\tstack: false,\n\t\tzIndex: false,\n\n\t\t// callbacks\n\t\tdrag: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\t_create: function() {\n\n\t\tif (this.options.helper === \"original\" && !(/^(?:r|a|f)/).test(this.element.css(\"position\"))) {\n\t\t\tthis.element[0].style.position = \"relative\";\n\t\t}\n\t\tif (this.options.addClasses){\n\t\t\tthis.element.addClass(\"ui-draggable\");\n\t\t}\n\t\tif (this.options.disabled){\n\t\t\tthis.element.addClass(\"ui-draggable-disabled\");\n\t\t}\n\n\t\tthis._mouseInit();\n\n\t},\n\n\t_destroy: function() {\n\t\tthis.element.removeClass( \"ui-draggable ui-draggable-dragging ui-draggable-disabled\" );\n\t\tthis._mouseDestroy();\n\t},\n\n\t_mouseCapture: function(event) {\n\n\t\tvar o = this.options;\n\n\t\t// among others, prevent a drag on a resizable-handle\n\t\tif (this.helper || o.disabled || $(event.target).closest(\".ui-resizable-handle\").length > 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\t//Quit if we're not on a valid handle\n\t\tthis.handle = this._getHandle(event);\n\t\tif (!this.handle) {\n\t\t\treturn false;\n\t\t}\n\n\t\t$(o.iframeFix === true ? \"iframe\" : o.iframeFix).each(function() {\n\t\t\t$(\"<div class='ui-draggable-iframeFix' style='background: #fff;'></div>\")\n\t\t\t.css({\n\t\t\t\twidth: this.offsetWidth+\"px\", height: this.offsetHeight+\"px\",\n\t\t\t\tposition: \"absolute\", opacity: \"0.001\", zIndex: 1000\n\t\t\t})\n\t\t\t.css($(this).offset())\n\t\t\t.appendTo(\"body\");\n\t\t});\n\n\t\treturn true;\n\n\t},\n\n\t_mouseStart: function(event) {\n\n\t\tvar o = this.options;\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper(event);\n\n\t\tthis.helper.addClass(\"ui-draggable-dragging\");\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//If ddmanager is used for droppables, set the global draggable\n\t\tif($.ui.ddmanager) {\n\t\t\t$.ui.ddmanager.current = this;\n\t\t}\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Store the helper's css position\n\t\tthis.cssPosition = this.helper.css( \"position\" );\n\t\tthis.scrollParent = this.helper.scrollParent();\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tthis.offsetParentCssPosition = this.offsetParent.css( \"position\" );\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.offset = this.positionAbs = this.element.offset();\n\t\tthis.offset = {\n\t\t\ttop: this.offset.top - this.margins.top,\n\t\t\tleft: this.offset.left - this.margins.left\n\t\t};\n\n\t\t//Reset scroll cache\n\t\tthis.offset.scroll = false;\n\n\t\t$.extend(this.offset, {\n\t\t\tclick: { //Where the click happened, relative to the element\n\t\t\t\tleft: event.pageX - this.offset.left,\n\t\t\t\ttop: event.pageY - this.offset.top\n\t\t\t},\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper\n\t\t});\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this.position = this._generatePosition(event);\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\t\t(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));\n\n\t\t//Set a containment if given in the options\n\t\tthis._setContainment();\n\n\t\t//Trigger event + callbacks\n\t\tif(this._trigger(\"start\", event) === false) {\n\t\t\tthis._clear();\n\t\t\treturn false;\n\t\t}\n\n\t\t//Recache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//Prepare the droppable offsets\n\t\tif ($.ui.ddmanager && !o.dropBehaviour) {\n\t\t\t$.ui.ddmanager.prepareOffsets(this, event);\n\t\t}\n\n\n\t\tthis._mouseDrag(event, true); //Execute the drag once - this causes the helper not to be visible before getting its correct position\n\n\t\t//If the ddmanager is used for droppables, inform the manager that dragging has started (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStart(this, event);\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t_mouseDrag: function(event, noPropagation) {\n\t\t// reset any necessary cached properties (see #5009)\n\t\tif ( this.offsetParentCssPosition === \"fixed\" ) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition(event);\n\t\tthis.positionAbs = this._convertPositionTo(\"absolute\");\n\n\t\t//Call plugins and callbacks and use the resulting position if something is returned\n\t\tif (!noPropagation) {\n\t\t\tvar ui = this._uiHash();\n\t\t\tif(this._trigger(\"drag\", event, ui) === false) {\n\t\t\t\tthis._mouseUp({});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.position = ui.position;\n\t\t}\n\n\t\tif(!this.options.axis || this.options.axis !== \"y\") {\n\t\t\tthis.helper[0].style.left = this.position.left+\"px\";\n\t\t}\n\t\tif(!this.options.axis || this.options.axis !== \"x\") {\n\t\t\tthis.helper[0].style.top = this.position.top+\"px\";\n\t\t}\n\t\tif($.ui.ddmanager) {\n\t\t\t$.ui.ddmanager.drag(this, event);\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function(event) {\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tvar that = this,\n\t\t\tdropped = false;\n\t\tif ($.ui.ddmanager && !this.options.dropBehaviour) {\n\t\t\tdropped = $.ui.ddmanager.drop(this, event);\n\t\t}\n\n\t\t//if a drop comes from outside (a sortable)\n\t\tif(this.dropped) {\n\t\t\tdropped = this.dropped;\n\t\t\tthis.dropped = false;\n\t\t}\n\n\t\t//if the original element is no longer in the DOM don't bother to continue (see #8269)\n\t\tif ( this.options.helper === \"original\" && !$.contains( this.element[ 0 ].ownerDocument, this.element[ 0 ] ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif((this.options.revert === \"invalid\" && !dropped) || (this.options.revert === \"valid\" && dropped) || this.options.revert === true || ($.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped))) {\n\t\t\t$(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {\n\t\t\t\tif(that._trigger(\"stop\", event) !== false) {\n\t\t\t\t\tthat._clear();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif(this._trigger(\"stop\", event) !== false) {\n\t\t\t\tthis._clear();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseUp: function(event) {\n\t\t//Remove frame helpers\n\t\t$(\"div.ui-draggable-iframeFix\").each(function() {\n\t\t\tthis.parentNode.removeChild(this);\n\t\t});\n\n\t\t//If the ddmanager is used for droppables, inform the manager that dragging has stopped (see #5003)\n\t\tif( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStop(this, event);\n\t\t}\n\n\t\treturn $.ui.mouse.prototype._mouseUp.call(this, event);\n\t},\n\n\tcancel: function() {\n\n\t\tif(this.helper.is(\".ui-draggable-dragging\")) {\n\t\t\tthis._mouseUp({});\n\t\t} else {\n\t\t\tthis._clear();\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t_getHandle: function(event) {\n\t\treturn this.options.handle ?\n\t\t\t!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :\n\t\t\ttrue;\n\t},\n\n\t_createHelper: function(event) {\n\n\t\tvar o = this.options,\n\t\t\thelper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event])) : (o.helper === \"clone\" ? this.element.clone().removeAttr(\"id\") : this.element);\n\n\t\tif(!helper.parents(\"body\").length) {\n\t\t\thelper.appendTo((o.appendTo === \"parent\" ? this.element[0].parentNode : o.appendTo));\n\t\t}\n\n\t\tif(helper[0] !== this.element[0] && !(/(fixed|absolute)/).test(helper.css(\"position\"))) {\n\t\t\thelper.css(\"position\", \"absolute\");\n\t\t}\n\n\t\treturn helper;\n\n\t},\n\n\t_adjustOffsetFromHelper: function(obj) {\n\t\tif (typeof obj === \"string\") {\n\t\t\tobj = obj.split(\" \");\n\t\t}\n\t\tif ($.isArray(obj)) {\n\t\t\tobj = {left: +obj[0], top: +obj[1] || 0};\n\t\t}\n\t\tif (\"left\" in obj) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif (\"right\" in obj) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif (\"top\" in obj) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif (\"bottom\" in obj) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t//Get the offsetParent and cache its position\n\t\tvar po = this.offsetParent.offset();\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that\n\t\t//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag\n\t\tif(this.cssPosition === \"absolute\" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\t//This needs to be actually done for all browsers, since pageX/pageY includes this information\n\t\t//Ugly IE fix\n\t\tif((this.offsetParent[0] === document.body) ||\n\t\t\t(this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === \"html\" && $.ui.ie)) {\n\t\t\tpo = { top: 0, left: 0 };\n\t\t}\n\n\t\treturn {\n\t\t\ttop: po.top + (parseInt(this.offsetParent.css(\"borderTopWidth\"),10) || 0),\n\t\t\tleft: po.left + (parseInt(this.offsetParent.css(\"borderLeftWidth\"),10) || 0)\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\n\t\tif(this.cssPosition === \"relative\") {\n\t\t\tvar p = this.element.position();\n\t\t\treturn {\n\t\t\t\ttop: p.top - (parseInt(this.helper.css(\"top\"),10) || 0) + this.scrollParent.scrollTop(),\n\t\t\t\tleft: p.left - (parseInt(this.helper.css(\"left\"),10) || 0) + this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t} else {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: (parseInt(this.element.css(\"marginLeft\"),10) || 0),\n\t\t\ttop: (parseInt(this.element.css(\"marginTop\"),10) || 0),\n\t\t\tright: (parseInt(this.element.css(\"marginRight\"),10) || 0),\n\t\t\tbottom: (parseInt(this.element.css(\"marginBottom\"),10) || 0)\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar over, c, ce,\n\t\t\to = this.options;\n\n\t\tif ( !o.containment ) {\n\t\t\tthis.containment = null;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"window\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\n\t\t\t\t$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,\n\t\t\t\t$( window ).scrollLeft() + $( window ).width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t$( window ).scrollTop() + ( $( window ).height() || document.body.parentNode.scrollHeight ) - this.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"document\") {\n\t\t\tthis.containment = [\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t$( document ).width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t( $( document ).height() || document.body.parentNode.scrollHeight ) - this.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment.constructor === Array ) {\n\t\t\tthis.containment = o.containment;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"parent\" ) {\n\t\t\to.containment = this.helper[ 0 ].parentNode;\n\t\t}\n\n\t\tc = $( o.containment );\n\t\tce = c[ 0 ];\n\n\t\tif( !ce ) {\n\t\t\treturn;\n\t\t}\n\n\t\tover = c.css( \"overflow\" ) !== \"hidden\";\n\n\t\tthis.containment = [\n\t\t\t( parseInt( c.css( \"borderLeftWidth\" ), 10 ) || 0 ) + ( parseInt( c.css( \"paddingLeft\" ), 10 ) || 0 ),\n\t\t\t( parseInt( c.css( \"borderTopWidth\" ), 10 ) || 0 ) + ( parseInt( c.css( \"paddingTop\" ), 10 ) || 0 ) ,\n\t\t\t( over ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) - ( parseInt( c.css( \"borderRightWidth\" ), 10 ) || 0 ) - ( parseInt( c.css( \"paddingRight\" ), 10 ) || 0 ) - this.helperProportions.width - this.margins.left - this.margins.right,\n\t\t\t( over ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) - ( parseInt( c.css( \"borderBottomWidth\" ), 10 ) || 0 ) - ( parseInt( c.css( \"paddingBottom\" ), 10 ) || 0 ) - this.helperProportions.height - this.margins.top  - this.margins.bottom\n\t\t];\n\t\tthis.relative_container = c;\n\t},\n\n\t_convertPositionTo: function(d, pos) {\n\n\t\tif(!pos) {\n\t\t\tpos = this.position;\n\t\t}\n\n\t\tvar mod = d === \"absolute\" ? 1 : -1,\n\t\t\tscroll = this.cssPosition === \"absolute\" && !( this.scrollParent[ 0 ] !== document && $.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ? this.offsetParent : this.scrollParent;\n\n\t\t//Cache the scroll\n\t\tif (!this.offset.scroll) {\n\t\t\tthis.offset.scroll = {top : scroll.scrollTop(), left : scroll.scrollLeft()};\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpos.top\t+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.relative.top * mod +\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.top * mod -\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( ( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollTop() : this.offset.scroll.top ) * mod )\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpos.left +\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.relative.left * mod +\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.left * mod\t-\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( ( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollLeft() : this.offset.scroll.left ) * mod )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function(event) {\n\n\t\tvar containment, co, top, left,\n\t\t\to = this.options,\n\t\t\tscroll = this.cssPosition === \"absolute\" && !( this.scrollParent[ 0 ] !== document && $.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ? this.offsetParent : this.scrollParent,\n\t\t\tpageX = event.pageX,\n\t\t\tpageY = event.pageY;\n\n\t\t//Cache the scroll\n\t\tif (!this.offset.scroll) {\n\t\t\tthis.offset.scroll = {top : scroll.scrollTop(), left : scroll.scrollLeft()};\n\t\t}\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\t// If we are not dragging yet, we won't check for options\n\t\tif ( this.originalPosition ) {\n\t\t\tif ( this.containment ) {\n\t\t\t\tif ( this.relative_container ){\n\t\t\t\t\tco = this.relative_container.offset();\n\t\t\t\t\tcontainment = [\n\t\t\t\t\t\tthis.containment[ 0 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 1 ] + co.top,\n\t\t\t\t\t\tthis.containment[ 2 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 3 ] + co.top\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcontainment = this.containment;\n\t\t\t\t}\n\n\t\t\t\tif(event.pageX - this.offset.click.left < containment[0]) {\n\t\t\t\t\tpageX = containment[0] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif(event.pageY - this.offset.click.top < containment[1]) {\n\t\t\t\t\tpageY = containment[1] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t\tif(event.pageX - this.offset.click.left > containment[2]) {\n\t\t\t\t\tpageX = containment[2] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif(event.pageY - this.offset.click.top > containment[3]) {\n\t\t\t\t\tpageY = containment[3] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(o.grid) {\n\t\t\t\t//Check for grid elements set to 0 to prevent divide by 0 error causing invalid argument errors in IE (see ticket #6950)\n\t\t\t\ttop = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;\n\t\t\t\tpageY = containment ? ((top - this.offset.click.top >= containment[1] || top - this.offset.click.top > containment[3]) ? top : ((top - this.offset.click.top >= containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;\n\n\t\t\t\tleft = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;\n\t\t\t\tpageX = containment ? ((left - this.offset.click.left >= containment[0] || left - this.offset.click.left > containment[2]) ? left : ((left - this.offset.click.left >= containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpageY -\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.click.top\t-\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.relative.top -\t\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.top +\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollTop() : this.offset.scroll.top )\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpageX -\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.click.left -\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.relative.left -\t\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.left +\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollLeft() : this.offset.scroll.left )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_clear: function() {\n\t\tthis.helper.removeClass(\"ui-draggable-dragging\");\n\t\tif(this.helper[0] !== this.element[0] && !this.cancelHelperRemoval) {\n\t\t\tthis.helper.remove();\n\t\t}\n\t\tthis.helper = null;\n\t\tthis.cancelHelperRemoval = false;\n\t},\n\n\t// From now on bulk stuff - mainly helpers\n\n\t_trigger: function(type, event, ui) {\n\t\tui = ui || this._uiHash();\n\t\t$.ui.plugin.call(this, type, [event, ui]);\n\t\t//The absolute position has to be recalculated after plugins\n\t\tif(type === \"drag\") {\n\t\t\tthis.positionAbs = this._convertPositionTo(\"absolute\");\n\t\t}\n\t\treturn $.Widget.prototype._trigger.call(this, type, event, ui);\n\t},\n\n\tplugins: {},\n\n\t_uiHash: function() {\n\t\treturn {\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\toriginalPosition: this.originalPosition,\n\t\t\toffset: this.positionAbs\n\t\t};\n\t}\n\n});\n\n$.ui.plugin.add(\"draggable\", \"connectToSortable\", {\n\tstart: function(event, ui) {\n\n\t\tvar inst = $(this).data(\"ui-draggable\"), o = inst.options,\n\t\t\tuiSortable = $.extend({}, ui, { item: inst.element });\n\t\tinst.sortables = [];\n\t\t$(o.connectToSortable).each(function() {\n\t\t\tvar sortable = $.data(this, \"ui-sortable\");\n\t\t\tif (sortable && !sortable.options.disabled) {\n\t\t\t\tinst.sortables.push({\n\t\t\t\t\tinstance: sortable,\n\t\t\t\t\tshouldRevert: sortable.options.revert\n\t\t\t\t});\n\t\t\t\tsortable.refreshPositions();\t// Call the sortable's refreshPositions at drag start to refresh the containerCache since the sortable container cache is used in drag and needs to be up to date (this will ensure it's initialised as well as being kept in step with any changes that might have happened on the page).\n\t\t\t\tsortable._trigger(\"activate\", event, uiSortable);\n\t\t\t}\n\t\t});\n\n\t},\n\tstop: function(event, ui) {\n\n\t\t//If we are still over the sortable, we fake the stop event of the sortable, but also remove helper\n\t\tvar inst = $(this).data(\"ui-draggable\"),\n\t\t\tuiSortable = $.extend({}, ui, { item: inst.element });\n\n\t\t$.each(inst.sortables, function() {\n\t\t\tif(this.instance.isOver) {\n\n\t\t\t\tthis.instance.isOver = 0;\n\n\t\t\t\tinst.cancelHelperRemoval = true; //Don't remove the helper in the draggable instance\n\t\t\t\tthis.instance.cancelHelperRemoval = false; //Remove it in the sortable instance (so sortable plugins like revert still work)\n\n\t\t\t\t//The sortable revert is supported, and we have to set a temporary dropped variable on the draggable to support revert: \"valid/invalid\"\n\t\t\t\tif(this.shouldRevert) {\n\t\t\t\t\tthis.instance.options.revert = this.shouldRevert;\n\t\t\t\t}\n\n\t\t\t\t//Trigger the stop of the sortable\n\t\t\t\tthis.instance._mouseStop(event);\n\n\t\t\t\tthis.instance.options.helper = this.instance.options._helper;\n\n\t\t\t\t//If the helper has been the original item, restore properties in the sortable\n\t\t\t\tif(inst.options.helper === \"original\") {\n\t\t\t\t\tthis.instance.currentItem.css({ top: \"auto\", left: \"auto\" });\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.instance.cancelHelperRemoval = false; //Remove the helper in the sortable instance\n\t\t\t\tthis.instance._trigger(\"deactivate\", event, uiSortable);\n\t\t\t}\n\n\t\t});\n\n\t},\n\tdrag: function(event, ui) {\n\n\t\tvar inst = $(this).data(\"ui-draggable\"), that = this;\n\n\t\t$.each(inst.sortables, function() {\n\n\t\t\tvar innermostIntersecting = false,\n\t\t\t\tthisSortable = this;\n\n\t\t\t//Copy over some variables to allow calling the sortable's native _intersectsWith\n\t\t\tthis.instance.positionAbs = inst.positionAbs;\n\t\t\tthis.instance.helperProportions = inst.helperProportions;\n\t\t\tthis.instance.offset.click = inst.offset.click;\n\n\t\t\tif(this.instance._intersectsWith(this.instance.containerCache)) {\n\t\t\t\tinnermostIntersecting = true;\n\t\t\t\t$.each(inst.sortables, function () {\n\t\t\t\t\tthis.instance.positionAbs = inst.positionAbs;\n\t\t\t\t\tthis.instance.helperProportions = inst.helperProportions;\n\t\t\t\t\tthis.instance.offset.click = inst.offset.click;\n\t\t\t\t\tif (this !== thisSortable &&\n\t\t\t\t\t\tthis.instance._intersectsWith(this.instance.containerCache) &&\n\t\t\t\t\t\t$.contains(thisSortable.instance.element[0], this.instance.element[0])\n\t\t\t\t\t) {\n\t\t\t\t\t\tinnermostIntersecting = false;\n\t\t\t\t\t}\n\t\t\t\t\treturn innermostIntersecting;\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t\tif(innermostIntersecting) {\n\t\t\t\t//If it intersects, we use a little isOver variable and set it once, so our move-in stuff gets fired only once\n\t\t\t\tif(!this.instance.isOver) {\n\n\t\t\t\t\tthis.instance.isOver = 1;\n\t\t\t\t\t//Now we fake the start of dragging for the sortable instance,\n\t\t\t\t\t//by cloning the list group item, appending it to the sortable and using it as inst.currentItem\n\t\t\t\t\t//We can then fire the start event of the sortable with our passed browser event, and our own helper (so it doesn't create a new one)\n\t\t\t\t\tthis.instance.currentItem = $(that).clone().removeAttr(\"id\").appendTo(this.instance.element).data(\"ui-sortable-item\", true);\n\t\t\t\t\tthis.instance.options._helper = this.instance.options.helper; //Store helper option to later restore it\n\t\t\t\t\tthis.instance.options.helper = function() { return ui.helper[0]; };\n\n\t\t\t\t\tevent.target = this.instance.currentItem[0];\n\t\t\t\t\tthis.instance._mouseCapture(event, true);\n\t\t\t\t\tthis.instance._mouseStart(event, true, true);\n\n\t\t\t\t\t//Because the browser event is way off the new appended portlet, we modify a couple of variables to reflect the changes\n\t\t\t\t\tthis.instance.offset.click.top = inst.offset.click.top;\n\t\t\t\t\tthis.instance.offset.click.left = inst.offset.click.left;\n\t\t\t\t\tthis.instance.offset.parent.left -= inst.offset.parent.left - this.instance.offset.parent.left;\n\t\t\t\t\tthis.instance.offset.parent.top -= inst.offset.parent.top - this.instance.offset.parent.top;\n\n\t\t\t\t\tinst._trigger(\"toSortable\", event);\n\t\t\t\t\tinst.dropped = this.instance.element; //draggable revert needs that\n\t\t\t\t\t//hack so receive/update callbacks work (mostly)\n\t\t\t\t\tinst.currentItem = inst.element;\n\t\t\t\t\tthis.instance.fromOutside = inst;\n\n\t\t\t\t}\n\n\t\t\t\t//Provided we did all the previous steps, we can fire the drag event of the sortable on every draggable drag, when it intersects with the sortable\n\t\t\t\tif(this.instance.currentItem) {\n\t\t\t\t\tthis.instance._mouseDrag(event);\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t//If it doesn't intersect with the sortable, and it intersected before,\n\t\t\t\t//we fake the drag stop of the sortable, but make sure it doesn't remove the helper by using cancelHelperRemoval\n\t\t\t\tif(this.instance.isOver) {\n\n\t\t\t\t\tthis.instance.isOver = 0;\n\t\t\t\t\tthis.instance.cancelHelperRemoval = true;\n\n\t\t\t\t\t//Prevent reverting on this forced stop\n\t\t\t\t\tthis.instance.options.revert = false;\n\n\t\t\t\t\t// The out event needs to be triggered independently\n\t\t\t\t\tthis.instance._trigger(\"out\", event, this.instance._uiHash(this.instance));\n\n\t\t\t\t\tthis.instance._mouseStop(event, true);\n\t\t\t\t\tthis.instance.options.helper = this.instance.options._helper;\n\n\t\t\t\t\t//Now we remove our currentItem, the list group clone again, and the placeholder, and animate the helper back to it's original size\n\t\t\t\t\tthis.instance.currentItem.remove();\n\t\t\t\t\tif(this.instance.placeholder) {\n\t\t\t\t\t\tthis.instance.placeholder.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\tinst._trigger(\"fromSortable\", event);\n\t\t\t\t\tinst.dropped = false; //draggable revert needs that\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t});\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"cursor\", {\n\tstart: function() {\n\t\tvar t = $(\"body\"), o = $(this).data(\"ui-draggable\").options;\n\t\tif (t.css(\"cursor\")) {\n\t\t\to._cursor = t.css(\"cursor\");\n\t\t}\n\t\tt.css(\"cursor\", o.cursor);\n\t},\n\tstop: function() {\n\t\tvar o = $(this).data(\"ui-draggable\").options;\n\t\tif (o._cursor) {\n\t\t\t$(\"body\").css(\"cursor\", o._cursor);\n\t\t}\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"opacity\", {\n\tstart: function(event, ui) {\n\t\tvar t = $(ui.helper), o = $(this).data(\"ui-draggable\").options;\n\t\tif(t.css(\"opacity\")) {\n\t\t\to._opacity = t.css(\"opacity\");\n\t\t}\n\t\tt.css(\"opacity\", o.opacity);\n\t},\n\tstop: function(event, ui) {\n\t\tvar o = $(this).data(\"ui-draggable\").options;\n\t\tif(o._opacity) {\n\t\t\t$(ui.helper).css(\"opacity\", o._opacity);\n\t\t}\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"scroll\", {\n\tstart: function() {\n\t\tvar i = $(this).data(\"ui-draggable\");\n\t\tif(i.scrollParent[0] !== document && i.scrollParent[0].tagName !== \"HTML\") {\n\t\t\ti.overflowOffset = i.scrollParent.offset();\n\t\t}\n\t},\n\tdrag: function( event ) {\n\n\t\tvar i = $(this).data(\"ui-draggable\"), o = i.options, scrolled = false;\n\n\t\tif(i.scrollParent[0] !== document && i.scrollParent[0].tagName !== \"HTML\") {\n\n\t\t\tif(!o.axis || o.axis !== \"x\") {\n\t\t\t\tif((i.overflowOffset.top + i.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {\n\t\t\t\t\ti.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop + o.scrollSpeed;\n\t\t\t\t} else if(event.pageY - i.overflowOffset.top < o.scrollSensitivity) {\n\t\t\t\t\ti.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!o.axis || o.axis !== \"y\") {\n\t\t\t\tif((i.overflowOffset.left + i.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {\n\t\t\t\t\ti.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft + o.scrollSpeed;\n\t\t\t\t} else if(event.pageX - i.overflowOffset.left < o.scrollSensitivity) {\n\t\t\t\t\ti.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif(!o.axis || o.axis !== \"x\") {\n\t\t\t\tif(event.pageY - $(document).scrollTop() < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);\n\t\t\t\t} else if($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!o.axis || o.axis !== \"y\") {\n\t\t\t\tif(event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);\n\t\t\t\t} else if($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {\n\t\t\t$.ui.ddmanager.prepareOffsets(i, event);\n\t\t}\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"snap\", {\n\tstart: function() {\n\n\t\tvar i = $(this).data(\"ui-draggable\"),\n\t\t\to = i.options;\n\n\t\ti.snapElements = [];\n\n\t\t$(o.snap.constructor !== String ? ( o.snap.items || \":data(ui-draggable)\" ) : o.snap).each(function() {\n\t\t\tvar $t = $(this),\n\t\t\t\t$o = $t.offset();\n\t\t\tif(this !== i.element[0]) {\n\t\t\t\ti.snapElements.push({\n\t\t\t\t\titem: this,\n\t\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\n\t\t\t\t\ttop: $o.top, left: $o.left\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t},\n\tdrag: function(event, ui) {\n\n\t\tvar ts, bs, ls, rs, l, r, t, b, i, first,\n\t\t\tinst = $(this).data(\"ui-draggable\"),\n\t\t\to = inst.options,\n\t\t\td = o.snapTolerance,\n\t\t\tx1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\n\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\n\n\t\tfor (i = inst.snapElements.length - 1; i >= 0; i--){\n\n\t\t\tl = inst.snapElements[i].left;\n\t\t\tr = l + inst.snapElements[i].width;\n\t\t\tt = inst.snapElements[i].top;\n\t\t\tb = t + inst.snapElements[i].height;\n\n\t\t\tif ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d || !$.contains( inst.snapElements[ i ].item.ownerDocument, inst.snapElements[ i ].item ) ) {\n\t\t\t\tif(inst.snapElements[i].snapping) {\n\t\t\t\t\t(inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));\n\t\t\t\t}\n\t\t\t\tinst.snapElements[i].snapping = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(o.snapMode !== \"inner\") {\n\t\t\t\tts = Math.abs(t - y2) <= d;\n\t\t\t\tbs = Math.abs(b - y1) <= d;\n\t\t\t\tls = Math.abs(l - x2) <= d;\n\t\t\t\trs = Math.abs(r - x1) <= d;\n\t\t\t\tif(ts) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo(\"relative\", { top: t - inst.helperProportions.height, left: 0 }).top - inst.margins.top;\n\t\t\t\t}\n\t\t\t\tif(bs) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo(\"relative\", { top: b, left: 0 }).top - inst.margins.top;\n\t\t\t\t}\n\t\t\t\tif(ls) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: l - inst.helperProportions.width }).left - inst.margins.left;\n\t\t\t\t}\n\t\t\t\tif(rs) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: r }).left - inst.margins.left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirst = (ts || bs || ls || rs);\n\n\t\t\tif(o.snapMode !== \"outer\") {\n\t\t\t\tts = Math.abs(t - y1) <= d;\n\t\t\t\tbs = Math.abs(b - y2) <= d;\n\t\t\t\tls = Math.abs(l - x1) <= d;\n\t\t\t\trs = Math.abs(r - x2) <= d;\n\t\t\t\tif(ts) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo(\"relative\", { top: t, left: 0 }).top - inst.margins.top;\n\t\t\t\t}\n\t\t\t\tif(bs) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo(\"relative\", { top: b - inst.helperProportions.height, left: 0 }).top - inst.margins.top;\n\t\t\t\t}\n\t\t\t\tif(ls) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: l }).left - inst.margins.left;\n\t\t\t\t}\n\t\t\t\tif(rs) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: r - inst.helperProportions.width }).left - inst.margins.left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!inst.snapElements[i].snapping && (ts || bs || ls || rs || first)) {\n\t\t\t\t(inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));\n\t\t\t}\n\t\t\tinst.snapElements[i].snapping = (ts || bs || ls || rs || first);\n\n\t\t}\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"stack\", {\n\tstart: function() {\n\t\tvar min,\n\t\t\to = this.data(\"ui-draggable\").options,\n\t\t\tgroup = $.makeArray($(o.stack)).sort(function(a,b) {\n\t\t\t\treturn (parseInt($(a).css(\"zIndex\"),10) || 0) - (parseInt($(b).css(\"zIndex\"),10) || 0);\n\t\t\t});\n\n\t\tif (!group.length) { return; }\n\n\t\tmin = parseInt($(group[0]).css(\"zIndex\"), 10) || 0;\n\t\t$(group).each(function(i) {\n\t\t\t$(this).css(\"zIndex\", min + i);\n\t\t});\n\t\tthis.css(\"zIndex\", (min + group.length));\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"zIndex\", {\n\tstart: function(event, ui) {\n\t\tvar t = $(ui.helper), o = $(this).data(\"ui-draggable\").options;\n\t\tif(t.css(\"zIndex\")) {\n\t\t\to._zIndex = t.css(\"zIndex\");\n\t\t}\n\t\tt.css(\"zIndex\", o.zIndex);\n\t},\n\tstop: function(event, ui) {\n\t\tvar o = $(this).data(\"ui-draggable\").options;\n\t\tif(o._zIndex) {\n\t\t\t$(ui.helper).css(\"zIndex\", o._zIndex);\n\t\t}\n\t}\n});\n\n})(jQuery);\n(function( $, undefined ) {\n\nfunction isOverAxis( x, reference, size ) {\n\treturn ( x > reference ) && ( x < ( reference + size ) );\n}\n\n$.widget(\"ui.droppable\", {\n\tversion: \"1.10.3\",\n\twidgetEventPrefix: \"drop\",\n\toptions: {\n\t\taccept: \"*\",\n\t\tactiveClass: false,\n\t\taddClasses: true,\n\t\tgreedy: false,\n\t\thoverClass: false,\n\t\tscope: \"default\",\n\t\ttolerance: \"intersect\",\n\n\t\t// callbacks\n\t\tactivate: null,\n\t\tdeactivate: null,\n\t\tdrop: null,\n\t\tout: null,\n\t\tover: null\n\t},\n\t_create: function() {\n\n\t\tvar o = this.options,\n\t\t\taccept = o.accept;\n\n\t\tthis.isover = false;\n\t\tthis.isout = true;\n\n\t\tthis.accept = $.isFunction(accept) ? accept : function(d) {\n\t\t\treturn d.is(accept);\n\t\t};\n\n\t\t//Store the droppable's proportions\n\t\tthis.proportions = { width: this.element[0].offsetWidth, height: this.element[0].offsetHeight };\n\n\t\t// Add the reference and positions to the manager\n\t\t$.ui.ddmanager.droppables[o.scope] = $.ui.ddmanager.droppables[o.scope] || [];\n\t\t$.ui.ddmanager.droppables[o.scope].push(this);\n\n\t\t(o.addClasses && this.element.addClass(\"ui-droppable\"));\n\n\t},\n\n\t_destroy: function() {\n\t\tvar i = 0,\n\t\t\tdrop = $.ui.ddmanager.droppables[this.options.scope];\n\n\t\tfor ( ; i < drop.length; i++ ) {\n\t\t\tif ( drop[i] === this ) {\n\t\t\t\tdrop.splice(i, 1);\n\t\t\t}\n\t\t}\n\n\t\tthis.element.removeClass(\"ui-droppable ui-droppable-disabled\");\n\t},\n\n\t_setOption: function(key, value) {\n\n\t\tif(key === \"accept\") {\n\t\t\tthis.accept = $.isFunction(value) ? value : function(d) {\n\t\t\t\treturn d.is(value);\n\t\t\t};\n\t\t}\n\t\t$.Widget.prototype._setOption.apply(this, arguments);\n\t},\n\n\t_activate: function(event) {\n\t\tvar draggable = $.ui.ddmanager.current;\n\t\tif(this.options.activeClass) {\n\t\t\tthis.element.addClass(this.options.activeClass);\n\t\t}\n\t\tif(draggable){\n\t\t\tthis._trigger(\"activate\", event, this.ui(draggable));\n\t\t}\n\t},\n\n\t_deactivate: function(event) {\n\t\tvar draggable = $.ui.ddmanager.current;\n\t\tif(this.options.activeClass) {\n\t\t\tthis.element.removeClass(this.options.activeClass);\n\t\t}\n\t\tif(draggable){\n\t\t\tthis._trigger(\"deactivate\", event, this.ui(draggable));\n\t\t}\n\t},\n\n\t_over: function(event) {\n\n\t\tvar draggable = $.ui.ddmanager.current;\n\n\t\t// Bail if draggable and droppable are same element\n\t\tif (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\tif(this.options.hoverClass) {\n\t\t\t\tthis.element.addClass(this.options.hoverClass);\n\t\t\t}\n\t\t\tthis._trigger(\"over\", event, this.ui(draggable));\n\t\t}\n\n\t},\n\n\t_out: function(event) {\n\n\t\tvar draggable = $.ui.ddmanager.current;\n\n\t\t// Bail if draggable and droppable are same element\n\t\tif (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\tif(this.options.hoverClass) {\n\t\t\t\tthis.element.removeClass(this.options.hoverClass);\n\t\t\t}\n\t\t\tthis._trigger(\"out\", event, this.ui(draggable));\n\t\t}\n\n\t},\n\n\t_drop: function(event,custom) {\n\n\t\tvar draggable = custom || $.ui.ddmanager.current,\n\t\t\tchildrenIntersection = false;\n\n\t\t// Bail if draggable and droppable are same element\n\t\tif (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.element.find(\":data(ui-droppable)\").not(\".ui-draggable-dragging\").each(function() {\n\t\t\tvar inst = $.data(this, \"ui-droppable\");\n\t\t\tif(\n\t\t\t\tinst.options.greedy &&\n\t\t\t\t!inst.options.disabled &&\n\t\t\t\tinst.options.scope === draggable.options.scope &&\n\t\t\t\tinst.accept.call(inst.element[0], (draggable.currentItem || draggable.element)) &&\n\t\t\t\t$.ui.intersect(draggable, $.extend(inst, { offset: inst.element.offset() }), inst.options.tolerance)\n\t\t\t) { childrenIntersection = true; return false; }\n\t\t});\n\t\tif(childrenIntersection) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\tif(this.options.activeClass) {\n\t\t\t\tthis.element.removeClass(this.options.activeClass);\n\t\t\t}\n\t\t\tif(this.options.hoverClass) {\n\t\t\t\tthis.element.removeClass(this.options.hoverClass);\n\t\t\t}\n\t\t\tthis._trigger(\"drop\", event, this.ui(draggable));\n\t\t\treturn this.element;\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tui: function(c) {\n\t\treturn {\n\t\t\tdraggable: (c.currentItem || c.element),\n\t\t\thelper: c.helper,\n\t\t\tposition: c.position,\n\t\t\toffset: c.positionAbs\n\t\t};\n\t}\n\n});\n\n$.ui.intersect = function(draggable, droppable, toleranceMode) {\n\n\tif (!droppable.offset) {\n\t\treturn false;\n\t}\n\n\tvar draggableLeft, draggableTop,\n\t\tx1 = (draggable.positionAbs || draggable.position.absolute).left, x2 = x1 + draggable.helperProportions.width,\n\t\ty1 = (draggable.positionAbs || draggable.position.absolute).top, y2 = y1 + draggable.helperProportions.height,\n\t\tl = droppable.offset.left, r = l + droppable.proportions.width,\n\t\tt = droppable.offset.top, b = t + droppable.proportions.height;\n\n\tswitch (toleranceMode) {\n\t\tcase \"fit\":\n\t\t\treturn (l <= x1 && x2 <= r && t <= y1 && y2 <= b);\n\t\tcase \"intersect\":\n\t\t\treturn (l < x1 + (draggable.helperProportions.width / 2) && // Right Half\n\t\t\t\tx2 - (draggable.helperProportions.width / 2) < r && // Left Half\n\t\t\t\tt < y1 + (draggable.helperProportions.height / 2) && // Bottom Half\n\t\t\t\ty2 - (draggable.helperProportions.height / 2) < b ); // Top Half\n\t\tcase \"pointer\":\n\t\t\tdraggableLeft = ((draggable.positionAbs || draggable.position.absolute).left + (draggable.clickOffset || draggable.offset.click).left);\n\t\t\tdraggableTop = ((draggable.positionAbs || draggable.position.absolute).top + (draggable.clickOffset || draggable.offset.click).top);\n\t\t\treturn isOverAxis( draggableTop, t, droppable.proportions.height ) && isOverAxis( draggableLeft, l, droppable.proportions.width );\n\t\tcase \"touch\":\n\t\t\treturn (\n\t\t\t\t(y1 >= t && y1 <= b) ||\t// Top edge touching\n\t\t\t\t(y2 >= t && y2 <= b) ||\t// Bottom edge touching\n\t\t\t\t(y1 < t && y2 > b)\t\t// Surrounded vertically\n\t\t\t) && (\n\t\t\t\t(x1 >= l && x1 <= r) ||\t// Left edge touching\n\t\t\t\t(x2 >= l && x2 <= r) ||\t// Right edge touching\n\t\t\t\t(x1 < l && x2 > r)\t\t// Surrounded horizontally\n\t\t\t);\n\t\tdefault:\n\t\t\treturn false;\n\t\t}\n\n};\n\n/*\n\tThis manager tracks offsets of draggables and droppables\n*/\n$.ui.ddmanager = {\n\tcurrent: null,\n\tdroppables: { \"default\": [] },\n\tprepareOffsets: function(t, event) {\n\n\t\tvar i, j,\n\t\t\tm = $.ui.ddmanager.droppables[t.options.scope] || [],\n\t\t\ttype = event ? event.type : null, // workaround for #2317\n\t\t\tlist = (t.currentItem || t.element).find(\":data(ui-droppable)\").addBack();\n\n\t\tdroppablesLoop: for (i = 0; i < m.length; i++) {\n\n\t\t\t//No disabled and non-accepted\n\t\t\tif(m[i].options.disabled || (t && !m[i].accept.call(m[i].element[0],(t.currentItem || t.element)))) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Filter out elements in the current dragged item\n\t\t\tfor (j=0; j < list.length; j++) {\n\t\t\t\tif(list[j] === m[i].element[0]) {\n\t\t\t\t\tm[i].proportions.height = 0;\n\t\t\t\t\tcontinue droppablesLoop;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tm[i].visible = m[i].element.css(\"display\") !== \"none\";\n\t\t\tif(!m[i].visible) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t//Activate the droppable if used directly from draggables\n\t\t\tif(type === \"mousedown\") {\n\t\t\t\tm[i]._activate.call(m[i], event);\n\t\t\t}\n\n\t\t\tm[i].offset = m[i].element.offset();\n\t\t\tm[i].proportions = { width: m[i].element[0].offsetWidth, height: m[i].element[0].offsetHeight };\n\n\t\t}\n\n\t},\n\tdrop: function(draggable, event) {\n\n\t\tvar dropped = false;\n\t\t// Create a copy of the droppables in case the list changes during the drop (#9116)\n\t\t$.each(($.ui.ddmanager.droppables[draggable.options.scope] || []).slice(), function() {\n\n\t\t\tif(!this.options) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.options.disabled && this.visible && $.ui.intersect(draggable, this, this.options.tolerance)) {\n\t\t\t\tdropped = this._drop.call(this, event) || dropped;\n\t\t\t}\n\n\t\t\tif (!this.options.disabled && this.visible && this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\t\tthis.isout = true;\n\t\t\t\tthis.isover = false;\n\t\t\t\tthis._deactivate.call(this, event);\n\t\t\t}\n\n\t\t});\n\t\treturn dropped;\n\n\t},\n\tdragStart: function( draggable, event ) {\n\t\t//Listen for scrolling so that if the dragging causes scrolling the position of the droppables can be recalculated (see #5003)\n\t\tdraggable.element.parentsUntil( \"body\" ).bind( \"scroll.droppable\", function() {\n\t\t\tif( !draggable.options.refreshPositions ) {\n\t\t\t\t$.ui.ddmanager.prepareOffsets( draggable, event );\n\t\t\t}\n\t\t});\n\t},\n\tdrag: function(draggable, event) {\n\n\t\t//If you have a highly dynamic page, you might try this option. It renders positions every time you move the mouse.\n\t\tif(draggable.options.refreshPositions) {\n\t\t\t$.ui.ddmanager.prepareOffsets(draggable, event);\n\t\t}\n\n\t\t//Run through all droppables and check their positions based on specific tolerance options\n\t\t$.each($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {\n\n\t\t\tif(this.options.disabled || this.greedyChild || !this.visible) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar parentInstance, scope, parent,\n\t\t\t\tintersects = $.ui.intersect(draggable, this, this.options.tolerance),\n\t\t\t\tc = !intersects && this.isover ? \"isout\" : (intersects && !this.isover ? \"isover\" : null);\n\t\t\tif(!c) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.options.greedy) {\n\t\t\t\t// find droppable parents with same scope\n\t\t\t\tscope = this.options.scope;\n\t\t\t\tparent = this.element.parents(\":data(ui-droppable)\").filter(function () {\n\t\t\t\t\treturn $.data(this, \"ui-droppable\").options.scope === scope;\n\t\t\t\t});\n\n\t\t\t\tif (parent.length) {\n\t\t\t\t\tparentInstance = $.data(parent[0], \"ui-droppable\");\n\t\t\t\t\tparentInstance.greedyChild = (c === \"isover\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// we just moved into a greedy child\n\t\t\tif (parentInstance && c === \"isover\") {\n\t\t\t\tparentInstance.isover = false;\n\t\t\t\tparentInstance.isout = true;\n\t\t\t\tparentInstance._out.call(parentInstance, event);\n\t\t\t}\n\n\t\t\tthis[c] = true;\n\t\t\tthis[c === \"isout\" ? \"isover\" : \"isout\"] = false;\n\t\t\tthis[c === \"isover\" ? \"_over\" : \"_out\"].call(this, event);\n\n\t\t\t// we just moved out of a greedy child\n\t\t\tif (parentInstance && c === \"isout\") {\n\t\t\t\tparentInstance.isout = false;\n\t\t\t\tparentInstance.isover = true;\n\t\t\t\tparentInstance._over.call(parentInstance, event);\n\t\t\t}\n\t\t});\n\n\t},\n\tdragStop: function( draggable, event ) {\n\t\tdraggable.element.parentsUntil( \"body\" ).unbind( \"scroll.droppable\" );\n\t\t//Call prepareOffsets one final time since IE does not fire return scroll events when overflow was caused by drag (see #5003)\n\t\tif( !draggable.options.refreshPositions ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( draggable, event );\n\t\t}\n\t}\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\nfunction num(v) {\n\treturn parseInt(v, 10) || 0;\n}\n\nfunction isNumber(value) {\n\treturn !isNaN(parseInt(value, 10));\n}\n\n$.widget(\"ui.resizable\", $.ui.mouse, {\n\tversion: \"1.10.3\",\n\twidgetEventPrefix: \"resize\",\n\toptions: {\n\t\talsoResize: false,\n\t\tanimate: false,\n\t\tanimateDuration: \"slow\",\n\t\tanimateEasing: \"swing\",\n\t\taspectRatio: false,\n\t\tautoHide: false,\n\t\tcontainment: false,\n\t\tghost: false,\n\t\tgrid: false,\n\t\thandles: \"e,s,se\",\n\t\thelper: false,\n\t\tmaxHeight: null,\n\t\tmaxWidth: null,\n\t\tminHeight: 10,\n\t\tminWidth: 10,\n\t\t// See #7960\n\t\tzIndex: 90,\n\n\t\t// callbacks\n\t\tresize: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\t_create: function() {\n\n\t\tvar n, i, handle, axis, hname,\n\t\t\tthat = this,\n\t\t\to = this.options;\n\t\tthis.element.addClass(\"ui-resizable\");\n\n\t\t$.extend(this, {\n\t\t\t_aspectRatio: !!(o.aspectRatio),\n\t\t\taspectRatio: o.aspectRatio,\n\t\t\toriginalElement: this.element,\n\t\t\t_proportionallyResizeElements: [],\n\t\t\t_helper: o.helper || o.ghost || o.animate ? o.helper || \"ui-resizable-helper\" : null\n\t\t});\n\n\t\t//Wrap the element if it cannot hold child nodes\n\t\tif(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)) {\n\n\t\t\t//Create a wrapper element and set the wrapper to the new current internal element\n\t\t\tthis.element.wrap(\n\t\t\t\t$(\"<div class='ui-wrapper' style='overflow: hidden;'></div>\").css({\n\t\t\t\t\tposition: this.element.css(\"position\"),\n\t\t\t\t\twidth: this.element.outerWidth(),\n\t\t\t\t\theight: this.element.outerHeight(),\n\t\t\t\t\ttop: this.element.css(\"top\"),\n\t\t\t\t\tleft: this.element.css(\"left\")\n\t\t\t\t})\n\t\t\t);\n\n\t\t\t//Overwrite the original this.element\n\t\t\tthis.element = this.element.parent().data(\n\t\t\t\t\"ui-resizable\", this.element.data(\"ui-resizable\")\n\t\t\t);\n\n\t\t\tthis.elementIsWrapper = true;\n\n\t\t\t//Move margins to the wrapper\n\t\t\tthis.element.css({ marginLeft: this.originalElement.css(\"marginLeft\"), marginTop: this.originalElement.css(\"marginTop\"), marginRight: this.originalElement.css(\"marginRight\"), marginBottom: this.originalElement.css(\"marginBottom\") });\n\t\t\tthis.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0});\n\n\t\t\t//Prevent Safari textarea resize\n\t\t\tthis.originalResizeStyle = this.originalElement.css(\"resize\");\n\t\t\tthis.originalElement.css(\"resize\", \"none\");\n\n\t\t\t//Push the actual element to our proportionallyResize internal array\n\t\t\tthis._proportionallyResizeElements.push(this.originalElement.css({ position: \"static\", zoom: 1, display: \"block\" }));\n\n\t\t\t// avoid IE jump (hard set the margin)\n\t\t\tthis.originalElement.css({ margin: this.originalElement.css(\"margin\") });\n\n\t\t\t// fix handlers offset\n\t\t\tthis._proportionallyResize();\n\n\t\t}\n\n\t\tthis.handles = o.handles || (!$(\".ui-resizable-handle\", this.element).length ? \"e,s,se\" : { n: \".ui-resizable-n\", e: \".ui-resizable-e\", s: \".ui-resizable-s\", w: \".ui-resizable-w\", se: \".ui-resizable-se\", sw: \".ui-resizable-sw\", ne: \".ui-resizable-ne\", nw: \".ui-resizable-nw\" });\n\t\tif(this.handles.constructor === String) {\n\n\t\t\tif ( this.handles === \"all\") {\n\t\t\t\tthis.handles = \"n,e,s,w,se,sw,ne,nw\";\n\t\t\t}\n\n\t\t\tn = this.handles.split(\",\");\n\t\t\tthis.handles = {};\n\n\t\t\tfor(i = 0; i < n.length; i++) {\n\n\t\t\t\thandle = $.trim(n[i]);\n\t\t\t\thname = \"ui-resizable-\"+handle;\n\t\t\t\taxis = $(\"<div class='ui-resizable-handle \" + hname + \"'></div>\");\n\n\t\t\t\t// Apply zIndex to all handles - see #7960\n\t\t\t\taxis.css({ zIndex: o.zIndex });\n\n\t\t\t\t//TODO : What's going on here?\n\t\t\t\tif (\"se\" === handle) {\n\t\t\t\t\taxis.addClass(\"ui-icon ui-icon-gripsmall-diagonal-se\");\n\t\t\t\t}\n\n\t\t\t\t//Insert into internal handles object and append to element\n\t\t\t\tthis.handles[handle] = \".ui-resizable-\"+handle;\n\t\t\t\tthis.element.append(axis);\n\t\t\t}\n\n\t\t}\n\n\t\tthis._renderAxis = function(target) {\n\n\t\t\tvar i, axis, padPos, padWrapper;\n\n\t\t\ttarget = target || this.element;\n\n\t\t\tfor(i in this.handles) {\n\n\t\t\t\tif(this.handles[i].constructor === String) {\n\t\t\t\t\tthis.handles[i] = $(this.handles[i], this.element).show();\n\t\t\t\t}\n\n\t\t\t\t//Apply pad to wrapper element, needed to fix axis position (textarea, inputs, scrolls)\n\t\t\t\tif (this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i)) {\n\n\t\t\t\t\taxis = $(this.handles[i], this.element);\n\n\t\t\t\t\t//Checking the correct pad and border\n\t\t\t\t\tpadWrapper = /sw|ne|nw|se|n|s/.test(i) ? axis.outerHeight() : axis.outerWidth();\n\n\t\t\t\t\t//The padding type i have to apply...\n\t\t\t\t\tpadPos = [ \"padding\",\n\t\t\t\t\t\t/ne|nw|n/.test(i) ? \"Top\" :\n\t\t\t\t\t\t/se|sw|s/.test(i) ? \"Bottom\" :\n\t\t\t\t\t\t/^e$/.test(i) ? \"Right\" : \"Left\" ].join(\"\");\n\n\t\t\t\t\ttarget.css(padPos, padWrapper);\n\n\t\t\t\t\tthis._proportionallyResize();\n\n\t\t\t\t}\n\n\t\t\t\t//TODO: What's that good for? There's not anything to be executed left\n\t\t\t\tif(!$(this.handles[i]).length) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t//TODO: make renderAxis a prototype function\n\t\tthis._renderAxis(this.element);\n\n\t\tthis._handles = $(\".ui-resizable-handle\", this.element)\n\t\t\t.disableSelection();\n\n\t\t//Matching axis name\n\t\tthis._handles.mouseover(function() {\n\t\t\tif (!that.resizing) {\n\t\t\t\tif (this.className) {\n\t\t\t\t\taxis = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);\n\t\t\t\t}\n\t\t\t\t//Axis, default = se\n\t\t\t\tthat.axis = axis && axis[1] ? axis[1] : \"se\";\n\t\t\t}\n\t\t});\n\n\t\t//If we want to auto hide the elements\n\t\tif (o.autoHide) {\n\t\t\tthis._handles.hide();\n\t\t\t$(this.element)\n\t\t\t\t.addClass(\"ui-resizable-autohide\")\n\t\t\t\t.mouseenter(function() {\n\t\t\t\t\tif (o.disabled) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$(this).removeClass(\"ui-resizable-autohide\");\n\t\t\t\t\tthat._handles.show();\n\t\t\t\t})\n\t\t\t\t.mouseleave(function(){\n\t\t\t\t\tif (o.disabled) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!that.resizing) {\n\t\t\t\t\t\t$(this).addClass(\"ui-resizable-autohide\");\n\t\t\t\t\t\tthat._handles.hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\t//Initialize the mouse interaction\n\t\tthis._mouseInit();\n\n\t},\n\n\t_destroy: function() {\n\n\t\tthis._mouseDestroy();\n\n\t\tvar wrapper,\n\t\t\t_destroy = function(exp) {\n\t\t\t\t$(exp).removeClass(\"ui-resizable ui-resizable-disabled ui-resizable-resizing\")\n\t\t\t\t\t.removeData(\"resizable\").removeData(\"ui-resizable\").unbind(\".resizable\").find(\".ui-resizable-handle\").remove();\n\t\t\t};\n\n\t\t//TODO: Unwrap at same DOM position\n\t\tif (this.elementIsWrapper) {\n\t\t\t_destroy(this.element);\n\t\t\twrapper = this.element;\n\t\t\tthis.originalElement.css({\n\t\t\t\tposition: wrapper.css(\"position\"),\n\t\t\t\twidth: wrapper.outerWidth(),\n\t\t\t\theight: wrapper.outerHeight(),\n\t\t\t\ttop: wrapper.css(\"top\"),\n\t\t\t\tleft: wrapper.css(\"left\")\n\t\t\t}).insertAfter( wrapper );\n\t\t\twrapper.remove();\n\t\t}\n\n\t\tthis.originalElement.css(\"resize\", this.originalResizeStyle);\n\t\t_destroy(this.originalElement);\n\n\t\treturn this;\n\t},\n\n\t_mouseCapture: function(event) {\n\t\tvar i, handle,\n\t\t\tcapture = false;\n\n\t\tfor (i in this.handles) {\n\t\t\thandle = $(this.handles[i])[0];\n\t\t\tif (handle === event.target || $.contains(handle, event.target)) {\n\t\t\t\tcapture = true;\n\t\t\t}\n\t\t}\n\n\t\treturn !this.options.disabled && capture;\n\t},\n\n\t_mouseStart: function(event) {\n\n\t\tvar curleft, curtop, cursor,\n\t\t\to = this.options,\n\t\t\tiniPos = this.element.position(),\n\t\t\tel = this.element;\n\n\t\tthis.resizing = true;\n\n\t\t// bugfix for http://dev.jquery.com/ticket/1749\n\t\tif ( (/absolute/).test( el.css(\"position\") ) ) {\n\t\t\tel.css({ position: \"absolute\", top: el.css(\"top\"), left: el.css(\"left\") });\n\t\t} else if (el.is(\".ui-draggable\")) {\n\t\t\tel.css({ position: \"absolute\", top: iniPos.top, left: iniPos.left });\n\t\t}\n\n\t\tthis._renderProxy();\n\n\t\tcurleft = num(this.helper.css(\"left\"));\n\t\tcurtop = num(this.helper.css(\"top\"));\n\n\t\tif (o.containment) {\n\t\t\tcurleft += $(o.containment).scrollLeft() || 0;\n\t\t\tcurtop += $(o.containment).scrollTop() || 0;\n\t\t}\n\n\t\t//Store needed variables\n\t\tthis.offset = this.helper.offset();\n\t\tthis.position = { left: curleft, top: curtop };\n\t\tthis.size = this._helper ? { width: el.outerWidth(), height: el.outerHeight() } : { width: el.width(), height: el.height() };\n\t\tthis.originalSize = this._helper ? { width: el.outerWidth(), height: el.outerHeight() } : { width: el.width(), height: el.height() };\n\t\tthis.originalPosition = { left: curleft, top: curtop };\n\t\tthis.sizeDiff = { width: el.outerWidth() - el.width(), height: el.outerHeight() - el.height() };\n\t\tthis.originalMousePosition = { left: event.pageX, top: event.pageY };\n\n\t\t//Aspect Ratio\n\t\tthis.aspectRatio = (typeof o.aspectRatio === \"number\") ? o.aspectRatio : ((this.originalSize.width / this.originalSize.height) || 1);\n\n\t\tcursor = $(\".ui-resizable-\" + this.axis).css(\"cursor\");\n\t\t$(\"body\").css(\"cursor\", cursor === \"auto\" ? this.axis + \"-resize\" : cursor);\n\n\t\tel.addClass(\"ui-resizable-resizing\");\n\t\tthis._propagate(\"start\", event);\n\t\treturn true;\n\t},\n\n\t_mouseDrag: function(event) {\n\n\t\t//Increase performance, avoid regex\n\t\tvar data,\n\t\t\tel = this.helper, props = {},\n\t\t\tsmp = this.originalMousePosition,\n\t\t\ta = this.axis,\n\t\t\tprevTop = this.position.top,\n\t\t\tprevLeft = this.position.left,\n\t\t\tprevWidth = this.size.width,\n\t\t\tprevHeight = this.size.height,\n\t\t\tdx = (event.pageX-smp.left)||0,\n\t\t\tdy = (event.pageY-smp.top)||0,\n\t\t\ttrigger = this._change[a];\n\n\t\tif (!trigger) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Calculate the attrs that will be change\n\t\tdata = trigger.apply(this, [event, dx, dy]);\n\n\t\t// Put this in the mouseDrag handler since the user can start pressing shift while resizing\n\t\tthis._updateVirtualBoundaries(event.shiftKey);\n\t\tif (this._aspectRatio || event.shiftKey) {\n\t\t\tdata = this._updateRatio(data, event);\n\t\t}\n\n\t\tdata = this._respectSize(data, event);\n\n\t\tthis._updateCache(data);\n\n\t\t// plugins callbacks need to be called first\n\t\tthis._propagate(\"resize\", event);\n\n\t\tif (this.position.top !== prevTop) {\n\t\t\tprops.top = this.position.top + \"px\";\n\t\t}\n\t\tif (this.position.left !== prevLeft) {\n\t\t\tprops.left = this.position.left + \"px\";\n\t\t}\n\t\tif (this.size.width !== prevWidth) {\n\t\t\tprops.width = this.size.width + \"px\";\n\t\t}\n\t\tif (this.size.height !== prevHeight) {\n\t\t\tprops.height = this.size.height + \"px\";\n\t\t}\n\t\tel.css(props);\n\n\t\tif (!this._helper && this._proportionallyResizeElements.length) {\n\t\t\tthis._proportionallyResize();\n\t\t}\n\n\t\t// Call the user callback if the element was resized\n\t\tif ( ! $.isEmptyObject(props) ) {\n\t\t\tthis._trigger(\"resize\", event, this.ui());\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function(event) {\n\n\t\tthis.resizing = false;\n\t\tvar pr, ista, soffseth, soffsetw, s, left, top,\n\t\t\to = this.options, that = this;\n\n\t\tif(this._helper) {\n\n\t\t\tpr = this._proportionallyResizeElements;\n\t\t\tista = pr.length && (/textarea/i).test(pr[0].nodeName);\n\t\t\tsoffseth = ista && $.ui.hasScroll(pr[0], \"left\") /* TODO - jump height */ ? 0 : that.sizeDiff.height;\n\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width;\n\n\t\t\ts = { width: (that.helper.width()  - soffsetw), height: (that.helper.height() - soffseth) };\n\t\t\tleft = (parseInt(that.element.css(\"left\"), 10) + (that.position.left - that.originalPosition.left)) || null;\n\t\t\ttop = (parseInt(that.element.css(\"top\"), 10) + (that.position.top - that.originalPosition.top)) || null;\n\n\t\t\tif (!o.animate) {\n\t\t\t\tthis.element.css($.extend(s, { top: top, left: left }));\n\t\t\t}\n\n\t\t\tthat.helper.height(that.size.height);\n\t\t\tthat.helper.width(that.size.width);\n\n\t\t\tif (this._helper && !o.animate) {\n\t\t\t\tthis._proportionallyResize();\n\t\t\t}\n\t\t}\n\n\t\t$(\"body\").css(\"cursor\", \"auto\");\n\n\t\tthis.element.removeClass(\"ui-resizable-resizing\");\n\n\t\tthis._propagate(\"stop\", event);\n\n\t\tif (this._helper) {\n\t\t\tthis.helper.remove();\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\t_updateVirtualBoundaries: function(forceAspectRatio) {\n\t\tvar pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b,\n\t\t\to = this.options;\n\n\t\tb = {\n\t\t\tminWidth: isNumber(o.minWidth) ? o.minWidth : 0,\n\t\t\tmaxWidth: isNumber(o.maxWidth) ? o.maxWidth : Infinity,\n\t\t\tminHeight: isNumber(o.minHeight) ? o.minHeight : 0,\n\t\t\tmaxHeight: isNumber(o.maxHeight) ? o.maxHeight : Infinity\n\t\t};\n\n\t\tif(this._aspectRatio || forceAspectRatio) {\n\t\t\t// We want to create an enclosing box whose aspect ration is the requested one\n\t\t\t// First, compute the \"projected\" size for each dimension based on the aspect ratio and other dimension\n\t\t\tpMinWidth = b.minHeight * this.aspectRatio;\n\t\t\tpMinHeight = b.minWidth / this.aspectRatio;\n\t\t\tpMaxWidth = b.maxHeight * this.aspectRatio;\n\t\t\tpMaxHeight = b.maxWidth / this.aspectRatio;\n\n\t\t\tif(pMinWidth > b.minWidth) {\n\t\t\t\tb.minWidth = pMinWidth;\n\t\t\t}\n\t\t\tif(pMinHeight > b.minHeight) {\n\t\t\t\tb.minHeight = pMinHeight;\n\t\t\t}\n\t\t\tif(pMaxWidth < b.maxWidth) {\n\t\t\t\tb.maxWidth = pMaxWidth;\n\t\t\t}\n\t\t\tif(pMaxHeight < b.maxHeight) {\n\t\t\t\tb.maxHeight = pMaxHeight;\n\t\t\t}\n\t\t}\n\t\tthis._vBoundaries = b;\n\t},\n\n\t_updateCache: function(data) {\n\t\tthis.offset = this.helper.offset();\n\t\tif (isNumber(data.left)) {\n\t\t\tthis.position.left = data.left;\n\t\t}\n\t\tif (isNumber(data.top)) {\n\t\t\tthis.position.top = data.top;\n\t\t}\n\t\tif (isNumber(data.height)) {\n\t\t\tthis.size.height = data.height;\n\t\t}\n\t\tif (isNumber(data.width)) {\n\t\t\tthis.size.width = data.width;\n\t\t}\n\t},\n\n\t_updateRatio: function( data ) {\n\n\t\tvar cpos = this.position,\n\t\t\tcsize = this.size,\n\t\t\ta = this.axis;\n\n\t\tif (isNumber(data.height)) {\n\t\t\tdata.width = (data.height * this.aspectRatio);\n\t\t} else if (isNumber(data.width)) {\n\t\t\tdata.height = (data.width / this.aspectRatio);\n\t\t}\n\n\t\tif (a === \"sw\") {\n\t\t\tdata.left = cpos.left + (csize.width - data.width);\n\t\t\tdata.top = null;\n\t\t}\n\t\tif (a === \"nw\") {\n\t\t\tdata.top = cpos.top + (csize.height - data.height);\n\t\t\tdata.left = cpos.left + (csize.width - data.width);\n\t\t}\n\n\t\treturn data;\n\t},\n\n\t_respectSize: function( data ) {\n\n\t\tvar o = this._vBoundaries,\n\t\t\ta = this.axis,\n\t\t\tismaxw = isNumber(data.width) && o.maxWidth && (o.maxWidth < data.width), ismaxh = isNumber(data.height) && o.maxHeight && (o.maxHeight < data.height),\n\t\t\tisminw = isNumber(data.width) && o.minWidth && (o.minWidth > data.width), isminh = isNumber(data.height) && o.minHeight && (o.minHeight > data.height),\n\t\t\tdw = this.originalPosition.left + this.originalSize.width,\n\t\t\tdh = this.position.top + this.size.height,\n\t\t\tcw = /sw|nw|w/.test(a), ch = /nw|ne|n/.test(a);\n\t\tif (isminw) {\n\t\t\tdata.width = o.minWidth;\n\t\t}\n\t\tif (isminh) {\n\t\t\tdata.height = o.minHeight;\n\t\t}\n\t\tif (ismaxw) {\n\t\t\tdata.width = o.maxWidth;\n\t\t}\n\t\tif (ismaxh) {\n\t\t\tdata.height = o.maxHeight;\n\t\t}\n\n\t\tif (isminw && cw) {\n\t\t\tdata.left = dw - o.minWidth;\n\t\t}\n\t\tif (ismaxw && cw) {\n\t\t\tdata.left = dw - o.maxWidth;\n\t\t}\n\t\tif (isminh && ch) {\n\t\t\tdata.top = dh - o.minHeight;\n\t\t}\n\t\tif (ismaxh && ch) {\n\t\t\tdata.top = dh - o.maxHeight;\n\t\t}\n\n\t\t// fixing jump error on top/left - bug #2330\n\t\tif (!data.width && !data.height && !data.left && data.top) {\n\t\t\tdata.top = null;\n\t\t} else if (!data.width && !data.height && !data.top && data.left) {\n\t\t\tdata.left = null;\n\t\t}\n\n\t\treturn data;\n\t},\n\n\t_proportionallyResize: function() {\n\n\t\tif (!this._proportionallyResizeElements.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i, j, borders, paddings, prel,\n\t\t\telement = this.helper || this.element;\n\n\t\tfor ( i=0; i < this._proportionallyResizeElements.length; i++) {\n\n\t\t\tprel = this._proportionallyResizeElements[i];\n\n\t\t\tif (!this.borderDif) {\n\t\t\t\tthis.borderDif = [];\n\t\t\t\tborders = [prel.css(\"borderTopWidth\"), prel.css(\"borderRightWidth\"), prel.css(\"borderBottomWidth\"), prel.css(\"borderLeftWidth\")];\n\t\t\t\tpaddings = [prel.css(\"paddingTop\"), prel.css(\"paddingRight\"), prel.css(\"paddingBottom\"), prel.css(\"paddingLeft\")];\n\n\t\t\t\tfor ( j = 0; j < borders.length; j++ ) {\n\t\t\t\t\tthis.borderDif[ j ] = ( parseInt( borders[ j ], 10 ) || 0 ) + ( parseInt( paddings[ j ], 10 ) || 0 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tprel.css({\n\t\t\t\theight: (element.height() - this.borderDif[0] - this.borderDif[2]) || 0,\n\t\t\t\twidth: (element.width() - this.borderDif[1] - this.borderDif[3]) || 0\n\t\t\t});\n\n\t\t}\n\n\t},\n\n\t_renderProxy: function() {\n\n\t\tvar el = this.element, o = this.options;\n\t\tthis.elementOffset = el.offset();\n\n\t\tif(this._helper) {\n\n\t\t\tthis.helper = this.helper || $(\"<div style='overflow:hidden;'></div>\");\n\n\t\t\tthis.helper.addClass(this._helper).css({\n\t\t\t\twidth: this.element.outerWidth() - 1,\n\t\t\t\theight: this.element.outerHeight() - 1,\n\t\t\t\tposition: \"absolute\",\n\t\t\t\tleft: this.elementOffset.left +\"px\",\n\t\t\t\ttop: this.elementOffset.top +\"px\",\n\t\t\t\tzIndex: ++o.zIndex //TODO: Don't modify option\n\t\t\t});\n\n\t\t\tthis.helper\n\t\t\t\t.appendTo(\"body\")\n\t\t\t\t.disableSelection();\n\n\t\t} else {\n\t\t\tthis.helper = this.element;\n\t\t}\n\n\t},\n\n\t_change: {\n\t\te: function(event, dx) {\n\t\t\treturn { width: this.originalSize.width + dx };\n\t\t},\n\t\tw: function(event, dx) {\n\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\n\t\t\treturn { left: sp.left + dx, width: cs.width - dx };\n\t\t},\n\t\tn: function(event, dx, dy) {\n\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\n\t\t\treturn { top: sp.top + dy, height: cs.height - dy };\n\t\t},\n\t\ts: function(event, dx, dy) {\n\t\t\treturn { height: this.originalSize.height + dy };\n\t\t},\n\t\tse: function(event, dx, dy) {\n\t\t\treturn $.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]));\n\t\t},\n\t\tsw: function(event, dx, dy) {\n\t\t\treturn $.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]));\n\t\t},\n\t\tne: function(event, dx, dy) {\n\t\t\treturn $.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]));\n\t\t},\n\t\tnw: function(event, dx, dy) {\n\t\t\treturn $.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]));\n\t\t}\n\t},\n\n\t_propagate: function(n, event) {\n\t\t$.ui.plugin.call(this, n, [event, this.ui()]);\n\t\t(n !== \"resize\" && this._trigger(n, event, this.ui()));\n\t},\n\n\tplugins: {},\n\n\tui: function() {\n\t\treturn {\n\t\t\toriginalElement: this.originalElement,\n\t\t\telement: this.element,\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\tsize: this.size,\n\t\t\toriginalSize: this.originalSize,\n\t\t\toriginalPosition: this.originalPosition\n\t\t};\n\t}\n\n});\n\n/*\n * Resizable Extensions\n */\n\n$.ui.plugin.add(\"resizable\", \"animate\", {\n\n\tstop: function( event ) {\n\t\tvar that = $(this).data(\"ui-resizable\"),\n\t\t\to = that.options,\n\t\t\tpr = that._proportionallyResizeElements,\n\t\t\tista = pr.length && (/textarea/i).test(pr[0].nodeName),\n\t\t\tsoffseth = ista && $.ui.hasScroll(pr[0], \"left\") /* TODO - jump height */ ? 0 : that.sizeDiff.height,\n\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width,\n\t\t\tstyle = { width: (that.size.width - soffsetw), height: (that.size.height - soffseth) },\n\t\t\tleft = (parseInt(that.element.css(\"left\"), 10) + (that.position.left - that.originalPosition.left)) || null,\n\t\t\ttop = (parseInt(that.element.css(\"top\"), 10) + (that.position.top - that.originalPosition.top)) || null;\n\n\t\tthat.element.animate(\n\t\t\t$.extend(style, top && left ? { top: top, left: left } : {}), {\n\t\t\t\tduration: o.animateDuration,\n\t\t\t\teasing: o.animateEasing,\n\t\t\t\tstep: function() {\n\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\twidth: parseInt(that.element.css(\"width\"), 10),\n\t\t\t\t\t\theight: parseInt(that.element.css(\"height\"), 10),\n\t\t\t\t\t\ttop: parseInt(that.element.css(\"top\"), 10),\n\t\t\t\t\t\tleft: parseInt(that.element.css(\"left\"), 10)\n\t\t\t\t\t};\n\n\t\t\t\t\tif (pr && pr.length) {\n\t\t\t\t\t\t$(pr[0]).css({ width: data.width, height: data.height });\n\t\t\t\t\t}\n\n\t\t\t\t\t// propagating resize, and updating values for each animation step\n\t\t\t\t\tthat._updateCache(data);\n\t\t\t\t\tthat._propagate(\"resize\", event);\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n});\n\n$.ui.plugin.add(\"resizable\", \"containment\", {\n\n\tstart: function() {\n\t\tvar element, p, co, ch, cw, width, height,\n\t\t\tthat = $(this).data(\"ui-resizable\"),\n\t\t\to = that.options,\n\t\t\tel = that.element,\n\t\t\toc = o.containment,\n\t\t\tce = (oc instanceof $) ? oc.get(0) : (/parent/.test(oc)) ? el.parent().get(0) : oc;\n\n\t\tif (!ce) {\n\t\t\treturn;\n\t\t}\n\n\t\tthat.containerElement = $(ce);\n\n\t\tif (/document/.test(oc) || oc === document) {\n\t\t\tthat.containerOffset = { left: 0, top: 0 };\n\t\t\tthat.containerPosition = { left: 0, top: 0 };\n\n\t\t\tthat.parentData = {\n\t\t\t\telement: $(document), left: 0, top: 0,\n\t\t\t\twidth: $(document).width(), height: $(document).height() || document.body.parentNode.scrollHeight\n\t\t\t};\n\t\t}\n\n\t\t// i'm a node, so compute top, left, right, bottom\n\t\telse {\n\t\t\telement = $(ce);\n\t\t\tp = [];\n\t\t\t$([ \"Top\", \"Right\", \"Left\", \"Bottom\" ]).each(function(i, name) { p[i] = num(element.css(\"padding\" + name)); });\n\n\t\t\tthat.containerOffset = element.offset();\n\t\t\tthat.containerPosition = element.position();\n\t\t\tthat.containerSize = { height: (element.innerHeight() - p[3]), width: (element.innerWidth() - p[1]) };\n\n\t\t\tco = that.containerOffset;\n\t\t\tch = that.containerSize.height;\n\t\t\tcw = that.containerSize.width;\n\t\t\twidth = ($.ui.hasScroll(ce, \"left\") ? ce.scrollWidth : cw );\n\t\t\theight = ($.ui.hasScroll(ce) ? ce.scrollHeight : ch);\n\n\t\t\tthat.parentData = {\n\t\t\t\telement: ce, left: co.left, top: co.top, width: width, height: height\n\t\t\t};\n\t\t}\n\t},\n\n\tresize: function( event ) {\n\t\tvar woset, hoset, isParent, isOffsetRelative,\n\t\t\tthat = $(this).data(\"ui-resizable\"),\n\t\t\to = that.options,\n\t\t\tco = that.containerOffset, cp = that.position,\n\t\t\tpRatio = that._aspectRatio || event.shiftKey,\n\t\t\tcop = { top:0, left:0 }, ce = that.containerElement;\n\n\t\tif (ce[0] !== document && (/static/).test(ce.css(\"position\"))) {\n\t\t\tcop = co;\n\t\t}\n\n\t\tif (cp.left < (that._helper ? co.left : 0)) {\n\t\t\tthat.size.width = that.size.width + (that._helper ? (that.position.left - co.left) : (that.position.left - cop.left));\n\t\t\tif (pRatio) {\n\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\n\t\t\t}\n\t\t\tthat.position.left = o.helper ? co.left : 0;\n\t\t}\n\n\t\tif (cp.top < (that._helper ? co.top : 0)) {\n\t\t\tthat.size.height = that.size.height + (that._helper ? (that.position.top - co.top) : that.position.top);\n\t\t\tif (pRatio) {\n\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\n\t\t\t}\n\t\t\tthat.position.top = that._helper ? co.top : 0;\n\t\t}\n\n\t\tthat.offset.left = that.parentData.left+that.position.left;\n\t\tthat.offset.top = that.parentData.top+that.position.top;\n\n\t\twoset = Math.abs( (that._helper ? that.offset.left - cop.left : (that.offset.left - cop.left)) + that.sizeDiff.width );\n\t\thoset = Math.abs( (that._helper ? that.offset.top - cop.top : (that.offset.top - co.top)) + that.sizeDiff.height );\n\n\t\tisParent = that.containerElement.get(0) === that.element.parent().get(0);\n\t\tisOffsetRelative = /relative|absolute/.test(that.containerElement.css(\"position\"));\n\n\t\tif(isParent && isOffsetRelative) {\n\t\t\twoset -= that.parentData.left;\n\t\t}\n\n\t\tif (woset + that.size.width >= that.parentData.width) {\n\t\t\tthat.size.width = that.parentData.width - woset;\n\t\t\tif (pRatio) {\n\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\n\t\t\t}\n\t\t}\n\n\t\tif (hoset + that.size.height >= that.parentData.height) {\n\t\t\tthat.size.height = that.parentData.height - hoset;\n\t\t\tif (pRatio) {\n\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\n\t\t\t}\n\t\t}\n\t},\n\n\tstop: function(){\n\t\tvar that = $(this).data(\"ui-resizable\"),\n\t\t\to = that.options,\n\t\t\tco = that.containerOffset,\n\t\t\tcop = that.containerPosition,\n\t\t\tce = that.containerElement,\n\t\t\thelper = $(that.helper),\n\t\t\tho = helper.offset(),\n\t\t\tw = helper.outerWidth() - that.sizeDiff.width,\n\t\t\th = helper.outerHeight() - that.sizeDiff.height;\n\n\t\tif (that._helper && !o.animate && (/relative/).test(ce.css(\"position\"))) {\n\t\t\t$(this).css({ left: ho.left - cop.left - co.left, width: w, height: h });\n\t\t}\n\n\t\tif (that._helper && !o.animate && (/static/).test(ce.css(\"position\"))) {\n\t\t\t$(this).css({ left: ho.left - cop.left - co.left, width: w, height: h });\n\t\t}\n\n\t}\n});\n\n$.ui.plugin.add(\"resizable\", \"alsoResize\", {\n\n\tstart: function () {\n\t\tvar that = $(this).data(\"ui-resizable\"),\n\t\t\to = that.options,\n\t\t\t_store = function (exp) {\n\t\t\t\t$(exp).each(function() {\n\t\t\t\t\tvar el = $(this);\n\t\t\t\t\tel.data(\"ui-resizable-alsoresize\", {\n\t\t\t\t\t\twidth: parseInt(el.width(), 10), height: parseInt(el.height(), 10),\n\t\t\t\t\t\tleft: parseInt(el.css(\"left\"), 10), top: parseInt(el.css(\"top\"), 10)\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\tif (typeof(o.alsoResize) === \"object\" && !o.alsoResize.parentNode) {\n\t\t\tif (o.alsoResize.length) { o.alsoResize = o.alsoResize[0]; _store(o.alsoResize); }\n\t\t\telse { $.each(o.alsoResize, function (exp) { _store(exp); }); }\n\t\t}else{\n\t\t\t_store(o.alsoResize);\n\t\t}\n\t},\n\n\tresize: function (event, ui) {\n\t\tvar that = $(this).data(\"ui-resizable\"),\n\t\t\to = that.options,\n\t\t\tos = that.originalSize,\n\t\t\top = that.originalPosition,\n\t\t\tdelta = {\n\t\t\t\theight: (that.size.height - os.height) || 0, width: (that.size.width - os.width) || 0,\n\t\t\t\ttop: (that.position.top - op.top) || 0, left: (that.position.left - op.left) || 0\n\t\t\t},\n\n\t\t\t_alsoResize = function (exp, c) {\n\t\t\t\t$(exp).each(function() {\n\t\t\t\t\tvar el = $(this), start = $(this).data(\"ui-resizable-alsoresize\"), style = {},\n\t\t\t\t\t\tcss = c && c.length ? c : el.parents(ui.originalElement[0]).length ? [\"width\", \"height\"] : [\"width\", \"height\", \"top\", \"left\"];\n\n\t\t\t\t\t$.each(css, function (i, prop) {\n\t\t\t\t\t\tvar sum = (start[prop]||0) + (delta[prop]||0);\n\t\t\t\t\t\tif (sum && sum >= 0) {\n\t\t\t\t\t\t\tstyle[prop] = sum || null;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tel.css(style);\n\t\t\t\t});\n\t\t\t};\n\n\t\tif (typeof(o.alsoResize) === \"object\" && !o.alsoResize.nodeType) {\n\t\t\t$.each(o.alsoResize, function (exp, c) { _alsoResize(exp, c); });\n\t\t}else{\n\t\t\t_alsoResize(o.alsoResize);\n\t\t}\n\t},\n\n\tstop: function () {\n\t\t$(this).removeData(\"resizable-alsoresize\");\n\t}\n});\n\n$.ui.plugin.add(\"resizable\", \"ghost\", {\n\n\tstart: function() {\n\n\t\tvar that = $(this).data(\"ui-resizable\"), o = that.options, cs = that.size;\n\n\t\tthat.ghost = that.originalElement.clone();\n\t\tthat.ghost\n\t\t\t.css({ opacity: 0.25, display: \"block\", position: \"relative\", height: cs.height, width: cs.width, margin: 0, left: 0, top: 0 })\n\t\t\t.addClass(\"ui-resizable-ghost\")\n\t\t\t.addClass(typeof o.ghost === \"string\" ? o.ghost : \"\");\n\n\t\tthat.ghost.appendTo(that.helper);\n\n\t},\n\n\tresize: function(){\n\t\tvar that = $(this).data(\"ui-resizable\");\n\t\tif (that.ghost) {\n\t\t\tthat.ghost.css({ position: \"relative\", height: that.size.height, width: that.size.width });\n\t\t}\n\t},\n\n\tstop: function() {\n\t\tvar that = $(this).data(\"ui-resizable\");\n\t\tif (that.ghost && that.helper) {\n\t\t\tthat.helper.get(0).removeChild(that.ghost.get(0));\n\t\t}\n\t}\n\n});\n\n$.ui.plugin.add(\"resizable\", \"grid\", {\n\n\tresize: function() {\n\t\tvar that = $(this).data(\"ui-resizable\"),\n\t\t\to = that.options,\n\t\t\tcs = that.size,\n\t\t\tos = that.originalSize,\n\t\t\top = that.originalPosition,\n\t\t\ta = that.axis,\n\t\t\tgrid = typeof o.grid === \"number\" ? [o.grid, o.grid] : o.grid,\n\t\t\tgridX = (grid[0]||1),\n\t\t\tgridY = (grid[1]||1),\n\t\t\tox = Math.round((cs.width - os.width) / gridX) * gridX,\n\t\t\toy = Math.round((cs.height - os.height) / gridY) * gridY,\n\t\t\tnewWidth = os.width + ox,\n\t\t\tnewHeight = os.height + oy,\n\t\t\tisMaxWidth = o.maxWidth && (o.maxWidth < newWidth),\n\t\t\tisMaxHeight = o.maxHeight && (o.maxHeight < newHeight),\n\t\t\tisMinWidth = o.minWidth && (o.minWidth > newWidth),\n\t\t\tisMinHeight = o.minHeight && (o.minHeight > newHeight);\n\n\t\to.grid = grid;\n\n\t\tif (isMinWidth) {\n\t\t\tnewWidth = newWidth + gridX;\n\t\t}\n\t\tif (isMinHeight) {\n\t\t\tnewHeight = newHeight + gridY;\n\t\t}\n\t\tif (isMaxWidth) {\n\t\t\tnewWidth = newWidth - gridX;\n\t\t}\n\t\tif (isMaxHeight) {\n\t\t\tnewHeight = newHeight - gridY;\n\t\t}\n\n\t\tif (/^(se|s|e)$/.test(a)) {\n\t\t\tthat.size.width = newWidth;\n\t\t\tthat.size.height = newHeight;\n\t\t} else if (/^(ne)$/.test(a)) {\n\t\t\tthat.size.width = newWidth;\n\t\t\tthat.size.height = newHeight;\n\t\t\tthat.position.top = op.top - oy;\n\t\t} else if (/^(sw)$/.test(a)) {\n\t\t\tthat.size.width = newWidth;\n\t\t\tthat.size.height = newHeight;\n\t\t\tthat.position.left = op.left - ox;\n\t\t} else {\n\t\t\tthat.size.width = newWidth;\n\t\t\tthat.size.height = newHeight;\n\t\t\tthat.position.top = op.top - oy;\n\t\t\tthat.position.left = op.left - ox;\n\t\t}\n\t}\n\n});\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.widget(\"ui.selectable\", $.ui.mouse, {\n\tversion: \"1.10.3\",\n\toptions: {\n\t\tappendTo: \"body\",\n\t\tautoRefresh: true,\n\t\tdistance: 0,\n\t\tfilter: \"*\",\n\t\ttolerance: \"touch\",\n\n\t\t// callbacks\n\t\tselected: null,\n\t\tselecting: null,\n\t\tstart: null,\n\t\tstop: null,\n\t\tunselected: null,\n\t\tunselecting: null\n\t},\n\t_create: function() {\n\t\tvar selectees,\n\t\t\tthat = this;\n\n\t\tthis.element.addClass(\"ui-selectable\");\n\n\t\tthis.dragged = false;\n\n\t\t// cache selectee children based on filter\n\t\tthis.refresh = function() {\n\t\t\tselectees = $(that.options.filter, that.element[0]);\n\t\t\tselectees.addClass(\"ui-selectee\");\n\t\t\tselectees.each(function() {\n\t\t\t\tvar $this = $(this),\n\t\t\t\t\tpos = $this.offset();\n\t\t\t\t$.data(this, \"selectable-item\", {\n\t\t\t\t\telement: this,\n\t\t\t\t\t$element: $this,\n\t\t\t\t\tleft: pos.left,\n\t\t\t\t\ttop: pos.top,\n\t\t\t\t\tright: pos.left + $this.outerWidth(),\n\t\t\t\t\tbottom: pos.top + $this.outerHeight(),\n\t\t\t\t\tstartselected: false,\n\t\t\t\t\tselected: $this.hasClass(\"ui-selected\"),\n\t\t\t\t\tselecting: $this.hasClass(\"ui-selecting\"),\n\t\t\t\t\tunselecting: $this.hasClass(\"ui-unselecting\")\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\tthis.refresh();\n\n\t\tthis.selectees = selectees.addClass(\"ui-selectee\");\n\n\t\tthis._mouseInit();\n\n\t\tthis.helper = $(\"<div class='ui-selectable-helper'></div>\");\n\t},\n\n\t_destroy: function() {\n\t\tthis.selectees\n\t\t\t.removeClass(\"ui-selectee\")\n\t\t\t.removeData(\"selectable-item\");\n\t\tthis.element\n\t\t\t.removeClass(\"ui-selectable ui-selectable-disabled\");\n\t\tthis._mouseDestroy();\n\t},\n\n\t_mouseStart: function(event) {\n\t\tvar that = this,\n\t\t\toptions = this.options;\n\n\t\tthis.opos = [event.pageX, event.pageY];\n\n\t\tif (this.options.disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.selectees = $(options.filter, this.element[0]);\n\n\t\tthis._trigger(\"start\", event);\n\n\t\t$(options.appendTo).append(this.helper);\n\t\t// position helper (lasso)\n\t\tthis.helper.css({\n\t\t\t\"left\": event.pageX,\n\t\t\t\"top\": event.pageY,\n\t\t\t\"width\": 0,\n\t\t\t\"height\": 0\n\t\t});\n\n\t\tif (options.autoRefresh) {\n\t\t\tthis.refresh();\n\t\t}\n\n\t\tthis.selectees.filter(\".ui-selected\").each(function() {\n\t\t\tvar selectee = $.data(this, \"selectable-item\");\n\t\t\tselectee.startselected = true;\n\t\t\tif (!event.metaKey && !event.ctrlKey) {\n\t\t\t\tselectee.$element.removeClass(\"ui-selected\");\n\t\t\t\tselectee.selected = false;\n\t\t\t\tselectee.$element.addClass(\"ui-unselecting\");\n\t\t\t\tselectee.unselecting = true;\n\t\t\t\t// selectable UNSELECTING callback\n\t\t\t\tthat._trigger(\"unselecting\", event, {\n\t\t\t\t\tunselecting: selectee.element\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$(event.target).parents().addBack().each(function() {\n\t\t\tvar doSelect,\n\t\t\t\tselectee = $.data(this, \"selectable-item\");\n\t\t\tif (selectee) {\n\t\t\t\tdoSelect = (!event.metaKey && !event.ctrlKey) || !selectee.$element.hasClass(\"ui-selected\");\n\t\t\t\tselectee.$element\n\t\t\t\t\t.removeClass(doSelect ? \"ui-unselecting\" : \"ui-selected\")\n\t\t\t\t\t.addClass(doSelect ? \"ui-selecting\" : \"ui-unselecting\");\n\t\t\t\tselectee.unselecting = !doSelect;\n\t\t\t\tselectee.selecting = doSelect;\n\t\t\t\tselectee.selected = doSelect;\n\t\t\t\t// selectable (UN)SELECTING callback\n\t\t\t\tif (doSelect) {\n\t\t\t\t\tthat._trigger(\"selecting\", event, {\n\t\t\t\t\t\tselecting: selectee.element\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthat._trigger(\"unselecting\", event, {\n\t\t\t\t\t\tunselecting: selectee.element\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t},\n\n\t_mouseDrag: function(event) {\n\n\t\tthis.dragged = true;\n\n\t\tif (this.options.disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tmp,\n\t\t\tthat = this,\n\t\t\toptions = this.options,\n\t\t\tx1 = this.opos[0],\n\t\t\ty1 = this.opos[1],\n\t\t\tx2 = event.pageX,\n\t\t\ty2 = event.pageY;\n\n\t\tif (x1 > x2) { tmp = x2; x2 = x1; x1 = tmp; }\n\t\tif (y1 > y2) { tmp = y2; y2 = y1; y1 = tmp; }\n\t\tthis.helper.css({left: x1, top: y1, width: x2-x1, height: y2-y1});\n\n\t\tthis.selectees.each(function() {\n\t\t\tvar selectee = $.data(this, \"selectable-item\"),\n\t\t\t\thit = false;\n\n\t\t\t//prevent helper from being selected if appendTo: selectable\n\t\t\tif (!selectee || selectee.element === that.element[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (options.tolerance === \"touch\") {\n\t\t\t\thit = ( !(selectee.left > x2 || selectee.right < x1 || selectee.top > y2 || selectee.bottom < y1) );\n\t\t\t} else if (options.tolerance === \"fit\") {\n\t\t\t\thit = (selectee.left > x1 && selectee.right < x2 && selectee.top > y1 && selectee.bottom < y2);\n\t\t\t}\n\n\t\t\tif (hit) {\n\t\t\t\t// SELECT\n\t\t\t\tif (selectee.selected) {\n\t\t\t\t\tselectee.$element.removeClass(\"ui-selected\");\n\t\t\t\t\tselectee.selected = false;\n\t\t\t\t}\n\t\t\t\tif (selectee.unselecting) {\n\t\t\t\t\tselectee.$element.removeClass(\"ui-unselecting\");\n\t\t\t\t\tselectee.unselecting = false;\n\t\t\t\t}\n\t\t\t\tif (!selectee.selecting) {\n\t\t\t\t\tselectee.$element.addClass(\"ui-selecting\");\n\t\t\t\t\tselectee.selecting = true;\n\t\t\t\t\t// selectable SELECTING callback\n\t\t\t\t\tthat._trigger(\"selecting\", event, {\n\t\t\t\t\t\tselecting: selectee.element\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// UNSELECT\n\t\t\t\tif (selectee.selecting) {\n\t\t\t\t\tif ((event.metaKey || event.ctrlKey) && selectee.startselected) {\n\t\t\t\t\t\tselectee.$element.removeClass(\"ui-selecting\");\n\t\t\t\t\t\tselectee.selecting = false;\n\t\t\t\t\t\tselectee.$element.addClass(\"ui-selected\");\n\t\t\t\t\t\tselectee.selected = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectee.$element.removeClass(\"ui-selecting\");\n\t\t\t\t\t\tselectee.selecting = false;\n\t\t\t\t\t\tif (selectee.startselected) {\n\t\t\t\t\t\t\tselectee.$element.addClass(\"ui-unselecting\");\n\t\t\t\t\t\t\tselectee.unselecting = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// selectable UNSELECTING callback\n\t\t\t\t\t\tthat._trigger(\"unselecting\", event, {\n\t\t\t\t\t\t\tunselecting: selectee.element\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (selectee.selected) {\n\t\t\t\t\tif (!event.metaKey && !event.ctrlKey && !selectee.startselected) {\n\t\t\t\t\t\tselectee.$element.removeClass(\"ui-selected\");\n\t\t\t\t\t\tselectee.selected = false;\n\n\t\t\t\t\t\tselectee.$element.addClass(\"ui-unselecting\");\n\t\t\t\t\t\tselectee.unselecting = true;\n\t\t\t\t\t\t// selectable UNSELECTING callback\n\t\t\t\t\t\tthat._trigger(\"unselecting\", event, {\n\t\t\t\t\t\t\tunselecting: selectee.element\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function(event) {\n\t\tvar that = this;\n\n\t\tthis.dragged = false;\n\n\t\t$(\".ui-unselecting\", this.element[0]).each(function() {\n\t\t\tvar selectee = $.data(this, \"selectable-item\");\n\t\t\tselectee.$element.removeClass(\"ui-unselecting\");\n\t\t\tselectee.unselecting = false;\n\t\t\tselectee.startselected = false;\n\t\t\tthat._trigger(\"unselected\", event, {\n\t\t\t\tunselected: selectee.element\n\t\t\t});\n\t\t});\n\t\t$(\".ui-selecting\", this.element[0]).each(function() {\n\t\t\tvar selectee = $.data(this, \"selectable-item\");\n\t\t\tselectee.$element.removeClass(\"ui-selecting\").addClass(\"ui-selected\");\n\t\t\tselectee.selecting = false;\n\t\t\tselectee.selected = true;\n\t\t\tselectee.startselected = true;\n\t\t\tthat._trigger(\"selected\", event, {\n\t\t\t\tselected: selectee.element\n\t\t\t});\n\t\t});\n\t\tthis._trigger(\"stop\", event);\n\n\t\tthis.helper.remove();\n\n\t\treturn false;\n\t}\n\n});\n\n})(jQuery);\n(function( $, undefined ) {\n\n/*jshint loopfunc: true */\n\nfunction isOverAxis( x, reference, size ) {\n\treturn ( x > reference ) && ( x < ( reference + size ) );\n}\n\nfunction isFloating(item) {\n\treturn (/left|right/).test(item.css(\"float\")) || (/inline|table-cell/).test(item.css(\"display\"));\n}\n\n$.widget(\"ui.sortable\", $.ui.mouse, {\n\tversion: \"1.10.3\",\n\twidgetEventPrefix: \"sort\",\n\tready: false,\n\toptions: {\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectWith: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tdropOnEmpty: true,\n\t\tforcePlaceholderSize: false,\n\t\tforceHelperSize: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\titems: \"> *\",\n\t\topacity: false,\n\t\tplaceholder: false,\n\t\trevert: false,\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tscope: \"default\",\n\t\ttolerance: \"intersect\",\n\t\tzIndex: 1000,\n\n\t\t// callbacks\n\t\tactivate: null,\n\t\tbeforeStop: null,\n\t\tchange: null,\n\t\tdeactivate: null,\n\t\tout: null,\n\t\tover: null,\n\t\treceive: null,\n\t\tremove: null,\n\t\tsort: null,\n\t\tstart: null,\n\t\tstop: null,\n\t\tupdate: null\n\t},\n\t_create: function() {\n\n\t\tvar o = this.options;\n\t\tthis.containerCache = {};\n\t\tthis.element.addClass(\"ui-sortable\");\n\n\t\t//Get the items\n\t\tthis.refresh();\n\n\t\t//Let's determine if the items are being displayed horizontally\n\t\tthis.floating = this.items.length ? o.axis === \"x\" || isFloating(this.items[0].item) : false;\n\n\t\t//Let's determine the parent's offset\n\t\tthis.offset = this.element.offset();\n\n\t\t//Initialize mouse events for interaction\n\t\tthis._mouseInit();\n\n\t\t//We're ready to go\n\t\tthis.ready = true;\n\n\t},\n\n\t_destroy: function() {\n\t\tthis.element\n\t\t\t.removeClass(\"ui-sortable ui-sortable-disabled\");\n\t\tthis._mouseDestroy();\n\n\t\tfor ( var i = this.items.length - 1; i >= 0; i-- ) {\n\t\t\tthis.items[i].item.removeData(this.widgetName + \"-item\");\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOption: function(key, value){\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.options[ key ] = value;\n\n\t\t\tthis.widget().toggleClass( \"ui-sortable-disabled\", !!value );\n\t\t} else {\n\t\t\t// Don't call widget base _setOption for disable as it adds ui-state-disabled class\n\t\t\t$.Widget.prototype._setOption.apply(this, arguments);\n\t\t}\n\t},\n\n\t_mouseCapture: function(event, overrideHandle) {\n\t\tvar currentItem = null,\n\t\t\tvalidHandle = false,\n\t\t\tthat = this;\n\n\t\tif (this.reverting) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(this.options.disabled || this.options.type === \"static\") {\n\t\t\treturn false;\n\t\t}\n\n\t\t//We have to refresh the items data once first\n\t\tthis._refreshItems(event);\n\n\t\t//Find out if the clicked node (or one of its parents) is a actual item in this.items\n\t\t$(event.target).parents().each(function() {\n\t\t\tif($.data(this, that.widgetName + \"-item\") === that) {\n\t\t\t\tcurrentItem = $(this);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tif($.data(event.target, that.widgetName + \"-item\") === that) {\n\t\t\tcurrentItem = $(event.target);\n\t\t}\n\n\t\tif(!currentItem) {\n\t\t\treturn false;\n\t\t}\n\t\tif(this.options.handle && !overrideHandle) {\n\t\t\t$(this.options.handle, currentItem).find(\"*\").addBack().each(function() {\n\t\t\t\tif(this === event.target) {\n\t\t\t\t\tvalidHandle = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!validHandle) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.currentItem = currentItem;\n\t\tthis._removeCurrentsFromItems();\n\t\treturn true;\n\n\t},\n\n\t_mouseStart: function(event, overrideHandle, noActivation) {\n\n\t\tvar i, body,\n\t\t\to = this.options;\n\n\t\tthis.currentContainer = this;\n\n\t\t//We only need to call refreshPositions, because the refreshItems call has been moved to mouseCapture\n\t\tthis.refreshPositions();\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper(event);\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Get the next scrolling parent\n\t\tthis.scrollParent = this.helper.scrollParent();\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.offset = this.currentItem.offset();\n\t\tthis.offset = {\n\t\t\ttop: this.offset.top - this.margins.top,\n\t\t\tleft: this.offset.left - this.margins.left\n\t\t};\n\n\t\t$.extend(this.offset, {\n\t\t\tclick: { //Where the click happened, relative to the element\n\t\t\t\tleft: event.pageX - this.offset.left,\n\t\t\t\ttop: event.pageY - this.offset.top\n\t\t\t},\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper\n\t\t});\n\n\t\t// Only after we got the offset, we can change the helper's position to absolute\n\t\t// TODO: Still need to figure out a way to make relative sorting possible\n\t\tthis.helper.css(\"position\", \"absolute\");\n\t\tthis.cssPosition = this.helper.css(\"position\");\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this._generatePosition(event);\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\t\t(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));\n\n\t\t//Cache the former DOM position\n\t\tthis.domPosition = { prev: this.currentItem.prev()[0], parent: this.currentItem.parent()[0] };\n\n\t\t//If the helper is not the original, hide the original so it's not playing any role during the drag, won't cause anything bad this way\n\t\tif(this.helper[0] !== this.currentItem[0]) {\n\t\t\tthis.currentItem.hide();\n\t\t}\n\n\t\t//Create the placeholder\n\t\tthis._createPlaceholder();\n\n\t\t//Set a containment if given in the options\n\t\tif(o.containment) {\n\t\t\tthis._setContainment();\n\t\t}\n\n\t\tif( o.cursor && o.cursor !== \"auto\" ) { // cursor option\n\t\t\tbody = this.document.find( \"body\" );\n\n\t\t\t// support: IE\n\t\t\tthis.storedCursor = body.css( \"cursor\" );\n\t\t\tbody.css( \"cursor\", o.cursor );\n\n\t\t\tthis.storedStylesheet = $( \"<style>*{ cursor: \"+o.cursor+\" !important; }</style>\" ).appendTo( body );\n\t\t}\n\n\t\tif(o.opacity) { // opacity option\n\t\t\tif (this.helper.css(\"opacity\")) {\n\t\t\t\tthis._storedOpacity = this.helper.css(\"opacity\");\n\t\t\t}\n\t\t\tthis.helper.css(\"opacity\", o.opacity);\n\t\t}\n\n\t\tif(o.zIndex) { // zIndex option\n\t\t\tif (this.helper.css(\"zIndex\")) {\n\t\t\t\tthis._storedZIndex = this.helper.css(\"zIndex\");\n\t\t\t}\n\t\t\tthis.helper.css(\"zIndex\", o.zIndex);\n\t\t}\n\n\t\t//Prepare scrolling\n\t\tif(this.scrollParent[0] !== document && this.scrollParent[0].tagName !== \"HTML\") {\n\t\t\tthis.overflowOffset = this.scrollParent.offset();\n\t\t}\n\n\t\t//Call callbacks\n\t\tthis._trigger(\"start\", event, this._uiHash());\n\n\t\t//Recache the helper size\n\t\tif(!this._preserveHelperProportions) {\n\t\t\tthis._cacheHelperProportions();\n\t\t}\n\n\n\t\t//Post \"activate\" events to possible containers\n\t\tif( !noActivation ) {\n\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\n\t\t\t\tthis.containers[ i ]._trigger( \"activate\", event, this._uiHash( this ) );\n\t\t\t}\n\t\t}\n\n\t\t//Prepare possible droppables\n\t\tif($.ui.ddmanager) {\n\t\t\t$.ui.ddmanager.current = this;\n\t\t}\n\n\t\tif ($.ui.ddmanager && !o.dropBehaviour) {\n\t\t\t$.ui.ddmanager.prepareOffsets(this, event);\n\t\t}\n\n\t\tthis.dragging = true;\n\n\t\tthis.helper.addClass(\"ui-sortable-helper\");\n\t\tthis._mouseDrag(event); //Execute the drag once - this causes the helper not to be visible before getting its correct position\n\t\treturn true;\n\n\t},\n\n\t_mouseDrag: function(event) {\n\t\tvar i, item, itemElement, intersection,\n\t\t\to = this.options,\n\t\t\tscrolled = false;\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition(event);\n\t\tthis.positionAbs = this._convertPositionTo(\"absolute\");\n\n\t\tif (!this.lastPositionAbs) {\n\t\t\tthis.lastPositionAbs = this.positionAbs;\n\t\t}\n\n\t\t//Do scrolling\n\t\tif(this.options.scroll) {\n\t\t\tif(this.scrollParent[0] !== document && this.scrollParent[0].tagName !== \"HTML\") {\n\n\t\t\t\tif((this.overflowOffset.top + this.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {\n\t\t\t\t\tthis.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop + o.scrollSpeed;\n\t\t\t\t} else if(event.pageY - this.overflowOffset.top < o.scrollSensitivity) {\n\t\t\t\t\tthis.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop - o.scrollSpeed;\n\t\t\t\t}\n\n\t\t\t\tif((this.overflowOffset.left + this.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {\n\t\t\t\t\tthis.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft + o.scrollSpeed;\n\t\t\t\t} else if(event.pageX - this.overflowOffset.left < o.scrollSensitivity) {\n\t\t\t\t\tthis.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft - o.scrollSpeed;\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif(event.pageY - $(document).scrollTop() < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);\n\t\t\t\t} else if($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);\n\t\t\t\t}\n\n\t\t\t\tif(event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);\n\t\t\t\t} else if($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {\n\t\t\t\t$.ui.ddmanager.prepareOffsets(this, event);\n\t\t\t}\n\t\t}\n\n\t\t//Regenerate the absolute position used for position checks\n\t\tthis.positionAbs = this._convertPositionTo(\"absolute\");\n\n\t\t//Set the helper position\n\t\tif(!this.options.axis || this.options.axis !== \"y\") {\n\t\t\tthis.helper[0].style.left = this.position.left+\"px\";\n\t\t}\n\t\tif(!this.options.axis || this.options.axis !== \"x\") {\n\t\t\tthis.helper[0].style.top = this.position.top+\"px\";\n\t\t}\n\n\t\t//Rearrange\n\t\tfor (i = this.items.length - 1; i >= 0; i--) {\n\n\t\t\t//Cache variables and intersection, continue if no intersection\n\t\t\titem = this.items[i];\n\t\t\titemElement = item.item[0];\n\t\t\tintersection = this._intersectsWithPointer(item);\n\t\t\tif (!intersection) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Only put the placeholder inside the current Container, skip all\n\t\t\t// items form other containers. This works because when moving\n\t\t\t// an item from one container to another the\n\t\t\t// currentContainer is switched before the placeholder is moved.\n\t\t\t//\n\t\t\t// Without this moving items in \"sub-sortables\" can cause the placeholder to jitter\n\t\t\t// beetween the outer and inner container.\n\t\t\tif (item.instance !== this.currentContainer) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// cannot intersect with itself\n\t\t\t// no useless actions that have been done before\n\t\t\t// no action if the item moved is the parent of the item checked\n\t\t\tif (itemElement !== this.currentItem[0] &&\n\t\t\t\tthis.placeholder[intersection === 1 ? \"next\" : \"prev\"]()[0] !== itemElement &&\n\t\t\t\t!$.contains(this.placeholder[0], itemElement) &&\n\t\t\t\t(this.options.type === \"semi-dynamic\" ? !$.contains(this.element[0], itemElement) : true)\n\t\t\t) {\n\n\t\t\t\tthis.direction = intersection === 1 ? \"down\" : \"up\";\n\n\t\t\t\tif (this.options.tolerance === \"pointer\" || this._intersectsWithSides(item)) {\n\t\t\t\t\tthis._rearrange(event, item);\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tthis._trigger(\"change\", event, this._uiHash());\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t//Post events to containers\n\t\tthis._contactContainers(event);\n\n\t\t//Interconnect with droppables\n\t\tif($.ui.ddmanager) {\n\t\t\t$.ui.ddmanager.drag(this, event);\n\t\t}\n\n\t\t//Call callbacks\n\t\tthis._trigger(\"sort\", event, this._uiHash());\n\n\t\tthis.lastPositionAbs = this.positionAbs;\n\t\treturn false;\n\n\t},\n\n\t_mouseStop: function(event, noPropagation) {\n\n\t\tif(!event) {\n\t\t\treturn;\n\t\t}\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tif ($.ui.ddmanager && !this.options.dropBehaviour) {\n\t\t\t$.ui.ddmanager.drop(this, event);\n\t\t}\n\n\t\tif(this.options.revert) {\n\t\t\tvar that = this,\n\t\t\t\tcur = this.placeholder.offset(),\n\t\t\t\taxis = this.options.axis,\n\t\t\t\tanimation = {};\n\n\t\t\tif ( !axis || axis === \"x\" ) {\n\t\t\t\tanimation.left = cur.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft);\n\t\t\t}\n\t\t\tif ( !axis || axis === \"y\" ) {\n\t\t\t\tanimation.top = cur.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop);\n\t\t\t}\n\t\t\tthis.reverting = true;\n\t\t\t$(this.helper).animate( animation, parseInt(this.options.revert, 10) || 500, function() {\n\t\t\t\tthat._clear(event);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._clear(event, noPropagation);\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tcancel: function() {\n\n\t\tif(this.dragging) {\n\n\t\t\tthis._mouseUp({ target: null });\n\n\t\t\tif(this.options.helper === \"original\") {\n\t\t\t\tthis.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\");\n\t\t\t} else {\n\t\t\t\tthis.currentItem.show();\n\t\t\t}\n\n\t\t\t//Post deactivating events to containers\n\t\t\tfor (var i = this.containers.length - 1; i >= 0; i--){\n\t\t\t\tthis.containers[i]._trigger(\"deactivate\", null, this._uiHash(this));\n\t\t\t\tif(this.containers[i].containerCache.over) {\n\t\t\t\t\tthis.containers[i]._trigger(\"out\", null, this._uiHash(this));\n\t\t\t\t\tthis.containers[i].containerCache.over = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif (this.placeholder) {\n\t\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!\n\t\t\tif(this.placeholder[0].parentNode) {\n\t\t\t\tthis.placeholder[0].parentNode.removeChild(this.placeholder[0]);\n\t\t\t}\n\t\t\tif(this.options.helper !== \"original\" && this.helper && this.helper[0].parentNode) {\n\t\t\t\tthis.helper.remove();\n\t\t\t}\n\n\t\t\t$.extend(this, {\n\t\t\t\thelper: null,\n\t\t\t\tdragging: false,\n\t\t\t\treverting: false,\n\t\t\t\t_noFinalSort: null\n\t\t\t});\n\n\t\t\tif(this.domPosition.prev) {\n\t\t\t\t$(this.domPosition.prev).after(this.currentItem);\n\t\t\t} else {\n\t\t\t\t$(this.domPosition.parent).prepend(this.currentItem);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tserialize: function(o) {\n\n\t\tvar items = this._getItemsAsjQuery(o && o.connected),\n\t\t\tstr = [];\n\t\to = o || {};\n\n\t\t$(items).each(function() {\n\t\t\tvar res = ($(o.item || this).attr(o.attribute || \"id\") || \"\").match(o.expression || (/(.+)[\\-=_](.+)/));\n\t\t\tif (res) {\n\t\t\t\tstr.push((o.key || res[1]+\"[]\")+\"=\"+(o.key && o.expression ? res[1] : res[2]));\n\t\t\t}\n\t\t});\n\n\t\tif(!str.length && o.key) {\n\t\t\tstr.push(o.key + \"=\");\n\t\t}\n\n\t\treturn str.join(\"&\");\n\n\t},\n\n\ttoArray: function(o) {\n\n\t\tvar items = this._getItemsAsjQuery(o && o.connected),\n\t\t\tret = [];\n\n\t\to = o || {};\n\n\t\titems.each(function() { ret.push($(o.item || this).attr(o.attribute || \"id\") || \"\"); });\n\t\treturn ret;\n\n\t},\n\n\t/* Be careful with the following core functions */\n\t_intersectsWith: function(item) {\n\n\t\tvar x1 = this.positionAbs.left,\n\t\t\tx2 = x1 + this.helperProportions.width,\n\t\t\ty1 = this.positionAbs.top,\n\t\t\ty2 = y1 + this.helperProportions.height,\n\t\t\tl = item.left,\n\t\t\tr = l + item.width,\n\t\t\tt = item.top,\n\t\t\tb = t + item.height,\n\t\t\tdyClick = this.offset.click.top,\n\t\t\tdxClick = this.offset.click.left,\n\t\t\tisOverElementHeight = ( this.options.axis === \"x\" ) || ( ( y1 + dyClick ) > t && ( y1 + dyClick ) < b ),\n\t\t\tisOverElementWidth = ( this.options.axis === \"y\" ) || ( ( x1 + dxClick ) > l && ( x1 + dxClick ) < r ),\n\t\t\tisOverElement = isOverElementHeight && isOverElementWidth;\n\n\t\tif ( this.options.tolerance === \"pointer\" ||\n\t\t\tthis.options.forcePointerForContainers ||\n\t\t\t(this.options.tolerance !== \"pointer\" && this.helperProportions[this.floating ? \"width\" : \"height\"] > item[this.floating ? \"width\" : \"height\"])\n\t\t) {\n\t\t\treturn isOverElement;\n\t\t} else {\n\n\t\t\treturn (l < x1 + (this.helperProportions.width / 2) && // Right Half\n\t\t\t\tx2 - (this.helperProportions.width / 2) < r && // Left Half\n\t\t\t\tt < y1 + (this.helperProportions.height / 2) && // Bottom Half\n\t\t\t\ty2 - (this.helperProportions.height / 2) < b ); // Top Half\n\n\t\t}\n\t},\n\n\t_intersectsWithPointer: function(item) {\n\n\t\tvar isOverElementHeight = (this.options.axis === \"x\") || isOverAxis(this.positionAbs.top + this.offset.click.top, item.top, item.height),\n\t\t\tisOverElementWidth = (this.options.axis === \"y\") || isOverAxis(this.positionAbs.left + this.offset.click.left, item.left, item.width),\n\t\t\tisOverElement = isOverElementHeight && isOverElementWidth,\n\t\t\tverticalDirection = this._getDragVerticalDirection(),\n\t\t\thorizontalDirection = this._getDragHorizontalDirection();\n\n\t\tif (!isOverElement) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.floating ?\n\t\t\t( ((horizontalDirection && horizontalDirection === \"right\") || verticalDirection === \"down\") ? 2 : 1 )\n\t\t\t: ( verticalDirection && (verticalDirection === \"down\" ? 2 : 1) );\n\n\t},\n\n\t_intersectsWithSides: function(item) {\n\n\t\tvar isOverBottomHalf = isOverAxis(this.positionAbs.top + this.offset.click.top, item.top + (item.height/2), item.height),\n\t\t\tisOverRightHalf = isOverAxis(this.positionAbs.left + this.offset.click.left, item.left + (item.width/2), item.width),\n\t\t\tverticalDirection = this._getDragVerticalDirection(),\n\t\t\thorizontalDirection = this._getDragHorizontalDirection();\n\n\t\tif (this.floating && horizontalDirection) {\n\t\t\treturn ((horizontalDirection === \"right\" && isOverRightHalf) || (horizontalDirection === \"left\" && !isOverRightHalf));\n\t\t} else {\n\t\t\treturn verticalDirection && ((verticalDirection === \"down\" && isOverBottomHalf) || (verticalDirection === \"up\" && !isOverBottomHalf));\n\t\t}\n\n\t},\n\n\t_getDragVerticalDirection: function() {\n\t\tvar delta = this.positionAbs.top - this.lastPositionAbs.top;\n\t\treturn delta !== 0 && (delta > 0 ? \"down\" : \"up\");\n\t},\n\n\t_getDragHorizontalDirection: function() {\n\t\tvar delta = this.positionAbs.left - this.lastPositionAbs.left;\n\t\treturn delta !== 0 && (delta > 0 ? \"right\" : \"left\");\n\t},\n\n\trefresh: function(event) {\n\t\tthis._refreshItems(event);\n\t\tthis.refreshPositions();\n\t\treturn this;\n\t},\n\n\t_connectWith: function() {\n\t\tvar options = this.options;\n\t\treturn options.connectWith.constructor === String ? [options.connectWith] : options.connectWith;\n\t},\n\n\t_getItemsAsjQuery: function(connected) {\n\n\t\tvar i, j, cur, inst,\n\t\t\titems = [],\n\t\t\tqueries = [],\n\t\t\tconnectWith = this._connectWith();\n\n\t\tif(connectWith && connected) {\n\t\t\tfor (i = connectWith.length - 1; i >= 0; i--){\n\t\t\t\tcur = $(connectWith[i]);\n\t\t\t\tfor ( j = cur.length - 1; j >= 0; j--){\n\t\t\t\t\tinst = $.data(cur[j], this.widgetFullName);\n\t\t\t\t\tif(inst && inst !== this && !inst.options.disabled) {\n\t\t\t\t\t\tqueries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element) : $(inst.options.items, inst.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"), inst]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tqueries.push([$.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : $(this.options.items, this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"), this]);\n\n\t\tfor (i = queries.length - 1; i >= 0; i--){\n\t\t\tqueries[i][0].each(function() {\n\t\t\t\titems.push(this);\n\t\t\t});\n\t\t}\n\n\t\treturn $(items);\n\n\t},\n\n\t_removeCurrentsFromItems: function() {\n\n\t\tvar list = this.currentItem.find(\":data(\" + this.widgetName + \"-item)\");\n\n\t\tthis.items = $.grep(this.items, function (item) {\n\t\t\tfor (var j=0; j < list.length; j++) {\n\t\t\t\tif(list[j] === item.item[0]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t},\n\n\t_refreshItems: function(event) {\n\n\t\tthis.items = [];\n\t\tthis.containers = [this];\n\n\t\tvar i, j, cur, inst, targetData, _queries, item, queriesLength,\n\t\t\titems = this.items,\n\t\t\tqueries = [[$.isFunction(this.options.items) ? this.options.items.call(this.element[0], event, { item: this.currentItem }) : $(this.options.items, this.element), this]],\n\t\t\tconnectWith = this._connectWith();\n\n\t\tif(connectWith && this.ready) { //Shouldn't be run the first time through due to massive slow-down\n\t\t\tfor (i = connectWith.length - 1; i >= 0; i--){\n\t\t\t\tcur = $(connectWith[i]);\n\t\t\t\tfor (j = cur.length - 1; j >= 0; j--){\n\t\t\t\t\tinst = $.data(cur[j], this.widgetFullName);\n\t\t\t\t\tif(inst && inst !== this && !inst.options.disabled) {\n\t\t\t\t\t\tqueries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element[0], event, { item: this.currentItem }) : $(inst.options.items, inst.element), inst]);\n\t\t\t\t\t\tthis.containers.push(inst);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (i = queries.length - 1; i >= 0; i--) {\n\t\t\ttargetData = queries[i][1];\n\t\t\t_queries = queries[i][0];\n\n\t\t\tfor (j=0, queriesLength = _queries.length; j < queriesLength; j++) {\n\t\t\t\titem = $(_queries[j]);\n\n\t\t\t\titem.data(this.widgetName + \"-item\", targetData); // Data for target checking (mouse manager)\n\n\t\t\t\titems.push({\n\t\t\t\t\titem: item,\n\t\t\t\t\tinstance: targetData,\n\t\t\t\t\twidth: 0, height: 0,\n\t\t\t\t\tleft: 0, top: 0\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t},\n\n\trefreshPositions: function(fast) {\n\n\t\t//This has to be redone because due to the item being moved out/into the offsetParent, the offsetParent's position will change\n\t\tif(this.offsetParent && this.helper) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\tvar i, item, t, p;\n\n\t\tfor (i = this.items.length - 1; i >= 0; i--){\n\t\t\titem = this.items[i];\n\n\t\t\t//We ignore calculating positions of all connected containers when we're not over them\n\t\t\tif(item.instance !== this.currentContainer && this.currentContainer && item.item[0] !== this.currentItem[0]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tt = this.options.toleranceElement ? $(this.options.toleranceElement, item.item) : item.item;\n\n\t\t\tif (!fast) {\n\t\t\t\titem.width = t.outerWidth();\n\t\t\t\titem.height = t.outerHeight();\n\t\t\t}\n\n\t\t\tp = t.offset();\n\t\t\titem.left = p.left;\n\t\t\titem.top = p.top;\n\t\t}\n\n\t\tif(this.options.custom && this.options.custom.refreshContainers) {\n\t\t\tthis.options.custom.refreshContainers.call(this);\n\t\t} else {\n\t\t\tfor (i = this.containers.length - 1; i >= 0; i--){\n\t\t\t\tp = this.containers[i].element.offset();\n\t\t\t\tthis.containers[i].containerCache.left = p.left;\n\t\t\t\tthis.containers[i].containerCache.top = p.top;\n\t\t\t\tthis.containers[i].containerCache.width\t= this.containers[i].element.outerWidth();\n\t\t\t\tthis.containers[i].containerCache.height = this.containers[i].element.outerHeight();\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_createPlaceholder: function(that) {\n\t\tthat = that || this;\n\t\tvar className,\n\t\t\to = that.options;\n\n\t\tif(!o.placeholder || o.placeholder.constructor === String) {\n\t\t\tclassName = o.placeholder;\n\t\t\to.placeholder = {\n\t\t\t\telement: function() {\n\n\t\t\t\t\tvar nodeName = that.currentItem[0].nodeName.toLowerCase(),\n\t\t\t\t\t\telement = $( \"<\" + nodeName + \">\", that.document[0] )\n\t\t\t\t\t\t\t.addClass(className || that.currentItem[0].className+\" ui-sortable-placeholder\")\n\t\t\t\t\t\t\t.removeClass(\"ui-sortable-helper\");\n\n\t\t\t\t\tif ( nodeName === \"tr\" ) {\n\t\t\t\t\t\tthat.currentItem.children().each(function() {\n\t\t\t\t\t\t\t$( \"<td>&#160;</td>\", that.document[0] )\n\t\t\t\t\t\t\t\t.attr( \"colspan\", $( this ).attr( \"colspan\" ) || 1 )\n\t\t\t\t\t\t\t\t.appendTo( element );\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if ( nodeName === \"img\" ) {\n\t\t\t\t\t\telement.attr( \"src\", that.currentItem.attr( \"src\" ) );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !className ) {\n\t\t\t\t\t\telement.css( \"visibility\", \"hidden\" );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn element;\n\t\t\t\t},\n\t\t\t\tupdate: function(container, p) {\n\n\t\t\t\t\t// 1. If a className is set as 'placeholder option, we don't force sizes - the class is responsible for that\n\t\t\t\t\t// 2. The option 'forcePlaceholderSize can be enabled to force it even if a class name is specified\n\t\t\t\t\tif(className && !o.forcePlaceholderSize) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//If the element doesn't have a actual height by itself (without styles coming from a stylesheet), it receives the inline height from the dragged item\n\t\t\t\t\tif(!p.height()) { p.height(that.currentItem.innerHeight() - parseInt(that.currentItem.css(\"paddingTop\")||0, 10) - parseInt(that.currentItem.css(\"paddingBottom\")||0, 10)); }\n\t\t\t\t\tif(!p.width()) { p.width(that.currentItem.innerWidth() - parseInt(that.currentItem.css(\"paddingLeft\")||0, 10) - parseInt(that.currentItem.css(\"paddingRight\")||0, 10)); }\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t//Create the placeholder\n\t\tthat.placeholder = $(o.placeholder.element.call(that.element, that.currentItem));\n\n\t\t//Append it after the actual current item\n\t\tthat.currentItem.after(that.placeholder);\n\n\t\t//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)\n\t\to.placeholder.update(that, that.placeholder);\n\n\t},\n\n\t_contactContainers: function(event) {\n\t\tvar i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, base, cur, nearBottom, floating,\n\t\t\tinnermostContainer = null,\n\t\t\tinnermostIndex = null;\n\n\t\t// get innermost container that intersects with item\n\t\tfor (i = this.containers.length - 1; i >= 0; i--) {\n\n\t\t\t// never consider a container that's located within the item itself\n\t\t\tif($.contains(this.currentItem[0], this.containers[i].element[0])) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(this._intersectsWith(this.containers[i].containerCache)) {\n\n\t\t\t\t// if we've already found a container and it's more \"inner\" than this, then continue\n\t\t\t\tif(innermostContainer && $.contains(this.containers[i].element[0], innermostContainer.element[0])) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tinnermostContainer = this.containers[i];\n\t\t\t\tinnermostIndex = i;\n\n\t\t\t} else {\n\t\t\t\t// container doesn't intersect. trigger \"out\" event if necessary\n\t\t\t\tif(this.containers[i].containerCache.over) {\n\t\t\t\t\tthis.containers[i]._trigger(\"out\", event, this._uiHash(this));\n\t\t\t\t\tthis.containers[i].containerCache.over = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\t// if no intersecting containers found, return\n\t\tif(!innermostContainer) {\n\t\t\treturn;\n\t\t}\n\n\t\t// move the item into the container if it's not there already\n\t\tif(this.containers.length === 1) {\n\t\t\tif (!this.containers[innermostIndex].containerCache.over) {\n\t\t\t\tthis.containers[innermostIndex]._trigger(\"over\", event, this._uiHash(this));\n\t\t\t\tthis.containers[innermostIndex].containerCache.over = 1;\n\t\t\t}\n\t\t} else {\n\n\t\t\t//When entering a new container, we will find the item with the least distance and append our item near it\n\t\t\tdist = 10000;\n\t\t\titemWithLeastDistance = null;\n\t\t\tfloating = innermostContainer.floating || isFloating(this.currentItem);\n\t\t\tposProperty = floating ? \"left\" : \"top\";\n\t\t\tsizeProperty = floating ? \"width\" : \"height\";\n\t\t\tbase = this.positionAbs[posProperty] + this.offset.click[posProperty];\n\t\t\tfor (j = this.items.length - 1; j >= 0; j--) {\n\t\t\t\tif(!$.contains(this.containers[innermostIndex].element[0], this.items[j].item[0])) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(this.items[j].item[0] === this.currentItem[0]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (floating && !isOverAxis(this.positionAbs.top + this.offset.click.top, this.items[j].top, this.items[j].height)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcur = this.items[j].item.offset()[posProperty];\n\t\t\t\tnearBottom = false;\n\t\t\t\tif(Math.abs(cur - base) > Math.abs(cur + this.items[j][sizeProperty] - base)){\n\t\t\t\t\tnearBottom = true;\n\t\t\t\t\tcur += this.items[j][sizeProperty];\n\t\t\t\t}\n\n\t\t\t\tif(Math.abs(cur - base) < dist) {\n\t\t\t\t\tdist = Math.abs(cur - base); itemWithLeastDistance = this.items[j];\n\t\t\t\t\tthis.direction = nearBottom ? \"up\": \"down\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//Check if dropOnEmpty is enabled\n\t\t\tif(!itemWithLeastDistance && !this.options.dropOnEmpty) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(this.currentContainer === this.containers[innermostIndex]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\titemWithLeastDistance ? this._rearrange(event, itemWithLeastDistance, null, true) : this._rearrange(event, null, this.containers[innermostIndex].element, true);\n\t\t\tthis._trigger(\"change\", event, this._uiHash());\n\t\t\tthis.containers[innermostIndex]._trigger(\"change\", event, this._uiHash(this));\n\t\t\tthis.currentContainer = this.containers[innermostIndex];\n\n\t\t\t//Update the placeholder\n\t\t\tthis.options.placeholder.update(this.currentContainer, this.placeholder);\n\n\t\t\tthis.containers[innermostIndex]._trigger(\"over\", event, this._uiHash(this));\n\t\t\tthis.containers[innermostIndex].containerCache.over = 1;\n\t\t}\n\n\n\t},\n\n\t_createHelper: function(event) {\n\n\t\tvar o = this.options,\n\t\t\thelper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event, this.currentItem])) : (o.helper === \"clone\" ? this.currentItem.clone() : this.currentItem);\n\n\t\t//Add the helper to the DOM if that didn't happen already\n\t\tif(!helper.parents(\"body\").length) {\n\t\t\t$(o.appendTo !== \"parent\" ? o.appendTo : this.currentItem[0].parentNode)[0].appendChild(helper[0]);\n\t\t}\n\n\t\tif(helper[0] === this.currentItem[0]) {\n\t\t\tthis._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css(\"position\"), top: this.currentItem.css(\"top\"), left: this.currentItem.css(\"left\") };\n\t\t}\n\n\t\tif(!helper[0].style.width || o.forceHelperSize) {\n\t\t\thelper.width(this.currentItem.width());\n\t\t}\n\t\tif(!helper[0].style.height || o.forceHelperSize) {\n\t\t\thelper.height(this.currentItem.height());\n\t\t}\n\n\t\treturn helper;\n\n\t},\n\n\t_adjustOffsetFromHelper: function(obj) {\n\t\tif (typeof obj === \"string\") {\n\t\t\tobj = obj.split(\" \");\n\t\t}\n\t\tif ($.isArray(obj)) {\n\t\t\tobj = {left: +obj[0], top: +obj[1] || 0};\n\t\t}\n\t\tif (\"left\" in obj) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif (\"right\" in obj) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif (\"top\" in obj) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif (\"bottom\" in obj) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_getParentOffset: function() {\n\n\n\t\t//Get the offsetParent and cache its position\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tvar po = this.offsetParent.offset();\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that\n\t\t//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag\n\t\tif(this.cssPosition === \"absolute\" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\t// This needs to be actually done for all browsers, since pageX/pageY includes this information\n\t\t// with an ugly IE fix\n\t\tif( this.offsetParent[0] === document.body || (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === \"html\" && $.ui.ie)) {\n\t\t\tpo = { top: 0, left: 0 };\n\t\t}\n\n\t\treturn {\n\t\t\ttop: po.top + (parseInt(this.offsetParent.css(\"borderTopWidth\"),10) || 0),\n\t\t\tleft: po.left + (parseInt(this.offsetParent.css(\"borderLeftWidth\"),10) || 0)\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\n\t\tif(this.cssPosition === \"relative\") {\n\t\t\tvar p = this.currentItem.position();\n\t\t\treturn {\n\t\t\t\ttop: p.top - (parseInt(this.helper.css(\"top\"),10) || 0) + this.scrollParent.scrollTop(),\n\t\t\t\tleft: p.left - (parseInt(this.helper.css(\"left\"),10) || 0) + this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t} else {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: (parseInt(this.currentItem.css(\"marginLeft\"),10) || 0),\n\t\t\ttop: (parseInt(this.currentItem.css(\"marginTop\"),10) || 0)\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar ce, co, over,\n\t\t\to = this.options;\n\t\tif(o.containment === \"parent\") {\n\t\t\to.containment = this.helper[0].parentNode;\n\t\t}\n\t\tif(o.containment === \"document\" || o.containment === \"window\") {\n\t\t\tthis.containment = [\n\t\t\t\t0 - this.offset.relative.left - this.offset.parent.left,\n\t\t\t\t0 - this.offset.relative.top - this.offset.parent.top,\n\t\t\t\t$(o.containment === \"document\" ? document : window).width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t($(o.containment === \"document\" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t}\n\n\t\tif(!(/^(document|window|parent)$/).test(o.containment)) {\n\t\t\tce = $(o.containment)[0];\n\t\t\tco = $(o.containment).offset();\n\t\t\tover = ($(ce).css(\"overflow\") !== \"hidden\");\n\n\t\t\tthis.containment = [\n\t\t\t\tco.left + (parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingLeft\"),10) || 0) - this.margins.left,\n\t\t\t\tco.top + (parseInt($(ce).css(\"borderTopWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingTop\"),10) || 0) - this.margins.top,\n\t\t\t\tco.left+(over ? Math.max(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingRight\"),10) || 0) - this.helperProportions.width - this.margins.left,\n\t\t\t\tco.top+(over ? Math.max(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css(\"borderTopWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingBottom\"),10) || 0) - this.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t}\n\n\t},\n\n\t_convertPositionTo: function(d, pos) {\n\n\t\tif(!pos) {\n\t\t\tpos = this.position;\n\t\t}\n\t\tvar mod = d === \"absolute\" ? 1 : -1,\n\t\t\tscroll = this.cssPosition === \"absolute\" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,\n\t\t\tscrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpos.top\t+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.relative.top * mod +\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.top * mod -\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( ( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpos.left +\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.relative.left * mod +\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.left * mod\t-\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( ( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function(event) {\n\n\t\tvar top, left,\n\t\t\to = this.options,\n\t\t\tpageX = event.pageX,\n\t\t\tpageY = event.pageY,\n\t\t\tscroll = this.cssPosition === \"absolute\" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);\n\n\t\t// This is another very weird special case that only happens for relative elements:\n\t\t// 1. If the css position is relative\n\t\t// 2. and the scroll parent is the document or similar to the offset parent\n\t\t// we have to refresh the relative offset during the scroll so there are no jumps\n\t\tif(this.cssPosition === \"relative\" && !(this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0])) {\n\t\t\tthis.offset.relative = this._getRelativeOffset();\n\t\t}\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\tif(this.originalPosition) { //If we are not dragging yet, we won't check for options\n\n\t\t\tif(this.containment) {\n\t\t\t\tif(event.pageX - this.offset.click.left < this.containment[0]) {\n\t\t\t\t\tpageX = this.containment[0] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif(event.pageY - this.offset.click.top < this.containment[1]) {\n\t\t\t\t\tpageY = this.containment[1] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t\tif(event.pageX - this.offset.click.left > this.containment[2]) {\n\t\t\t\t\tpageX = this.containment[2] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif(event.pageY - this.offset.click.top > this.containment[3]) {\n\t\t\t\t\tpageY = this.containment[3] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(o.grid) {\n\t\t\t\ttop = this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1];\n\t\t\t\tpageY = this.containment ? ( (top - this.offset.click.top >= this.containment[1] && top - this.offset.click.top <= this.containment[3]) ? top : ((top - this.offset.click.top >= this.containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;\n\n\t\t\t\tleft = this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0];\n\t\t\t\tpageX = this.containment ? ( (left - this.offset.click.left >= this.containment[0] && left - this.offset.click.left <= this.containment[2]) ? left : ((left - this.offset.click.left >= this.containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpageY -\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.click.top -\t\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.relative.top\t-\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.top +\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( ( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpageX -\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.click.left -\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.relative.left\t-\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.left +\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( ( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_rearrange: function(event, i, a, hardRefresh) {\n\n\t\ta ? a[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], (this.direction === \"down\" ? i.item[0] : i.item[0].nextSibling));\n\n\t\t//Various things done here to improve the performance:\n\t\t// 1. we create a setTimeout, that calls refreshPositions\n\t\t// 2. on the instance, we have a counter variable, that get's higher after every append\n\t\t// 3. on the local scope, we copy the counter variable, and check in the timeout, if it's still the same\n\t\t// 4. this lets only the last addition to the timeout stack through\n\t\tthis.counter = this.counter ? ++this.counter : 1;\n\t\tvar counter = this.counter;\n\n\t\tthis._delay(function() {\n\t\t\tif(counter === this.counter) {\n\t\t\t\tthis.refreshPositions(!hardRefresh); //Precompute after each DOM insertion, NOT on mousemove\n\t\t\t}\n\t\t});\n\n\t},\n\n\t_clear: function(event, noPropagation) {\n\n\t\tthis.reverting = false;\n\t\t// We delay all events that have to be triggered to after the point where the placeholder has been removed and\n\t\t// everything else normalized again\n\t\tvar i,\n\t\t\tdelayedTriggers = [];\n\n\t\t// We first have to update the dom position of the actual currentItem\n\t\t// Note: don't do it if the current item is already removed (by a user), or it gets reappended (see #4088)\n\t\tif(!this._noFinalSort && this.currentItem.parent().length) {\n\t\t\tthis.placeholder.before(this.currentItem);\n\t\t}\n\t\tthis._noFinalSort = null;\n\n\t\tif(this.helper[0] === this.currentItem[0]) {\n\t\t\tfor(i in this._storedCSS) {\n\t\t\t\tif(this._storedCSS[i] === \"auto\" || this._storedCSS[i] === \"static\") {\n\t\t\t\t\tthis._storedCSS[i] = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\");\n\t\t} else {\n\t\t\tthis.currentItem.show();\n\t\t}\n\n\t\tif(this.fromOutside && !noPropagation) {\n\t\t\tdelayedTriggers.push(function(event) { this._trigger(\"receive\", event, this._uiHash(this.fromOutside)); });\n\t\t}\n\t\tif((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(\".ui-sortable-helper\")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !noPropagation) {\n\t\t\tdelayedTriggers.push(function(event) { this._trigger(\"update\", event, this._uiHash()); }); //Trigger update callback if the DOM position has changed\n\t\t}\n\n\t\t// Check if the items Container has Changed and trigger appropriate\n\t\t// events.\n\t\tif (this !== this.currentContainer) {\n\t\t\tif(!noPropagation) {\n\t\t\t\tdelayedTriggers.push(function(event) { this._trigger(\"remove\", event, this._uiHash()); });\n\t\t\t\tdelayedTriggers.push((function(c) { return function(event) { c._trigger(\"receive\", event, this._uiHash(this)); };  }).call(this, this.currentContainer));\n\t\t\t\tdelayedTriggers.push((function(c) { return function(event) { c._trigger(\"update\", event, this._uiHash(this));  }; }).call(this, this.currentContainer));\n\t\t\t}\n\t\t}\n\n\n\t\t//Post events to containers\n\t\tfor (i = this.containers.length - 1; i >= 0; i--){\n\t\t\tif(!noPropagation) {\n\t\t\t\tdelayedTriggers.push((function(c) { return function(event) { c._trigger(\"deactivate\", event, this._uiHash(this)); };  }).call(this, this.containers[i]));\n\t\t\t}\n\t\t\tif(this.containers[i].containerCache.over) {\n\t\t\t\tdelayedTriggers.push((function(c) { return function(event) { c._trigger(\"out\", event, this._uiHash(this)); };  }).call(this, this.containers[i]));\n\t\t\t\tthis.containers[i].containerCache.over = 0;\n\t\t\t}\n\t\t}\n\n\t\t//Do what was originally in plugins\n\t\tif ( this.storedCursor ) {\n\t\t\tthis.document.find( \"body\" ).css( \"cursor\", this.storedCursor );\n\t\t\tthis.storedStylesheet.remove();\n\t\t}\n\t\tif(this._storedOpacity) {\n\t\t\tthis.helper.css(\"opacity\", this._storedOpacity);\n\t\t}\n\t\tif(this._storedZIndex) {\n\t\t\tthis.helper.css(\"zIndex\", this._storedZIndex === \"auto\" ? \"\" : this._storedZIndex);\n\t\t}\n\n\t\tthis.dragging = false;\n\t\tif(this.cancelHelperRemoval) {\n\t\t\tif(!noPropagation) {\n\t\t\t\tthis._trigger(\"beforeStop\", event, this._uiHash());\n\t\t\t\tfor (i=0; i < delayedTriggers.length; i++) {\n\t\t\t\t\tdelayedTriggers[i].call(this, event);\n\t\t\t\t} //Trigger all delayed events\n\t\t\t\tthis._trigger(\"stop\", event, this._uiHash());\n\t\t\t}\n\n\t\t\tthis.fromOutside = false;\n\t\t\treturn false;\n\t\t}\n\n\t\tif(!noPropagation) {\n\t\t\tthis._trigger(\"beforeStop\", event, this._uiHash());\n\t\t}\n\n\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!\n\t\tthis.placeholder[0].parentNode.removeChild(this.placeholder[0]);\n\n\t\tif(this.helper[0] !== this.currentItem[0]) {\n\t\t\tthis.helper.remove();\n\t\t}\n\t\tthis.helper = null;\n\n\t\tif(!noPropagation) {\n\t\t\tfor (i=0; i < delayedTriggers.length; i++) {\n\t\t\t\tdelayedTriggers[i].call(this, event);\n\t\t\t} //Trigger all delayed events\n\t\t\tthis._trigger(\"stop\", event, this._uiHash());\n\t\t}\n\n\t\tthis.fromOutside = false;\n\t\treturn true;\n\n\t},\n\n\t_trigger: function() {\n\t\tif ($.Widget.prototype._trigger.apply(this, arguments) === false) {\n\t\t\tthis.cancel();\n\t\t}\n\t},\n\n\t_uiHash: function(_inst) {\n\t\tvar inst = _inst || this;\n\t\treturn {\n\t\t\thelper: inst.helper,\n\t\t\tplaceholder: inst.placeholder || $([]),\n\t\t\tposition: inst.position,\n\t\t\toriginalPosition: inst.originalPosition,\n\t\t\toffset: inst.positionAbs,\n\t\t\titem: inst.currentItem,\n\t\t\tsender: _inst ? _inst.element : null\n\t\t};\n\t}\n\n});\n\n})(jQuery);\n(function( $, undefined ) {\n\nvar uid = 0,\n\thideProps = {},\n\tshowProps = {};\n\nhideProps.height = hideProps.paddingTop = hideProps.paddingBottom =\n\thideProps.borderTopWidth = hideProps.borderBottomWidth = \"hide\";\nshowProps.height = showProps.paddingTop = showProps.paddingBottom =\n\tshowProps.borderTopWidth = showProps.borderBottomWidth = \"show\";\n\n$.widget( \"ui.accordion\", {\n\tversion: \"1.10.3\",\n\toptions: {\n\t\tactive: 0,\n\t\tanimate: {},\n\t\tcollapsible: false,\n\t\tevent: \"click\",\n\t\theader: \"> li > :first-child,> :not(li):even\",\n\t\theightStyle: \"auto\",\n\t\ticons: {\n\t\t\tactiveHeader: \"ui-icon-triangle-1-s\",\n\t\t\theader: \"ui-icon-triangle-1-e\"\n\t\t},\n\n\t\t// callbacks\n\t\tactivate: null,\n\t\tbeforeActivate: null\n\t},\n\n\t_create: function() {\n\t\tvar options = this.options;\n\t\tthis.prevShow = this.prevHide = $();\n\t\tthis.element.addClass( \"ui-accordion ui-widget ui-helper-reset\" )\n\t\t\t// ARIA\n\t\t\t.attr( \"role\", \"tablist\" );\n\n\t\t// don't allow collapsible: false and active: false / null\n\t\tif ( !options.collapsible && (options.active === false || options.active == null) ) {\n\t\t\toptions.active = 0;\n\t\t}\n\n\t\tthis._processPanels();\n\t\t// handle negative values\n\t\tif ( options.active < 0 ) {\n\t\t\toptions.active += this.headers.length;\n\t\t}\n\t\tthis._refresh();\n\t},\n\n\t_getCreateEventData: function() {\n\t\treturn {\n\t\t\theader: this.active,\n\t\t\tpanel: !this.active.length ? $() : this.active.next(),\n\t\t\tcontent: !this.active.length ? $() : this.active.next()\n\t\t};\n\t},\n\n\t_createIcons: function() {\n\t\tvar icons = this.options.icons;\n\t\tif ( icons ) {\n\t\t\t$( \"<span>\" )\n\t\t\t\t.addClass( \"ui-accordion-header-icon ui-icon \" + icons.header )\n\t\t\t\t.prependTo( this.headers );\n\t\t\tthis.active.children( \".ui-accordion-header-icon\" )\n\t\t\t\t.removeClass( icons.header )\n\t\t\t\t.addClass( icons.activeHeader );\n\t\t\tthis.headers.addClass( \"ui-accordion-icons\" );\n\t\t}\n\t},\n\n\t_destroyIcons: function() {\n\t\tthis.headers\n\t\t\t.removeClass( \"ui-accordion-icons\" )\n\t\t\t.children( \".ui-accordion-header-icon\" )\n\t\t\t\t.remove();\n\t},\n\n\t_destroy: function() {\n\t\tvar contents;\n\n\t\t// clean up main element\n\t\tthis.element\n\t\t\t.removeClass( \"ui-accordion ui-widget ui-helper-reset\" )\n\t\t\t.removeAttr( \"role\" );\n\n\t\t// clean up headers\n\t\tthis.headers\n\t\t\t.removeClass( \"ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-selected\" )\n\t\t\t.removeAttr( \"aria-controls\" )\n\t\t\t.removeAttr( \"tabIndex\" )\n\t\t\t.each(function() {\n\t\t\t\tif ( /^ui-accordion/.test( this.id ) ) {\n\t\t\t\t\tthis.removeAttribute( \"id\" );\n\t\t\t\t}\n\t\t\t});\n\t\tthis._destroyIcons();\n\n\t\t// clean up content panels\n\t\tcontents = this.headers.next()\n\t\t\t.css( \"display\", \"\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-expanded\" )\n\t\t\t.removeAttr( \"aria-hidden\" )\n\t\t\t.removeAttr( \"aria-labelledby\" )\n\t\t\t.removeClass( \"ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled\" )\n\t\t\t.each(function() {\n\t\t\t\tif ( /^ui-accordion/.test( this.id ) ) {\n\t\t\t\t\tthis.removeAttribute( \"id\" );\n\t\t\t\t}\n\t\t\t});\n\t\tif ( this.options.heightStyle !== \"content\" ) {\n\t\t\tcontents.css( \"height\", \"\" );\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"active\" ) {\n\t\t\t// _activate() will handle invalid values and update this.options\n\t\t\tthis._activate( value );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key === \"event\" ) {\n\t\t\tif ( this.options.event ) {\n\t\t\t\tthis._off( this.headers, this.options.event );\n\t\t\t}\n\t\t\tthis._setupEvents( value );\n\t\t}\n\n\t\tthis._super( key, value );\n\n\t\t// setting collapsible: false while collapsed; open first panel\n\t\tif ( key === \"collapsible\" && !value && this.options.active === false ) {\n\t\t\tthis._activate( 0 );\n\t\t}\n\n\t\tif ( key === \"icons\" ) {\n\t\t\tthis._destroyIcons();\n\t\t\tif ( value ) {\n\t\t\t\tthis._createIcons();\n\t\t\t}\n\t\t}\n\n\t\t// #5332 - opacity doesn't cascade to positioned elements in IE\n\t\t// so we need to add the disabled class to the headers and panels\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.headers.add( this.headers.next() )\n\t\t\t\t.toggleClass( \"ui-state-disabled\", !!value );\n\t\t}\n\t},\n\n\t_keydown: function( event ) {\n\t\t/*jshint maxcomplexity:15*/\n\t\tif ( event.altKey || event.ctrlKey ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar keyCode = $.ui.keyCode,\n\t\t\tlength = this.headers.length,\n\t\t\tcurrentIndex = this.headers.index( event.target ),\n\t\t\ttoFocus = false;\n\n\t\tswitch ( event.keyCode ) {\n\t\t\tcase keyCode.RIGHT:\n\t\t\tcase keyCode.DOWN:\n\t\t\t\ttoFocus = this.headers[ ( currentIndex + 1 ) % length ];\n\t\t\t\tbreak;\n\t\t\tcase keyCode.LEFT:\n\t\t\tcase keyCode.UP:\n\t\t\t\ttoFocus = this.headers[ ( currentIndex - 1 + length ) % length ];\n\t\t\t\tbreak;\n\t\t\tcase keyCode.SPACE:\n\t\t\tcase keyCode.ENTER:\n\t\t\t\tthis._eventHandler( event );\n\t\t\t\tbreak;\n\t\t\tcase keyCode.HOME:\n\t\t\t\ttoFocus = this.headers[ 0 ];\n\t\t\t\tbreak;\n\t\t\tcase keyCode.END:\n\t\t\t\ttoFocus = this.headers[ length - 1 ];\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( toFocus ) {\n\t\t\t$( event.target ).attr( \"tabIndex\", -1 );\n\t\t\t$( toFocus ).attr( \"tabIndex\", 0 );\n\t\t\ttoFocus.focus();\n\t\t\tevent.preventDefault();\n\t\t}\n\t},\n\n\t_panelKeyDown : function( event ) {\n\t\tif ( event.keyCode === $.ui.keyCode.UP && event.ctrlKey ) {\n\t\t\t$( event.currentTarget ).prev().focus();\n\t\t}\n\t},\n\n\trefresh: function() {\n\t\tvar options = this.options;\n\t\tthis._processPanels();\n\n\t\t// was collapsed or no panel\n\t\tif ( ( options.active === false && options.collapsible === true ) || !this.headers.length ) {\n\t\t\toptions.active = false;\n\t\t\tthis.active = $();\n\t\t// active false only when collapsible is true\n\t\t} else if ( options.active === false ) {\n\t\t\tthis._activate( 0 );\n\t\t// was active, but active panel is gone\n\t\t} else if ( this.active.length && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {\n\t\t\t// all remaining panel are disabled\n\t\t\tif ( this.headers.length === this.headers.find(\".ui-state-disabled\").length ) {\n\t\t\t\toptions.active = false;\n\t\t\t\tthis.active = $();\n\t\t\t// activate previous panel\n\t\t\t} else {\n\t\t\t\tthis._activate( Math.max( 0, options.active - 1 ) );\n\t\t\t}\n\t\t// was active, active panel still exists\n\t\t} else {\n\t\t\t// make sure active index is correct\n\t\t\toptions.active = this.headers.index( this.active );\n\t\t}\n\n\t\tthis._destroyIcons();\n\n\t\tthis._refresh();\n\t},\n\n\t_processPanels: function() {\n\t\tthis.headers = this.element.find( this.options.header )\n\t\t\t.addClass( \"ui-accordion-header ui-helper-reset ui-state-default ui-corner-all\" );\n\n\t\tthis.headers.next()\n\t\t\t.addClass( \"ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\" )\n\t\t\t.filter(\":not(.ui-accordion-content-active)\")\n\t\t\t.hide();\n\t},\n\n\t_refresh: function() {\n\t\tvar maxHeight,\n\t\t\toptions = this.options,\n\t\t\theightStyle = options.heightStyle,\n\t\t\tparent = this.element.parent(),\n\t\t\taccordionId = this.accordionId = \"ui-accordion-\" +\n\t\t\t\t(this.element.attr( \"id\" ) || ++uid);\n\n\t\tthis.active = this._findActive( options.active )\n\t\t\t.addClass( \"ui-accordion-header-active ui-state-active ui-corner-top\" )\n\t\t\t.removeClass( \"ui-corner-all\" );\n\t\tthis.active.next()\n\t\t\t.addClass( \"ui-accordion-content-active\" )\n\t\t\t.show();\n\n\t\tthis.headers\n\t\t\t.attr( \"role\", \"tab\" )\n\t\t\t.each(function( i ) {\n\t\t\t\tvar header = $( this ),\n\t\t\t\t\theaderId = header.attr( \"id\" ),\n\t\t\t\t\tpanel = header.next(),\n\t\t\t\t\tpanelId = panel.attr( \"id\" );\n\t\t\t\tif ( !headerId ) {\n\t\t\t\t\theaderId = accordionId + \"-header-\" + i;\n\t\t\t\t\theader.attr( \"id\", headerId );\n\t\t\t\t}\n\t\t\t\tif ( !panelId ) {\n\t\t\t\t\tpanelId = accordionId + \"-panel-\" + i;\n\t\t\t\t\tpanel.attr( \"id\", panelId );\n\t\t\t\t}\n\t\t\t\theader.attr( \"aria-controls\", panelId );\n\t\t\t\tpanel.attr( \"aria-labelledby\", headerId );\n\t\t\t})\n\t\t\t.next()\n\t\t\t\t.attr( \"role\", \"tabpanel\" );\n\n\t\tthis.headers\n\t\t\t.not( this.active )\n\t\t\t.attr({\n\t\t\t\t\"aria-selected\": \"false\",\n\t\t\t\ttabIndex: -1\n\t\t\t})\n\t\t\t.next()\n\t\t\t\t.attr({\n\t\t\t\t\t\"aria-expanded\": \"false\",\n\t\t\t\t\t\"aria-hidden\": \"true\"\n\t\t\t\t})\n\t\t\t\t.hide();\n\n\t\t// make sure at least one header is in the tab order\n\t\tif ( !this.active.length ) {\n\t\t\tthis.headers.eq( 0 ).attr( \"tabIndex\", 0 );\n\t\t} else {\n\t\t\tthis.active.attr({\n\t\t\t\t\"aria-selected\": \"true\",\n\t\t\t\ttabIndex: 0\n\t\t\t})\n\t\t\t.next()\n\t\t\t\t.attr({\n\t\t\t\t\t\"aria-expanded\": \"true\",\n\t\t\t\t\t\"aria-hidden\": \"false\"\n\t\t\t\t});\n\t\t}\n\n\t\tthis._createIcons();\n\n\t\tthis._setupEvents( options.event );\n\n\t\tif ( heightStyle === \"fill\" ) {\n\t\t\tmaxHeight = parent.height();\n\t\t\tthis.element.siblings( \":visible\" ).each(function() {\n\t\t\t\tvar elem = $( this ),\n\t\t\t\t\tposition = elem.css( \"position\" );\n\n\t\t\t\tif ( position === \"absolute\" || position === \"fixed\" ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tmaxHeight -= elem.outerHeight( true );\n\t\t\t});\n\n\t\t\tthis.headers.each(function() {\n\t\t\t\tmaxHeight -= $( this ).outerHeight( true );\n\t\t\t});\n\n\t\t\tthis.headers.next()\n\t\t\t\t.each(function() {\n\t\t\t\t\t$( this ).height( Math.max( 0, maxHeight -\n\t\t\t\t\t\t$( this ).innerHeight() + $( this ).height() ) );\n\t\t\t\t})\n\t\t\t\t.css( \"overflow\", \"auto\" );\n\t\t} else if ( heightStyle === \"auto\" ) {\n\t\t\tmaxHeight = 0;\n\t\t\tthis.headers.next()\n\t\t\t\t.each(function() {\n\t\t\t\t\tmaxHeight = Math.max( maxHeight, $( this ).css( \"height\", \"\" ).height() );\n\t\t\t\t})\n\t\t\t\t.height( maxHeight );\n\t\t}\n\t},\n\n\t_activate: function( index ) {\n\t\tvar active = this._findActive( index )[ 0 ];\n\n\t\t// trying to activate the already active panel\n\t\tif ( active === this.active[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// trying to collapse, simulate a click on the currently active header\n\t\tactive = active || this.active[ 0 ];\n\n\t\tthis._eventHandler({\n\t\t\ttarget: active,\n\t\t\tcurrentTarget: active,\n\t\t\tpreventDefault: $.noop\n\t\t});\n\t},\n\n\t_findActive: function( selector ) {\n\t\treturn typeof selector === \"number\" ? this.headers.eq( selector ) : $();\n\t},\n\n\t_setupEvents: function( event ) {\n\t\tvar events = {\n\t\t\tkeydown: \"_keydown\"\n\t\t};\n\t\tif ( event ) {\n\t\t\t$.each( event.split(\" \"), function( index, eventName ) {\n\t\t\t\tevents[ eventName ] = \"_eventHandler\";\n\t\t\t});\n\t\t}\n\n\t\tthis._off( this.headers.add( this.headers.next() ) );\n\t\tthis._on( this.headers, events );\n\t\tthis._on( this.headers.next(), { keydown: \"_panelKeyDown\" });\n\t\tthis._hoverable( this.headers );\n\t\tthis._focusable( this.headers );\n\t},\n\n\t_eventHandler: function( event ) {\n\t\tvar options = this.options,\n\t\t\tactive = this.active,\n\t\t\tclicked = $( event.currentTarget ),\n\t\t\tclickedIsActive = clicked[ 0 ] === active[ 0 ],\n\t\t\tcollapsing = clickedIsActive && options.collapsible,\n\t\t\ttoShow = collapsing ? $() : clicked.next(),\n\t\t\ttoHide = active.next(),\n\t\t\teventData = {\n\t\t\t\toldHeader: active,\n\t\t\t\toldPanel: toHide,\n\t\t\t\tnewHeader: collapsing ? $() : clicked,\n\t\t\t\tnewPanel: toShow\n\t\t\t};\n\n\t\tevent.preventDefault();\n\n\t\tif (\n\t\t\t\t// click on active header, but not collapsible\n\t\t\t\t( clickedIsActive && !options.collapsible ) ||\n\t\t\t\t// allow canceling activation\n\t\t\t\t( this._trigger( \"beforeActivate\", event, eventData ) === false ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\toptions.active = collapsing ? false : this.headers.index( clicked );\n\n\t\t// when the call to ._toggle() comes after the class changes\n\t\t// it causes a very odd bug in IE 8 (see #6720)\n\t\tthis.active = clickedIsActive ? $() : clicked;\n\t\tthis._toggle( eventData );\n\n\t\t// switch classes\n\t\t// corner classes on the previously active header stay after the animation\n\t\tactive.removeClass( \"ui-accordion-header-active ui-state-active\" );\n\t\tif ( options.icons ) {\n\t\t\tactive.children( \".ui-accordion-header-icon\" )\n\t\t\t\t.removeClass( options.icons.activeHeader )\n\t\t\t\t.addClass( options.icons.header );\n\t\t}\n\n\t\tif ( !clickedIsActive ) {\n\t\t\tclicked\n\t\t\t\t.removeClass( \"ui-corner-all\" )\n\t\t\t\t.addClass( \"ui-accordion-header-active ui-state-active ui-corner-top\" );\n\t\t\tif ( options.icons ) {\n\t\t\t\tclicked.children( \".ui-accordion-header-icon\" )\n\t\t\t\t\t.removeClass( options.icons.header )\n\t\t\t\t\t.addClass( options.icons.activeHeader );\n\t\t\t}\n\n\t\t\tclicked\n\t\t\t\t.next()\n\t\t\t\t.addClass( \"ui-accordion-content-active\" );\n\t\t}\n\t},\n\n\t_toggle: function( data ) {\n\t\tvar toShow = data.newPanel,\n\t\t\ttoHide = this.prevShow.length ? this.prevShow : data.oldPanel;\n\n\t\t// handle activating a panel during the animation for another activation\n\t\tthis.prevShow.add( this.prevHide ).stop( true, true );\n\t\tthis.prevShow = toShow;\n\t\tthis.prevHide = toHide;\n\n\t\tif ( this.options.animate ) {\n\t\t\tthis._animate( toShow, toHide, data );\n\t\t} else {\n\t\t\ttoHide.hide();\n\t\t\ttoShow.show();\n\t\t\tthis._toggleComplete( data );\n\t\t}\n\n\t\ttoHide.attr({\n\t\t\t\"aria-expanded\": \"false\",\n\t\t\t\"aria-hidden\": \"true\"\n\t\t});\n\t\ttoHide.prev().attr( \"aria-selected\", \"false\" );\n\t\t// if we're switching panels, remove the old header from the tab order\n\t\t// if we're opening from collapsed state, remove the previous header from the tab order\n\t\t// if we're collapsing, then keep the collapsing header in the tab order\n\t\tif ( toShow.length && toHide.length ) {\n\t\t\ttoHide.prev().attr( \"tabIndex\", -1 );\n\t\t} else if ( toShow.length ) {\n\t\t\tthis.headers.filter(function() {\n\t\t\t\treturn $( this ).attr( \"tabIndex\" ) === 0;\n\t\t\t})\n\t\t\t.attr( \"tabIndex\", -1 );\n\t\t}\n\n\t\ttoShow\n\t\t\t.attr({\n\t\t\t\t\"aria-expanded\": \"true\",\n\t\t\t\t\"aria-hidden\": \"false\"\n\t\t\t})\n\t\t\t.prev()\n\t\t\t\t.attr({\n\t\t\t\t\t\"aria-selected\": \"true\",\n\t\t\t\t\ttabIndex: 0\n\t\t\t\t});\n\t},\n\n\t_animate: function( toShow, toHide, data ) {\n\t\tvar total, easing, duration,\n\t\t\tthat = this,\n\t\t\tadjust = 0,\n\t\t\tdown = toShow.length &&\n\t\t\t\t( !toHide.length || ( toShow.index() < toHide.index() ) ),\n\t\t\tanimate = this.options.animate || {},\n\t\t\toptions = down && animate.down || animate,\n\t\t\tcomplete = function() {\n\t\t\t\tthat._toggleComplete( data );\n\t\t\t};\n\n\t\tif ( typeof options === \"number\" ) {\n\t\t\tduration = options;\n\t\t}\n\t\tif ( typeof options === \"string\" ) {\n\t\t\teasing = options;\n\t\t}\n\t\t// fall back from options to animation in case of partial down settings\n\t\teasing = easing || options.easing || animate.easing;\n\t\tduration = duration || options.duration || animate.duration;\n\n\t\tif ( !toHide.length ) {\n\t\t\treturn toShow.animate( showProps, duration, easing, complete );\n\t\t}\n\t\tif ( !toShow.length ) {\n\t\t\treturn toHide.animate( hideProps, duration, easing, complete );\n\t\t}\n\n\t\ttotal = toShow.show().outerHeight();\n\t\ttoHide.animate( hideProps, {\n\t\t\tduration: duration,\n\t\t\teasing: easing,\n\t\t\tstep: function( now, fx ) {\n\t\t\t\tfx.now = Math.round( now );\n\t\t\t}\n\t\t});\n\t\ttoShow\n\t\t\t.hide()\n\t\t\t.animate( showProps, {\n\t\t\t\tduration: duration,\n\t\t\t\teasing: easing,\n\t\t\t\tcomplete: complete,\n\t\t\t\tstep: function( now, fx ) {\n\t\t\t\t\tfx.now = Math.round( now );\n\t\t\t\t\tif ( fx.prop !== \"height\" ) {\n\t\t\t\t\t\tadjust += fx.now;\n\t\t\t\t\t} else if ( that.options.heightStyle !== \"content\" ) {\n\t\t\t\t\t\tfx.now = Math.round( total - toHide.outerHeight() - adjust );\n\t\t\t\t\t\tadjust = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t},\n\n\t_toggleComplete: function( data ) {\n\t\tvar toHide = data.oldPanel;\n\n\t\ttoHide\n\t\t\t.removeClass( \"ui-accordion-content-active\" )\n\t\t\t.prev()\n\t\t\t\t.removeClass( \"ui-corner-top\" )\n\t\t\t\t.addClass( \"ui-corner-all\" );\n\n\t\t// Work around for rendering bug in IE (#5421)\n\t\tif ( toHide.length ) {\n\t\t\ttoHide.parent()[0].className = toHide.parent()[0].className;\n\t\t}\n\n\t\tthis._trigger( \"activate\", null, data );\n\t}\n});\n\n})( jQuery );\n(function( $, undefined ) {\n\n// used to prevent race conditions with remote data sources\nvar requestIndex = 0;\n\n$.widget( \"ui.autocomplete\", {\n\tversion: \"1.10.3\",\n\tdefaultElement: \"<input>\",\n\toptions: {\n\t\tappendTo: null,\n\t\tautoFocus: false,\n\t\tdelay: 300,\n\t\tminLength: 1,\n\t\tposition: {\n\t\t\tmy: \"left top\",\n\t\t\tat: \"left bottom\",\n\t\t\tcollision: \"none\"\n\t\t},\n\t\tsource: null,\n\n\t\t// callbacks\n\t\tchange: null,\n\t\tclose: null,\n\t\tfocus: null,\n\t\topen: null,\n\t\tresponse: null,\n\t\tsearch: null,\n\t\tselect: null\n\t},\n\n\tpending: 0,\n\n\t_create: function() {\n\t\t// Some browsers only repeat keydown events, not keypress events,\n\t\t// so we use the suppressKeyPress flag to determine if we've already\n\t\t// handled the keydown event. #7269\n\t\t// Unfortunately the code for & in keypress is the same as the up arrow,\n\t\t// so we use the suppressKeyPressRepeat flag to avoid handling keypress\n\t\t// events when we know the keydown event was used to modify the\n\t\t// search term. #7799\n\t\tvar suppressKeyPress, suppressKeyPressRepeat, suppressInput,\n\t\t\tnodeName = this.element[0].nodeName.toLowerCase(),\n\t\t\tisTextarea = nodeName === \"textarea\",\n\t\t\tisInput = nodeName === \"input\";\n\n\t\tthis.isMultiLine =\n\t\t\t// Textareas are always multi-line\n\t\t\tisTextarea ? true :\n\t\t\t// Inputs are always single-line, even if inside a contentEditable element\n\t\t\t// IE also treats inputs as contentEditable\n\t\t\tisInput ? false :\n\t\t\t// All other element types are determined by whether or not they're contentEditable\n\t\t\tthis.element.prop( \"isContentEditable\" );\n\n\t\tthis.valueMethod = this.element[ isTextarea || isInput ? \"val\" : \"text\" ];\n\t\tthis.isNewMenu = true;\n\n\t\tthis.element\n\t\t\t.addClass( \"ui-autocomplete-input\" )\n\t\t\t.attr( \"autocomplete\", \"off\" );\n\n\t\tthis._on( this.element, {\n\t\t\tkeydown: function( event ) {\n\t\t\t\t/*jshint maxcomplexity:15*/\n\t\t\t\tif ( this.element.prop( \"readOnly\" ) ) {\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tsuppressInput = true;\n\t\t\t\t\tsuppressKeyPressRepeat = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsuppressKeyPress = false;\n\t\t\t\tsuppressInput = false;\n\t\t\t\tsuppressKeyPressRepeat = false;\n\t\t\t\tvar keyCode = $.ui.keyCode;\n\t\t\t\tswitch( event.keyCode ) {\n\t\t\t\tcase keyCode.PAGE_UP:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._move( \"previousPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.PAGE_DOWN:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._move( \"nextPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.UP:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._keyEvent( \"previous\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.DOWN:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._keyEvent( \"next\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.ENTER:\n\t\t\t\tcase keyCode.NUMPAD_ENTER:\n\t\t\t\t\t// when menu is open and has focus\n\t\t\t\t\tif ( this.menu.active ) {\n\t\t\t\t\t\t// #6055 - Opera still allows the keypress to occur\n\t\t\t\t\t\t// which causes forms to submit\n\t\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis.menu.select( event );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.TAB:\n\t\t\t\t\tif ( this.menu.active ) {\n\t\t\t\t\t\tthis.menu.select( event );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.ESCAPE:\n\t\t\t\t\tif ( this.menu.element.is( \":visible\" ) ) {\n\t\t\t\t\t\tthis._value( this.term );\n\t\t\t\t\t\tthis.close( event );\n\t\t\t\t\t\t// Different browsers have different default behavior for escape\n\t\t\t\t\t\t// Single press can mean undo or clear\n\t\t\t\t\t\t// Double press in IE means clear the whole form\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tsuppressKeyPressRepeat = true;\n\t\t\t\t\t// search timeout should be triggered before the input value is changed\n\t\t\t\t\tthis._searchTimeout( event );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tkeypress: function( event ) {\n\t\t\t\tif ( suppressKeyPress ) {\n\t\t\t\t\tsuppressKeyPress = false;\n\t\t\t\t\tif ( !this.isMultiLine || this.menu.element.is( \":visible\" ) ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( suppressKeyPressRepeat ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// replicate some key handlers to allow them to repeat in Firefox and Opera\n\t\t\t\tvar keyCode = $.ui.keyCode;\n\t\t\t\tswitch( event.keyCode ) {\n\t\t\t\tcase keyCode.PAGE_UP:\n\t\t\t\t\tthis._move( \"previousPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.PAGE_DOWN:\n\t\t\t\t\tthis._move( \"nextPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.UP:\n\t\t\t\t\tthis._keyEvent( \"previous\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.DOWN:\n\t\t\t\t\tthis._keyEvent( \"next\", event );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tinput: function( event ) {\n\t\t\t\tif ( suppressInput ) {\n\t\t\t\t\tsuppressInput = false;\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._searchTimeout( event );\n\t\t\t},\n\t\t\tfocus: function() {\n\t\t\t\tthis.selectedItem = null;\n\t\t\t\tthis.previous = this._value();\n\t\t\t},\n\t\t\tblur: function( event ) {\n\t\t\t\tif ( this.cancelBlur ) {\n\t\t\t\t\tdelete this.cancelBlur;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tclearTimeout( this.searching );\n\t\t\t\tthis.close( event );\n\t\t\t\tthis._change( event );\n\t\t\t}\n\t\t});\n\n\t\tthis._initSource();\n\t\tthis.menu = $( \"<ul>\" )\n\t\t\t.addClass( \"ui-autocomplete ui-front\" )\n\t\t\t.appendTo( this._appendTo() )\n\t\t\t.menu({\n\t\t\t\t// disable ARIA support, the live region takes care of that\n\t\t\t\trole: null\n\t\t\t})\n\t\t\t.hide()\n\t\t\t.data( \"ui-menu\" );\n\n\t\tthis._on( this.menu.element, {\n\t\t\tmousedown: function( event ) {\n\t\t\t\t// prevent moving focus out of the text field\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// IE doesn't prevent moving focus even with event.preventDefault()\n\t\t\t\t// so we set a flag to know when we should ignore the blur event\n\t\t\t\tthis.cancelBlur = true;\n\t\t\t\tthis._delay(function() {\n\t\t\t\t\tdelete this.cancelBlur;\n\t\t\t\t});\n\n\t\t\t\t// clicking on the scrollbar causes focus to shift to the body\n\t\t\t\t// but we can't detect a mouseup or a click immediately afterward\n\t\t\t\t// so we have to track the next mousedown and close the menu if\n\t\t\t\t// the user clicks somewhere outside of the autocomplete\n\t\t\t\tvar menuElement = this.menu.element[ 0 ];\n\t\t\t\tif ( !$( event.target ).closest( \".ui-menu-item\" ).length ) {\n\t\t\t\t\tthis._delay(function() {\n\t\t\t\t\t\tvar that = this;\n\t\t\t\t\t\tthis.document.one( \"mousedown\", function( event ) {\n\t\t\t\t\t\t\tif ( event.target !== that.element[ 0 ] &&\n\t\t\t\t\t\t\t\t\tevent.target !== menuElement &&\n\t\t\t\t\t\t\t\t\t!$.contains( menuElement, event.target ) ) {\n\t\t\t\t\t\t\t\tthat.close();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenufocus: function( event, ui ) {\n\t\t\t\t// support: Firefox\n\t\t\t\t// Prevent accidental activation of menu items in Firefox (#7024 #9118)\n\t\t\t\tif ( this.isNewMenu ) {\n\t\t\t\t\tthis.isNewMenu = false;\n\t\t\t\t\tif ( event.originalEvent && /^mouse/.test( event.originalEvent.type ) ) {\n\t\t\t\t\t\tthis.menu.blur();\n\n\t\t\t\t\t\tthis.document.one( \"mousemove\", function() {\n\t\t\t\t\t\t\t$( event.target ).trigger( event.originalEvent );\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar item = ui.item.data( \"ui-autocomplete-item\" );\n\t\t\t\tif ( false !== this._trigger( \"focus\", event, { item: item } ) ) {\n\t\t\t\t\t// use value to match what will end up in the input, if it was a key event\n\t\t\t\t\tif ( event.originalEvent && /^key/.test( event.originalEvent.type ) ) {\n\t\t\t\t\t\tthis._value( item.value );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Normally the input is populated with the item's value as the\n\t\t\t\t\t// menu is navigated, causing screen readers to notice a change and\n\t\t\t\t\t// announce the item. Since the focus event was canceled, this doesn't\n\t\t\t\t\t// happen, so we update the live region so that screen readers can\n\t\t\t\t\t// still notice the change and announce it.\n\t\t\t\t\tthis.liveRegion.text( item.value );\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuselect: function( event, ui ) {\n\t\t\t\tvar item = ui.item.data( \"ui-autocomplete-item\" ),\n\t\t\t\t\tprevious = this.previous;\n\n\t\t\t\t// only trigger when focus was lost (click on menu)\n\t\t\t\tif ( this.element[0] !== this.document[0].activeElement ) {\n\t\t\t\t\tthis.element.focus();\n\t\t\t\t\tthis.previous = previous;\n\t\t\t\t\t// #6109 - IE triggers two focus events and the second\n\t\t\t\t\t// is asynchronous, so we need to reset the previous\n\t\t\t\t\t// term synchronously and asynchronously :-(\n\t\t\t\t\tthis._delay(function() {\n\t\t\t\t\t\tthis.previous = previous;\n\t\t\t\t\t\tthis.selectedItem = item;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif ( false !== this._trigger( \"select\", event, { item: item } ) ) {\n\t\t\t\t\tthis._value( item.value );\n\t\t\t\t}\n\t\t\t\t// reset the term after the select event\n\t\t\t\t// this allows custom select handling to work properly\n\t\t\t\tthis.term = this._value();\n\n\t\t\t\tthis.close( event );\n\t\t\t\tthis.selectedItem = item;\n\t\t\t}\n\t\t});\n\n\t\tthis.liveRegion = $( \"<span>\", {\n\t\t\t\trole: \"status\",\n\t\t\t\t\"aria-live\": \"polite\"\n\t\t\t})\n\t\t\t.addClass( \"ui-helper-hidden-accessible\" )\n\t\t\t.insertBefore( this.element );\n\n\t\t// turning off autocomplete prevents the browser from remembering the\n\t\t// value when navigating through history, so we re-enable autocomplete\n\t\t// if the page is unloaded before the widget is destroyed. #7790\n\t\tthis._on( this.window, {\n\t\t\tbeforeunload: function() {\n\t\t\t\tthis.element.removeAttr( \"autocomplete\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_destroy: function() {\n\t\tclearTimeout( this.searching );\n\t\tthis.element\n\t\t\t.removeClass( \"ui-autocomplete-input\" )\n\t\t\t.removeAttr( \"autocomplete\" );\n\t\tthis.menu.element.remove();\n\t\tthis.liveRegion.remove();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"source\" ) {\n\t\t\tthis._initSource();\n\t\t}\n\t\tif ( key === \"appendTo\" ) {\n\t\t\tthis.menu.element.appendTo( this._appendTo() );\n\t\t}\n\t\tif ( key === \"disabled\" && value && this.xhr ) {\n\t\t\tthis.xhr.abort();\n\t\t}\n\t},\n\n\t_appendTo: function() {\n\t\tvar element = this.options.appendTo;\n\n\t\tif ( element ) {\n\t\t\telement = element.jquery || element.nodeType ?\n\t\t\t\t$( element ) :\n\t\t\t\tthis.document.find( element ).eq( 0 );\n\t\t}\n\n\t\tif ( !element ) {\n\t\t\telement = this.element.closest( \".ui-front\" );\n\t\t}\n\n\t\tif ( !element.length ) {\n\t\t\telement = this.document[0].body;\n\t\t}\n\n\t\treturn element;\n\t},\n\n\t_initSource: function() {\n\t\tvar array, url,\n\t\t\tthat = this;\n\t\tif ( $.isArray(this.options.source) ) {\n\t\t\tarray = this.options.source;\n\t\t\tthis.source = function( request, response ) {\n\t\t\t\tresponse( $.ui.autocomplete.filter( array, request.term ) );\n\t\t\t};\n\t\t} else if ( typeof this.options.source === \"string\" ) {\n\t\t\turl = this.options.source;\n\t\t\tthis.source = function( request, response ) {\n\t\t\t\tif ( that.xhr ) {\n\t\t\t\t\tthat.xhr.abort();\n\t\t\t\t}\n\t\t\t\tthat.xhr = $.ajax({\n\t\t\t\t\turl: url,\n\t\t\t\t\tdata: request,\n\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\tresponse( data );\n\t\t\t\t\t},\n\t\t\t\t\terror: function() {\n\t\t\t\t\t\tresponse( [] );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t} else {\n\t\t\tthis.source = this.options.source;\n\t\t}\n\t},\n\n\t_searchTimeout: function( event ) {\n\t\tclearTimeout( this.searching );\n\t\tthis.searching = this._delay(function() {\n\t\t\t// only search if the value has changed\n\t\t\tif ( this.term !== this._value() ) {\n\t\t\t\tthis.selectedItem = null;\n\t\t\t\tthis.search( null, event );\n\t\t\t}\n\t\t}, this.options.delay );\n\t},\n\n\tsearch: function( value, event ) {\n\t\tvalue = value != null ? value : this._value();\n\n\t\t// always save the actual value, not the one passed as an argument\n\t\tthis.term = this._value();\n\n\t\tif ( value.length < this.options.minLength ) {\n\t\t\treturn this.close( event );\n\t\t}\n\n\t\tif ( this._trigger( \"search\", event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this._search( value );\n\t},\n\n\t_search: function( value ) {\n\t\tthis.pending++;\n\t\tthis.element.addClass( \"ui-autocomplete-loading\" );\n\t\tthis.cancelSearch = false;\n\n\t\tthis.source( { term: value }, this._response() );\n\t},\n\n\t_response: function() {\n\t\tvar that = this,\n\t\t\tindex = ++requestIndex;\n\n\t\treturn function( content ) {\n\t\t\tif ( index === requestIndex ) {\n\t\t\t\tthat.__response( content );\n\t\t\t}\n\n\t\t\tthat.pending--;\n\t\t\tif ( !that.pending ) {\n\t\t\t\tthat.element.removeClass( \"ui-autocomplete-loading\" );\n\t\t\t}\n\t\t};\n\t},\n\n\t__response: function( content ) {\n\t\tif ( content ) {\n\t\t\tcontent = this._normalize( content );\n\t\t}\n\t\tthis._trigger( \"response\", null, { content: content } );\n\t\tif ( !this.options.disabled && content && content.length && !this.cancelSearch ) {\n\t\t\tthis._suggest( content );\n\t\t\tthis._trigger( \"open\" );\n\t\t} else {\n\t\t\t// use ._close() instead of .close() so we don't cancel future searches\n\t\t\tthis._close();\n\t\t}\n\t},\n\n\tclose: function( event ) {\n\t\tthis.cancelSearch = true;\n\t\tthis._close( event );\n\t},\n\n\t_close: function( event ) {\n\t\tif ( this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis.menu.element.hide();\n\t\t\tthis.menu.blur();\n\t\t\tthis.isNewMenu = true;\n\t\t\tthis._trigger( \"close\", event );\n\t\t}\n\t},\n\n\t_change: function( event ) {\n\t\tif ( this.previous !== this._value() ) {\n\t\t\tthis._trigger( \"change\", event, { item: this.selectedItem } );\n\t\t}\n\t},\n\n\t_normalize: function( items ) {\n\t\t// assume all items have the right format when the first item is complete\n\t\tif ( items.length && items[0].label && items[0].value ) {\n\t\t\treturn items;\n\t\t}\n\t\treturn $.map( items, function( item ) {\n\t\t\tif ( typeof item === \"string\" ) {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tvalue: item\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn $.extend({\n\t\t\t\tlabel: item.label || item.value,\n\t\t\t\tvalue: item.value || item.label\n\t\t\t}, item );\n\t\t});\n\t},\n\n\t_suggest: function( items ) {\n\t\tvar ul = this.menu.element.empty();\n\t\tthis._renderMenu( ul, items );\n\t\tthis.isNewMenu = true;\n\t\tthis.menu.refresh();\n\n\t\t// size and position menu\n\t\tul.show();\n\t\tthis._resizeMenu();\n\t\tul.position( $.extend({\n\t\t\tof: this.element\n\t\t}, this.options.position ));\n\n\t\tif ( this.options.autoFocus ) {\n\t\t\tthis.menu.next();\n\t\t}\n\t},\n\n\t_resizeMenu: function() {\n\t\tvar ul = this.menu.element;\n\t\tul.outerWidth( Math.max(\n\t\t\t// Firefox wraps long text (possibly a rounding bug)\n\t\t\t// so we add 1px to avoid the wrapping (#7513)\n\t\t\tul.width( \"\" ).outerWidth() + 1,\n\t\t\tthis.element.outerWidth()\n\t\t) );\n\t},\n\n\t_renderMenu: function( ul, items ) {\n\t\tvar that = this;\n\t\t$.each( items, function( index, item ) {\n\t\t\tthat._renderItemData( ul, item );\n\t\t});\n\t},\n\n\t_renderItemData: function( ul, item ) {\n\t\treturn this._renderItem( ul, item ).data( \"ui-autocomplete-item\", item );\n\t},\n\n\t_renderItem: function( ul, item ) {\n\t\treturn $( \"<li>\" )\n\t\t\t.append( $( \"<a>\" ).text( item.label ) )\n\t\t\t.appendTo( ul );\n\t},\n\n\t_move: function( direction, event ) {\n\t\tif ( !this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis.search( null, event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.menu.isFirstItem() && /^previous/.test( direction ) ||\n\t\t\t\tthis.menu.isLastItem() && /^next/.test( direction ) ) {\n\t\t\tthis._value( this.term );\n\t\t\tthis.menu.blur();\n\t\t\treturn;\n\t\t}\n\t\tthis.menu[ direction ]( event );\n\t},\n\n\twidget: function() {\n\t\treturn this.menu.element;\n\t},\n\n\t_value: function() {\n\t\treturn this.valueMethod.apply( this.element, arguments );\n\t},\n\n\t_keyEvent: function( keyEvent, event ) {\n\t\tif ( !this.isMultiLine || this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis._move( keyEvent, event );\n\n\t\t\t// prevents moving cursor to beginning/end of the text field in some browsers\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n});\n\n$.extend( $.ui.autocomplete, {\n\tescapeRegex: function( value ) {\n\t\treturn value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n\t},\n\tfilter: function(array, term) {\n\t\tvar matcher = new RegExp( $.ui.autocomplete.escapeRegex(term), \"i\" );\n\t\treturn $.grep( array, function(value) {\n\t\t\treturn matcher.test( value.label || value.value || value );\n\t\t});\n\t}\n});\n\n\n// live region extension, adding a `messages` option\n// NOTE: This is an experimental API. We are still investigating\n// a full solution for string manipulation and internationalization.\n$.widget( \"ui.autocomplete\", $.ui.autocomplete, {\n\toptions: {\n\t\tmessages: {\n\t\t\tnoResults: \"No search results.\",\n\t\t\tresults: function( amount ) {\n\t\t\t\treturn amount + ( amount > 1 ? \" results are\" : \" result is\" ) +\n\t\t\t\t\t\" available, use up and down arrow keys to navigate.\";\n\t\t\t}\n\t\t}\n\t},\n\n\t__response: function( content ) {\n\t\tvar message;\n\t\tthis._superApply( arguments );\n\t\tif ( this.options.disabled || this.cancelSearch ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( content && content.length ) {\n\t\t\tmessage = this.options.messages.results( content.length );\n\t\t} else {\n\t\t\tmessage = this.options.messages.noResults;\n\t\t}\n\t\tthis.liveRegion.text( message );\n\t}\n});\n\n}( jQuery ));\n(function( $, undefined ) {\n\nvar lastActive, startXPos, startYPos, clickDragged,\n\tbaseClasses = \"ui-button ui-widget ui-state-default ui-corner-all\",\n\tstateClasses = \"ui-state-hover ui-state-active \",\n\ttypeClasses = \"ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only\",\n\tformResetHandler = function() {\n\t\tvar form = $( this );\n\t\tsetTimeout(function() {\n\t\t\tform.find( \":ui-button\" ).button( \"refresh\" );\n\t\t}, 1 );\n\t},\n\tradioGroup = function( radio ) {\n\t\tvar name = radio.name,\n\t\t\tform = radio.form,\n\t\t\tradios = $( [] );\n\t\tif ( name ) {\n\t\t\tname = name.replace( /'/g, \"\\\\'\" );\n\t\t\tif ( form ) {\n\t\t\t\tradios = $( form ).find( \"[name='\" + name + \"']\" );\n\t\t\t} else {\n\t\t\t\tradios = $( \"[name='\" + name + \"']\", radio.ownerDocument )\n\t\t\t\t\t.filter(function() {\n\t\t\t\t\t\treturn !this.form;\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn radios;\n\t};\n\n$.widget( \"ui.button\", {\n\tversion: \"1.10.3\",\n\tdefaultElement: \"<button>\",\n\toptions: {\n\t\tdisabled: null,\n\t\ttext: true,\n\t\tlabel: null,\n\t\ticons: {\n\t\t\tprimary: null,\n\t\t\tsecondary: null\n\t\t}\n\t},\n\t_create: function() {\n\t\tthis.element.closest( \"form\" )\n\t\t\t.unbind( \"reset\" + this.eventNamespace )\n\t\t\t.bind( \"reset\" + this.eventNamespace, formResetHandler );\n\n\t\tif ( typeof this.options.disabled !== \"boolean\" ) {\n\t\t\tthis.options.disabled = !!this.element.prop( \"disabled\" );\n\t\t} else {\n\t\t\tthis.element.prop( \"disabled\", this.options.disabled );\n\t\t}\n\n\t\tthis._determineButtonType();\n\t\tthis.hasTitle = !!this.buttonElement.attr( \"title\" );\n\n\t\tvar that = this,\n\t\t\toptions = this.options,\n\t\t\ttoggleButton = this.type === \"checkbox\" || this.type === \"radio\",\n\t\t\tactiveClass = !toggleButton ? \"ui-state-active\" : \"\",\n\t\t\tfocusClass = \"ui-state-focus\";\n\n\t\tif ( options.label === null ) {\n\t\t\toptions.label = (this.type === \"input\" ? this.buttonElement.val() : this.buttonElement.html());\n\t\t}\n\n\t\tthis._hoverable( this.buttonElement );\n\n\t\tthis.buttonElement\n\t\t\t.addClass( baseClasses )\n\t\t\t.attr( \"role\", \"button\" )\n\t\t\t.bind( \"mouseenter\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( this === lastActive ) {\n\t\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\t}\n\t\t\t})\n\t\t\t.bind( \"mouseleave\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$( this ).removeClass( activeClass );\n\t\t\t})\n\t\t\t.bind( \"click\" + this.eventNamespace, function( event ) {\n\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.element\n\t\t\t.bind( \"focus\" + this.eventNamespace, function() {\n\t\t\t\t// no need to check disabled, focus won't be triggered anyway\n\t\t\t\tthat.buttonElement.addClass( focusClass );\n\t\t\t})\n\t\t\t.bind( \"blur\" + this.eventNamespace, function() {\n\t\t\t\tthat.buttonElement.removeClass( focusClass );\n\t\t\t});\n\n\t\tif ( toggleButton ) {\n\t\t\tthis.element.bind( \"change\" + this.eventNamespace, function() {\n\t\t\t\tif ( clickDragged ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthat.refresh();\n\t\t\t});\n\t\t\t// if mouse moves between mousedown and mouseup (drag) set clickDragged flag\n\t\t\t// prevents issue where button state changes but checkbox/radio checked state\n\t\t\t// does not in Firefox (see ticket #6970)\n\t\t\tthis.buttonElement\n\t\t\t\t.bind( \"mousedown\" + this.eventNamespace, function( event ) {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tclickDragged = false;\n\t\t\t\t\tstartXPos = event.pageX;\n\t\t\t\t\tstartYPos = event.pageY;\n\t\t\t\t})\n\t\t\t\t.bind( \"mouseup\" + this.eventNamespace, function( event ) {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif ( startXPos !== event.pageX || startYPos !== event.pageY ) {\n\t\t\t\t\t\tclickDragged = true;\n\t\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif ( this.type === \"checkbox\" ) {\n\t\t\tthis.buttonElement.bind( \"click\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled || clickDragged ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else if ( this.type === \"radio\" ) {\n\t\t\tthis.buttonElement.bind( \"click\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled || clickDragged ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\tthat.buttonElement.attr( \"aria-pressed\", \"true\" );\n\n\t\t\t\tvar radio = that.element[ 0 ];\n\t\t\t\tradioGroup( radio )\n\t\t\t\t\t.not( radio )\n\t\t\t\t\t.map(function() {\n\t\t\t\t\t\treturn $( this ).button( \"widget\" )[ 0 ];\n\t\t\t\t\t})\n\t\t\t\t\t.removeClass( \"ui-state-active\" )\n\t\t\t\t\t.attr( \"aria-pressed\", \"false\" );\n\t\t\t});\n\t\t} else {\n\t\t\tthis.buttonElement\n\t\t\t\t.bind( \"mousedown\" + this.eventNamespace, function() {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\t\tlastActive = this;\n\t\t\t\t\tthat.document.one( \"mouseup\", function() {\n\t\t\t\t\t\tlastActive = null;\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.bind( \"mouseup\" + this.eventNamespace, function() {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t$( this ).removeClass( \"ui-state-active\" );\n\t\t\t\t})\n\t\t\t\t.bind( \"keydown\" + this.eventNamespace, function(event) {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif ( event.keyCode === $.ui.keyCode.SPACE || event.keyCode === $.ui.keyCode.ENTER ) {\n\t\t\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// see #8559, we bind to blur here in case the button element loses\n\t\t\t\t// focus between keydown and keyup, it would be left in an \"active\" state\n\t\t\t\t.bind( \"keyup\" + this.eventNamespace + \" blur\" + this.eventNamespace, function() {\n\t\t\t\t\t$( this ).removeClass( \"ui-state-active\" );\n\t\t\t\t});\n\n\t\t\tif ( this.buttonElement.is(\"a\") ) {\n\t\t\t\tthis.buttonElement.keyup(function(event) {\n\t\t\t\t\tif ( event.keyCode === $.ui.keyCode.SPACE ) {\n\t\t\t\t\t\t// TODO pass through original event correctly (just as 2nd argument doesn't work)\n\t\t\t\t\t\t$( this ).click();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// TODO: pull out $.Widget's handling for the disabled option into\n\t\t// $.Widget.prototype._setOptionDisabled so it's easy to proxy and can\n\t\t// be overridden by individual plugins\n\t\tthis._setOption( \"disabled\", options.disabled );\n\t\tthis._resetButton();\n\t},\n\n\t_determineButtonType: function() {\n\t\tvar ancestor, labelSelector, checked;\n\n\t\tif ( this.element.is(\"[type=checkbox]\") ) {\n\t\t\tthis.type = \"checkbox\";\n\t\t} else if ( this.element.is(\"[type=radio]\") ) {\n\t\t\tthis.type = \"radio\";\n\t\t} else if ( this.element.is(\"input\") ) {\n\t\t\tthis.type = \"input\";\n\t\t} else {\n\t\t\tthis.type = \"button\";\n\t\t}\n\n\t\tif ( this.type === \"checkbox\" || this.type === \"radio\" ) {\n\t\t\t// we don't search against the document in case the element\n\t\t\t// is disconnected from the DOM\n\t\t\tancestor = this.element.parents().last();\n\t\t\tlabelSelector = \"label[for='\" + this.element.attr(\"id\") + \"']\";\n\t\t\tthis.buttonElement = ancestor.find( labelSelector );\n\t\t\tif ( !this.buttonElement.length ) {\n\t\t\t\tancestor = ancestor.length ? ancestor.siblings() : this.element.siblings();\n\t\t\t\tthis.buttonElement = ancestor.filter( labelSelector );\n\t\t\t\tif ( !this.buttonElement.length ) {\n\t\t\t\t\tthis.buttonElement = ancestor.find( labelSelector );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.element.addClass( \"ui-helper-hidden-accessible\" );\n\n\t\t\tchecked = this.element.is( \":checked\" );\n\t\t\tif ( checked ) {\n\t\t\t\tthis.buttonElement.addClass( \"ui-state-active\" );\n\t\t\t}\n\t\t\tthis.buttonElement.prop( \"aria-pressed\", checked );\n\t\t} else {\n\t\t\tthis.buttonElement = this.element;\n\t\t}\n\t},\n\n\twidget: function() {\n\t\treturn this.buttonElement;\n\t},\n\n\t_destroy: function() {\n\t\tthis.element\n\t\t\t.removeClass( \"ui-helper-hidden-accessible\" );\n\t\tthis.buttonElement\n\t\t\t.removeClass( baseClasses + \" \" + stateClasses + \" \" + typeClasses )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-pressed\" )\n\t\t\t.html( this.buttonElement.find(\".ui-button-text\").html() );\n\n\t\tif ( !this.hasTitle ) {\n\t\t\tthis.buttonElement.removeAttr( \"title\" );\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"disabled\" ) {\n\t\t\tif ( value ) {\n\t\t\t\tthis.element.prop( \"disabled\", true );\n\t\t\t} else {\n\t\t\t\tthis.element.prop( \"disabled\", false );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tthis._resetButton();\n\t},\n\n\trefresh: function() {\n\t\t//See #8237 & #8828\n\t\tvar isDisabled = this.element.is( \"input, button\" ) ? this.element.is( \":disabled\" ) : this.element.hasClass( \"ui-button-disabled\" );\n\n\t\tif ( isDisabled !== this.options.disabled ) {\n\t\t\tthis._setOption( \"disabled\", isDisabled );\n\t\t}\n\t\tif ( this.type === \"radio\" ) {\n\t\t\tradioGroup( this.element[0] ).each(function() {\n\t\t\t\tif ( $( this ).is( \":checked\" ) ) {\n\t\t\t\t\t$( this ).button( \"widget\" )\n\t\t\t\t\t\t.addClass( \"ui-state-active\" )\n\t\t\t\t\t\t.attr( \"aria-pressed\", \"true\" );\n\t\t\t\t} else {\n\t\t\t\t\t$( this ).button( \"widget\" )\n\t\t\t\t\t\t.removeClass( \"ui-state-active\" )\n\t\t\t\t\t\t.attr( \"aria-pressed\", \"false\" );\n\t\t\t\t}\n\t\t\t});\n\t\t} else if ( this.type === \"checkbox\" ) {\n\t\t\tif ( this.element.is( \":checked\" ) ) {\n\t\t\t\tthis.buttonElement\n\t\t\t\t\t.addClass( \"ui-state-active\" )\n\t\t\t\t\t.attr( \"aria-pressed\", \"true\" );\n\t\t\t} else {\n\t\t\t\tthis.buttonElement\n\t\t\t\t\t.removeClass( \"ui-state-active\" )\n\t\t\t\t\t.attr( \"aria-pressed\", \"false\" );\n\t\t\t}\n\t\t}\n\t},\n\n\t_resetButton: function() {\n\t\tif ( this.type === \"input\" ) {\n\t\t\tif ( this.options.label ) {\n\t\t\t\tthis.element.val( this.options.label );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tvar buttonElement = this.buttonElement.removeClass( typeClasses ),\n\t\t\tbuttonText = $( \"<span></span>\", this.document[0] )\n\t\t\t\t.addClass( \"ui-button-text\" )\n\t\t\t\t.html( this.options.label )\n\t\t\t\t.appendTo( buttonElement.empty() )\n\t\t\t\t.text(),\n\t\t\ticons = this.options.icons,\n\t\t\tmultipleIcons = icons.primary && icons.secondary,\n\t\t\tbuttonClasses = [];\n\n\t\tif ( icons.primary || icons.secondary ) {\n\t\t\tif ( this.options.text ) {\n\t\t\t\tbuttonClasses.push( \"ui-button-text-icon\" + ( multipleIcons ? \"s\" : ( icons.primary ? \"-primary\" : \"-secondary\" ) ) );\n\t\t\t}\n\n\t\t\tif ( icons.primary ) {\n\t\t\t\tbuttonElement.prepend( \"<span class='ui-button-icon-primary ui-icon \" + icons.primary + \"'></span>\" );\n\t\t\t}\n\n\t\t\tif ( icons.secondary ) {\n\t\t\t\tbuttonElement.append( \"<span class='ui-button-icon-secondary ui-icon \" + icons.secondary + \"'></span>\" );\n\t\t\t}\n\n\t\t\tif ( !this.options.text ) {\n\t\t\t\tbuttonClasses.push( multipleIcons ? \"ui-button-icons-only\" : \"ui-button-icon-only\" );\n\n\t\t\t\tif ( !this.hasTitle ) {\n\t\t\t\t\tbuttonElement.attr( \"title\", $.trim( buttonText ) );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tbuttonClasses.push( \"ui-button-text-only\" );\n\t\t}\n\t\tbuttonElement.addClass( buttonClasses.join( \" \" ) );\n\t}\n});\n\n$.widget( \"ui.buttonset\", {\n\tversion: \"1.10.3\",\n\toptions: {\n\t\titems: \"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)\"\n\t},\n\n\t_create: function() {\n\t\tthis.element.addClass( \"ui-buttonset\" );\n\t},\n\n\t_init: function() {\n\t\tthis.refresh();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.buttons.button( \"option\", key, value );\n\t\t}\n\n\t\tthis._super( key, value );\n\t},\n\n\trefresh: function() {\n\t\tvar rtl = this.element.css( \"direction\" ) === \"rtl\";\n\n\t\tthis.buttons = this.element.find( this.options.items )\n\t\t\t.filter( \":ui-button\" )\n\t\t\t\t.button( \"refresh\" )\n\t\t\t.end()\n\t\t\t.not( \":ui-button\" )\n\t\t\t\t.button()\n\t\t\t.end()\n\t\t\t.map(function() {\n\t\t\t\treturn $( this ).button( \"widget\" )[ 0 ];\n\t\t\t})\n\t\t\t\t.removeClass( \"ui-corner-all ui-corner-left ui-corner-right\" )\n\t\t\t\t.filter( \":first\" )\n\t\t\t\t\t.addClass( rtl ? \"ui-corner-right\" : \"ui-corner-left\" )\n\t\t\t\t.end()\n\t\t\t\t.filter( \":last\" )\n\t\t\t\t\t.addClass( rtl ? \"ui-corner-left\" : \"ui-corner-right\" )\n\t\t\t\t.end()\n\t\t\t.end();\n\t},\n\n\t_destroy: function() {\n\t\tthis.element.removeClass( \"ui-buttonset\" );\n\t\tthis.buttons\n\t\t\t.map(function() {\n\t\t\t\treturn $( this ).button( \"widget\" )[ 0 ];\n\t\t\t})\n\t\t\t\t.removeClass( \"ui-corner-left ui-corner-right\" )\n\t\t\t.end()\n\t\t\t.button( \"destroy\" );\n\t}\n});\n\n}( jQuery ) );\n(function( $, undefined ) {\n\n$.extend($.ui, { datepicker: { version: \"1.10.3\" } });\n\nvar PROP_NAME = \"datepicker\",\n\tinstActive;\n\n/* Date picker manager.\n   Use the singleton instance of this class, $.datepicker, to interact with the date picker.\n   Settings for (groups of) date pickers are maintained in an instance object,\n   allowing multiple different settings on the same page. */\n\nfunction Datepicker() {\n\tthis._curInst = null; // The current instance in use\n\tthis._keyEvent = false; // If the last event was a key event\n\tthis._disabledInputs = []; // List of date picker inputs that have been disabled\n\tthis._datepickerShowing = false; // True if the popup picker is showing , false if not\n\tthis._inDialog = false; // True if showing within a \"dialog\", false if not\n\tthis._mainDivId = \"ui-datepicker-div\"; // The ID of the main datepicker division\n\tthis._inlineClass = \"ui-datepicker-inline\"; // The name of the inline marker class\n\tthis._appendClass = \"ui-datepicker-append\"; // The name of the append marker class\n\tthis._triggerClass = \"ui-datepicker-trigger\"; // The name of the trigger marker class\n\tthis._dialogClass = \"ui-datepicker-dialog\"; // The name of the dialog marker class\n\tthis._disableClass = \"ui-datepicker-disabled\"; // The name of the disabled covering marker class\n\tthis._unselectableClass = \"ui-datepicker-unselectable\"; // The name of the unselectable cell marker class\n\tthis._currentClass = \"ui-datepicker-current-day\"; // The name of the current day marker class\n\tthis._dayOverClass = \"ui-datepicker-days-cell-over\"; // The name of the day hover marker class\n\tthis.regional = []; // Available regional settings, indexed by language code\n\tthis.regional[\"\"] = { // Default regional settings\n\t\tcloseText: \"Done\", // Display text for close link\n\t\tprevText: \"Prev\", // Display text for previous month link\n\t\tnextText: \"Next\", // Display text for next month link\n\t\tcurrentText: \"Today\", // Display text for current month link\n\t\tmonthNames: [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\n\t\t\t\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"], // Names of months for drop-down and formatting\n\t\tmonthNamesShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"], // For formatting\n\t\tdayNames: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"], // For formatting\n\t\tdayNamesShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"], // For formatting\n\t\tdayNamesMin: [\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"], // Column headings for days starting at Sunday\n\t\tweekHeader: \"Wk\", // Column header for week of the year\n\t\tdateFormat: \"mm/dd/yy\", // See format options on parseDate\n\t\tfirstDay: 0, // The first day of the week, Sun = 0, Mon = 1, ...\n\t\tisRTL: false, // True if right-to-left language, false if left-to-right\n\t\tshowMonthAfterYear: false, // True if the year select precedes month, false for month then year\n\t\tyearSuffix: \"\" // Additional text to append to the year in the month headers\n\t};\n\tthis._defaults = { // Global defaults for all the date picker instances\n\t\tshowOn: \"focus\", // \"focus\" for popup on focus,\n\t\t\t// \"button\" for trigger button, or \"both\" for either\n\t\tshowAnim: \"fadeIn\", // Name of jQuery animation for popup\n\t\tshowOptions: {}, // Options for enhanced animations\n\t\tdefaultDate: null, // Used when field is blank: actual date,\n\t\t\t// +/-number for offset from today, null for today\n\t\tappendText: \"\", // Display text following the input box, e.g. showing the format\n\t\tbuttonText: \"...\", // Text for trigger button\n\t\tbuttonImage: \"\", // URL for trigger button image\n\t\tbuttonImageOnly: false, // True if the image appears alone, false if it appears on a button\n\t\thideIfNoPrevNext: false, // True to hide next/previous month links\n\t\t\t// if not applicable, false to just disable them\n\t\tnavigationAsDateFormat: false, // True if date formatting applied to prev/today/next links\n\t\tgotoCurrent: false, // True if today link goes back to current selection instead\n\t\tchangeMonth: false, // True if month can be selected directly, false if only prev/next\n\t\tchangeYear: false, // True if year can be selected directly, false if only prev/next\n\t\tyearRange: \"c-10:c+10\", // Range of years to display in drop-down,\n\t\t\t// either relative to today's year (-nn:+nn), relative to currently displayed year\n\t\t\t// (c-nn:c+nn), absolute (nnnn:nnnn), or a combination of the above (nnnn:-n)\n\t\tshowOtherMonths: false, // True to show dates in other months, false to leave blank\n\t\tselectOtherMonths: false, // True to allow selection of dates in other months, false for unselectable\n\t\tshowWeek: false, // True to show week of the year, false to not show it\n\t\tcalculateWeek: this.iso8601Week, // How to calculate the week of the year,\n\t\t\t// takes a Date and returns the number of the week for it\n\t\tshortYearCutoff: \"+10\", // Short year values < this are in the current century,\n\t\t\t// > this are in the previous century,\n\t\t\t// string value starting with \"+\" for current year + value\n\t\tminDate: null, // The earliest selectable date, or null for no limit\n\t\tmaxDate: null, // The latest selectable date, or null for no limit\n\t\tduration: \"fast\", // Duration of display/closure\n\t\tbeforeShowDay: null, // Function that takes a date and returns an array with\n\t\t\t// [0] = true if selectable, false if not, [1] = custom CSS class name(s) or \"\",\n\t\t\t// [2] = cell title (optional), e.g. $.datepicker.noWeekends\n\t\tbeforeShow: null, // Function that takes an input field and\n\t\t\t// returns a set of custom settings for the date picker\n\t\tonSelect: null, // Define a callback function when a date is selected\n\t\tonChangeMonthYear: null, // Define a callback function when the month or year is changed\n\t\tonClose: null, // Define a callback function when the datepicker is closed\n\t\tnumberOfMonths: 1, // Number of months to show at a time\n\t\tshowCurrentAtPos: 0, // The position in multipe months at which to show the current month (starting at 0)\n\t\tstepMonths: 1, // Number of months to step back/forward\n\t\tstepBigMonths: 12, // Number of months to step back/forward for the big links\n\t\taltField: \"\", // Selector for an alternate field to store selected dates into\n\t\taltFormat: \"\", // The date format to use for the alternate field\n\t\tconstrainInput: true, // The input is constrained by the current date format\n\t\tshowButtonPanel: false, // True to show button panel, false to not show it\n\t\tautoSize: false, // True to size the input for the date format, false to leave as is\n\t\tdisabled: false // The initial disabled state\n\t};\n\t$.extend(this._defaults, this.regional[\"\"]);\n\tthis.dpDiv = bindHover($(\"<div id='\" + this._mainDivId + \"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\"));\n}\n\n$.extend(Datepicker.prototype, {\n\t/* Class name added to elements to indicate already configured with a date picker. */\n\tmarkerClassName: \"hasDatepicker\",\n\n\t//Keep track of the maximum number of rows displayed (see #7043)\n\tmaxRows: 4,\n\n\t// TODO rename to \"widget\" when switching to widget factory\n\t_widgetDatepicker: function() {\n\t\treturn this.dpDiv;\n\t},\n\n\t/* Override the default settings for all instances of the date picker.\n\t * @param  settings  object - the new settings to use as defaults (anonymous object)\n\t * @return the manager object\n\t */\n\tsetDefaults: function(settings) {\n\t\textendRemove(this._defaults, settings || {});\n\t\treturn this;\n\t},\n\n\t/* Attach the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t * @param  settings  object - the new settings to use for this date picker instance (anonymous)\n\t */\n\t_attachDatepicker: function(target, settings) {\n\t\tvar nodeName, inline, inst;\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\tinline = (nodeName === \"div\" || nodeName === \"span\");\n\t\tif (!target.id) {\n\t\t\tthis.uuid += 1;\n\t\t\ttarget.id = \"dp\" + this.uuid;\n\t\t}\n\t\tinst = this._newInst($(target), inline);\n\t\tinst.settings = $.extend({}, settings || {});\n\t\tif (nodeName === \"input\") {\n\t\t\tthis._connectDatepicker(target, inst);\n\t\t} else if (inline) {\n\t\t\tthis._inlineDatepicker(target, inst);\n\t\t}\n\t},\n\n\t/* Create a new instance object. */\n\t_newInst: function(target, inline) {\n\t\tvar id = target[0].id.replace(/([^A-Za-z0-9_\\-])/g, \"\\\\\\\\$1\"); // escape jQuery meta chars\n\t\treturn {id: id, input: target, // associated target\n\t\t\tselectedDay: 0, selectedMonth: 0, selectedYear: 0, // current selection\n\t\t\tdrawMonth: 0, drawYear: 0, // month being drawn\n\t\t\tinline: inline, // is datepicker inline or not\n\t\t\tdpDiv: (!inline ? this.dpDiv : // presentation div\n\t\t\tbindHover($(\"<div class='\" + this._inlineClass + \" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\")))};\n\t},\n\n\t/* Attach the date picker to an input field. */\n\t_connectDatepicker: function(target, inst) {\n\t\tvar input = $(target);\n\t\tinst.append = $([]);\n\t\tinst.trigger = $([]);\n\t\tif (input.hasClass(this.markerClassName)) {\n\t\t\treturn;\n\t\t}\n\t\tthis._attachments(input, inst);\n\t\tinput.addClass(this.markerClassName).keydown(this._doKeyDown).\n\t\t\tkeypress(this._doKeyPress).keyup(this._doKeyUp);\n\t\tthis._autoSize(inst);\n\t\t$.data(target, PROP_NAME, inst);\n\t\t//If disabled option is true, disable the datepicker once it has been attached to the input (see ticket #5665)\n\t\tif( inst.settings.disabled ) {\n\t\t\tthis._disableDatepicker( target );\n\t\t}\n\t},\n\n\t/* Make attachments based on settings. */\n\t_attachments: function(input, inst) {\n\t\tvar showOn, buttonText, buttonImage,\n\t\t\tappendText = this._get(inst, \"appendText\"),\n\t\t\tisRTL = this._get(inst, \"isRTL\");\n\n\t\tif (inst.append) {\n\t\t\tinst.append.remove();\n\t\t}\n\t\tif (appendText) {\n\t\t\tinst.append = $(\"<span class='\" + this._appendClass + \"'>\" + appendText + \"</span>\");\n\t\t\tinput[isRTL ? \"before\" : \"after\"](inst.append);\n\t\t}\n\n\t\tinput.unbind(\"focus\", this._showDatepicker);\n\n\t\tif (inst.trigger) {\n\t\t\tinst.trigger.remove();\n\t\t}\n\n\t\tshowOn = this._get(inst, \"showOn\");\n\t\tif (showOn === \"focus\" || showOn === \"both\") { // pop-up date picker when in the marked field\n\t\t\tinput.focus(this._showDatepicker);\n\t\t}\n\t\tif (showOn === \"button\" || showOn === \"both\") { // pop-up date picker when button clicked\n\t\t\tbuttonText = this._get(inst, \"buttonText\");\n\t\t\tbuttonImage = this._get(inst, \"buttonImage\");\n\t\t\tinst.trigger = $(this._get(inst, \"buttonImageOnly\") ?\n\t\t\t\t$(\"<img/>\").addClass(this._triggerClass).\n\t\t\t\t\tattr({ src: buttonImage, alt: buttonText, title: buttonText }) :\n\t\t\t\t$(\"<button type='button'></button>\").addClass(this._triggerClass).\n\t\t\t\t\thtml(!buttonImage ? buttonText : $(\"<img/>\").attr(\n\t\t\t\t\t{ src:buttonImage, alt:buttonText, title:buttonText })));\n\t\t\tinput[isRTL ? \"before\" : \"after\"](inst.trigger);\n\t\t\tinst.trigger.click(function() {\n\t\t\t\tif ($.datepicker._datepickerShowing && $.datepicker._lastInput === input[0]) {\n\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t} else if ($.datepicker._datepickerShowing && $.datepicker._lastInput !== input[0]) {\n\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t\t$.datepicker._showDatepicker(input[0]);\n\t\t\t\t} else {\n\t\t\t\t\t$.datepicker._showDatepicker(input[0]);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t},\n\n\t/* Apply the maximum length for the date format. */\n\t_autoSize: function(inst) {\n\t\tif (this._get(inst, \"autoSize\") && !inst.inline) {\n\t\t\tvar findMax, max, maxI, i,\n\t\t\t\tdate = new Date(2009, 12 - 1, 20), // Ensure double digits\n\t\t\t\tdateFormat = this._get(inst, \"dateFormat\");\n\n\t\t\tif (dateFormat.match(/[DM]/)) {\n\t\t\t\tfindMax = function(names) {\n\t\t\t\t\tmax = 0;\n\t\t\t\t\tmaxI = 0;\n\t\t\t\t\tfor (i = 0; i < names.length; i++) {\n\t\t\t\t\t\tif (names[i].length > max) {\n\t\t\t\t\t\t\tmax = names[i].length;\n\t\t\t\t\t\t\tmaxI = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn maxI;\n\t\t\t\t};\n\t\t\t\tdate.setMonth(findMax(this._get(inst, (dateFormat.match(/MM/) ?\n\t\t\t\t\t\"monthNames\" : \"monthNamesShort\"))));\n\t\t\t\tdate.setDate(findMax(this._get(inst, (dateFormat.match(/DD/) ?\n\t\t\t\t\t\"dayNames\" : \"dayNamesShort\"))) + 20 - date.getDay());\n\t\t\t}\n\t\t\tinst.input.attr(\"size\", this._formatDate(inst, date).length);\n\t\t}\n\t},\n\n\t/* Attach an inline date picker to a div. */\n\t_inlineDatepicker: function(target, inst) {\n\t\tvar divSpan = $(target);\n\t\tif (divSpan.hasClass(this.markerClassName)) {\n\t\t\treturn;\n\t\t}\n\t\tdivSpan.addClass(this.markerClassName).append(inst.dpDiv);\n\t\t$.data(target, PROP_NAME, inst);\n\t\tthis._setDate(inst, this._getDefaultDate(inst), true);\n\t\tthis._updateDatepicker(inst);\n\t\tthis._updateAlternate(inst);\n\t\t//If disabled option is true, disable the datepicker before showing it (see ticket #5665)\n\t\tif( inst.settings.disabled ) {\n\t\t\tthis._disableDatepicker( target );\n\t\t}\n\t\t// Set display:block in place of inst.dpDiv.show() which won't work on disconnected elements\n\t\t// http://bugs.jqueryui.com/ticket/7552 - A Datepicker created on a detached div has zero height\n\t\tinst.dpDiv.css( \"display\", \"block\" );\n\t},\n\n\t/* Pop-up the date picker in a \"dialog\" box.\n\t * @param  input element - ignored\n\t * @param  date\tstring or Date - the initial date to display\n\t * @param  onSelect  function - the function to call when a date is selected\n\t * @param  settings  object - update the dialog date picker instance's settings (anonymous object)\n\t * @param  pos int[2] - coordinates for the dialog's position within the screen or\n\t *\t\t\t\t\tevent - with x/y coordinates or\n\t *\t\t\t\t\tleave empty for default (screen centre)\n\t * @return the manager object\n\t */\n\t_dialogDatepicker: function(input, date, onSelect, settings, pos) {\n\t\tvar id, browserWidth, browserHeight, scrollX, scrollY,\n\t\t\tinst = this._dialogInst; // internal instance\n\n\t\tif (!inst) {\n\t\t\tthis.uuid += 1;\n\t\t\tid = \"dp\" + this.uuid;\n\t\t\tthis._dialogInput = $(\"<input type='text' id='\" + id +\n\t\t\t\t\"' style='position: absolute; top: -100px; width: 0px;'/>\");\n\t\t\tthis._dialogInput.keydown(this._doKeyDown);\n\t\t\t$(\"body\").append(this._dialogInput);\n\t\t\tinst = this._dialogInst = this._newInst(this._dialogInput, false);\n\t\t\tinst.settings = {};\n\t\t\t$.data(this._dialogInput[0], PROP_NAME, inst);\n\t\t}\n\t\textendRemove(inst.settings, settings || {});\n\t\tdate = (date && date.constructor === Date ? this._formatDate(inst, date) : date);\n\t\tthis._dialogInput.val(date);\n\n\t\tthis._pos = (pos ? (pos.length ? pos : [pos.pageX, pos.pageY]) : null);\n\t\tif (!this._pos) {\n\t\t\tbrowserWidth = document.documentElement.clientWidth;\n\t\t\tbrowserHeight = document.documentElement.clientHeight;\n\t\t\tscrollX = document.documentElement.scrollLeft || document.body.scrollLeft;\n\t\t\tscrollY = document.documentElement.scrollTop || document.body.scrollTop;\n\t\t\tthis._pos = // should use actual width/height below\n\t\t\t\t[(browserWidth / 2) - 100 + scrollX, (browserHeight / 2) - 150 + scrollY];\n\t\t}\n\n\t\t// move input on screen for focus, but hidden behind dialog\n\t\tthis._dialogInput.css(\"left\", (this._pos[0] + 20) + \"px\").css(\"top\", this._pos[1] + \"px\");\n\t\tinst.settings.onSelect = onSelect;\n\t\tthis._inDialog = true;\n\t\tthis.dpDiv.addClass(this._dialogClass);\n\t\tthis._showDatepicker(this._dialogInput[0]);\n\t\tif ($.blockUI) {\n\t\t\t$.blockUI(this.dpDiv);\n\t\t}\n\t\t$.data(this._dialogInput[0], PROP_NAME, inst);\n\t\treturn this;\n\t},\n\n\t/* Detach a datepicker from its control.\n\t * @param  target\telement - the target input field or division or span\n\t */\n\t_destroyDatepicker: function(target) {\n\t\tvar nodeName,\n\t\t\t$target = $(target),\n\t\t\tinst = $.data(target, PROP_NAME);\n\n\t\tif (!$target.hasClass(this.markerClassName)) {\n\t\t\treturn;\n\t\t}\n\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\t$.removeData(target, PROP_NAME);\n\t\tif (nodeName === \"input\") {\n\t\t\tinst.append.remove();\n\t\t\tinst.trigger.remove();\n\t\t\t$target.removeClass(this.markerClassName).\n\t\t\t\tunbind(\"focus\", this._showDatepicker).\n\t\t\t\tunbind(\"keydown\", this._doKeyDown).\n\t\t\t\tunbind(\"keypress\", this._doKeyPress).\n\t\t\t\tunbind(\"keyup\", this._doKeyUp);\n\t\t} else if (nodeName === \"div\" || nodeName === \"span\") {\n\t\t\t$target.removeClass(this.markerClassName).empty();\n\t\t}\n\t},\n\n\t/* Enable the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t */\n\t_enableDatepicker: function(target) {\n\t\tvar nodeName, inline,\n\t\t\t$target = $(target),\n\t\t\tinst = $.data(target, PROP_NAME);\n\n\t\tif (!$target.hasClass(this.markerClassName)) {\n\t\t\treturn;\n\t\t}\n\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\tif (nodeName === \"input\") {\n\t\t\ttarget.disabled = false;\n\t\t\tinst.trigger.filter(\"button\").\n\t\t\t\teach(function() { this.disabled = false; }).end().\n\t\t\t\tfilter(\"img\").css({opacity: \"1.0\", cursor: \"\"});\n\t\t} else if (nodeName === \"div\" || nodeName === \"span\") {\n\t\t\tinline = $target.children(\".\" + this._inlineClass);\n\t\t\tinline.children().removeClass(\"ui-state-disabled\");\n\t\t\tinline.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").\n\t\t\t\tprop(\"disabled\", false);\n\t\t}\n\t\tthis._disabledInputs = $.map(this._disabledInputs,\n\t\t\tfunction(value) { return (value === target ? null : value); }); // delete entry\n\t},\n\n\t/* Disable the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t */\n\t_disableDatepicker: function(target) {\n\t\tvar nodeName, inline,\n\t\t\t$target = $(target),\n\t\t\tinst = $.data(target, PROP_NAME);\n\n\t\tif (!$target.hasClass(this.markerClassName)) {\n\t\t\treturn;\n\t\t}\n\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\tif (nodeName === \"input\") {\n\t\t\ttarget.disabled = true;\n\t\t\tinst.trigger.filter(\"button\").\n\t\t\t\teach(function() { this.disabled = true; }).end().\n\t\t\t\tfilter(\"img\").css({opacity: \"0.5\", cursor: \"default\"});\n\t\t} else if (nodeName === \"div\" || nodeName === \"span\") {\n\t\t\tinline = $target.children(\".\" + this._inlineClass);\n\t\t\tinline.children().addClass(\"ui-state-disabled\");\n\t\t\tinline.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").\n\t\t\t\tprop(\"disabled\", true);\n\t\t}\n\t\tthis._disabledInputs = $.map(this._disabledInputs,\n\t\t\tfunction(value) { return (value === target ? null : value); }); // delete entry\n\t\tthis._disabledInputs[this._disabledInputs.length] = target;\n\t},\n\n\t/* Is the first field in a jQuery collection disabled as a datepicker?\n\t * @param  target\telement - the target input field or division or span\n\t * @return boolean - true if disabled, false if enabled\n\t */\n\t_isDisabledDatepicker: function(target) {\n\t\tif (!target) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (var i = 0; i < this._disabledInputs.length; i++) {\n\t\t\tif (this._disabledInputs[i] === target) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t/* Retrieve the instance data for the target control.\n\t * @param  target  element - the target input field or division or span\n\t * @return  object - the associated instance data\n\t * @throws  error if a jQuery problem getting data\n\t */\n\t_getInst: function(target) {\n\t\ttry {\n\t\t\treturn $.data(target, PROP_NAME);\n\t\t}\n\t\tcatch (err) {\n\t\t\tthrow \"Missing instance data for this datepicker\";\n\t\t}\n\t},\n\n\t/* Update or retrieve the settings for a date picker attached to an input field or division.\n\t * @param  target  element - the target input field or division or span\n\t * @param  name\tobject - the new settings to update or\n\t *\t\t\t\tstring - the name of the setting to change or retrieve,\n\t *\t\t\t\twhen retrieving also \"all\" for all instance settings or\n\t *\t\t\t\t\"defaults\" for all global defaults\n\t * @param  value   any - the new value for the setting\n\t *\t\t\t\t(omit if above is an object or to retrieve a value)\n\t */\n\t_optionDatepicker: function(target, name, value) {\n\t\tvar settings, date, minDate, maxDate,\n\t\t\tinst = this._getInst(target);\n\n\t\tif (arguments.length === 2 && typeof name === \"string\") {\n\t\t\treturn (name === \"defaults\" ? $.extend({}, $.datepicker._defaults) :\n\t\t\t\t(inst ? (name === \"all\" ? $.extend({}, inst.settings) :\n\t\t\t\tthis._get(inst, name)) : null));\n\t\t}\n\n\t\tsettings = name || {};\n\t\tif (typeof name === \"string\") {\n\t\t\tsettings = {};\n\t\t\tsettings[name] = value;\n\t\t}\n\n\t\tif (inst) {\n\t\t\tif (this._curInst === inst) {\n\t\t\t\tthis._hideDatepicker();\n\t\t\t}\n\n\t\t\tdate = this._getDateDatepicker(target, true);\n\t\t\tminDate = this._getMinMaxDate(inst, \"min\");\n\t\t\tmaxDate = this._getMinMaxDate(inst, \"max\");\n\t\t\textendRemove(inst.settings, settings);\n\t\t\t// reformat the old minDate/maxDate values if dateFormat changes and a new minDate/maxDate isn't provided\n\t\t\tif (minDate !== null && settings.dateFormat !== undefined && settings.minDate === undefined) {\n\t\t\t\tinst.settings.minDate = this._formatDate(inst, minDate);\n\t\t\t}\n\t\t\tif (maxDate !== null && settings.dateFormat !== undefined && settings.maxDate === undefined) {\n\t\t\t\tinst.settings.maxDate = this._formatDate(inst, maxDate);\n\t\t\t}\n\t\t\tif ( \"disabled\" in settings ) {\n\t\t\t\tif ( settings.disabled ) {\n\t\t\t\t\tthis._disableDatepicker(target);\n\t\t\t\t} else {\n\t\t\t\t\tthis._enableDatepicker(target);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._attachments($(target), inst);\n\t\t\tthis._autoSize(inst);\n\t\t\tthis._setDate(inst, date);\n\t\t\tthis._updateAlternate(inst);\n\t\t\tthis._updateDatepicker(inst);\n\t\t}\n\t},\n\n\t// change method deprecated\n\t_changeDatepicker: function(target, name, value) {\n\t\tthis._optionDatepicker(target, name, value);\n\t},\n\n\t/* Redraw the date picker attached to an input field or division.\n\t * @param  target  element - the target input field or division or span\n\t */\n\t_refreshDatepicker: function(target) {\n\t\tvar inst = this._getInst(target);\n\t\tif (inst) {\n\t\t\tthis._updateDatepicker(inst);\n\t\t}\n\t},\n\n\t/* Set the dates for a jQuery selection.\n\t * @param  target element - the target input field or division or span\n\t * @param  date\tDate - the new date\n\t */\n\t_setDateDatepicker: function(target, date) {\n\t\tvar inst = this._getInst(target);\n\t\tif (inst) {\n\t\t\tthis._setDate(inst, date);\n\t\t\tthis._updateDatepicker(inst);\n\t\t\tthis._updateAlternate(inst);\n\t\t}\n\t},\n\n\t/* Get the date(s) for the first entry in a jQuery selection.\n\t * @param  target element - the target input field or division or span\n\t * @param  noDefault boolean - true if no default date is to be used\n\t * @return Date - the current date\n\t */\n\t_getDateDatepicker: function(target, noDefault) {\n\t\tvar inst = this._getInst(target);\n\t\tif (inst && !inst.inline) {\n\t\t\tthis._setDateFromField(inst, noDefault);\n\t\t}\n\t\treturn (inst ? this._getDate(inst) : null);\n\t},\n\n\t/* Handle keystrokes. */\n\t_doKeyDown: function(event) {\n\t\tvar onSelect, dateStr, sel,\n\t\t\tinst = $.datepicker._getInst(event.target),\n\t\t\thandled = true,\n\t\t\tisRTL = inst.dpDiv.is(\".ui-datepicker-rtl\");\n\n\t\tinst._keyEvent = true;\n\t\tif ($.datepicker._datepickerShowing) {\n\t\t\tswitch (event.keyCode) {\n\t\t\t\tcase 9: $.datepicker._hideDatepicker();\n\t\t\t\t\t\thandled = false;\n\t\t\t\t\t\tbreak; // hide on tab out\n\t\t\t\tcase 13: sel = $(\"td.\" + $.datepicker._dayOverClass + \":not(.\" +\n\t\t\t\t\t\t\t\t\t$.datepicker._currentClass + \")\", inst.dpDiv);\n\t\t\t\t\t\tif (sel[0]) {\n\t\t\t\t\t\t\t$.datepicker._selectDay(event.target, inst.selectedMonth, inst.selectedYear, sel[0]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tonSelect = $.datepicker._get(inst, \"onSelect\");\n\t\t\t\t\t\tif (onSelect) {\n\t\t\t\t\t\t\tdateStr = $.datepicker._formatDate(inst);\n\n\t\t\t\t\t\t\t// trigger custom callback\n\t\t\t\t\t\t\tonSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false; // don't submit the form\n\t\t\t\tcase 27: $.datepicker._hideDatepicker();\n\t\t\t\t\t\tbreak; // hide on escape\n\t\t\t\tcase 33: $.datepicker._adjustDate(event.target, (event.ctrlKey ?\n\t\t\t\t\t\t\t-$.datepicker._get(inst, \"stepBigMonths\") :\n\t\t\t\t\t\t\t-$.datepicker._get(inst, \"stepMonths\")), \"M\");\n\t\t\t\t\t\tbreak; // previous month/year on page up/+ ctrl\n\t\t\t\tcase 34: $.datepicker._adjustDate(event.target, (event.ctrlKey ?\n\t\t\t\t\t\t\t+$.datepicker._get(inst, \"stepBigMonths\") :\n\t\t\t\t\t\t\t+$.datepicker._get(inst, \"stepMonths\")), \"M\");\n\t\t\t\t\t\tbreak; // next month/year on page down/+ ctrl\n\t\t\t\tcase 35: if (event.ctrlKey || event.metaKey) {\n\t\t\t\t\t\t\t$.datepicker._clearDate(event.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // clear on ctrl or command +end\n\t\t\t\tcase 36: if (event.ctrlKey || event.metaKey) {\n\t\t\t\t\t\t\t$.datepicker._gotoToday(event.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // current on ctrl or command +home\n\t\t\t\tcase 37: if (event.ctrlKey || event.metaKey) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate(event.target, (isRTL ? +1 : -1), \"D\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\t// -1 day on ctrl or command +left\n\t\t\t\t\t\tif (event.originalEvent.altKey) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate(event.target, (event.ctrlKey ?\n\t\t\t\t\t\t\t\t-$.datepicker._get(inst, \"stepBigMonths\") :\n\t\t\t\t\t\t\t\t-$.datepicker._get(inst, \"stepMonths\")), \"M\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// next month/year on alt +left on Mac\n\t\t\t\t\t\tbreak;\n\t\t\t\tcase 38: if (event.ctrlKey || event.metaKey) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate(event.target, -7, \"D\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // -1 week on ctrl or command +up\n\t\t\t\tcase 39: if (event.ctrlKey || event.metaKey) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate(event.target, (isRTL ? -1 : +1), \"D\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\t// +1 day on ctrl or command +right\n\t\t\t\t\t\tif (event.originalEvent.altKey) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate(event.target, (event.ctrlKey ?\n\t\t\t\t\t\t\t\t+$.datepicker._get(inst, \"stepBigMonths\") :\n\t\t\t\t\t\t\t\t+$.datepicker._get(inst, \"stepMonths\")), \"M\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// next month/year on alt +right\n\t\t\t\t\t\tbreak;\n\t\t\t\tcase 40: if (event.ctrlKey || event.metaKey) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate(event.target, +7, \"D\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // +1 week on ctrl or command +down\n\t\t\t\tdefault: handled = false;\n\t\t\t}\n\t\t} else if (event.keyCode === 36 && event.ctrlKey) { // display the date picker on ctrl+home\n\t\t\t$.datepicker._showDatepicker(this);\n\t\t} else {\n\t\t\thandled = false;\n\t\t}\n\n\t\tif (handled) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t},\n\n\t/* Filter entered characters - based on date format. */\n\t_doKeyPress: function(event) {\n\t\tvar chars, chr,\n\t\t\tinst = $.datepicker._getInst(event.target);\n\n\t\tif ($.datepicker._get(inst, \"constrainInput\")) {\n\t\t\tchars = $.datepicker._possibleChars($.datepicker._get(inst, \"dateFormat\"));\n\t\t\tchr = String.fromCharCode(event.charCode == null ? event.keyCode : event.charCode);\n\t\t\treturn event.ctrlKey || event.metaKey || (chr < \" \" || !chars || chars.indexOf(chr) > -1);\n\t\t}\n\t},\n\n\t/* Synchronise manual entry and field/alternate field. */\n\t_doKeyUp: function(event) {\n\t\tvar date,\n\t\t\tinst = $.datepicker._getInst(event.target);\n\n\t\tif (inst.input.val() !== inst.lastVal) {\n\t\t\ttry {\n\t\t\t\tdate = $.datepicker.parseDate($.datepicker._get(inst, \"dateFormat\"),\n\t\t\t\t\t(inst.input ? inst.input.val() : null),\n\t\t\t\t\t$.datepicker._getFormatConfig(inst));\n\n\t\t\t\tif (date) { // only if valid\n\t\t\t\t\t$.datepicker._setDateFromField(inst);\n\t\t\t\t\t$.datepicker._updateAlternate(inst);\n\t\t\t\t\t$.datepicker._updateDatepicker(inst);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/* Pop-up the date picker for a given input field.\n\t * If false returned from beforeShow event handler do not show.\n\t * @param  input  element - the input field attached to the date picker or\n\t *\t\t\t\t\tevent - if triggered by focus\n\t */\n\t_showDatepicker: function(input) {\n\t\tinput = input.target || input;\n\t\tif (input.nodeName.toLowerCase() !== \"input\") { // find from button/image trigger\n\t\t\tinput = $(\"input\", input.parentNode)[0];\n\t\t}\n\n\t\tif ($.datepicker._isDisabledDatepicker(input) || $.datepicker._lastInput === input) { // already here\n\t\t\treturn;\n\t\t}\n\n\t\tvar inst, beforeShow, beforeShowSettings, isFixed,\n\t\t\toffset, showAnim, duration;\n\n\t\tinst = $.datepicker._getInst(input);\n\t\tif ($.datepicker._curInst && $.datepicker._curInst !== inst) {\n\t\t\t$.datepicker._curInst.dpDiv.stop(true, true);\n\t\t\tif ( inst && $.datepicker._datepickerShowing ) {\n\t\t\t\t$.datepicker._hideDatepicker( $.datepicker._curInst.input[0] );\n\t\t\t}\n\t\t}\n\n\t\tbeforeShow = $.datepicker._get(inst, \"beforeShow\");\n\t\tbeforeShowSettings = beforeShow ? beforeShow.apply(input, [input, inst]) : {};\n\t\tif(beforeShowSettings === false){\n\t\t\treturn;\n\t\t}\n\t\textendRemove(inst.settings, beforeShowSettings);\n\n\t\tinst.lastVal = null;\n\t\t$.datepicker._lastInput = input;\n\t\t$.datepicker._setDateFromField(inst);\n\n\t\tif ($.datepicker._inDialog) { // hide cursor\n\t\t\tinput.value = \"\";\n\t\t}\n\t\tif (!$.datepicker._pos) { // position below input\n\t\t\t$.datepicker._pos = $.datepicker._findPos(input);\n\t\t\t$.datepicker._pos[1] += input.offsetHeight; // add the height\n\t\t}\n\n\t\tisFixed = false;\n\t\t$(input).parents().each(function() {\n\t\t\tisFixed |= $(this).css(\"position\") === \"fixed\";\n\t\t\treturn !isFixed;\n\t\t});\n\n\t\toffset = {left: $.datepicker._pos[0], top: $.datepicker._pos[1]};\n\t\t$.datepicker._pos = null;\n\t\t//to avoid flashes on Firefox\n\t\tinst.dpDiv.empty();\n\t\t// determine sizing offscreen\n\t\tinst.dpDiv.css({position: \"absolute\", display: \"block\", top: \"-1000px\"});\n\t\t$.datepicker._updateDatepicker(inst);\n\t\t// fix width for dynamic number of date pickers\n\t\t// and adjust position before showing\n\t\toffset = $.datepicker._checkOffset(inst, offset, isFixed);\n\t\tinst.dpDiv.css({position: ($.datepicker._inDialog && $.blockUI ?\n\t\t\t\"static\" : (isFixed ? \"fixed\" : \"absolute\")), display: \"none\",\n\t\t\tleft: offset.left + \"px\", top: offset.top + \"px\"});\n\n\t\tif (!inst.inline) {\n\t\t\tshowAnim = $.datepicker._get(inst, \"showAnim\");\n\t\t\tduration = $.datepicker._get(inst, \"duration\");\n\t\t\tinst.dpDiv.zIndex($(input).zIndex()+1);\n\t\t\t$.datepicker._datepickerShowing = true;\n\n\t\t\tif ( $.effects && $.effects.effect[ showAnim ] ) {\n\t\t\t\tinst.dpDiv.show(showAnim, $.datepicker._get(inst, \"showOptions\"), duration);\n\t\t\t} else {\n\t\t\t\tinst.dpDiv[showAnim || \"show\"](showAnim ? duration : null);\n\t\t\t}\n\n\t\t\tif ( $.datepicker._shouldFocusInput( inst ) ) {\n\t\t\t\tinst.input.focus();\n\t\t\t}\n\n\t\t\t$.datepicker._curInst = inst;\n\t\t}\n\t},\n\n\t/* Generate the date picker content. */\n\t_updateDatepicker: function(inst) {\n\t\tthis.maxRows = 4; //Reset the max number of rows being displayed (see #7043)\n\t\tinstActive = inst; // for delegate hover events\n\t\tinst.dpDiv.empty().append(this._generateHTML(inst));\n\t\tthis._attachHandlers(inst);\n\t\tinst.dpDiv.find(\".\" + this._dayOverClass + \" a\").mouseover();\n\n\t\tvar origyearshtml,\n\t\t\tnumMonths = this._getNumberOfMonths(inst),\n\t\t\tcols = numMonths[1],\n\t\t\twidth = 17;\n\n\t\tinst.dpDiv.removeClass(\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\").width(\"\");\n\t\tif (cols > 1) {\n\t\t\tinst.dpDiv.addClass(\"ui-datepicker-multi-\" + cols).css(\"width\", (width * cols) + \"em\");\n\t\t}\n\t\tinst.dpDiv[(numMonths[0] !== 1 || numMonths[1] !== 1 ? \"add\" : \"remove\") +\n\t\t\t\"Class\"](\"ui-datepicker-multi\");\n\t\tinst.dpDiv[(this._get(inst, \"isRTL\") ? \"add\" : \"remove\") +\n\t\t\t\"Class\"](\"ui-datepicker-rtl\");\n\n\t\tif (inst === $.datepicker._curInst && $.datepicker._datepickerShowing && $.datepicker._shouldFocusInput( inst ) ) {\n\t\t\tinst.input.focus();\n\t\t}\n\n\t\t// deffered render of the years select (to avoid flashes on Firefox)\n\t\tif( inst.yearshtml ){\n\t\t\torigyearshtml = inst.yearshtml;\n\t\t\tsetTimeout(function(){\n\t\t\t\t//assure that inst.yearshtml didn't change.\n\t\t\t\tif( origyearshtml === inst.yearshtml && inst.yearshtml ){\n\t\t\t\t\tinst.dpDiv.find(\"select.ui-datepicker-year:first\").replaceWith(inst.yearshtml);\n\t\t\t\t}\n\t\t\t\torigyearshtml = inst.yearshtml = null;\n\t\t\t}, 0);\n\t\t}\n\t},\n\n\t// #6694 - don't focus the input if it's already focused\n\t// this breaks the change event in IE\n\t// Support: IE and jQuery <1.9\n\t_shouldFocusInput: function( inst ) {\n\t\treturn inst.input && inst.input.is( \":visible\" ) && !inst.input.is( \":disabled\" ) && !inst.input.is( \":focus\" );\n\t},\n\n\t/* Check positioning to remain on screen. */\n\t_checkOffset: function(inst, offset, isFixed) {\n\t\tvar dpWidth = inst.dpDiv.outerWidth(),\n\t\t\tdpHeight = inst.dpDiv.outerHeight(),\n\t\t\tinputWidth = inst.input ? inst.input.outerWidth() : 0,\n\t\t\tinputHeight = inst.input ? inst.input.outerHeight() : 0,\n\t\t\tviewWidth = document.documentElement.clientWidth + (isFixed ? 0 : $(document).scrollLeft()),\n\t\t\tviewHeight = document.documentElement.clientHeight + (isFixed ? 0 : $(document).scrollTop());\n\n\t\toffset.left -= (this._get(inst, \"isRTL\") ? (dpWidth - inputWidth) : 0);\n\t\toffset.left -= (isFixed && offset.left === inst.input.offset().left) ? $(document).scrollLeft() : 0;\n\t\toffset.top -= (isFixed && offset.top === (inst.input.offset().top + inputHeight)) ? $(document).scrollTop() : 0;\n\n\t\t// now check if datepicker is showing outside window viewport - move to a better place if so.\n\t\toffset.left -= Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?\n\t\t\tMath.abs(offset.left + dpWidth - viewWidth) : 0);\n\t\toffset.top -= Math.min(offset.top, (offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?\n\t\t\tMath.abs(dpHeight + inputHeight) : 0);\n\n\t\treturn offset;\n\t},\n\n\t/* Find an object's position on the screen. */\n\t_findPos: function(obj) {\n\t\tvar position,\n\t\t\tinst = this._getInst(obj),\n\t\t\tisRTL = this._get(inst, \"isRTL\");\n\n\t\twhile (obj && (obj.type === \"hidden\" || obj.nodeType !== 1 || $.expr.filters.hidden(obj))) {\n\t\t\tobj = obj[isRTL ? \"previousSibling\" : \"nextSibling\"];\n\t\t}\n\n\t\tposition = $(obj).offset();\n\t\treturn [position.left, position.top];\n\t},\n\n\t/* Hide the date picker from view.\n\t * @param  input  element - the input field attached to the date picker\n\t */\n\t_hideDatepicker: function(input) {\n\t\tvar showAnim, duration, postProcess, onClose,\n\t\t\tinst = this._curInst;\n\n\t\tif (!inst || (input && inst !== $.data(input, PROP_NAME))) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._datepickerShowing) {\n\t\t\tshowAnim = this._get(inst, \"showAnim\");\n\t\t\tduration = this._get(inst, \"duration\");\n\t\t\tpostProcess = function() {\n\t\t\t\t$.datepicker._tidyDialog(inst);\n\t\t\t};\n\n\t\t\t// DEPRECATED: after BC for 1.8.x $.effects[ showAnim ] is not needed\n\t\t\tif ( $.effects && ( $.effects.effect[ showAnim ] || $.effects[ showAnim ] ) ) {\n\t\t\t\tinst.dpDiv.hide(showAnim, $.datepicker._get(inst, \"showOptions\"), duration, postProcess);\n\t\t\t} else {\n\t\t\t\tinst.dpDiv[(showAnim === \"slideDown\" ? \"slideUp\" :\n\t\t\t\t\t(showAnim === \"fadeIn\" ? \"fadeOut\" : \"hide\"))]((showAnim ? duration : null), postProcess);\n\t\t\t}\n\n\t\t\tif (!showAnim) {\n\t\t\t\tpostProcess();\n\t\t\t}\n\t\t\tthis._datepickerShowing = false;\n\n\t\t\tonClose = this._get(inst, \"onClose\");\n\t\t\tif (onClose) {\n\t\t\t\tonClose.apply((inst.input ? inst.input[0] : null), [(inst.input ? inst.input.val() : \"\"), inst]);\n\t\t\t}\n\n\t\t\tthis._lastInput = null;\n\t\t\tif (this._inDialog) {\n\t\t\t\tthis._dialogInput.css({ position: \"absolute\", left: \"0\", top: \"-100px\" });\n\t\t\t\tif ($.blockUI) {\n\t\t\t\t\t$.unblockUI();\n\t\t\t\t\t$(\"body\").append(this.dpDiv);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._inDialog = false;\n\t\t}\n\t},\n\n\t/* Tidy up after a dialog display. */\n\t_tidyDialog: function(inst) {\n\t\tinst.dpDiv.removeClass(this._dialogClass).unbind(\".ui-datepicker-calendar\");\n\t},\n\n\t/* Close date picker if clicked elsewhere. */\n\t_checkExternalClick: function(event) {\n\t\tif (!$.datepicker._curInst) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar $target = $(event.target),\n\t\t\tinst = $.datepicker._getInst($target[0]);\n\n\t\tif ( ( ( $target[0].id !== $.datepicker._mainDivId &&\n\t\t\t\t$target.parents(\"#\" + $.datepicker._mainDivId).length === 0 &&\n\t\t\t\t!$target.hasClass($.datepicker.markerClassName) &&\n\t\t\t\t!$target.closest(\".\" + $.datepicker._triggerClass).length &&\n\t\t\t\t$.datepicker._datepickerShowing && !($.datepicker._inDialog && $.blockUI) ) ) ||\n\t\t\t( $target.hasClass($.datepicker.markerClassName) && $.datepicker._curInst !== inst ) ) {\n\t\t\t\t$.datepicker._hideDatepicker();\n\t\t}\n\t},\n\n\t/* Adjust one of the date sub-fields. */\n\t_adjustDate: function(id, offset, period) {\n\t\tvar target = $(id),\n\t\t\tinst = this._getInst(target[0]);\n\n\t\tif (this._isDisabledDatepicker(target[0])) {\n\t\t\treturn;\n\t\t}\n\t\tthis._adjustInstDate(inst, offset +\n\t\t\t(period === \"M\" ? this._get(inst, \"showCurrentAtPos\") : 0), // undo positioning\n\t\t\tperiod);\n\t\tthis._updateDatepicker(inst);\n\t},\n\n\t/* Action for current link. */\n\t_gotoToday: function(id) {\n\t\tvar date,\n\t\t\ttarget = $(id),\n\t\t\tinst = this._getInst(target[0]);\n\n\t\tif (this._get(inst, \"gotoCurrent\") && inst.currentDay) {\n\t\t\tinst.selectedDay = inst.currentDay;\n\t\t\tinst.drawMonth = inst.selectedMonth = inst.currentMonth;\n\t\t\tinst.drawYear = inst.selectedYear = inst.currentYear;\n\t\t} else {\n\t\t\tdate = new Date();\n\t\t\tinst.selectedDay = date.getDate();\n\t\t\tinst.drawMonth = inst.selectedMonth = date.getMonth();\n\t\t\tinst.drawYear = inst.selectedYear = date.getFullYear();\n\t\t}\n\t\tthis._notifyChange(inst);\n\t\tthis._adjustDate(target);\n\t},\n\n\t/* Action for selecting a new month/year. */\n\t_selectMonthYear: function(id, select, period) {\n\t\tvar target = $(id),\n\t\t\tinst = this._getInst(target[0]);\n\n\t\tinst[\"selected\" + (period === \"M\" ? \"Month\" : \"Year\")] =\n\t\tinst[\"draw\" + (period === \"M\" ? \"Month\" : \"Year\")] =\n\t\t\tparseInt(select.options[select.selectedIndex].value,10);\n\n\t\tthis._notifyChange(inst);\n\t\tthis._adjustDate(target);\n\t},\n\n\t/* Action for selecting a day. */\n\t_selectDay: function(id, month, year, td) {\n\t\tvar inst,\n\t\t\ttarget = $(id);\n\n\t\tif ($(td).hasClass(this._unselectableClass) || this._isDisabledDatepicker(target[0])) {\n\t\t\treturn;\n\t\t}\n\n\t\tinst = this._getInst(target[0]);\n\t\tinst.selectedDay = inst.currentDay = $(\"a\", td).html();\n\t\tinst.selectedMonth = inst.currentMonth = month;\n\t\tinst.selectedYear = inst.currentYear = year;\n\t\tthis._selectDate(id, this._formatDate(inst,\n\t\t\tinst.currentDay, inst.currentMonth, inst.currentYear));\n\t},\n\n\t/* Erase the input field and hide the date picker. */\n\t_clearDate: function(id) {\n\t\tvar target = $(id);\n\t\tthis._selectDate(target, \"\");\n\t},\n\n\t/* Update the input field with the selected date. */\n\t_selectDate: function(id, dateStr) {\n\t\tvar onSelect,\n\t\t\ttarget = $(id),\n\t\t\tinst = this._getInst(target[0]);\n\n\t\tdateStr = (dateStr != null ? dateStr : this._formatDate(inst));\n\t\tif (inst.input) {\n\t\t\tinst.input.val(dateStr);\n\t\t}\n\t\tthis._updateAlternate(inst);\n\n\t\tonSelect = this._get(inst, \"onSelect\");\n\t\tif (onSelect) {\n\t\t\tonSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);  // trigger custom callback\n\t\t} else if (inst.input) {\n\t\t\tinst.input.trigger(\"change\"); // fire the change event\n\t\t}\n\n\t\tif (inst.inline){\n\t\t\tthis._updateDatepicker(inst);\n\t\t} else {\n\t\t\tthis._hideDatepicker();\n\t\t\tthis._lastInput = inst.input[0];\n\t\t\tif (typeof(inst.input[0]) !== \"object\") {\n\t\t\t\tinst.input.focus(); // restore focus\n\t\t\t}\n\t\t\tthis._lastInput = null;\n\t\t}\n\t},\n\n\t/* Update any alternate field to synchronise with the main field. */\n\t_updateAlternate: function(inst) {\n\t\tvar altFormat, date, dateStr,\n\t\t\taltField = this._get(inst, \"altField\");\n\n\t\tif (altField) { // update alternate field too\n\t\t\taltFormat = this._get(inst, \"altFormat\") || this._get(inst, \"dateFormat\");\n\t\t\tdate = this._getDate(inst);\n\t\t\tdateStr = this.formatDate(altFormat, date, this._getFormatConfig(inst));\n\t\t\t$(altField).each(function() { $(this).val(dateStr); });\n\t\t}\n\t},\n\n\t/* Set as beforeShowDay function to prevent selection of weekends.\n\t * @param  date  Date - the date to customise\n\t * @return [boolean, string] - is this date selectable?, what is its CSS class?\n\t */\n\tnoWeekends: function(date) {\n\t\tvar day = date.getDay();\n\t\treturn [(day > 0 && day < 6), \"\"];\n\t},\n\n\t/* Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.\n\t * @param  date  Date - the date to get the week for\n\t * @return  number - the number of the week within the year that contains this date\n\t */\n\tiso8601Week: function(date) {\n\t\tvar time,\n\t\t\tcheckDate = new Date(date.getTime());\n\n\t\t// Find Thursday of this week starting on Monday\n\t\tcheckDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));\n\n\t\ttime = checkDate.getTime();\n\t\tcheckDate.setMonth(0); // Compare with Jan 1\n\t\tcheckDate.setDate(1);\n\t\treturn Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;\n\t},\n\n\t/* Parse a string value into a date object.\n\t * See formatDate below for the possible formats.\n\t *\n\t * @param  format string - the expected format of the date\n\t * @param  value string - the date in the above format\n\t * @param  settings Object - attributes include:\n\t *\t\t\t\t\tshortYearCutoff  number - the cutoff year for determining the century (optional)\n\t *\t\t\t\t\tdayNamesShort\tstring[7] - abbreviated names of the days from Sunday (optional)\n\t *\t\t\t\t\tdayNames\t\tstring[7] - names of the days from Sunday (optional)\n\t *\t\t\t\t\tmonthNamesShort string[12] - abbreviated names of the months (optional)\n\t *\t\t\t\t\tmonthNames\t\tstring[12] - names of the months (optional)\n\t * @return  Date - the extracted date value or null if value is blank\n\t */\n\tparseDate: function (format, value, settings) {\n\t\tif (format == null || value == null) {\n\t\t\tthrow \"Invalid arguments\";\n\t\t}\n\n\t\tvalue = (typeof value === \"object\" ? value.toString() : value + \"\");\n\t\tif (value === \"\") {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar iFormat, dim, extra,\n\t\t\tiValue = 0,\n\t\t\tshortYearCutoffTemp = (settings ? settings.shortYearCutoff : null) || this._defaults.shortYearCutoff,\n\t\t\tshortYearCutoff = (typeof shortYearCutoffTemp !== \"string\" ? shortYearCutoffTemp :\n\t\t\t\tnew Date().getFullYear() % 100 + parseInt(shortYearCutoffTemp, 10)),\n\t\t\tdayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,\n\t\t\tdayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,\n\t\t\tmonthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,\n\t\t\tmonthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,\n\t\t\tyear = -1,\n\t\t\tmonth = -1,\n\t\t\tday = -1,\n\t\t\tdoy = -1,\n\t\t\tliteral = false,\n\t\t\tdate,\n\t\t\t// Check whether a format character is doubled\n\t\t\tlookAhead = function(match) {\n\t\t\t\tvar matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);\n\t\t\t\tif (matches) {\n\t\t\t\t\tiFormat++;\n\t\t\t\t}\n\t\t\t\treturn matches;\n\t\t\t},\n\t\t\t// Extract a number from the string value\n\t\t\tgetNumber = function(match) {\n\t\t\t\tvar isDoubled = lookAhead(match),\n\t\t\t\t\tsize = (match === \"@\" ? 14 : (match === \"!\" ? 20 :\n\t\t\t\t\t(match === \"y\" && isDoubled ? 4 : (match === \"o\" ? 3 : 2)))),\n\t\t\t\t\tdigits = new RegExp(\"^\\\\d{1,\" + size + \"}\"),\n\t\t\t\t\tnum = value.substring(iValue).match(digits);\n\t\t\t\tif (!num) {\n\t\t\t\t\tthrow \"Missing number at position \" + iValue;\n\t\t\t\t}\n\t\t\t\tiValue += num[0].length;\n\t\t\t\treturn parseInt(num[0], 10);\n\t\t\t},\n\t\t\t// Extract a name from the string value and convert to an index\n\t\t\tgetName = function(match, shortNames, longNames) {\n\t\t\t\tvar index = -1,\n\t\t\t\t\tnames = $.map(lookAhead(match) ? longNames : shortNames, function (v, k) {\n\t\t\t\t\t\treturn [ [k, v] ];\n\t\t\t\t\t}).sort(function (a, b) {\n\t\t\t\t\t\treturn -(a[1].length - b[1].length);\n\t\t\t\t\t});\n\n\t\t\t\t$.each(names, function (i, pair) {\n\t\t\t\t\tvar name = pair[1];\n\t\t\t\t\tif (value.substr(iValue, name.length).toLowerCase() === name.toLowerCase()) {\n\t\t\t\t\t\tindex = pair[0];\n\t\t\t\t\t\tiValue += name.length;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\treturn index + 1;\n\t\t\t\t} else {\n\t\t\t\t\tthrow \"Unknown name at position \" + iValue;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// Confirm that a literal character matches the string value\n\t\t\tcheckLiteral = function() {\n\t\t\t\tif (value.charAt(iValue) !== format.charAt(iFormat)) {\n\t\t\t\t\tthrow \"Unexpected literal at position \" + iValue;\n\t\t\t\t}\n\t\t\t\tiValue++;\n\t\t\t};\n\n\t\tfor (iFormat = 0; iFormat < format.length; iFormat++) {\n\t\t\tif (literal) {\n\t\t\t\tif (format.charAt(iFormat) === \"'\" && !lookAhead(\"'\")) {\n\t\t\t\t\tliteral = false;\n\t\t\t\t} else {\n\t\t\t\t\tcheckLiteral();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tswitch (format.charAt(iFormat)) {\n\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\tday = getNumber(\"d\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"D\":\n\t\t\t\t\t\tgetName(\"D\", dayNamesShort, dayNames);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"o\":\n\t\t\t\t\t\tdoy = getNumber(\"o\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"m\":\n\t\t\t\t\t\tmonth = getNumber(\"m\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"M\":\n\t\t\t\t\t\tmonth = getName(\"M\", monthNamesShort, monthNames);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"y\":\n\t\t\t\t\t\tyear = getNumber(\"y\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"@\":\n\t\t\t\t\t\tdate = new Date(getNumber(\"@\"));\n\t\t\t\t\t\tyear = date.getFullYear();\n\t\t\t\t\t\tmonth = date.getMonth() + 1;\n\t\t\t\t\t\tday = date.getDate();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"!\":\n\t\t\t\t\t\tdate = new Date((getNumber(\"!\") - this._ticksTo1970) / 10000);\n\t\t\t\t\t\tyear = date.getFullYear();\n\t\t\t\t\t\tmonth = date.getMonth() + 1;\n\t\t\t\t\t\tday = date.getDate();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\tif (lookAhead(\"'\")){\n\t\t\t\t\t\t\tcheckLiteral();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcheckLiteral();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (iValue < value.length){\n\t\t\textra = value.substr(iValue);\n\t\t\tif (!/^\\s+/.test(extra)) {\n\t\t\t\tthrow \"Extra/unparsed characters found in date: \" + extra;\n\t\t\t}\n\t\t}\n\n\t\tif (year === -1) {\n\t\t\tyear = new Date().getFullYear();\n\t\t} else if (year < 100) {\n\t\t\tyear += new Date().getFullYear() - new Date().getFullYear() % 100 +\n\t\t\t\t(year <= shortYearCutoff ? 0 : -100);\n\t\t}\n\n\t\tif (doy > -1) {\n\t\t\tmonth = 1;\n\t\t\tday = doy;\n\t\t\tdo {\n\t\t\t\tdim = this._getDaysInMonth(year, month - 1);\n\t\t\t\tif (day <= dim) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tmonth++;\n\t\t\t\tday -= dim;\n\t\t\t} while (true);\n\t\t}\n\n\t\tdate = this._daylightSavingAdjust(new Date(year, month - 1, day));\n\t\tif (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) {\n\t\t\tthrow \"Invalid date\"; // E.g. 31/02/00\n\t\t}\n\t\treturn date;\n\t},\n\n\t/* Standard date formats. */\n\tATOM: \"yy-mm-dd\", // RFC 3339 (ISO 8601)\n\tCOOKIE: \"D, dd M yy\",\n\tISO_8601: \"yy-mm-dd\",\n\tRFC_822: \"D, d M y\",\n\tRFC_850: \"DD, dd-M-y\",\n\tRFC_1036: \"D, d M y\",\n\tRFC_1123: \"D, d M yy\",\n\tRFC_2822: \"D, d M yy\",\n\tRSS: \"D, d M y\", // RFC 822\n\tTICKS: \"!\",\n\tTIMESTAMP: \"@\",\n\tW3C: \"yy-mm-dd\", // ISO 8601\n\n\t_ticksTo1970: (((1970 - 1) * 365 + Math.floor(1970 / 4) - Math.floor(1970 / 100) +\n\t\tMath.floor(1970 / 400)) * 24 * 60 * 60 * 10000000),\n\n\t/* Format a date object into a string value.\n\t * The format can be combinations of the following:\n\t * d  - day of month (no leading zero)\n\t * dd - day of month (two digit)\n\t * o  - day of year (no leading zeros)\n\t * oo - day of year (three digit)\n\t * D  - day name short\n\t * DD - day name long\n\t * m  - month of year (no leading zero)\n\t * mm - month of year (two digit)\n\t * M  - month name short\n\t * MM - month name long\n\t * y  - year (two digit)\n\t * yy - year (four digit)\n\t * @ - Unix timestamp (ms since 01/01/1970)\n\t * ! - Windows ticks (100ns since 01/01/0001)\n\t * \"...\" - literal text\n\t * '' - single quote\n\t *\n\t * @param  format string - the desired format of the date\n\t * @param  date Date - the date value to format\n\t * @param  settings Object - attributes include:\n\t *\t\t\t\t\tdayNamesShort\tstring[7] - abbreviated names of the days from Sunday (optional)\n\t *\t\t\t\t\tdayNames\t\tstring[7] - names of the days from Sunday (optional)\n\t *\t\t\t\t\tmonthNamesShort string[12] - abbreviated names of the months (optional)\n\t *\t\t\t\t\tmonthNames\t\tstring[12] - names of the months (optional)\n\t * @return  string - the date in the above format\n\t */\n\tformatDate: function (format, date, settings) {\n\t\tif (!date) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tvar iFormat,\n\t\t\tdayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,\n\t\t\tdayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,\n\t\t\tmonthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,\n\t\t\tmonthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,\n\t\t\t// Check whether a format character is doubled\n\t\t\tlookAhead = function(match) {\n\t\t\t\tvar matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);\n\t\t\t\tif (matches) {\n\t\t\t\t\tiFormat++;\n\t\t\t\t}\n\t\t\t\treturn matches;\n\t\t\t},\n\t\t\t// Format a number, with leading zero if necessary\n\t\t\tformatNumber = function(match, value, len) {\n\t\t\t\tvar num = \"\" + value;\n\t\t\t\tif (lookAhead(match)) {\n\t\t\t\t\twhile (num.length < len) {\n\t\t\t\t\t\tnum = \"0\" + num;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn num;\n\t\t\t},\n\t\t\t// Format a name, short or long as requested\n\t\t\tformatName = function(match, value, shortNames, longNames) {\n\t\t\t\treturn (lookAhead(match) ? longNames[value] : shortNames[value]);\n\t\t\t},\n\t\t\toutput = \"\",\n\t\t\tliteral = false;\n\n\t\tif (date) {\n\t\t\tfor (iFormat = 0; iFormat < format.length; iFormat++) {\n\t\t\t\tif (literal) {\n\t\t\t\t\tif (format.charAt(iFormat) === \"'\" && !lookAhead(\"'\")) {\n\t\t\t\t\t\tliteral = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutput += format.charAt(iFormat);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (format.charAt(iFormat)) {\n\t\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\t\toutput += formatNumber(\"d\", date.getDate(), 2);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"D\":\n\t\t\t\t\t\t\toutput += formatName(\"D\", date.getDay(), dayNamesShort, dayNames);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"o\":\n\t\t\t\t\t\t\toutput += formatNumber(\"o\",\n\t\t\t\t\t\t\t\tMath.round((new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / 86400000), 3);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"m\":\n\t\t\t\t\t\t\toutput += formatNumber(\"m\", date.getMonth() + 1, 2);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"M\":\n\t\t\t\t\t\t\toutput += formatName(\"M\", date.getMonth(), monthNamesShort, monthNames);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"y\":\n\t\t\t\t\t\t\toutput += (lookAhead(\"y\") ? date.getFullYear() :\n\t\t\t\t\t\t\t\t(date.getYear() % 100 < 10 ? \"0\" : \"\") + date.getYear() % 100);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"@\":\n\t\t\t\t\t\t\toutput += date.getTime();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"!\":\n\t\t\t\t\t\t\toutput += date.getTime() * 10000 + this._ticksTo1970;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\t\tif (lookAhead(\"'\")) {\n\t\t\t\t\t\t\t\toutput += \"'\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\toutput += format.charAt(iFormat);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t},\n\n\t/* Extract all possible characters from the date format. */\n\t_possibleChars: function (format) {\n\t\tvar iFormat,\n\t\t\tchars = \"\",\n\t\t\tliteral = false,\n\t\t\t// Check whether a format character is doubled\n\t\t\tlookAhead = function(match) {\n\t\t\t\tvar matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);\n\t\t\t\tif (matches) {\n\t\t\t\t\tiFormat++;\n\t\t\t\t}\n\t\t\t\treturn matches;\n\t\t\t};\n\n\t\tfor (iFormat = 0; iFormat < format.length; iFormat++) {\n\t\t\tif (literal) {\n\t\t\t\tif (format.charAt(iFormat) === \"'\" && !lookAhead(\"'\")) {\n\t\t\t\t\tliteral = false;\n\t\t\t\t} else {\n\t\t\t\t\tchars += format.charAt(iFormat);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tswitch (format.charAt(iFormat)) {\n\t\t\t\t\tcase \"d\": case \"m\": case \"y\": case \"@\":\n\t\t\t\t\t\tchars += \"0123456789\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"D\": case \"M\":\n\t\t\t\t\t\treturn null; // Accept anything\n\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\tif (lookAhead(\"'\")) {\n\t\t\t\t\t\t\tchars += \"'\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tchars += format.charAt(iFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn chars;\n\t},\n\n\t/* Get a setting value, defaulting if necessary. */\n\t_get: function(inst, name) {\n\t\treturn inst.settings[name] !== undefined ?\n\t\t\tinst.settings[name] : this._defaults[name];\n\t},\n\n\t/* Parse existing date and initialise date picker. */\n\t_setDateFromField: function(inst, noDefault) {\n\t\tif (inst.input.val() === inst.lastVal) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar dateFormat = this._get(inst, \"dateFormat\"),\n\t\t\tdates = inst.lastVal = inst.input ? inst.input.val() : null,\n\t\t\tdefaultDate = this._getDefaultDate(inst),\n\t\t\tdate = defaultDate,\n\t\t\tsettings = this._getFormatConfig(inst);\n\n\t\ttry {\n\t\t\tdate = this.parseDate(dateFormat, dates, settings) || defaultDate;\n\t\t} catch (event) {\n\t\t\tdates = (noDefault ? \"\" : dates);\n\t\t}\n\t\tinst.selectedDay = date.getDate();\n\t\tinst.drawMonth = inst.selectedMonth = date.getMonth();\n\t\tinst.drawYear = inst.selectedYear = date.getFullYear();\n\t\tinst.currentDay = (dates ? date.getDate() : 0);\n\t\tinst.currentMonth = (dates ? date.getMonth() : 0);\n\t\tinst.currentYear = (dates ? date.getFullYear() : 0);\n\t\tthis._adjustInstDate(inst);\n\t},\n\n\t/* Retrieve the default date shown on opening. */\n\t_getDefaultDate: function(inst) {\n\t\treturn this._restrictMinMax(inst,\n\t\t\tthis._determineDate(inst, this._get(inst, \"defaultDate\"), new Date()));\n\t},\n\n\t/* A date may be specified as an exact value or a relative one. */\n\t_determineDate: function(inst, date, defaultDate) {\n\t\tvar offsetNumeric = function(offset) {\n\t\t\t\tvar date = new Date();\n\t\t\t\tdate.setDate(date.getDate() + offset);\n\t\t\t\treturn date;\n\t\t\t},\n\t\t\toffsetString = function(offset) {\n\t\t\t\ttry {\n\t\t\t\t\treturn $.datepicker.parseDate($.datepicker._get(inst, \"dateFormat\"),\n\t\t\t\t\t\toffset, $.datepicker._getFormatConfig(inst));\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\t// Ignore\n\t\t\t\t}\n\n\t\t\t\tvar date = (offset.toLowerCase().match(/^c/) ?\n\t\t\t\t\t$.datepicker._getDate(inst) : null) || new Date(),\n\t\t\t\t\tyear = date.getFullYear(),\n\t\t\t\t\tmonth = date.getMonth(),\n\t\t\t\t\tday = date.getDate(),\n\t\t\t\t\tpattern = /([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,\n\t\t\t\t\tmatches = pattern.exec(offset);\n\n\t\t\t\twhile (matches) {\n\t\t\t\t\tswitch (matches[2] || \"d\") {\n\t\t\t\t\t\tcase \"d\" : case \"D\" :\n\t\t\t\t\t\t\tday += parseInt(matches[1],10); break;\n\t\t\t\t\t\tcase \"w\" : case \"W\" :\n\t\t\t\t\t\t\tday += parseInt(matches[1],10) * 7; break;\n\t\t\t\t\t\tcase \"m\" : case \"M\" :\n\t\t\t\t\t\t\tmonth += parseInt(matches[1],10);\n\t\t\t\t\t\t\tday = Math.min(day, $.datepicker._getDaysInMonth(year, month));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"y\": case \"Y\" :\n\t\t\t\t\t\t\tyear += parseInt(matches[1],10);\n\t\t\t\t\t\t\tday = Math.min(day, $.datepicker._getDaysInMonth(year, month));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tmatches = pattern.exec(offset);\n\t\t\t\t}\n\t\t\t\treturn new Date(year, month, day);\n\t\t\t},\n\t\t\tnewDate = (date == null || date === \"\" ? defaultDate : (typeof date === \"string\" ? offsetString(date) :\n\t\t\t\t(typeof date === \"number\" ? (isNaN(date) ? defaultDate : offsetNumeric(date)) : new Date(date.getTime()))));\n\n\t\tnewDate = (newDate && newDate.toString() === \"Invalid Date\" ? defaultDate : newDate);\n\t\tif (newDate) {\n\t\t\tnewDate.setHours(0);\n\t\t\tnewDate.setMinutes(0);\n\t\t\tnewDate.setSeconds(0);\n\t\t\tnewDate.setMilliseconds(0);\n\t\t}\n\t\treturn this._daylightSavingAdjust(newDate);\n\t},\n\n\t/* Handle switch to/from daylight saving.\n\t * Hours may be non-zero on daylight saving cut-over:\n\t * > 12 when midnight changeover, but then cannot generate\n\t * midnight datetime, so jump to 1AM, otherwise reset.\n\t * @param  date  (Date) the date to check\n\t * @return  (Date) the corrected date\n\t */\n\t_daylightSavingAdjust: function(date) {\n\t\tif (!date) {\n\t\t\treturn null;\n\t\t}\n\t\tdate.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);\n\t\treturn date;\n\t},\n\n\t/* Set the date(s) directly. */\n\t_setDate: function(inst, date, noChange) {\n\t\tvar clear = !date,\n\t\t\torigMonth = inst.selectedMonth,\n\t\t\torigYear = inst.selectedYear,\n\t\t\tnewDate = this._restrictMinMax(inst, this._determineDate(inst, date, new Date()));\n\n\t\tinst.selectedDay = inst.currentDay = newDate.getDate();\n\t\tinst.drawMonth = inst.selectedMonth = inst.currentMonth = newDate.getMonth();\n\t\tinst.drawYear = inst.selectedYear = inst.currentYear = newDate.getFullYear();\n\t\tif ((origMonth !== inst.selectedMonth || origYear !== inst.selectedYear) && !noChange) {\n\t\t\tthis._notifyChange(inst);\n\t\t}\n\t\tthis._adjustInstDate(inst);\n\t\tif (inst.input) {\n\t\t\tinst.input.val(clear ? \"\" : this._formatDate(inst));\n\t\t}\n\t},\n\n\t/* Retrieve the date(s) directly. */\n\t_getDate: function(inst) {\n\t\tvar startDate = (!inst.currentYear || (inst.input && inst.input.val() === \"\") ? null :\n\t\t\tthis._daylightSavingAdjust(new Date(\n\t\t\tinst.currentYear, inst.currentMonth, inst.currentDay)));\n\t\t\treturn startDate;\n\t},\n\n\t/* Attach the onxxx handlers.  These are declared statically so\n\t * they work with static code transformers like Caja.\n\t */\n\t_attachHandlers: function(inst) {\n\t\tvar stepMonths = this._get(inst, \"stepMonths\"),\n\t\t\tid = \"#\" + inst.id.replace( /\\\\\\\\/g, \"\\\\\" );\n\t\tinst.dpDiv.find(\"[data-handler]\").map(function () {\n\t\t\tvar handler = {\n\t\t\t\tprev: function () {\n\t\t\t\t\t$.datepicker._adjustDate(id, -stepMonths, \"M\");\n\t\t\t\t},\n\t\t\t\tnext: function () {\n\t\t\t\t\t$.datepicker._adjustDate(id, +stepMonths, \"M\");\n\t\t\t\t},\n\t\t\t\thide: function () {\n\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t},\n\t\t\t\ttoday: function () {\n\t\t\t\t\t$.datepicker._gotoToday(id);\n\t\t\t\t},\n\t\t\t\tselectDay: function () {\n\t\t\t\t\t$.datepicker._selectDay(id, +this.getAttribute(\"data-month\"), +this.getAttribute(\"data-year\"), this);\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tselectMonth: function () {\n\t\t\t\t\t$.datepicker._selectMonthYear(id, this, \"M\");\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tselectYear: function () {\n\t\t\t\t\t$.datepicker._selectMonthYear(id, this, \"Y\");\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t};\n\t\t\t$(this).bind(this.getAttribute(\"data-event\"), handler[this.getAttribute(\"data-handler\")]);\n\t\t});\n\t},\n\n\t/* Generate the HTML for the current state of the date picker. */\n\t_generateHTML: function(inst) {\n\t\tvar maxDraw, prevText, prev, nextText, next, currentText, gotoDate,\n\t\t\tcontrols, buttonPanel, firstDay, showWeek, dayNames, dayNamesMin,\n\t\t\tmonthNames, monthNamesShort, beforeShowDay, showOtherMonths,\n\t\t\tselectOtherMonths, defaultDate, html, dow, row, group, col, selectedDate,\n\t\t\tcornerClass, calender, thead, day, daysInMonth, leadDays, curRows, numRows,\n\t\t\tprintDate, dRow, tbody, daySettings, otherMonth, unselectable,\n\t\t\ttempDate = new Date(),\n\t\t\ttoday = this._daylightSavingAdjust(\n\t\t\t\tnew Date(tempDate.getFullYear(), tempDate.getMonth(), tempDate.getDate())), // clear time\n\t\t\tisRTL = this._get(inst, \"isRTL\"),\n\t\t\tshowButtonPanel = this._get(inst, \"showButtonPanel\"),\n\t\t\thideIfNoPrevNext = this._get(inst, \"hideIfNoPrevNext\"),\n\t\t\tnavigationAsDateFormat = this._get(inst, \"navigationAsDateFormat\"),\n\t\t\tnumMonths = this._getNumberOfMonths(inst),\n\t\t\tshowCurrentAtPos = this._get(inst, \"showCurrentAtPos\"),\n\t\t\tstepMonths = this._get(inst, \"stepMonths\"),\n\t\t\tisMultiMonth = (numMonths[0] !== 1 || numMonths[1] !== 1),\n\t\t\tcurrentDate = this._daylightSavingAdjust((!inst.currentDay ? new Date(9999, 9, 9) :\n\t\t\t\tnew Date(inst.currentYear, inst.currentMonth, inst.currentDay))),\n\t\t\tminDate = this._getMinMaxDate(inst, \"min\"),\n\t\t\tmaxDate = this._getMinMaxDate(inst, \"max\"),\n\t\t\tdrawMonth = inst.drawMonth - showCurrentAtPos,\n\t\t\tdrawYear = inst.drawYear;\n\n\t\tif (drawMonth < 0) {\n\t\t\tdrawMonth += 12;\n\t\t\tdrawYear--;\n\t\t}\n\t\tif (maxDate) {\n\t\t\tmaxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(),\n\t\t\t\tmaxDate.getMonth() - (numMonths[0] * numMonths[1]) + 1, maxDate.getDate()));\n\t\t\tmaxDraw = (minDate && maxDraw < minDate ? minDate : maxDraw);\n\t\t\twhile (this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1)) > maxDraw) {\n\t\t\t\tdrawMonth--;\n\t\t\t\tif (drawMonth < 0) {\n\t\t\t\t\tdrawMonth = 11;\n\t\t\t\t\tdrawYear--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tinst.drawMonth = drawMonth;\n\t\tinst.drawYear = drawYear;\n\n\t\tprevText = this._get(inst, \"prevText\");\n\t\tprevText = (!navigationAsDateFormat ? prevText : this.formatDate(prevText,\n\t\t\tthis._daylightSavingAdjust(new Date(drawYear, drawMonth - stepMonths, 1)),\n\t\t\tthis._getFormatConfig(inst)));\n\n\t\tprev = (this._canAdjustMonth(inst, -1, drawYear, drawMonth) ?\n\t\t\t\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'\" +\n\t\t\t\" title='\" + prevText + \"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"e\" : \"w\") + \"'>\" + prevText + \"</span></a>\" :\n\t\t\t(hideIfNoPrevNext ? \"\" : \"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\"+ prevText +\"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"e\" : \"w\") + \"'>\" + prevText + \"</span></a>\"));\n\n\t\tnextText = this._get(inst, \"nextText\");\n\t\tnextText = (!navigationAsDateFormat ? nextText : this.formatDate(nextText,\n\t\t\tthis._daylightSavingAdjust(new Date(drawYear, drawMonth + stepMonths, 1)),\n\t\t\tthis._getFormatConfig(inst)));\n\n\t\tnext = (this._canAdjustMonth(inst, +1, drawYear, drawMonth) ?\n\t\t\t\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'\" +\n\t\t\t\" title='\" + nextText + \"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"w\" : \"e\") + \"'>\" + nextText + \"</span></a>\" :\n\t\t\t(hideIfNoPrevNext ? \"\" : \"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\"+ nextText + \"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"w\" : \"e\") + \"'>\" + nextText + \"</span></a>\"));\n\n\t\tcurrentText = this._get(inst, \"currentText\");\n\t\tgotoDate = (this._get(inst, \"gotoCurrent\") && inst.currentDay ? currentDate : today);\n\t\tcurrentText = (!navigationAsDateFormat ? currentText :\n\t\t\tthis.formatDate(currentText, gotoDate, this._getFormatConfig(inst)));\n\n\t\tcontrols = (!inst.inline ? \"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\" +\n\t\t\tthis._get(inst, \"closeText\") + \"</button>\" : \"\");\n\n\t\tbuttonPanel = (showButtonPanel) ? \"<div class='ui-datepicker-buttonpane ui-widget-content'>\" + (isRTL ? controls : \"\") +\n\t\t\t(this._isInRange(inst, gotoDate) ? \"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'\" +\n\t\t\t\">\" + currentText + \"</button>\" : \"\") + (isRTL ? \"\" : controls) + \"</div>\" : \"\";\n\n\t\tfirstDay = parseInt(this._get(inst, \"firstDay\"),10);\n\t\tfirstDay = (isNaN(firstDay) ? 0 : firstDay);\n\n\t\tshowWeek = this._get(inst, \"showWeek\");\n\t\tdayNames = this._get(inst, \"dayNames\");\n\t\tdayNamesMin = this._get(inst, \"dayNamesMin\");\n\t\tmonthNames = this._get(inst, \"monthNames\");\n\t\tmonthNamesShort = this._get(inst, \"monthNamesShort\");\n\t\tbeforeShowDay = this._get(inst, \"beforeShowDay\");\n\t\tshowOtherMonths = this._get(inst, \"showOtherMonths\");\n\t\tselectOtherMonths = this._get(inst, \"selectOtherMonths\");\n\t\tdefaultDate = this._getDefaultDate(inst);\n\t\thtml = \"\";\n\t\tdow;\n\t\tfor (row = 0; row < numMonths[0]; row++) {\n\t\t\tgroup = \"\";\n\t\t\tthis.maxRows = 4;\n\t\t\tfor (col = 0; col < numMonths[1]; col++) {\n\t\t\t\tselectedDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, inst.selectedDay));\n\t\t\t\tcornerClass = \" ui-corner-all\";\n\t\t\t\tcalender = \"\";\n\t\t\t\tif (isMultiMonth) {\n\t\t\t\t\tcalender += \"<div class='ui-datepicker-group\";\n\t\t\t\t\tif (numMonths[1] > 1) {\n\t\t\t\t\t\tswitch (col) {\n\t\t\t\t\t\t\tcase 0: calender += \" ui-datepicker-group-first\";\n\t\t\t\t\t\t\t\tcornerClass = \" ui-corner-\" + (isRTL ? \"right\" : \"left\"); break;\n\t\t\t\t\t\t\tcase numMonths[1]-1: calender += \" ui-datepicker-group-last\";\n\t\t\t\t\t\t\t\tcornerClass = \" ui-corner-\" + (isRTL ? \"left\" : \"right\"); break;\n\t\t\t\t\t\t\tdefault: calender += \" ui-datepicker-group-middle\"; cornerClass = \"\"; break;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcalender += \"'>\";\n\t\t\t\t}\n\t\t\t\tcalender += \"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\" + cornerClass + \"'>\" +\n\t\t\t\t\t(/all|left/.test(cornerClass) && row === 0 ? (isRTL ? next : prev) : \"\") +\n\t\t\t\t\t(/all|right/.test(cornerClass) && row === 0 ? (isRTL ? prev : next) : \"\") +\n\t\t\t\t\tthis._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate,\n\t\t\t\t\trow > 0 || col > 0, monthNames, monthNamesShort) + // draw month headers\n\t\t\t\t\t\"</div><table class='ui-datepicker-calendar'><thead>\" +\n\t\t\t\t\t\"<tr>\";\n\t\t\t\tthead = (showWeek ? \"<th class='ui-datepicker-week-col'>\" + this._get(inst, \"weekHeader\") + \"</th>\" : \"\");\n\t\t\t\tfor (dow = 0; dow < 7; dow++) { // days of the week\n\t\t\t\t\tday = (dow + firstDay) % 7;\n\t\t\t\t\tthead += \"<th\" + ((dow + firstDay + 6) % 7 >= 5 ? \" class='ui-datepicker-week-end'\" : \"\") + \">\" +\n\t\t\t\t\t\t\"<span title='\" + dayNames[day] + \"'>\" + dayNamesMin[day] + \"</span></th>\";\n\t\t\t\t}\n\t\t\t\tcalender += thead + \"</tr></thead><tbody>\";\n\t\t\t\tdaysInMonth = this._getDaysInMonth(drawYear, drawMonth);\n\t\t\t\tif (drawYear === inst.selectedYear && drawMonth === inst.selectedMonth) {\n\t\t\t\t\tinst.selectedDay = Math.min(inst.selectedDay, daysInMonth);\n\t\t\t\t}\n\t\t\t\tleadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;\n\t\t\t\tcurRows = Math.ceil((leadDays + daysInMonth) / 7); // calculate the number of rows to generate\n\t\t\t\tnumRows = (isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows); //If multiple months, use the higher number of rows (see #7043)\n\t\t\t\tthis.maxRows = numRows;\n\t\t\t\tprintDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1 - leadDays));\n\t\t\t\tfor (dRow = 0; dRow < numRows; dRow++) { // create date picker rows\n\t\t\t\t\tcalender += \"<tr>\";\n\t\t\t\t\ttbody = (!showWeek ? \"\" : \"<td class='ui-datepicker-week-col'>\" +\n\t\t\t\t\t\tthis._get(inst, \"calculateWeek\")(printDate) + \"</td>\");\n\t\t\t\t\tfor (dow = 0; dow < 7; dow++) { // create date picker days\n\t\t\t\t\t\tdaySettings = (beforeShowDay ?\n\t\t\t\t\t\t\tbeforeShowDay.apply((inst.input ? inst.input[0] : null), [printDate]) : [true, \"\"]);\n\t\t\t\t\t\totherMonth = (printDate.getMonth() !== drawMonth);\n\t\t\t\t\t\tunselectable = (otherMonth && !selectOtherMonths) || !daySettings[0] ||\n\t\t\t\t\t\t\t(minDate && printDate < minDate) || (maxDate && printDate > maxDate);\n\t\t\t\t\t\ttbody += \"<td class='\" +\n\t\t\t\t\t\t\t((dow + firstDay + 6) % 7 >= 5 ? \" ui-datepicker-week-end\" : \"\") + // highlight weekends\n\t\t\t\t\t\t\t(otherMonth ? \" ui-datepicker-other-month\" : \"\") + // highlight days from other months\n\t\t\t\t\t\t\t((printDate.getTime() === selectedDate.getTime() && drawMonth === inst.selectedMonth && inst._keyEvent) || // user pressed key\n\t\t\t\t\t\t\t(defaultDate.getTime() === printDate.getTime() && defaultDate.getTime() === selectedDate.getTime()) ?\n\t\t\t\t\t\t\t// or defaultDate is current printedDate and defaultDate is selectedDate\n\t\t\t\t\t\t\t\" \" + this._dayOverClass : \"\") + // highlight selected day\n\t\t\t\t\t\t\t(unselectable ? \" \" + this._unselectableClass + \" ui-state-disabled\": \"\") +  // highlight unselectable days\n\t\t\t\t\t\t\t(otherMonth && !showOtherMonths ? \"\" : \" \" + daySettings[1] + // highlight custom dates\n\t\t\t\t\t\t\t(printDate.getTime() === currentDate.getTime() ? \" \" + this._currentClass : \"\") + // highlight selected day\n\t\t\t\t\t\t\t(printDate.getTime() === today.getTime() ? \" ui-datepicker-today\" : \"\")) + \"'\" + // highlight today (if different)\n\t\t\t\t\t\t\t((!otherMonth || showOtherMonths) && daySettings[2] ? \" title='\" + daySettings[2].replace(/'/g, \"&#39;\") + \"'\" : \"\") + // cell title\n\t\t\t\t\t\t\t(unselectable ? \"\" : \" data-handler='selectDay' data-event='click' data-month='\" + printDate.getMonth() + \"' data-year='\" + printDate.getFullYear() + \"'\") + \">\" + // actions\n\t\t\t\t\t\t\t(otherMonth && !showOtherMonths ? \"&#xa0;\" : // display for other months\n\t\t\t\t\t\t\t(unselectable ? \"<span class='ui-state-default'>\" + printDate.getDate() + \"</span>\" : \"<a class='ui-state-default\" +\n\t\t\t\t\t\t\t(printDate.getTime() === today.getTime() ? \" ui-state-highlight\" : \"\") +\n\t\t\t\t\t\t\t(printDate.getTime() === currentDate.getTime() ? \" ui-state-active\" : \"\") + // highlight selected day\n\t\t\t\t\t\t\t(otherMonth ? \" ui-priority-secondary\" : \"\") + // distinguish dates from other months\n\t\t\t\t\t\t\t\"' href='#'>\" + printDate.getDate() + \"</a>\")) + \"</td>\"; // display selectable date\n\t\t\t\t\t\tprintDate.setDate(printDate.getDate() + 1);\n\t\t\t\t\t\tprintDate = this._daylightSavingAdjust(printDate);\n\t\t\t\t\t}\n\t\t\t\t\tcalender += tbody + \"</tr>\";\n\t\t\t\t}\n\t\t\t\tdrawMonth++;\n\t\t\t\tif (drawMonth > 11) {\n\t\t\t\t\tdrawMonth = 0;\n\t\t\t\t\tdrawYear++;\n\t\t\t\t}\n\t\t\t\tcalender += \"</tbody></table>\" + (isMultiMonth ? \"</div>\" +\n\t\t\t\t\t\t\t((numMonths[0] > 0 && col === numMonths[1]-1) ? \"<div class='ui-datepicker-row-break'></div>\" : \"\") : \"\");\n\t\t\t\tgroup += calender;\n\t\t\t}\n\t\t\thtml += group;\n\t\t}\n\t\thtml += buttonPanel;\n\t\tinst._keyEvent = false;\n\t\treturn html;\n\t},\n\n\t/* Generate the month and year header. */\n\t_generateMonthYearHeader: function(inst, drawMonth, drawYear, minDate, maxDate,\n\t\t\tsecondary, monthNames, monthNamesShort) {\n\n\t\tvar inMinYear, inMaxYear, month, years, thisYear, determineYear, year, endYear,\n\t\t\tchangeMonth = this._get(inst, \"changeMonth\"),\n\t\t\tchangeYear = this._get(inst, \"changeYear\"),\n\t\t\tshowMonthAfterYear = this._get(inst, \"showMonthAfterYear\"),\n\t\t\thtml = \"<div class='ui-datepicker-title'>\",\n\t\t\tmonthHtml = \"\";\n\n\t\t// month selection\n\t\tif (secondary || !changeMonth) {\n\t\t\tmonthHtml += \"<span class='ui-datepicker-month'>\" + monthNames[drawMonth] + \"</span>\";\n\t\t} else {\n\t\t\tinMinYear = (minDate && minDate.getFullYear() === drawYear);\n\t\t\tinMaxYear = (maxDate && maxDate.getFullYear() === drawYear);\n\t\t\tmonthHtml += \"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\";\n\t\t\tfor ( month = 0; month < 12; month++) {\n\t\t\t\tif ((!inMinYear || month >= minDate.getMonth()) && (!inMaxYear || month <= maxDate.getMonth())) {\n\t\t\t\t\tmonthHtml += \"<option value='\" + month + \"'\" +\n\t\t\t\t\t\t(month === drawMonth ? \" selected='selected'\" : \"\") +\n\t\t\t\t\t\t\">\" + monthNamesShort[month] + \"</option>\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tmonthHtml += \"</select>\";\n\t\t}\n\n\t\tif (!showMonthAfterYear) {\n\t\t\thtml += monthHtml + (secondary || !(changeMonth && changeYear) ? \"&#xa0;\" : \"\");\n\t\t}\n\n\t\t// year selection\n\t\tif ( !inst.yearshtml ) {\n\t\t\tinst.yearshtml = \"\";\n\t\t\tif (secondary || !changeYear) {\n\t\t\t\thtml += \"<span class='ui-datepicker-year'>\" + drawYear + \"</span>\";\n\t\t\t} else {\n\t\t\t\t// determine range of years to display\n\t\t\t\tyears = this._get(inst, \"yearRange\").split(\":\");\n\t\t\t\tthisYear = new Date().getFullYear();\n\t\t\t\tdetermineYear = function(value) {\n\t\t\t\t\tvar year = (value.match(/c[+\\-].*/) ? drawYear + parseInt(value.substring(1), 10) :\n\t\t\t\t\t\t(value.match(/[+\\-].*/) ? thisYear + parseInt(value, 10) :\n\t\t\t\t\t\tparseInt(value, 10)));\n\t\t\t\t\treturn (isNaN(year) ? thisYear : year);\n\t\t\t\t};\n\t\t\t\tyear = determineYear(years[0]);\n\t\t\t\tendYear = Math.max(year, determineYear(years[1] || \"\"));\n\t\t\t\tyear = (minDate ? Math.max(year, minDate.getFullYear()) : year);\n\t\t\t\tendYear = (maxDate ? Math.min(endYear, maxDate.getFullYear()) : endYear);\n\t\t\t\tinst.yearshtml += \"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\";\n\t\t\t\tfor (; year <= endYear; year++) {\n\t\t\t\t\tinst.yearshtml += \"<option value='\" + year + \"'\" +\n\t\t\t\t\t\t(year === drawYear ? \" selected='selected'\" : \"\") +\n\t\t\t\t\t\t\">\" + year + \"</option>\";\n\t\t\t\t}\n\t\t\t\tinst.yearshtml += \"</select>\";\n\n\t\t\t\thtml += inst.yearshtml;\n\t\t\t\tinst.yearshtml = null;\n\t\t\t}\n\t\t}\n\n\t\thtml += this._get(inst, \"yearSuffix\");\n\t\tif (showMonthAfterYear) {\n\t\t\thtml += (secondary || !(changeMonth && changeYear) ? \"&#xa0;\" : \"\") + monthHtml;\n\t\t}\n\t\thtml += \"</div>\"; // Close datepicker_header\n\t\treturn html;\n\t},\n\n\t/* Adjust one of the date sub-fields. */\n\t_adjustInstDate: function(inst, offset, period) {\n\t\tvar year = inst.drawYear + (period === \"Y\" ? offset : 0),\n\t\t\tmonth = inst.drawMonth + (period === \"M\" ? offset : 0),\n\t\t\tday = Math.min(inst.selectedDay, this._getDaysInMonth(year, month)) + (period === \"D\" ? offset : 0),\n\t\t\tdate = this._restrictMinMax(inst, this._daylightSavingAdjust(new Date(year, month, day)));\n\n\t\tinst.selectedDay = date.getDate();\n\t\tinst.drawMonth = inst.selectedMonth = date.getMonth();\n\t\tinst.drawYear = inst.selectedYear = date.getFullYear();\n\t\tif (period === \"M\" || period === \"Y\") {\n\t\t\tthis._notifyChange(inst);\n\t\t}\n\t},\n\n\t/* Ensure a date is within any min/max bounds. */\n\t_restrictMinMax: function(inst, date) {\n\t\tvar minDate = this._getMinMaxDate(inst, \"min\"),\n\t\t\tmaxDate = this._getMinMaxDate(inst, \"max\"),\n\t\t\tnewDate = (minDate && date < minDate ? minDate : date);\n\t\treturn (maxDate && newDate > maxDate ? maxDate : newDate);\n\t},\n\n\t/* Notify change of month/year. */\n\t_notifyChange: function(inst) {\n\t\tvar onChange = this._get(inst, \"onChangeMonthYear\");\n\t\tif (onChange) {\n\t\t\tonChange.apply((inst.input ? inst.input[0] : null),\n\t\t\t\t[inst.selectedYear, inst.selectedMonth + 1, inst]);\n\t\t}\n\t},\n\n\t/* Determine the number of months to show. */\n\t_getNumberOfMonths: function(inst) {\n\t\tvar numMonths = this._get(inst, \"numberOfMonths\");\n\t\treturn (numMonths == null ? [1, 1] : (typeof numMonths === \"number\" ? [1, numMonths] : numMonths));\n\t},\n\n\t/* Determine the current maximum date - ensure no time components are set. */\n\t_getMinMaxDate: function(inst, minMax) {\n\t\treturn this._determineDate(inst, this._get(inst, minMax + \"Date\"), null);\n\t},\n\n\t/* Find the number of days in a given month. */\n\t_getDaysInMonth: function(year, month) {\n\t\treturn 32 - this._daylightSavingAdjust(new Date(year, month, 32)).getDate();\n\t},\n\n\t/* Find the day of the week of the first of a month. */\n\t_getFirstDayOfMonth: function(year, month) {\n\t\treturn new Date(year, month, 1).getDay();\n\t},\n\n\t/* Determines if we should allow a \"next/prev\" month display change. */\n\t_canAdjustMonth: function(inst, offset, curYear, curMonth) {\n\t\tvar numMonths = this._getNumberOfMonths(inst),\n\t\t\tdate = this._daylightSavingAdjust(new Date(curYear,\n\t\t\tcurMonth + (offset < 0 ? offset : numMonths[0] * numMonths[1]), 1));\n\n\t\tif (offset < 0) {\n\t\t\tdate.setDate(this._getDaysInMonth(date.getFullYear(), date.getMonth()));\n\t\t}\n\t\treturn this._isInRange(inst, date);\n\t},\n\n\t/* Is the given date in the accepted range? */\n\t_isInRange: function(inst, date) {\n\t\tvar yearSplit, currentYear,\n\t\t\tminDate = this._getMinMaxDate(inst, \"min\"),\n\t\t\tmaxDate = this._getMinMaxDate(inst, \"max\"),\n\t\t\tminYear = null,\n\t\t\tmaxYear = null,\n\t\t\tyears = this._get(inst, \"yearRange\");\n\t\t\tif (years){\n\t\t\t\tyearSplit = years.split(\":\");\n\t\t\t\tcurrentYear = new Date().getFullYear();\n\t\t\t\tminYear = parseInt(yearSplit[0], 10);\n\t\t\t\tmaxYear = parseInt(yearSplit[1], 10);\n\t\t\t\tif ( yearSplit[0].match(/[+\\-].*/) ) {\n\t\t\t\t\tminYear += currentYear;\n\t\t\t\t}\n\t\t\t\tif ( yearSplit[1].match(/[+\\-].*/) ) {\n\t\t\t\t\tmaxYear += currentYear;\n\t\t\t\t}\n\t\t\t}\n\n\t\treturn ((!minDate || date.getTime() >= minDate.getTime()) &&\n\t\t\t(!maxDate || date.getTime() <= maxDate.getTime()) &&\n\t\t\t(!minYear || date.getFullYear() >= minYear) &&\n\t\t\t(!maxYear || date.getFullYear() <= maxYear));\n\t},\n\n\t/* Provide the configuration settings for formatting/parsing. */\n\t_getFormatConfig: function(inst) {\n\t\tvar shortYearCutoff = this._get(inst, \"shortYearCutoff\");\n\t\tshortYearCutoff = (typeof shortYearCutoff !== \"string\" ? shortYearCutoff :\n\t\t\tnew Date().getFullYear() % 100 + parseInt(shortYearCutoff, 10));\n\t\treturn {shortYearCutoff: shortYearCutoff,\n\t\t\tdayNamesShort: this._get(inst, \"dayNamesShort\"), dayNames: this._get(inst, \"dayNames\"),\n\t\t\tmonthNamesShort: this._get(inst, \"monthNamesShort\"), monthNames: this._get(inst, \"monthNames\")};\n\t},\n\n\t/* Format the given date for display. */\n\t_formatDate: function(inst, day, month, year) {\n\t\tif (!day) {\n\t\t\tinst.currentDay = inst.selectedDay;\n\t\t\tinst.currentMonth = inst.selectedMonth;\n\t\t\tinst.currentYear = inst.selectedYear;\n\t\t}\n\t\tvar date = (day ? (typeof day === \"object\" ? day :\n\t\t\tthis._daylightSavingAdjust(new Date(year, month, day))) :\n\t\t\tthis._daylightSavingAdjust(new Date(inst.currentYear, inst.currentMonth, inst.currentDay)));\n\t\treturn this.formatDate(this._get(inst, \"dateFormat\"), date, this._getFormatConfig(inst));\n\t}\n});\n\n/*\n * Bind hover events for datepicker elements.\n * Done via delegate so the binding only occurs once in the lifetime of the parent div.\n * Global instActive, set by _updateDatepicker allows the handlers to find their way back to the active picker.\n */\nfunction bindHover(dpDiv) {\n\tvar selector = \"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\";\n\treturn dpDiv.delegate(selector, \"mouseout\", function() {\n\t\t\t$(this).removeClass(\"ui-state-hover\");\n\t\t\tif (this.className.indexOf(\"ui-datepicker-prev\") !== -1) {\n\t\t\t\t$(this).removeClass(\"ui-datepicker-prev-hover\");\n\t\t\t}\n\t\t\tif (this.className.indexOf(\"ui-datepicker-next\") !== -1) {\n\t\t\t\t$(this).removeClass(\"ui-datepicker-next-hover\");\n\t\t\t}\n\t\t})\n\t\t.delegate(selector, \"mouseover\", function(){\n\t\t\tif (!$.datepicker._isDisabledDatepicker( instActive.inline ? dpDiv.parent()[0] : instActive.input[0])) {\n\t\t\t\t$(this).parents(\".ui-datepicker-calendar\").find(\"a\").removeClass(\"ui-state-hover\");\n\t\t\t\t$(this).addClass(\"ui-state-hover\");\n\t\t\t\tif (this.className.indexOf(\"ui-datepicker-prev\") !== -1) {\n\t\t\t\t\t$(this).addClass(\"ui-datepicker-prev-hover\");\n\t\t\t\t}\n\t\t\t\tif (this.className.indexOf(\"ui-datepicker-next\") !== -1) {\n\t\t\t\t\t$(this).addClass(\"ui-datepicker-next-hover\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n}\n\n/* jQuery extend now ignores nulls! */\nfunction extendRemove(target, props) {\n\t$.extend(target, props);\n\tfor (var name in props) {\n\t\tif (props[name] == null) {\n\t\t\ttarget[name] = props[name];\n\t\t}\n\t}\n\treturn target;\n}\n\n/* Invoke the datepicker functionality.\n   @param  options  string - a command, optionally followed by additional parameters or\n\t\t\t\t\tObject - settings for attaching new datepicker functionality\n   @return  jQuery object */\n$.fn.datepicker = function(options){\n\n\t/* Verify an empty collection wasn't passed - Fixes #6976 */\n\tif ( !this.length ) {\n\t\treturn this;\n\t}\n\n\t/* Initialise the date picker. */\n\tif (!$.datepicker.initialized) {\n\t\t$(document).mousedown($.datepicker._checkExternalClick);\n\t\t$.datepicker.initialized = true;\n\t}\n\n\t/* Append datepicker main container to body if not exist. */\n\tif ($(\"#\"+$.datepicker._mainDivId).length === 0) {\n\t\t$(\"body\").append($.datepicker.dpDiv);\n\t}\n\n\tvar otherArgs = Array.prototype.slice.call(arguments, 1);\n\tif (typeof options === \"string\" && (options === \"isDisabled\" || options === \"getDate\" || options === \"widget\")) {\n\t\treturn $.datepicker[\"_\" + options + \"Datepicker\"].\n\t\t\tapply($.datepicker, [this[0]].concat(otherArgs));\n\t}\n\tif (options === \"option\" && arguments.length === 2 && typeof arguments[1] === \"string\") {\n\t\treturn $.datepicker[\"_\" + options + \"Datepicker\"].\n\t\t\tapply($.datepicker, [this[0]].concat(otherArgs));\n\t}\n\treturn this.each(function() {\n\t\ttypeof options === \"string\" ?\n\t\t\t$.datepicker[\"_\" + options + \"Datepicker\"].\n\t\t\t\tapply($.datepicker, [this].concat(otherArgs)) :\n\t\t\t$.datepicker._attachDatepicker(this, options);\n\t});\n};\n\n$.datepicker = new Datepicker(); // singleton instance\n$.datepicker.initialized = false;\n$.datepicker.uuid = new Date().getTime();\n$.datepicker.version = \"1.10.3\";\n\n})(jQuery);\n(function( $, undefined ) {\n\nvar sizeRelatedOptions = {\n\t\tbuttons: true,\n\t\theight: true,\n\t\tmaxHeight: true,\n\t\tmaxWidth: true,\n\t\tminHeight: true,\n\t\tminWidth: true,\n\t\twidth: true\n\t},\n\tresizableRelatedOptions = {\n\t\tmaxHeight: true,\n\t\tmaxWidth: true,\n\t\tminHeight: true,\n\t\tminWidth: true\n\t};\n\n$.widget( \"ui.dialog\", {\n\tversion: \"1.10.3\",\n\toptions: {\n\t\tappendTo: \"body\",\n\t\tautoOpen: true,\n\t\tbuttons: [],\n\t\tcloseOnEscape: true,\n\t\tcloseText: \"close\",\n\t\tdialogClass: \"\",\n\t\tdraggable: true,\n\t\thide: null,\n\t\theight: \"auto\",\n\t\tmaxHeight: null,\n\t\tmaxWidth: null,\n\t\tminHeight: 150,\n\t\tminWidth: 150,\n\t\tmodal: false,\n\t\tposition: {\n\t\t\tmy: \"center\",\n\t\t\tat: \"center\",\n\t\t\tof: window,\n\t\t\tcollision: \"fit\",\n\t\t\t// Ensure the titlebar is always visible\n\t\t\tusing: function( pos ) {\n\t\t\t\tvar topOffset = $( this ).css( pos ).offset().top;\n\t\t\t\tif ( topOffset < 0 ) {\n\t\t\t\t\t$( this ).css( \"top\", pos.top - topOffset );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tresizable: true,\n\t\tshow: null,\n\t\ttitle: null,\n\t\twidth: 300,\n\n\t\t// callbacks\n\t\tbeforeClose: null,\n\t\tclose: null,\n\t\tdrag: null,\n\t\tdragStart: null,\n\t\tdragStop: null,\n\t\tfocus: null,\n\t\topen: null,\n\t\tresize: null,\n\t\tresizeStart: null,\n\t\tresizeStop: null\n\t},\n\n\t_create: function() {\n\t\tthis.originalCss = {\n\t\t\tdisplay: this.element[0].style.display,\n\t\t\twidth: this.element[0].style.width,\n\t\t\tminHeight: this.element[0].style.minHeight,\n\t\t\tmaxHeight: this.element[0].style.maxHeight,\n\t\t\theight: this.element[0].style.height\n\t\t};\n\t\tthis.originalPosition = {\n\t\t\tparent: this.element.parent(),\n\t\t\tindex: this.element.parent().children().index( this.element )\n\t\t};\n\t\tthis.originalTitle = this.element.attr(\"title\");\n\t\tthis.options.title = this.options.title || this.originalTitle;\n\n\t\tthis._createWrapper();\n\n\t\tthis.element\n\t\t\t.show()\n\t\t\t.removeAttr(\"title\")\n\t\t\t.addClass(\"ui-dialog-content ui-widget-content\")\n\t\t\t.appendTo( this.uiDialog );\n\n\t\tthis._createTitlebar();\n\t\tthis._createButtonPane();\n\n\t\tif ( this.options.draggable && $.fn.draggable ) {\n\t\t\tthis._makeDraggable();\n\t\t}\n\t\tif ( this.options.resizable && $.fn.resizable ) {\n\t\t\tthis._makeResizable();\n\t\t}\n\n\t\tthis._isOpen = false;\n\t},\n\n\t_init: function() {\n\t\tif ( this.options.autoOpen ) {\n\t\t\tthis.open();\n\t\t}\n\t},\n\n\t_appendTo: function() {\n\t\tvar element = this.options.appendTo;\n\t\tif ( element && (element.jquery || element.nodeType) ) {\n\t\t\treturn $( element );\n\t\t}\n\t\treturn this.document.find( element || \"body\" ).eq( 0 );\n\t},\n\n\t_destroy: function() {\n\t\tvar next,\n\t\t\toriginalPosition = this.originalPosition;\n\n\t\tthis._destroyOverlay();\n\n\t\tthis.element\n\t\t\t.removeUniqueId()\n\t\t\t.removeClass(\"ui-dialog-content ui-widget-content\")\n\t\t\t.css( this.originalCss )\n\t\t\t// Without detaching first, the following becomes really slow\n\t\t\t.detach();\n\n\t\tthis.uiDialog.stop( true, true ).remove();\n\n\t\tif ( this.originalTitle ) {\n\t\t\tthis.element.attr( \"title\", this.originalTitle );\n\t\t}\n\n\t\tnext = originalPosition.parent.children().eq( originalPosition.index );\n\t\t// Don't try to place the dialog next to itself (#8613)\n\t\tif ( next.length && next[0] !== this.element[0] ) {\n\t\t\tnext.before( this.element );\n\t\t} else {\n\t\t\toriginalPosition.parent.append( this.element );\n\t\t}\n\t},\n\n\twidget: function() {\n\t\treturn this.uiDialog;\n\t},\n\n\tdisable: $.noop,\n\tenable: $.noop,\n\n\tclose: function( event ) {\n\t\tvar that = this;\n\n\t\tif ( !this._isOpen || this._trigger( \"beforeClose\", event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isOpen = false;\n\t\tthis._destroyOverlay();\n\n\t\tif ( !this.opener.filter(\":focusable\").focus().length ) {\n\t\t\t// Hiding a focused element doesn't trigger blur in WebKit\n\t\t\t// so in case we have nothing to focus on, explicitly blur the active element\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=47182\n\t\t\t$( this.document[0].activeElement ).blur();\n\t\t}\n\n\t\tthis._hide( this.uiDialog, this.options.hide, function() {\n\t\t\tthat._trigger( \"close\", event );\n\t\t});\n\t},\n\n\tisOpen: function() {\n\t\treturn this._isOpen;\n\t},\n\n\tmoveToTop: function() {\n\t\tthis._moveToTop();\n\t},\n\n\t_moveToTop: function( event, silent ) {\n\t\tvar moved = !!this.uiDialog.nextAll(\":visible\").insertBefore( this.uiDialog ).length;\n\t\tif ( moved && !silent ) {\n\t\t\tthis._trigger( \"focus\", event );\n\t\t}\n\t\treturn moved;\n\t},\n\n\topen: function() {\n\t\tvar that = this;\n\t\tif ( this._isOpen ) {\n\t\t\tif ( this._moveToTop() ) {\n\t\t\t\tthis._focusTabbable();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isOpen = true;\n\t\tthis.opener = $( this.document[0].activeElement );\n\n\t\tthis._size();\n\t\tthis._position();\n\t\tthis._createOverlay();\n\t\tthis._moveToTop( null, true );\n\t\tthis._show( this.uiDialog, this.options.show, function() {\n\t\t\tthat._focusTabbable();\n\t\t\tthat._trigger(\"focus\");\n\t\t});\n\n\t\tthis._trigger(\"open\");\n\t},\n\n\t_focusTabbable: function() {\n\t\t// Set focus to the first match:\n\t\t// 1. First element inside the dialog matching [autofocus]\n\t\t// 2. Tabbable element inside the content element\n\t\t// 3. Tabbable element inside the buttonpane\n\t\t// 4. The close button\n\t\t// 5. The dialog itself\n\t\tvar hasFocus = this.element.find(\"[autofocus]\");\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.element.find(\":tabbable\");\n\t\t}\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.uiDialogButtonPane.find(\":tabbable\");\n\t\t}\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.uiDialogTitlebarClose.filter(\":tabbable\");\n\t\t}\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.uiDialog;\n\t\t}\n\t\thasFocus.eq( 0 ).focus();\n\t},\n\n\t_keepFocus: function( event ) {\n\t\tfunction checkFocus() {\n\t\t\tvar activeElement = this.document[0].activeElement,\n\t\t\t\tisActive = this.uiDialog[0] === activeElement ||\n\t\t\t\t\t$.contains( this.uiDialog[0], activeElement );\n\t\t\tif ( !isActive ) {\n\t\t\t\tthis._focusTabbable();\n\t\t\t}\n\t\t}\n\t\tevent.preventDefault();\n\t\tcheckFocus.call( this );\n\t\t// support: IE\n\t\t// IE <= 8 doesn't prevent moving focus even with event.preventDefault()\n\t\t// so we check again later\n\t\tthis._delay( checkFocus );\n\t},\n\n\t_createWrapper: function() {\n\t\tthis.uiDialog = $(\"<div>\")\n\t\t\t.addClass( \"ui-dialog ui-widget ui-widget-content ui-corner-all ui-front \" +\n\t\t\t\tthis.options.dialogClass )\n\t\t\t.hide()\n\t\t\t.attr({\n\t\t\t\t// Setting tabIndex makes the div focusable\n\t\t\t\ttabIndex: -1,\n\t\t\t\trole: \"dialog\"\n\t\t\t})\n\t\t\t.appendTo( this._appendTo() );\n\n\t\tthis._on( this.uiDialog, {\n\t\t\tkeydown: function( event ) {\n\t\t\t\tif ( this.options.closeOnEscape && !event.isDefaultPrevented() && event.keyCode &&\n\t\t\t\t\t\tevent.keyCode === $.ui.keyCode.ESCAPE ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.close( event );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// prevent tabbing out of dialogs\n\t\t\t\tif ( event.keyCode !== $.ui.keyCode.TAB ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar tabbables = this.uiDialog.find(\":tabbable\"),\n\t\t\t\t\tfirst = tabbables.filter(\":first\"),\n\t\t\t\t\tlast  = tabbables.filter(\":last\");\n\n\t\t\t\tif ( ( event.target === last[0] || event.target === this.uiDialog[0] ) && !event.shiftKey ) {\n\t\t\t\t\tfirst.focus( 1 );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t} else if ( ( event.target === first[0] || event.target === this.uiDialog[0] ) && event.shiftKey ) {\n\t\t\t\t\tlast.focus( 1 );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t},\n\t\t\tmousedown: function( event ) {\n\t\t\t\tif ( this._moveToTop( event ) ) {\n\t\t\t\t\tthis._focusTabbable();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// We assume that any existing aria-describedby attribute means\n\t\t// that the dialog content is marked up properly\n\t\t// otherwise we brute force the content as the description\n\t\tif ( !this.element.find(\"[aria-describedby]\").length ) {\n\t\t\tthis.uiDialog.attr({\n\t\t\t\t\"aria-describedby\": this.element.uniqueId().attr(\"id\")\n\t\t\t});\n\t\t}\n\t},\n\n\t_createTitlebar: function() {\n\t\tvar uiDialogTitle;\n\n\t\tthis.uiDialogTitlebar = $(\"<div>\")\n\t\t\t.addClass(\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\")\n\t\t\t.prependTo( this.uiDialog );\n\t\tthis._on( this.uiDialogTitlebar, {\n\t\t\tmousedown: function( event ) {\n\t\t\t\t// Don't prevent click on close button (#8838)\n\t\t\t\t// Focusing a dialog that is partially scrolled out of view\n\t\t\t\t// causes the browser to scroll it into view, preventing the click event\n\t\t\t\tif ( !$( event.target ).closest(\".ui-dialog-titlebar-close\") ) {\n\t\t\t\t\t// Dialog isn't getting focus when dragging (#8063)\n\t\t\t\t\tthis.uiDialog.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.uiDialogTitlebarClose = $(\"<button></button>\")\n\t\t\t.button({\n\t\t\t\tlabel: this.options.closeText,\n\t\t\t\ticons: {\n\t\t\t\t\tprimary: \"ui-icon-closethick\"\n\t\t\t\t},\n\t\t\t\ttext: false\n\t\t\t})\n\t\t\t.addClass(\"ui-dialog-titlebar-close\")\n\t\t\t.appendTo( this.uiDialogTitlebar );\n\t\tthis._on( this.uiDialogTitlebarClose, {\n\t\t\tclick: function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.close( event );\n\t\t\t}\n\t\t});\n\n\t\tuiDialogTitle = $(\"<span>\")\n\t\t\t.uniqueId()\n\t\t\t.addClass(\"ui-dialog-title\")\n\t\t\t.prependTo( this.uiDialogTitlebar );\n\t\tthis._title( uiDialogTitle );\n\n\t\tthis.uiDialog.attr({\n\t\t\t\"aria-labelledby\": uiDialogTitle.attr(\"id\")\n\t\t});\n\t},\n\n\t_title: function( title ) {\n\t\tif ( !this.options.title ) {\n\t\t\ttitle.html(\"&#160;\");\n\t\t}\n\t\ttitle.text( this.options.title );\n\t},\n\n\t_createButtonPane: function() {\n\t\tthis.uiDialogButtonPane = $(\"<div>\")\n\t\t\t.addClass(\"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix\");\n\n\t\tthis.uiButtonSet = $(\"<div>\")\n\t\t\t.addClass(\"ui-dialog-buttonset\")\n\t\t\t.appendTo( this.uiDialogButtonPane );\n\n\t\tthis._createButtons();\n\t},\n\n\t_createButtons: function() {\n\t\tvar that = this,\n\t\t\tbuttons = this.options.buttons;\n\n\t\t// if we already have a button pane, remove it\n\t\tthis.uiDialogButtonPane.remove();\n\t\tthis.uiButtonSet.empty();\n\n\t\tif ( $.isEmptyObject( buttons ) || ($.isArray( buttons ) && !buttons.length) ) {\n\t\t\tthis.uiDialog.removeClass(\"ui-dialog-buttons\");\n\t\t\treturn;\n\t\t}\n\n\t\t$.each( buttons, function( name, props ) {\n\t\t\tvar click, buttonOptions;\n\t\t\tprops = $.isFunction( props ) ?\n\t\t\t\t{ click: props, text: name } :\n\t\t\t\tprops;\n\t\t\t// Default to a non-submitting button\n\t\t\tprops = $.extend( { type: \"button\" }, props );\n\t\t\t// Change the context for the click callback to be the main element\n\t\t\tclick = props.click;\n\t\t\tprops.click = function() {\n\t\t\t\tclick.apply( that.element[0], arguments );\n\t\t\t};\n\t\t\tbuttonOptions = {\n\t\t\t\ticons: props.icons,\n\t\t\t\ttext: props.showText\n\t\t\t};\n\t\t\tdelete props.icons;\n\t\t\tdelete props.showText;\n\t\t\t$( \"<button></button>\", props )\n\t\t\t\t.button( buttonOptions )\n\t\t\t\t.appendTo( that.uiButtonSet );\n\t\t});\n\t\tthis.uiDialog.addClass(\"ui-dialog-buttons\");\n\t\tthis.uiDialogButtonPane.appendTo( this.uiDialog );\n\t},\n\n\t_makeDraggable: function() {\n\t\tvar that = this,\n\t\t\toptions = this.options;\n\n\t\tfunction filteredUi( ui ) {\n\t\t\treturn {\n\t\t\t\tposition: ui.position,\n\t\t\t\toffset: ui.offset\n\t\t\t};\n\t\t}\n\n\t\tthis.uiDialog.draggable({\n\t\t\tcancel: \".ui-dialog-content, .ui-dialog-titlebar-close\",\n\t\t\thandle: \".ui-dialog-titlebar\",\n\t\t\tcontainment: \"document\",\n\t\t\tstart: function( event, ui ) {\n\t\t\t\t$( this ).addClass(\"ui-dialog-dragging\");\n\t\t\t\tthat._blockFrames();\n\t\t\t\tthat._trigger( \"dragStart\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tdrag: function( event, ui ) {\n\t\t\t\tthat._trigger( \"drag\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tstop: function( event, ui ) {\n\t\t\t\toptions.position = [\n\t\t\t\t\tui.position.left - that.document.scrollLeft(),\n\t\t\t\t\tui.position.top - that.document.scrollTop()\n\t\t\t\t];\n\t\t\t\t$( this ).removeClass(\"ui-dialog-dragging\");\n\t\t\t\tthat._unblockFrames();\n\t\t\t\tthat._trigger( \"dragStop\", event, filteredUi( ui ) );\n\t\t\t}\n\t\t});\n\t},\n\n\t_makeResizable: function() {\n\t\tvar that = this,\n\t\t\toptions = this.options,\n\t\t\thandles = options.resizable,\n\t\t\t// .ui-resizable has position: relative defined in the stylesheet\n\t\t\t// but dialogs have to use absolute or fixed positioning\n\t\t\tposition = this.uiDialog.css(\"position\"),\n\t\t\tresizeHandles = typeof handles === \"string\" ?\n\t\t\t\thandles\t:\n\t\t\t\t\"n,e,s,w,se,sw,ne,nw\";\n\n\t\tfunction filteredUi( ui ) {\n\t\t\treturn {\n\t\t\t\toriginalPosition: ui.originalPosition,\n\t\t\t\toriginalSize: ui.originalSize,\n\t\t\t\tposition: ui.position,\n\t\t\t\tsize: ui.size\n\t\t\t};\n\t\t}\n\n\t\tthis.uiDialog.resizable({\n\t\t\tcancel: \".ui-dialog-content\",\n\t\t\tcontainment: \"document\",\n\t\t\talsoResize: this.element,\n\t\t\tmaxWidth: options.maxWidth,\n\t\t\tmaxHeight: options.maxHeight,\n\t\t\tminWidth: options.minWidth,\n\t\t\tminHeight: this._minHeight(),\n\t\t\thandles: resizeHandles,\n\t\t\tstart: function( event, ui ) {\n\t\t\t\t$( this ).addClass(\"ui-dialog-resizing\");\n\t\t\t\tthat._blockFrames();\n\t\t\t\tthat._trigger( \"resizeStart\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tresize: function( event, ui ) {\n\t\t\t\tthat._trigger( \"resize\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tstop: function( event, ui ) {\n\t\t\t\toptions.height = $( this ).height();\n\t\t\t\toptions.width = $( this ).width();\n\t\t\t\t$( this ).removeClass(\"ui-dialog-resizing\");\n\t\t\t\tthat._unblockFrames();\n\t\t\t\tthat._trigger( \"resizeStop\", event, filteredUi( ui ) );\n\t\t\t}\n\t\t})\n\t\t.css( \"position\", position );\n\t},\n\n\t_minHeight: function() {\n\t\tvar options = this.options;\n\n\t\treturn options.height === \"auto\" ?\n\t\t\toptions.minHeight :\n\t\t\tMath.min( options.minHeight, options.height );\n\t},\n\n\t_position: function() {\n\t\t// Need to show the dialog to get the actual offset in the position plugin\n\t\tvar isVisible = this.uiDialog.is(\":visible\");\n\t\tif ( !isVisible ) {\n\t\t\tthis.uiDialog.show();\n\t\t}\n\t\tthis.uiDialog.position( this.options.position );\n\t\tif ( !isVisible ) {\n\t\t\tthis.uiDialog.hide();\n\t\t}\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar that = this,\n\t\t\tresize = false,\n\t\t\tresizableOptions = {};\n\n\t\t$.each( options, function( key, value ) {\n\t\t\tthat._setOption( key, value );\n\n\t\t\tif ( key in sizeRelatedOptions ) {\n\t\t\t\tresize = true;\n\t\t\t}\n\t\t\tif ( key in resizableRelatedOptions ) {\n\t\t\t\tresizableOptions[ key ] = value;\n\t\t\t}\n\t\t});\n\n\t\tif ( resize ) {\n\t\t\tthis._size();\n\t\t\tthis._position();\n\t\t}\n\t\tif ( this.uiDialog.is(\":data(ui-resizable)\") ) {\n\t\t\tthis.uiDialog.resizable( \"option\", resizableOptions );\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\t/*jshint maxcomplexity:15*/\n\t\tvar isDraggable, isResizable,\n\t\t\tuiDialog = this.uiDialog;\n\n\t\tif ( key === \"dialogClass\" ) {\n\t\t\tuiDialog\n\t\t\t\t.removeClass( this.options.dialogClass )\n\t\t\t\t.addClass( value );\n\t\t}\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._super( key, value );\n\n\t\tif ( key === \"appendTo\" ) {\n\t\t\tthis.uiDialog.appendTo( this._appendTo() );\n\t\t}\n\n\t\tif ( key === \"buttons\" ) {\n\t\t\tthis._createButtons();\n\t\t}\n\n\t\tif ( key === \"closeText\" ) {\n\t\t\tthis.uiDialogTitlebarClose.button({\n\t\t\t\t// Ensure that we always pass a string\n\t\t\t\tlabel: \"\" + value\n\t\t\t});\n\t\t}\n\n\t\tif ( key === \"draggable\" ) {\n\t\t\tisDraggable = uiDialog.is(\":data(ui-draggable)\");\n\t\t\tif ( isDraggable && !value ) {\n\t\t\t\tuiDialog.draggable(\"destroy\");\n\t\t\t}\n\n\t\t\tif ( !isDraggable && value ) {\n\t\t\t\tthis._makeDraggable();\n\t\t\t}\n\t\t}\n\n\t\tif ( key === \"position\" ) {\n\t\t\tthis._position();\n\t\t}\n\n\t\tif ( key === \"resizable\" ) {\n\t\t\t// currently resizable, becoming non-resizable\n\t\t\tisResizable = uiDialog.is(\":data(ui-resizable)\");\n\t\t\tif ( isResizable && !value ) {\n\t\t\t\tuiDialog.resizable(\"destroy\");\n\t\t\t}\n\n\t\t\t// currently resizable, changing handles\n\t\t\tif ( isResizable && typeof value === \"string\" ) {\n\t\t\t\tuiDialog.resizable( \"option\", \"handles\", value );\n\t\t\t}\n\n\t\t\t// currently non-resizable, becoming resizable\n\t\t\tif ( !isResizable && value !== false ) {\n\t\t\t\tthis._makeResizable();\n\t\t\t}\n\t\t}\n\n\t\tif ( key === \"title\" ) {\n\t\t\tthis._title( this.uiDialogTitlebar.find(\".ui-dialog-title\") );\n\t\t}\n\t},\n\n\t_size: function() {\n\t\t// If the user has resized the dialog, the .ui-dialog and .ui-dialog-content\n\t\t// divs will both have width and height set, so we need to reset them\n\t\tvar nonContentHeight, minContentHeight, maxContentHeight,\n\t\t\toptions = this.options;\n\n\t\t// Reset content sizing\n\t\tthis.element.show().css({\n\t\t\twidth: \"auto\",\n\t\t\tminHeight: 0,\n\t\t\tmaxHeight: \"none\",\n\t\t\theight: 0\n\t\t});\n\n\t\tif ( options.minWidth > options.width ) {\n\t\t\toptions.width = options.minWidth;\n\t\t}\n\n\t\t// reset wrapper sizing\n\t\t// determine the height of all the non-content elements\n\t\tnonContentHeight = this.uiDialog.css({\n\t\t\t\theight: \"auto\",\n\t\t\t\twidth: options.width\n\t\t\t})\n\t\t\t.outerHeight();\n\t\tminContentHeight = Math.max( 0, options.minHeight - nonContentHeight );\n\t\tmaxContentHeight = typeof options.maxHeight === \"number\" ?\n\t\t\tMath.max( 0, options.maxHeight - nonContentHeight ) :\n\t\t\t\"none\";\n\n\t\tif ( options.height === \"auto\" ) {\n\t\t\tthis.element.css({\n\t\t\t\tminHeight: minContentHeight,\n\t\t\t\tmaxHeight: maxContentHeight,\n\t\t\t\theight: \"auto\"\n\t\t\t});\n\t\t} else {\n\t\t\tthis.element.height( Math.max( 0, options.height - nonContentHeight ) );\n\t\t}\n\n\t\tif (this.uiDialog.is(\":data(ui-resizable)\") ) {\n\t\t\tthis.uiDialog.resizable( \"option\", \"minHeight\", this._minHeight() );\n\t\t}\n\t},\n\n\t_blockFrames: function() {\n\t\tthis.iframeBlocks = this.document.find( \"iframe\" ).map(function() {\n\t\t\tvar iframe = $( this );\n\n\t\t\treturn $( \"<div>\" )\n\t\t\t\t.css({\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\twidth: iframe.outerWidth(),\n\t\t\t\t\theight: iframe.outerHeight()\n\t\t\t\t})\n\t\t\t\t.appendTo( iframe.parent() )\n\t\t\t\t.offset( iframe.offset() )[0];\n\t\t});\n\t},\n\n\t_unblockFrames: function() {\n\t\tif ( this.iframeBlocks ) {\n\t\t\tthis.iframeBlocks.remove();\n\t\t\tdelete this.iframeBlocks;\n\t\t}\n\t},\n\n\t_allowInteraction: function( event ) {\n\t\tif ( $( event.target ).closest(\".ui-dialog\").length ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// TODO: Remove hack when datepicker implements\n\t\t// the .ui-front logic (#8989)\n\t\treturn !!$( event.target ).closest(\".ui-datepicker\").length;\n\t},\n\n\t_createOverlay: function() {\n\t\tif ( !this.options.modal ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar that = this,\n\t\t\twidgetFullName = this.widgetFullName;\n\t\tif ( !$.ui.dialog.overlayInstances ) {\n\t\t\t// Prevent use of anchors and inputs.\n\t\t\t// We use a delay in case the overlay is created from an\n\t\t\t// event that we're going to be cancelling. (#2804)\n\t\t\tthis._delay(function() {\n\t\t\t\t// Handle .dialog().dialog(\"close\") (#4065)\n\t\t\t\tif ( $.ui.dialog.overlayInstances ) {\n\t\t\t\t\tthis.document.bind( \"focusin.dialog\", function( event ) {\n\t\t\t\t\t\tif ( !that._allowInteraction( event ) ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t$(\".ui-dialog:visible:last .ui-dialog-content\")\n\t\t\t\t\t\t\t\t.data( widgetFullName )._focusTabbable();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.overlay = $(\"<div>\")\n\t\t\t.addClass(\"ui-widget-overlay ui-front\")\n\t\t\t.appendTo( this._appendTo() );\n\t\tthis._on( this.overlay, {\n\t\t\tmousedown: \"_keepFocus\"\n\t\t});\n\t\t$.ui.dialog.overlayInstances++;\n\t},\n\n\t_destroyOverlay: function() {\n\t\tif ( !this.options.modal ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.overlay ) {\n\t\t\t$.ui.dialog.overlayInstances--;\n\n\t\t\tif ( !$.ui.dialog.overlayInstances ) {\n\t\t\t\tthis.document.unbind( \"focusin.dialog\" );\n\t\t\t}\n\t\t\tthis.overlay.remove();\n\t\t\tthis.overlay = null;\n\t\t}\n\t}\n});\n\n$.ui.dialog.overlayInstances = 0;\n\n// DEPRECATED\nif ( $.uiBackCompat !== false ) {\n\t// position option with array notation\n\t// just override with old implementation\n\t$.widget( \"ui.dialog\", $.ui.dialog, {\n\t\t_position: function() {\n\t\t\tvar position = this.options.position,\n\t\t\t\tmyAt = [],\n\t\t\t\toffset = [ 0, 0 ],\n\t\t\t\tisVisible;\n\n\t\t\tif ( position ) {\n\t\t\t\tif ( typeof position === \"string\" || (typeof position === \"object\" && \"0\" in position ) ) {\n\t\t\t\t\tmyAt = position.split ? position.split(\" \") : [ position[0], position[1] ];\n\t\t\t\t\tif ( myAt.length === 1 ) {\n\t\t\t\t\t\tmyAt[1] = myAt[0];\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each( [ \"left\", \"top\" ], function( i, offsetPosition ) {\n\t\t\t\t\t\tif ( +myAt[ i ] === myAt[ i ] ) {\n\t\t\t\t\t\t\toffset[ i ] = myAt[ i ];\n\t\t\t\t\t\t\tmyAt[ i ] = offsetPosition;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tposition = {\n\t\t\t\t\t\tmy: myAt[0] + (offset[0] < 0 ? offset[0] : \"+\" + offset[0]) + \" \" +\n\t\t\t\t\t\t\tmyAt[1] + (offset[1] < 0 ? offset[1] : \"+\" + offset[1]),\n\t\t\t\t\t\tat: myAt.join(\" \")\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tposition = $.extend( {}, $.ui.dialog.prototype.options.position, position );\n\t\t\t} else {\n\t\t\t\tposition = $.ui.dialog.prototype.options.position;\n\t\t\t}\n\n\t\t\t// need to show the dialog to get the actual offset in the position plugin\n\t\t\tisVisible = this.uiDialog.is(\":visible\");\n\t\t\tif ( !isVisible ) {\n\t\t\t\tthis.uiDialog.show();\n\t\t\t}\n\t\t\tthis.uiDialog.position( position );\n\t\t\tif ( !isVisible ) {\n\t\t\t\tthis.uiDialog.hide();\n\t\t\t}\n\t\t}\n\t});\n}\n\n}( jQuery ) );\n(function( $, undefined ) {\n\n$.widget( \"ui.menu\", {\n\tversion: \"1.10.3\",\n\tdefaultElement: \"<ul>\",\n\tdelay: 300,\n\toptions: {\n\t\ticons: {\n\t\t\tsubmenu: \"ui-icon-carat-1-e\"\n\t\t},\n\t\tmenus: \"ul\",\n\t\tposition: {\n\t\t\tmy: \"left top\",\n\t\t\tat: \"right top\"\n\t\t},\n\t\trole: \"menu\",\n\n\t\t// callbacks\n\t\tblur: null,\n\t\tfocus: null,\n\t\tselect: null\n\t},\n\n\t_create: function() {\n\t\tthis.activeMenu = this.element;\n\t\t// flag used to prevent firing of the click handler\n\t\t// as the event bubbles up through nested menus\n\t\tthis.mouseHandled = false;\n\t\tthis.element\n\t\t\t.uniqueId()\n\t\t\t.addClass( \"ui-menu ui-widget ui-widget-content ui-corner-all\" )\n\t\t\t.toggleClass( \"ui-menu-icons\", !!this.element.find( \".ui-icon\" ).length )\n\t\t\t.attr({\n\t\t\t\trole: this.options.role,\n\t\t\t\ttabIndex: 0\n\t\t\t})\n\t\t\t// need to catch all clicks on disabled menu\n\t\t\t// not possible through _on\n\t\t\t.bind( \"click\" + this.eventNamespace, $.proxy(function( event ) {\n\t\t\t\tif ( this.options.disabled ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}, this ));\n\n\t\tif ( this.options.disabled ) {\n\t\t\tthis.element\n\t\t\t\t.addClass( \"ui-state-disabled\" )\n\t\t\t\t.attr( \"aria-disabled\", \"true\" );\n\t\t}\n\n\t\tthis._on({\n\t\t\t// Prevent focus from sticking to links inside menu after clicking\n\t\t\t// them (focus should always stay on UL during navigation).\n\t\t\t\"mousedown .ui-menu-item > a\": function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t},\n\t\t\t\"click .ui-state-disabled > a\": function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t},\n\t\t\t\"click .ui-menu-item:has(a)\": function( event ) {\n\t\t\t\tvar target = $( event.target ).closest( \".ui-menu-item\" );\n\t\t\t\tif ( !this.mouseHandled && target.not( \".ui-state-disabled\" ).length ) {\n\t\t\t\t\tthis.mouseHandled = true;\n\n\t\t\t\t\tthis.select( event );\n\t\t\t\t\t// Open submenu on click\n\t\t\t\t\tif ( target.has( \".ui-menu\" ).length ) {\n\t\t\t\t\t\tthis.expand( event );\n\t\t\t\t\t} else if ( !this.element.is( \":focus\" ) ) {\n\t\t\t\t\t\t// Redirect focus to the menu\n\t\t\t\t\t\tthis.element.trigger( \"focus\", [ true ] );\n\n\t\t\t\t\t\t// If the active item is on the top level, let it stay active.\n\t\t\t\t\t\t// Otherwise, blur the active item since it is no longer visible.\n\t\t\t\t\t\tif ( this.active && this.active.parents( \".ui-menu\" ).length === 1 ) {\n\t\t\t\t\t\t\tclearTimeout( this.timer );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"mouseenter .ui-menu-item\": function( event ) {\n\t\t\t\tvar target = $( event.currentTarget );\n\t\t\t\t// Remove ui-state-active class from siblings of the newly focused menu item\n\t\t\t\t// to avoid a jump caused by adjacent elements both having a class with a border\n\t\t\t\ttarget.siblings().children( \".ui-state-active\" ).removeClass( \"ui-state-active\" );\n\t\t\t\tthis.focus( event, target );\n\t\t\t},\n\t\t\tmouseleave: \"collapseAll\",\n\t\t\t\"mouseleave .ui-menu\": \"collapseAll\",\n\t\t\tfocus: function( event, keepActiveItem ) {\n\t\t\t\t// If there's already an active item, keep it active\n\t\t\t\t// If not, activate the first item\n\t\t\t\tvar item = this.active || this.element.children( \".ui-menu-item\" ).eq( 0 );\n\n\t\t\t\tif ( !keepActiveItem ) {\n\t\t\t\t\tthis.focus( event, item );\n\t\t\t\t}\n\t\t\t},\n\t\t\tblur: function( event ) {\n\t\t\t\tthis._delay(function() {\n\t\t\t\t\tif ( !$.contains( this.element[0], this.document[0].activeElement ) ) {\n\t\t\t\t\t\tthis.collapseAll( event );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tkeydown: \"_keydown\"\n\t\t});\n\n\t\tthis.refresh();\n\n\t\t// Clicks outside of a menu collapse any open menus\n\t\tthis._on( this.document, {\n\t\t\tclick: function( event ) {\n\t\t\t\tif ( !$( event.target ).closest( \".ui-menu\" ).length ) {\n\t\t\t\t\tthis.collapseAll( event );\n\t\t\t\t}\n\n\t\t\t\t// Reset the mouseHandled flag\n\t\t\t\tthis.mouseHandled = false;\n\t\t\t}\n\t\t});\n\t},\n\n\t_destroy: function() {\n\t\t// Destroy (sub)menus\n\t\tthis.element\n\t\t\t.removeAttr( \"aria-activedescendant\" )\n\t\t\t.find( \".ui-menu\" ).addBack()\n\t\t\t\t.removeClass( \"ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons\" )\n\t\t\t\t.removeAttr( \"role\" )\n\t\t\t\t.removeAttr( \"tabIndex\" )\n\t\t\t\t.removeAttr( \"aria-labelledby\" )\n\t\t\t\t.removeAttr( \"aria-expanded\" )\n\t\t\t\t.removeAttr( \"aria-hidden\" )\n\t\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t\t.removeUniqueId()\n\t\t\t\t.show();\n\n\t\t// Destroy menu items\n\t\tthis.element.find( \".ui-menu-item\" )\n\t\t\t.removeClass( \"ui-menu-item\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.children( \"a\" )\n\t\t\t\t.removeUniqueId()\n\t\t\t\t.removeClass( \"ui-corner-all ui-state-hover\" )\n\t\t\t\t.removeAttr( \"tabIndex\" )\n\t\t\t\t.removeAttr( \"role\" )\n\t\t\t\t.removeAttr( \"aria-haspopup\" )\n\t\t\t\t.children().each( function() {\n\t\t\t\t\tvar elem = $( this );\n\t\t\t\t\tif ( elem.data( \"ui-menu-submenu-carat\" ) ) {\n\t\t\t\t\t\telem.remove();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t// Destroy menu dividers\n\t\tthis.element.find( \".ui-menu-divider\" ).removeClass( \"ui-menu-divider ui-widget-content\" );\n\t},\n\n\t_keydown: function( event ) {\n\t\t/*jshint maxcomplexity:20*/\n\t\tvar match, prev, character, skip, regex,\n\t\t\tpreventDefault = true;\n\n\t\tfunction escape( value ) {\n\t\t\treturn value.replace( /[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\" );\n\t\t}\n\n\t\tswitch ( event.keyCode ) {\n\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\tthis.previousPage( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\tthis.nextPage( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.HOME:\n\t\t\tthis._move( \"first\", \"first\", event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.END:\n\t\t\tthis._move( \"last\", \"last\", event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.UP:\n\t\t\tthis.previous( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.DOWN:\n\t\t\tthis.next( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.LEFT:\n\t\t\tthis.collapse( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.RIGHT:\n\t\t\tif ( this.active && !this.active.is( \".ui-state-disabled\" ) ) {\n\t\t\t\tthis.expand( event );\n\t\t\t}\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.ENTER:\n\t\tcase $.ui.keyCode.SPACE:\n\t\t\tthis._activate( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.ESCAPE:\n\t\t\tthis.collapse( event );\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tpreventDefault = false;\n\t\t\tprev = this.previousFilter || \"\";\n\t\t\tcharacter = String.fromCharCode( event.keyCode );\n\t\t\tskip = false;\n\n\t\t\tclearTimeout( this.filterTimer );\n\n\t\t\tif ( character === prev ) {\n\t\t\t\tskip = true;\n\t\t\t} else {\n\t\t\t\tcharacter = prev + character;\n\t\t\t}\n\n\t\t\tregex = new RegExp( \"^\" + escape( character ), \"i\" );\n\t\t\tmatch = this.activeMenu.children( \".ui-menu-item\" ).filter(function() {\n\t\t\t\treturn regex.test( $( this ).children( \"a\" ).text() );\n\t\t\t});\n\t\t\tmatch = skip && match.index( this.active.next() ) !== -1 ?\n\t\t\t\tthis.active.nextAll( \".ui-menu-item\" ) :\n\t\t\t\tmatch;\n\n\t\t\t// If no matches on the current filter, reset to the last character pressed\n\t\t\t// to move down the menu to the first item that starts with that character\n\t\t\tif ( !match.length ) {\n\t\t\t\tcharacter = String.fromCharCode( event.keyCode );\n\t\t\t\tregex = new RegExp( \"^\" + escape( character ), \"i\" );\n\t\t\t\tmatch = this.activeMenu.children( \".ui-menu-item\" ).filter(function() {\n\t\t\t\t\treturn regex.test( $( this ).children( \"a\" ).text() );\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ( match.length ) {\n\t\t\t\tthis.focus( event, match );\n\t\t\t\tif ( match.length > 1 ) {\n\t\t\t\t\tthis.previousFilter = character;\n\t\t\t\t\tthis.filterTimer = this._delay(function() {\n\t\t\t\t\t\tdelete this.previousFilter;\n\t\t\t\t\t}, 1000 );\n\t\t\t\t} else {\n\t\t\t\t\tdelete this.previousFilter;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdelete this.previousFilter;\n\t\t\t}\n\t\t}\n\n\t\tif ( preventDefault ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t},\n\n\t_activate: function( event ) {\n\t\tif ( !this.active.is( \".ui-state-disabled\" ) ) {\n\t\t\tif ( this.active.children( \"a[aria-haspopup='true']\" ).length ) {\n\t\t\t\tthis.expand( event );\n\t\t\t} else {\n\t\t\t\tthis.select( event );\n\t\t\t}\n\t\t}\n\t},\n\n\trefresh: function() {\n\t\tvar menus,\n\t\t\ticon = this.options.icons.submenu,\n\t\t\tsubmenus = this.element.find( this.options.menus );\n\n\t\t// Initialize nested menus\n\t\tsubmenus.filter( \":not(.ui-menu)\" )\n\t\t\t.addClass( \"ui-menu ui-widget ui-widget-content ui-corner-all\" )\n\t\t\t.hide()\n\t\t\t.attr({\n\t\t\t\trole: this.options.role,\n\t\t\t\t\"aria-hidden\": \"true\",\n\t\t\t\t\"aria-expanded\": \"false\"\n\t\t\t})\n\t\t\t.each(function() {\n\t\t\t\tvar menu = $( this ),\n\t\t\t\t\titem = menu.prev( \"a\" ),\n\t\t\t\t\tsubmenuCarat = $( \"<span>\" )\n\t\t\t\t\t\t.addClass( \"ui-menu-icon ui-icon \" + icon )\n\t\t\t\t\t\t.data( \"ui-menu-submenu-carat\", true );\n\n\t\t\t\titem\n\t\t\t\t\t.attr( \"aria-haspopup\", \"true\" )\n\t\t\t\t\t.prepend( submenuCarat );\n\t\t\t\tmenu.attr( \"aria-labelledby\", item.attr( \"id\" ) );\n\t\t\t});\n\n\t\tmenus = submenus.add( this.element );\n\n\t\t// Don't refresh list items that are already adapted\n\t\tmenus.children( \":not(.ui-menu-item):has(a)\" )\n\t\t\t.addClass( \"ui-menu-item\" )\n\t\t\t.attr( \"role\", \"presentation\" )\n\t\t\t.children( \"a\" )\n\t\t\t\t.uniqueId()\n\t\t\t\t.addClass( \"ui-corner-all\" )\n\t\t\t\t.attr({\n\t\t\t\t\ttabIndex: -1,\n\t\t\t\t\trole: this._itemRole()\n\t\t\t\t});\n\n\t\t// Initialize unlinked menu-items containing spaces and/or dashes only as dividers\n\t\tmenus.children( \":not(.ui-menu-item)\" ).each(function() {\n\t\t\tvar item = $( this );\n\t\t\t// hyphen, em dash, en dash\n\t\t\tif ( !/[^\\-\\u2014\\u2013\\s]/.test( item.text() ) ) {\n\t\t\t\titem.addClass( \"ui-widget-content ui-menu-divider\" );\n\t\t\t}\n\t\t});\n\n\t\t// Add aria-disabled attribute to any disabled menu item\n\t\tmenus.children( \".ui-state-disabled\" ).attr( \"aria-disabled\", \"true\" );\n\n\t\t// If the active item has been removed, blur the menu\n\t\tif ( this.active && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {\n\t\t\tthis.blur();\n\t\t}\n\t},\n\n\t_itemRole: function() {\n\t\treturn {\n\t\t\tmenu: \"menuitem\",\n\t\t\tlistbox: \"option\"\n\t\t}[ this.options.role ];\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"icons\" ) {\n\t\t\tthis.element.find( \".ui-menu-icon\" )\n\t\t\t\t.removeClass( this.options.icons.submenu )\n\t\t\t\t.addClass( value.submenu );\n\t\t}\n\t\tthis._super( key, value );\n\t},\n\n\tfocus: function( event, item ) {\n\t\tvar nested, focused;\n\t\tthis.blur( event, event && event.type === \"focus\" );\n\n\t\tthis._scrollIntoView( item );\n\n\t\tthis.active = item.first();\n\t\tfocused = this.active.children( \"a\" ).addClass( \"ui-state-focus\" );\n\t\t// Only update aria-activedescendant if there's a role\n\t\t// otherwise we assume focus is managed elsewhere\n\t\tif ( this.options.role ) {\n\t\t\tthis.element.attr( \"aria-activedescendant\", focused.attr( \"id\" ) );\n\t\t}\n\n\t\t// Highlight active parent menu item, if any\n\t\tthis.active\n\t\t\t.parent()\n\t\t\t.closest( \".ui-menu-item\" )\n\t\t\t.children( \"a:first\" )\n\t\t\t.addClass( \"ui-state-active\" );\n\n\t\tif ( event && event.type === \"keydown\" ) {\n\t\t\tthis._close();\n\t\t} else {\n\t\t\tthis.timer = this._delay(function() {\n\t\t\t\tthis._close();\n\t\t\t}, this.delay );\n\t\t}\n\n\t\tnested = item.children( \".ui-menu\" );\n\t\tif ( nested.length && ( /^mouse/.test( event.type ) ) ) {\n\t\t\tthis._startOpening(nested);\n\t\t}\n\t\tthis.activeMenu = item.parent();\n\n\t\tthis._trigger( \"focus\", event, { item: item } );\n\t},\n\n\t_scrollIntoView: function( item ) {\n\t\tvar borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;\n\t\tif ( this._hasScroll() ) {\n\t\t\tborderTop = parseFloat( $.css( this.activeMenu[0], \"borderTopWidth\" ) ) || 0;\n\t\t\tpaddingTop = parseFloat( $.css( this.activeMenu[0], \"paddingTop\" ) ) || 0;\n\t\t\toffset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;\n\t\t\tscroll = this.activeMenu.scrollTop();\n\t\t\telementHeight = this.activeMenu.height();\n\t\t\titemHeight = item.height();\n\n\t\t\tif ( offset < 0 ) {\n\t\t\t\tthis.activeMenu.scrollTop( scroll + offset );\n\t\t\t} else if ( offset + itemHeight > elementHeight ) {\n\t\t\t\tthis.activeMenu.scrollTop( scroll + offset - elementHeight + itemHeight );\n\t\t\t}\n\t\t}\n\t},\n\n\tblur: function( event, fromFocus ) {\n\t\tif ( !fromFocus ) {\n\t\t\tclearTimeout( this.timer );\n\t\t}\n\n\t\tif ( !this.active ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.active.children( \"a\" ).removeClass( \"ui-state-focus\" );\n\t\tthis.active = null;\n\n\t\tthis._trigger( \"blur\", event, { item: this.active } );\n\t},\n\n\t_startOpening: function( submenu ) {\n\t\tclearTimeout( this.timer );\n\n\t\t// Don't open if already open fixes a Firefox bug that caused a .5 pixel\n\t\t// shift in the submenu position when mousing over the carat icon\n\t\tif ( submenu.attr( \"aria-hidden\" ) !== \"true\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.timer = this._delay(function() {\n\t\t\tthis._close();\n\t\t\tthis._open( submenu );\n\t\t}, this.delay );\n\t},\n\n\t_open: function( submenu ) {\n\t\tvar position = $.extend({\n\t\t\tof: this.active\n\t\t}, this.options.position );\n\n\t\tclearTimeout( this.timer );\n\t\tthis.element.find( \".ui-menu\" ).not( submenu.parents( \".ui-menu\" ) )\n\t\t\t.hide()\n\t\t\t.attr( \"aria-hidden\", \"true\" );\n\n\t\tsubmenu\n\t\t\t.show()\n\t\t\t.removeAttr( \"aria-hidden\" )\n\t\t\t.attr( \"aria-expanded\", \"true\" )\n\t\t\t.position( position );\n\t},\n\n\tcollapseAll: function( event, all ) {\n\t\tclearTimeout( this.timer );\n\t\tthis.timer = this._delay(function() {\n\t\t\t// If we were passed an event, look for the submenu that contains the event\n\t\t\tvar currentMenu = all ? this.element :\n\t\t\t\t$( event && event.target ).closest( this.element.find( \".ui-menu\" ) );\n\n\t\t\t// If we found no valid submenu ancestor, use the main menu to close all sub menus anyway\n\t\t\tif ( !currentMenu.length ) {\n\t\t\t\tcurrentMenu = this.element;\n\t\t\t}\n\n\t\t\tthis._close( currentMenu );\n\n\t\t\tthis.blur( event );\n\t\t\tthis.activeMenu = currentMenu;\n\t\t}, this.delay );\n\t},\n\n\t// With no arguments, closes the currently active menu - if nothing is active\n\t// it closes all menus.  If passed an argument, it will search for menus BELOW\n\t_close: function( startMenu ) {\n\t\tif ( !startMenu ) {\n\t\t\tstartMenu = this.active ? this.active.parent() : this.element;\n\t\t}\n\n\t\tstartMenu\n\t\t\t.find( \".ui-menu\" )\n\t\t\t\t.hide()\n\t\t\t\t.attr( \"aria-hidden\", \"true\" )\n\t\t\t\t.attr( \"aria-expanded\", \"false\" )\n\t\t\t.end()\n\t\t\t.find( \"a.ui-state-active\" )\n\t\t\t\t.removeClass( \"ui-state-active\" );\n\t},\n\n\tcollapse: function( event ) {\n\t\tvar newItem = this.active &&\n\t\t\tthis.active.parent().closest( \".ui-menu-item\", this.element );\n\t\tif ( newItem && newItem.length ) {\n\t\t\tthis._close();\n\t\t\tthis.focus( event, newItem );\n\t\t}\n\t},\n\n\texpand: function( event ) {\n\t\tvar newItem = this.active &&\n\t\t\tthis.active\n\t\t\t\t.children( \".ui-menu \" )\n\t\t\t\t.children( \".ui-menu-item\" )\n\t\t\t\t.first();\n\n\t\tif ( newItem && newItem.length ) {\n\t\t\tthis._open( newItem.parent() );\n\n\t\t\t// Delay so Firefox will not hide activedescendant change in expanding submenu from AT\n\t\t\tthis._delay(function() {\n\t\t\t\tthis.focus( event, newItem );\n\t\t\t});\n\t\t}\n\t},\n\n\tnext: function( event ) {\n\t\tthis._move( \"next\", \"first\", event );\n\t},\n\n\tprevious: function( event ) {\n\t\tthis._move( \"prev\", \"last\", event );\n\t},\n\n\tisFirstItem: function() {\n\t\treturn this.active && !this.active.prevAll( \".ui-menu-item\" ).length;\n\t},\n\n\tisLastItem: function() {\n\t\treturn this.active && !this.active.nextAll( \".ui-menu-item\" ).length;\n\t},\n\n\t_move: function( direction, filter, event ) {\n\t\tvar next;\n\t\tif ( this.active ) {\n\t\t\tif ( direction === \"first\" || direction === \"last\" ) {\n\t\t\t\tnext = this.active\n\t\t\t\t\t[ direction === \"first\" ? \"prevAll\" : \"nextAll\" ]( \".ui-menu-item\" )\n\t\t\t\t\t.eq( -1 );\n\t\t\t} else {\n\t\t\t\tnext = this.active\n\t\t\t\t\t[ direction + \"All\" ]( \".ui-menu-item\" )\n\t\t\t\t\t.eq( 0 );\n\t\t\t}\n\t\t}\n\t\tif ( !next || !next.length || !this.active ) {\n\t\t\tnext = this.activeMenu.children( \".ui-menu-item\" )[ filter ]();\n\t\t}\n\n\t\tthis.focus( event, next );\n\t},\n\n\tnextPage: function( event ) {\n\t\tvar item, base, height;\n\n\t\tif ( !this.active ) {\n\t\t\tthis.next( event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.isLastItem() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( this._hasScroll() ) {\n\t\t\tbase = this.active.offset().top;\n\t\t\theight = this.element.height();\n\t\t\tthis.active.nextAll( \".ui-menu-item\" ).each(function() {\n\t\t\t\titem = $( this );\n\t\t\t\treturn item.offset().top - base - height < 0;\n\t\t\t});\n\n\t\t\tthis.focus( event, item );\n\t\t} else {\n\t\t\tthis.focus( event, this.activeMenu.children( \".ui-menu-item\" )\n\t\t\t\t[ !this.active ? \"first\" : \"last\" ]() );\n\t\t}\n\t},\n\n\tpreviousPage: function( event ) {\n\t\tvar item, base, height;\n\t\tif ( !this.active ) {\n\t\t\tthis.next( event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.isFirstItem() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( this._hasScroll() ) {\n\t\t\tbase = this.active.offset().top;\n\t\t\theight = this.element.height();\n\t\t\tthis.active.prevAll( \".ui-menu-item\" ).each(function() {\n\t\t\t\titem = $( this );\n\t\t\t\treturn item.offset().top - base + height > 0;\n\t\t\t});\n\n\t\t\tthis.focus( event, item );\n\t\t} else {\n\t\t\tthis.focus( event, this.activeMenu.children( \".ui-menu-item\" ).first() );\n\t\t}\n\t},\n\n\t_hasScroll: function() {\n\t\treturn this.element.outerHeight() < this.element.prop( \"scrollHeight\" );\n\t},\n\n\tselect: function( event ) {\n\t\t// TODO: It should never be possible to not have an active item at this\n\t\t// point, but the tests don't trigger mouseenter before click.\n\t\tthis.active = this.active || $( event.target ).closest( \".ui-menu-item\" );\n\t\tvar ui = { item: this.active };\n\t\tif ( !this.active.has( \".ui-menu\" ).length ) {\n\t\t\tthis.collapseAll( event, true );\n\t\t}\n\t\tthis._trigger( \"select\", event, ui );\n\t}\n});\n\n}( jQuery ));\n(function( $, undefined ) {\n\n$.widget( \"ui.progressbar\", {\n\tversion: \"1.10.3\",\n\toptions: {\n\t\tmax: 100,\n\t\tvalue: 0,\n\n\t\tchange: null,\n\t\tcomplete: null\n\t},\n\n\tmin: 0,\n\n\t_create: function() {\n\t\t// Constrain initial value\n\t\tthis.oldValue = this.options.value = this._constrainedValue();\n\n\t\tthis.element\n\t\t\t.addClass( \"ui-progressbar ui-widget ui-widget-content ui-corner-all\" )\n\t\t\t.attr({\n\t\t\t\t// Only set static values, aria-valuenow and aria-valuemax are\n\t\t\t\t// set inside _refreshValue()\n\t\t\t\trole: \"progressbar\",\n\t\t\t\t\"aria-valuemin\": this.min\n\t\t\t});\n\n\t\tthis.valueDiv = $( \"<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>\" )\n\t\t\t.appendTo( this.element );\n\n\t\tthis._refreshValue();\n\t},\n\n\t_destroy: function() {\n\t\tthis.element\n\t\t\t.removeClass( \"ui-progressbar ui-widget ui-widget-content ui-corner-all\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-valuemin\" )\n\t\t\t.removeAttr( \"aria-valuemax\" )\n\t\t\t.removeAttr( \"aria-valuenow\" );\n\n\t\tthis.valueDiv.remove();\n\t},\n\n\tvalue: function( newValue ) {\n\t\tif ( newValue === undefined ) {\n\t\t\treturn this.options.value;\n\t\t}\n\n\t\tthis.options.value = this._constrainedValue( newValue );\n\t\tthis._refreshValue();\n\t},\n\n\t_constrainedValue: function( newValue ) {\n\t\tif ( newValue === undefined ) {\n\t\t\tnewValue = this.options.value;\n\t\t}\n\n\t\tthis.indeterminate = newValue === false;\n\n\t\t// sanitize value\n\t\tif ( typeof newValue !== \"number\" ) {\n\t\t\tnewValue = 0;\n\t\t}\n\n\t\treturn this.indeterminate ? false :\n\t\t\tMath.min( this.options.max, Math.max( this.min, newValue ) );\n\t},\n\n\t_setOptions: function( options ) {\n\t\t// Ensure \"value\" option is set after other values (like max)\n\t\tvar value = options.value;\n\t\tdelete options.value;\n\n\t\tthis._super( options );\n\n\t\tthis.options.value = this._constrainedValue( value );\n\t\tthis._refreshValue();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"max\" ) {\n\t\t\t// Don't allow a max less than min\n\t\t\tvalue = Math.max( this.min, value );\n\t\t}\n\n\t\tthis._super( key, value );\n\t},\n\n\t_percentage: function() {\n\t\treturn this.indeterminate ? 100 : 100 * ( this.options.value - this.min ) / ( this.options.max - this.min );\n\t},\n\n\t_refreshValue: function() {\n\t\tvar value = this.options.value,\n\t\t\tpercentage = this._percentage();\n\n\t\tthis.valueDiv\n\t\t\t.toggle( this.indeterminate || value > this.min )\n\t\t\t.toggleClass( \"ui-corner-right\", value === this.options.max )\n\t\t\t.width( percentage.toFixed(0) + \"%\" );\n\n\t\tthis.element.toggleClass( \"ui-progressbar-indeterminate\", this.indeterminate );\n\n\t\tif ( this.indeterminate ) {\n\t\t\tthis.element.removeAttr( \"aria-valuenow\" );\n\t\t\tif ( !this.overlayDiv ) {\n\t\t\t\tthis.overlayDiv = $( \"<div class='ui-progressbar-overlay'></div>\" ).appendTo( this.valueDiv );\n\t\t\t}\n\t\t} else {\n\t\t\tthis.element.attr({\n\t\t\t\t\"aria-valuemax\": this.options.max,\n\t\t\t\t\"aria-valuenow\": value\n\t\t\t});\n\t\t\tif ( this.overlayDiv ) {\n\t\t\t\tthis.overlayDiv.remove();\n\t\t\t\tthis.overlayDiv = null;\n\t\t\t}\n\t\t}\n\n\t\tif ( this.oldValue !== value ) {\n\t\t\tthis.oldValue = value;\n\t\t\tthis._trigger( \"change\" );\n\t\t}\n\t\tif ( value === this.options.max ) {\n\t\t\tthis._trigger( \"complete\" );\n\t\t}\n\t}\n});\n\n})( jQuery );\n(function( $, undefined ) {\n\n// number of pages in a slider\n// (how many times can you page up/down to go through the whole range)\nvar numPages = 5;\n\n$.widget( \"ui.slider\", $.ui.mouse, {\n\tversion: \"1.10.3\",\n\twidgetEventPrefix: \"slide\",\n\n\toptions: {\n\t\tanimate: false,\n\t\tdistance: 0,\n\t\tmax: 100,\n\t\tmin: 0,\n\t\torientation: \"horizontal\",\n\t\trange: false,\n\t\tstep: 1,\n\t\tvalue: 0,\n\t\tvalues: null,\n\n\t\t// callbacks\n\t\tchange: null,\n\t\tslide: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\n\t_create: function() {\n\t\tthis._keySliding = false;\n\t\tthis._mouseSliding = false;\n\t\tthis._animateOff = true;\n\t\tthis._handleIndex = null;\n\t\tthis._detectOrientation();\n\t\tthis._mouseInit();\n\n\t\tthis.element\n\t\t\t.addClass( \"ui-slider\" +\n\t\t\t\t\" ui-slider-\" + this.orientation +\n\t\t\t\t\" ui-widget\" +\n\t\t\t\t\" ui-widget-content\" +\n\t\t\t\t\" ui-corner-all\");\n\n\t\tthis._refresh();\n\t\tthis._setOption( \"disabled\", this.options.disabled );\n\n\t\tthis._animateOff = false;\n\t},\n\n\t_refresh: function() {\n\t\tthis._createRange();\n\t\tthis._createHandles();\n\t\tthis._setupEvents();\n\t\tthis._refreshValue();\n\t},\n\n\t_createHandles: function() {\n\t\tvar i, handleCount,\n\t\t\toptions = this.options,\n\t\t\texistingHandles = this.element.find( \".ui-slider-handle\" ).addClass( \"ui-state-default ui-corner-all\" ),\n\t\t\thandle = \"<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>\",\n\t\t\thandles = [];\n\n\t\thandleCount = ( options.values && options.values.length ) || 1;\n\n\t\tif ( existingHandles.length > handleCount ) {\n\t\t\texistingHandles.slice( handleCount ).remove();\n\t\t\texistingHandles = existingHandles.slice( 0, handleCount );\n\t\t}\n\n\t\tfor ( i = existingHandles.length; i < handleCount; i++ ) {\n\t\t\thandles.push( handle );\n\t\t}\n\n\t\tthis.handles = existingHandles.add( $( handles.join( \"\" ) ).appendTo( this.element ) );\n\n\t\tthis.handle = this.handles.eq( 0 );\n\n\t\tthis.handles.each(function( i ) {\n\t\t\t$( this ).data( \"ui-slider-handle-index\", i );\n\t\t});\n\t},\n\n\t_createRange: function() {\n\t\tvar options = this.options,\n\t\t\tclasses = \"\";\n\n\t\tif ( options.range ) {\n\t\t\tif ( options.range === true ) {\n\t\t\t\tif ( !options.values ) {\n\t\t\t\t\toptions.values = [ this._valueMin(), this._valueMin() ];\n\t\t\t\t} else if ( options.values.length && options.values.length !== 2 ) {\n\t\t\t\t\toptions.values = [ options.values[0], options.values[0] ];\n\t\t\t\t} else if ( $.isArray( options.values ) ) {\n\t\t\t\t\toptions.values = options.values.slice(0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !this.range || !this.range.length ) {\n\t\t\t\tthis.range = $( \"<div></div>\" )\n\t\t\t\t\t.appendTo( this.element );\n\n\t\t\t\tclasses = \"ui-slider-range\" +\n\t\t\t\t// note: this isn't the most fittingly semantic framework class for this element,\n\t\t\t\t// but worked best visually with a variety of themes\n\t\t\t\t\" ui-widget-header ui-corner-all\";\n\t\t\t} else {\n\t\t\t\tthis.range.removeClass( \"ui-slider-range-min ui-slider-range-max\" )\n\t\t\t\t\t// Handle range switching from true to min/max\n\t\t\t\t\t.css({\n\t\t\t\t\t\t\"left\": \"\",\n\t\t\t\t\t\t\"bottom\": \"\"\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.range.addClass( classes +\n\t\t\t\t( ( options.range === \"min\" || options.range === \"max\" ) ? \" ui-slider-range-\" + options.range : \"\" ) );\n\t\t} else {\n\t\t\tthis.range = $([]);\n\t\t}\n\t},\n\n\t_setupEvents: function() {\n\t\tvar elements = this.handles.add( this.range ).filter( \"a\" );\n\t\tthis._off( elements );\n\t\tthis._on( elements, this._handleEvents );\n\t\tthis._hoverable( elements );\n\t\tthis._focusable( elements );\n\t},\n\n\t_destroy: function() {\n\t\tthis.handles.remove();\n\t\tthis.range.remove();\n\n\t\tthis.element\n\t\t\t.removeClass( \"ui-slider\" +\n\t\t\t\t\" ui-slider-horizontal\" +\n\t\t\t\t\" ui-slider-vertical\" +\n\t\t\t\t\" ui-widget\" +\n\t\t\t\t\" ui-widget-content\" +\n\t\t\t\t\" ui-corner-all\" );\n\n\t\tthis._mouseDestroy();\n\t},\n\n\t_mouseCapture: function( event ) {\n\t\tvar position, normValue, distance, closestHandle, index, allowed, offset, mouseOverHandle,\n\t\t\tthat = this,\n\t\t\to = this.options;\n\n\t\tif ( o.disabled ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.elementSize = {\n\t\t\twidth: this.element.outerWidth(),\n\t\t\theight: this.element.outerHeight()\n\t\t};\n\t\tthis.elementOffset = this.element.offset();\n\n\t\tposition = { x: event.pageX, y: event.pageY };\n\t\tnormValue = this._normValueFromMouse( position );\n\t\tdistance = this._valueMax() - this._valueMin() + 1;\n\t\tthis.handles.each(function( i ) {\n\t\t\tvar thisDistance = Math.abs( normValue - that.values(i) );\n\t\t\tif (( distance > thisDistance ) ||\n\t\t\t\t( distance === thisDistance &&\n\t\t\t\t\t(i === that._lastChangedValue || that.values(i) === o.min ))) {\n\t\t\t\tdistance = thisDistance;\n\t\t\t\tclosestHandle = $( this );\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t});\n\n\t\tallowed = this._start( event, index );\n\t\tif ( allowed === false ) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._mouseSliding = true;\n\n\t\tthis._handleIndex = index;\n\n\t\tclosestHandle\n\t\t\t.addClass( \"ui-state-active\" )\n\t\t\t.focus();\n\n\t\toffset = closestHandle.offset();\n\t\tmouseOverHandle = !$( event.target ).parents().addBack().is( \".ui-slider-handle\" );\n\t\tthis._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {\n\t\t\tleft: event.pageX - offset.left - ( closestHandle.width() / 2 ),\n\t\t\ttop: event.pageY - offset.top -\n\t\t\t\t( closestHandle.height() / 2 ) -\n\t\t\t\t( parseInt( closestHandle.css(\"borderTopWidth\"), 10 ) || 0 ) -\n\t\t\t\t( parseInt( closestHandle.css(\"borderBottomWidth\"), 10 ) || 0) +\n\t\t\t\t( parseInt( closestHandle.css(\"marginTop\"), 10 ) || 0)\n\t\t};\n\n\t\tif ( !this.handles.hasClass( \"ui-state-hover\" ) ) {\n\t\t\tthis._slide( event, index, normValue );\n\t\t}\n\t\tthis._animateOff = true;\n\t\treturn true;\n\t},\n\n\t_mouseStart: function() {\n\t\treturn true;\n\t},\n\n\t_mouseDrag: function( event ) {\n\t\tvar position = { x: event.pageX, y: event.pageY },\n\t\t\tnormValue = this._normValueFromMouse( position );\n\n\t\tthis._slide( event, this._handleIndex, normValue );\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function( event ) {\n\t\tthis.handles.removeClass( \"ui-state-active\" );\n\t\tthis._mouseSliding = false;\n\n\t\tthis._stop( event, this._handleIndex );\n\t\tthis._change( event, this._handleIndex );\n\n\t\tthis._handleIndex = null;\n\t\tthis._clickOffset = null;\n\t\tthis._animateOff = false;\n\n\t\treturn false;\n\t},\n\n\t_detectOrientation: function() {\n\t\tthis.orientation = ( this.options.orientation === \"vertical\" ) ? \"vertical\" : \"horizontal\";\n\t},\n\n\t_normValueFromMouse: function( position ) {\n\t\tvar pixelTotal,\n\t\t\tpixelMouse,\n\t\t\tpercentMouse,\n\t\t\tvalueTotal,\n\t\t\tvalueMouse;\n\n\t\tif ( this.orientation === \"horizontal\" ) {\n\t\t\tpixelTotal = this.elementSize.width;\n\t\t\tpixelMouse = position.x - this.elementOffset.left - ( this._clickOffset ? this._clickOffset.left : 0 );\n\t\t} else {\n\t\t\tpixelTotal = this.elementSize.height;\n\t\t\tpixelMouse = position.y - this.elementOffset.top - ( this._clickOffset ? this._clickOffset.top : 0 );\n\t\t}\n\n\t\tpercentMouse = ( pixelMouse / pixelTotal );\n\t\tif ( percentMouse > 1 ) {\n\t\t\tpercentMouse = 1;\n\t\t}\n\t\tif ( percentMouse < 0 ) {\n\t\t\tpercentMouse = 0;\n\t\t}\n\t\tif ( this.orientation === \"vertical\" ) {\n\t\t\tpercentMouse = 1 - percentMouse;\n\t\t}\n\n\t\tvalueTotal = this._valueMax() - this._valueMin();\n\t\tvalueMouse = this._valueMin() + percentMouse * valueTotal;\n\n\t\treturn this._trimAlignValue( valueMouse );\n\t},\n\n\t_start: function( event, index ) {\n\t\tvar uiHash = {\n\t\t\thandle: this.handles[ index ],\n\t\t\tvalue: this.value()\n\t\t};\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\tuiHash.value = this.values( index );\n\t\t\tuiHash.values = this.values();\n\t\t}\n\t\treturn this._trigger( \"start\", event, uiHash );\n\t},\n\n\t_slide: function( event, index, newVal ) {\n\t\tvar otherVal,\n\t\t\tnewValues,\n\t\t\tallowed;\n\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\totherVal = this.values( index ? 0 : 1 );\n\n\t\t\tif ( ( this.options.values.length === 2 && this.options.range === true ) &&\n\t\t\t\t\t( ( index === 0 && newVal > otherVal) || ( index === 1 && newVal < otherVal ) )\n\t\t\t\t) {\n\t\t\t\tnewVal = otherVal;\n\t\t\t}\n\n\t\t\tif ( newVal !== this.values( index ) ) {\n\t\t\t\tnewValues = this.values();\n\t\t\t\tnewValues[ index ] = newVal;\n\t\t\t\t// A slide can be canceled by returning false from the slide callback\n\t\t\t\tallowed = this._trigger( \"slide\", event, {\n\t\t\t\t\thandle: this.handles[ index ],\n\t\t\t\t\tvalue: newVal,\n\t\t\t\t\tvalues: newValues\n\t\t\t\t} );\n\t\t\t\totherVal = this.values( index ? 0 : 1 );\n\t\t\t\tif ( allowed !== false ) {\n\t\t\t\t\tthis.values( index, newVal, true );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif ( newVal !== this.value() ) {\n\t\t\t\t// A slide can be canceled by returning false from the slide callback\n\t\t\t\tallowed = this._trigger( \"slide\", event, {\n\t\t\t\t\thandle: this.handles[ index ],\n\t\t\t\t\tvalue: newVal\n\t\t\t\t} );\n\t\t\t\tif ( allowed !== false ) {\n\t\t\t\t\tthis.value( newVal );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_stop: function( event, index ) {\n\t\tvar uiHash = {\n\t\t\thandle: this.handles[ index ],\n\t\t\tvalue: this.value()\n\t\t};\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\tuiHash.value = this.values( index );\n\t\t\tuiHash.values = this.values();\n\t\t}\n\n\t\tthis._trigger( \"stop\", event, uiHash );\n\t},\n\n\t_change: function( event, index ) {\n\t\tif ( !this._keySliding && !this._mouseSliding ) {\n\t\t\tvar uiHash = {\n\t\t\t\thandle: this.handles[ index ],\n\t\t\t\tvalue: this.value()\n\t\t\t};\n\t\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\t\tuiHash.value = this.values( index );\n\t\t\t\tuiHash.values = this.values();\n\t\t\t}\n\n\t\t\t//store the last changed value index for reference when handles overlap\n\t\t\tthis._lastChangedValue = index;\n\n\t\t\tthis._trigger( \"change\", event, uiHash );\n\t\t}\n\t},\n\n\tvalue: function( newValue ) {\n\t\tif ( arguments.length ) {\n\t\t\tthis.options.value = this._trimAlignValue( newValue );\n\t\t\tthis._refreshValue();\n\t\t\tthis._change( null, 0 );\n\t\t\treturn;\n\t\t}\n\n\t\treturn this._value();\n\t},\n\n\tvalues: function( index, newValue ) {\n\t\tvar vals,\n\t\t\tnewValues,\n\t\t\ti;\n\n\t\tif ( arguments.length > 1 ) {\n\t\t\tthis.options.values[ index ] = this._trimAlignValue( newValue );\n\t\t\tthis._refreshValue();\n\t\t\tthis._change( null, index );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( arguments.length ) {\n\t\t\tif ( $.isArray( arguments[ 0 ] ) ) {\n\t\t\t\tvals = this.options.values;\n\t\t\t\tnewValues = arguments[ 0 ];\n\t\t\t\tfor ( i = 0; i < vals.length; i += 1 ) {\n\t\t\t\t\tvals[ i ] = this._trimAlignValue( newValues[ i ] );\n\t\t\t\t\tthis._change( null, i );\n\t\t\t\t}\n\t\t\t\tthis._refreshValue();\n\t\t\t} else {\n\t\t\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\t\t\treturn this._values( index );\n\t\t\t\t} else {\n\t\t\t\t\treturn this.value();\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\treturn this._values();\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tvar i,\n\t\t\tvalsLength = 0;\n\n\t\tif ( key === \"range\" && this.options.range === true ) {\n\t\t\tif ( value === \"min\" ) {\n\t\t\t\tthis.options.value = this._values( 0 );\n\t\t\t\tthis.options.values = null;\n\t\t\t} else if ( value === \"max\" ) {\n\t\t\t\tthis.options.value = this._values( this.options.values.length-1 );\n\t\t\t\tthis.options.values = null;\n\t\t\t}\n\t\t}\n\n\t\tif ( $.isArray( this.options.values ) ) {\n\t\t\tvalsLength = this.options.values.length;\n\t\t}\n\n\t\t$.Widget.prototype._setOption.apply( this, arguments );\n\n\t\tswitch ( key ) {\n\t\t\tcase \"orientation\":\n\t\t\t\tthis._detectOrientation();\n\t\t\t\tthis.element\n\t\t\t\t\t.removeClass( \"ui-slider-horizontal ui-slider-vertical\" )\n\t\t\t\t\t.addClass( \"ui-slider-\" + this.orientation );\n\t\t\t\tthis._refreshValue();\n\t\t\t\tbreak;\n\t\t\tcase \"value\":\n\t\t\t\tthis._animateOff = true;\n\t\t\t\tthis._refreshValue();\n\t\t\t\tthis._change( null, 0 );\n\t\t\t\tthis._animateOff = false;\n\t\t\t\tbreak;\n\t\t\tcase \"values\":\n\t\t\t\tthis._animateOff = true;\n\t\t\t\tthis._refreshValue();\n\t\t\t\tfor ( i = 0; i < valsLength; i += 1 ) {\n\t\t\t\t\tthis._change( null, i );\n\t\t\t\t}\n\t\t\t\tthis._animateOff = false;\n\t\t\t\tbreak;\n\t\t\tcase \"min\":\n\t\t\tcase \"max\":\n\t\t\t\tthis._animateOff = true;\n\t\t\t\tthis._refreshValue();\n\t\t\t\tthis._animateOff = false;\n\t\t\t\tbreak;\n\t\t\tcase \"range\":\n\t\t\t\tthis._animateOff = true;\n\t\t\t\tthis._refresh();\n\t\t\t\tthis._animateOff = false;\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\t//internal value getter\n\t// _value() returns value trimmed by min and max, aligned by step\n\t_value: function() {\n\t\tvar val = this.options.value;\n\t\tval = this._trimAlignValue( val );\n\n\t\treturn val;\n\t},\n\n\t//internal values getter\n\t// _values() returns array of values trimmed by min and max, aligned by step\n\t// _values( index ) returns single value trimmed by min and max, aligned by step\n\t_values: function( index ) {\n\t\tvar val,\n\t\t\tvals,\n\t\t\ti;\n\n\t\tif ( arguments.length ) {\n\t\t\tval = this.options.values[ index ];\n\t\t\tval = this._trimAlignValue( val );\n\n\t\t\treturn val;\n\t\t} else if ( this.options.values && this.options.values.length ) {\n\t\t\t// .slice() creates a copy of the array\n\t\t\t// this copy gets trimmed by min and max and then returned\n\t\t\tvals = this.options.values.slice();\n\t\t\tfor ( i = 0; i < vals.length; i+= 1) {\n\t\t\t\tvals[ i ] = this._trimAlignValue( vals[ i ] );\n\t\t\t}\n\n\t\t\treturn vals;\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t},\n\n\t// returns the step-aligned value that val is closest to, between (inclusive) min and max\n\t_trimAlignValue: function( val ) {\n\t\tif ( val <= this._valueMin() ) {\n\t\t\treturn this._valueMin();\n\t\t}\n\t\tif ( val >= this._valueMax() ) {\n\t\t\treturn this._valueMax();\n\t\t}\n\t\tvar step = ( this.options.step > 0 ) ? this.options.step : 1,\n\t\t\tvalModStep = (val - this._valueMin()) % step,\n\t\t\talignValue = val - valModStep;\n\n\t\tif ( Math.abs(valModStep) * 2 >= step ) {\n\t\t\talignValue += ( valModStep > 0 ) ? step : ( -step );\n\t\t}\n\n\t\t// Since JavaScript has problems with large floats, round\n\t\t// the final value to 5 digits after the decimal point (see #4124)\n\t\treturn parseFloat( alignValue.toFixed(5) );\n\t},\n\n\t_valueMin: function() {\n\t\treturn this.options.min;\n\t},\n\n\t_valueMax: function() {\n\t\treturn this.options.max;\n\t},\n\n\t_refreshValue: function() {\n\t\tvar lastValPercent, valPercent, value, valueMin, valueMax,\n\t\t\toRange = this.options.range,\n\t\t\to = this.options,\n\t\t\tthat = this,\n\t\t\tanimate = ( !this._animateOff ) ? o.animate : false,\n\t\t\t_set = {};\n\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\tthis.handles.each(function( i ) {\n\t\t\t\tvalPercent = ( that.values(i) - that._valueMin() ) / ( that._valueMax() - that._valueMin() ) * 100;\n\t\t\t\t_set[ that.orientation === \"horizontal\" ? \"left\" : \"bottom\" ] = valPercent + \"%\";\n\t\t\t\t$( this ).stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( _set, o.animate );\n\t\t\t\tif ( that.options.range === true ) {\n\t\t\t\t\tif ( that.orientation === \"horizontal\" ) {\n\t\t\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\t\t\tthat.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { left: valPercent + \"%\" }, o.animate );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( i === 1 ) {\n\t\t\t\t\t\t\tthat.range[ animate ? \"animate\" : \"css\" ]( { width: ( valPercent - lastValPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\t\t\tthat.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { bottom: ( valPercent ) + \"%\" }, o.animate );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( i === 1 ) {\n\t\t\t\t\t\t\tthat.range[ animate ? \"animate\" : \"css\" ]( { height: ( valPercent - lastValPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlastValPercent = valPercent;\n\t\t\t});\n\t\t} else {\n\t\t\tvalue = this.value();\n\t\t\tvalueMin = this._valueMin();\n\t\t\tvalueMax = this._valueMax();\n\t\t\tvalPercent = ( valueMax !== valueMin ) ?\n\t\t\t\t\t( value - valueMin ) / ( valueMax - valueMin ) * 100 :\n\t\t\t\t\t0;\n\t\t\t_set[ this.orientation === \"horizontal\" ? \"left\" : \"bottom\" ] = valPercent + \"%\";\n\t\t\tthis.handle.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( _set, o.animate );\n\n\t\t\tif ( oRange === \"min\" && this.orientation === \"horizontal\" ) {\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { width: valPercent + \"%\" }, o.animate );\n\t\t\t}\n\t\t\tif ( oRange === \"max\" && this.orientation === \"horizontal\" ) {\n\t\t\t\tthis.range[ animate ? \"animate\" : \"css\" ]( { width: ( 100 - valPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t}\n\t\t\tif ( oRange === \"min\" && this.orientation === \"vertical\" ) {\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { height: valPercent + \"%\" }, o.animate );\n\t\t\t}\n\t\t\tif ( oRange === \"max\" && this.orientation === \"vertical\" ) {\n\t\t\t\tthis.range[ animate ? \"animate\" : \"css\" ]( { height: ( 100 - valPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleEvents: {\n\t\tkeydown: function( event ) {\n\t\t\t/*jshint maxcomplexity:25*/\n\t\t\tvar allowed, curVal, newVal, step,\n\t\t\t\tindex = $( event.target ).data( \"ui-slider-handle-index\" );\n\n\t\t\tswitch ( event.keyCode ) {\n\t\t\t\tcase $.ui.keyCode.HOME:\n\t\t\t\tcase $.ui.keyCode.END:\n\t\t\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\t\tcase $.ui.keyCode.UP:\n\t\t\t\tcase $.ui.keyCode.RIGHT:\n\t\t\t\tcase $.ui.keyCode.DOWN:\n\t\t\t\tcase $.ui.keyCode.LEFT:\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tif ( !this._keySliding ) {\n\t\t\t\t\t\tthis._keySliding = true;\n\t\t\t\t\t\t$( event.target ).addClass( \"ui-state-active\" );\n\t\t\t\t\t\tallowed = this._start( event, index );\n\t\t\t\t\t\tif ( allowed === false ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tstep = this.options.step;\n\t\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\t\tcurVal = newVal = this.values( index );\n\t\t\t} else {\n\t\t\t\tcurVal = newVal = this.value();\n\t\t\t}\n\n\t\t\tswitch ( event.keyCode ) {\n\t\t\t\tcase $.ui.keyCode.HOME:\n\t\t\t\t\tnewVal = this._valueMin();\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.ui.keyCode.END:\n\t\t\t\t\tnewVal = this._valueMax();\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\t\t\tnewVal = this._trimAlignValue( curVal + ( (this._valueMax() - this._valueMin()) / numPages ) );\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\t\t\tnewVal = this._trimAlignValue( curVal - ( (this._valueMax() - this._valueMin()) / numPages ) );\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.ui.keyCode.UP:\n\t\t\t\tcase $.ui.keyCode.RIGHT:\n\t\t\t\t\tif ( curVal === this._valueMax() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tnewVal = this._trimAlignValue( curVal + step );\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.ui.keyCode.DOWN:\n\t\t\t\tcase $.ui.keyCode.LEFT:\n\t\t\t\t\tif ( curVal === this._valueMin() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tnewVal = this._trimAlignValue( curVal - step );\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis._slide( event, index, newVal );\n\t\t},\n\t\tclick: function( event ) {\n\t\t\tevent.preventDefault();\n\t\t},\n\t\tkeyup: function( event ) {\n\t\t\tvar index = $( event.target ).data( \"ui-slider-handle-index\" );\n\n\t\t\tif ( this._keySliding ) {\n\t\t\t\tthis._keySliding = false;\n\t\t\t\tthis._stop( event, index );\n\t\t\t\tthis._change( event, index );\n\t\t\t\t$( event.target ).removeClass( \"ui-state-active\" );\n\t\t\t}\n\t\t}\n\t}\n\n});\n\n}(jQuery));\n(function( $ ) {\n\nfunction modifier( fn ) {\n\treturn function() {\n\t\tvar previous = this.element.val();\n\t\tfn.apply( this, arguments );\n\t\tthis._refresh();\n\t\tif ( previous !== this.element.val() ) {\n\t\t\tthis._trigger( \"change\" );\n\t\t}\n\t};\n}\n\n$.widget( \"ui.spinner\", {\n\tversion: \"1.10.3\",\n\tdefaultElement: \"<input>\",\n\twidgetEventPrefix: \"spin\",\n\toptions: {\n\t\tculture: null,\n\t\ticons: {\n\t\t\tdown: \"ui-icon-triangle-1-s\",\n\t\t\tup: \"ui-icon-triangle-1-n\"\n\t\t},\n\t\tincremental: true,\n\t\tmax: null,\n\t\tmin: null,\n\t\tnumberFormat: null,\n\t\tpage: 10,\n\t\tstep: 1,\n\n\t\tchange: null,\n\t\tspin: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\n\t_create: function() {\n\t\t// handle string values that need to be parsed\n\t\tthis._setOption( \"max\", this.options.max );\n\t\tthis._setOption( \"min\", this.options.min );\n\t\tthis._setOption( \"step\", this.options.step );\n\n\t\t// format the value, but don't constrain\n\t\tthis._value( this.element.val(), true );\n\n\t\tthis._draw();\n\t\tthis._on( this._events );\n\t\tthis._refresh();\n\n\t\t// turning off autocomplete prevents the browser from remembering the\n\t\t// value when navigating through history, so we re-enable autocomplete\n\t\t// if the page is unloaded before the widget is destroyed. #7790\n\t\tthis._on( this.window, {\n\t\t\tbeforeunload: function() {\n\t\t\t\tthis.element.removeAttr( \"autocomplete\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_getCreateOptions: function() {\n\t\tvar options = {},\n\t\t\telement = this.element;\n\n\t\t$.each( [ \"min\", \"max\", \"step\" ], function( i, option ) {\n\t\t\tvar value = element.attr( option );\n\t\t\tif ( value !== undefined && value.length ) {\n\t\t\t\toptions[ option ] = value;\n\t\t\t}\n\t\t});\n\n\t\treturn options;\n\t},\n\n\t_events: {\n\t\tkeydown: function( event ) {\n\t\t\tif ( this._start( event ) && this._keydown( event ) ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\t\tkeyup: \"_stop\",\n\t\tfocus: function() {\n\t\t\tthis.previous = this.element.val();\n\t\t},\n\t\tblur: function( event ) {\n\t\t\tif ( this.cancelBlur ) {\n\t\t\t\tdelete this.cancelBlur;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._stop();\n\t\t\tthis._refresh();\n\t\t\tif ( this.previous !== this.element.val() ) {\n\t\t\t\tthis._trigger( \"change\", event );\n\t\t\t}\n\t\t},\n\t\tmousewheel: function( event, delta ) {\n\t\t\tif ( !delta ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( !this.spinning && !this._start( event ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis._spin( (delta > 0 ? 1 : -1) * this.options.step, event );\n\t\t\tclearTimeout( this.mousewheelTimer );\n\t\t\tthis.mousewheelTimer = this._delay(function() {\n\t\t\t\tif ( this.spinning ) {\n\t\t\t\t\tthis._stop( event );\n\t\t\t\t}\n\t\t\t}, 100 );\n\t\t\tevent.preventDefault();\n\t\t},\n\t\t\"mousedown .ui-spinner-button\": function( event ) {\n\t\t\tvar previous;\n\n\t\t\t// We never want the buttons to have focus; whenever the user is\n\t\t\t// interacting with the spinner, the focus should be on the input.\n\t\t\t// If the input is focused then this.previous is properly set from\n\t\t\t// when the input first received focus. If the input is not focused\n\t\t\t// then we need to set this.previous based on the value before spinning.\n\t\t\tprevious = this.element[0] === this.document[0].activeElement ?\n\t\t\t\tthis.previous : this.element.val();\n\t\t\tfunction checkFocus() {\n\t\t\t\tvar isActive = this.element[0] === this.document[0].activeElement;\n\t\t\t\tif ( !isActive ) {\n\t\t\t\t\tthis.element.focus();\n\t\t\t\t\tthis.previous = previous;\n\t\t\t\t\t// support: IE\n\t\t\t\t\t// IE sets focus asynchronously, so we need to check if focus\n\t\t\t\t\t// moved off of the input because the user clicked on the button.\n\t\t\t\t\tthis._delay(function() {\n\t\t\t\t\t\tthis.previous = previous;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// ensure focus is on (or stays on) the text field\n\t\t\tevent.preventDefault();\n\t\t\tcheckFocus.call( this );\n\n\t\t\t// support: IE\n\t\t\t// IE doesn't prevent moving focus even with event.preventDefault()\n\t\t\t// so we set a flag to know when we should ignore the blur event\n\t\t\t// and check (again) if focus moved off of the input.\n\t\t\tthis.cancelBlur = true;\n\t\t\tthis._delay(function() {\n\t\t\t\tdelete this.cancelBlur;\n\t\t\t\tcheckFocus.call( this );\n\t\t\t});\n\n\t\t\tif ( this._start( event ) === false ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._repeat( null, $( event.currentTarget ).hasClass( \"ui-spinner-up\" ) ? 1 : -1, event );\n\t\t},\n\t\t\"mouseup .ui-spinner-button\": \"_stop\",\n\t\t\"mouseenter .ui-spinner-button\": function( event ) {\n\t\t\t// button will add ui-state-active if mouse was down while mouseleave and kept down\n\t\t\tif ( !$( event.currentTarget ).hasClass( \"ui-state-active\" ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( this._start( event ) === false ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._repeat( null, $( event.currentTarget ).hasClass( \"ui-spinner-up\" ) ? 1 : -1, event );\n\t\t},\n\t\t// TODO: do we really want to consider this a stop?\n\t\t// shouldn't we just stop the repeater and wait until mouseup before\n\t\t// we trigger the stop event?\n\t\t\"mouseleave .ui-spinner-button\": \"_stop\"\n\t},\n\n\t_draw: function() {\n\t\tvar uiSpinner = this.uiSpinner = this.element\n\t\t\t.addClass( \"ui-spinner-input\" )\n\t\t\t.attr( \"autocomplete\", \"off\" )\n\t\t\t.wrap( this._uiSpinnerHtml() )\n\t\t\t.parent()\n\t\t\t\t// add buttons\n\t\t\t\t.append( this._buttonHtml() );\n\n\t\tthis.element.attr( \"role\", \"spinbutton\" );\n\n\t\t// button bindings\n\t\tthis.buttons = uiSpinner.find( \".ui-spinner-button\" )\n\t\t\t.attr( \"tabIndex\", -1 )\n\t\t\t.button()\n\t\t\t.removeClass( \"ui-corner-all\" );\n\n\t\t// IE 6 doesn't understand height: 50% for the buttons\n\t\t// unless the wrapper has an explicit height\n\t\tif ( this.buttons.height() > Math.ceil( uiSpinner.height() * 0.5 ) &&\n\t\t\t\tuiSpinner.height() > 0 ) {\n\t\t\tuiSpinner.height( uiSpinner.height() );\n\t\t}\n\n\t\t// disable spinner if element was already disabled\n\t\tif ( this.options.disabled ) {\n\t\t\tthis.disable();\n\t\t}\n\t},\n\n\t_keydown: function( event ) {\n\t\tvar options = this.options,\n\t\t\tkeyCode = $.ui.keyCode;\n\n\t\tswitch ( event.keyCode ) {\n\t\tcase keyCode.UP:\n\t\t\tthis._repeat( null, 1, event );\n\t\t\treturn true;\n\t\tcase keyCode.DOWN:\n\t\t\tthis._repeat( null, -1, event );\n\t\t\treturn true;\n\t\tcase keyCode.PAGE_UP:\n\t\t\tthis._repeat( null, options.page, event );\n\t\t\treturn true;\n\t\tcase keyCode.PAGE_DOWN:\n\t\t\tthis._repeat( null, -options.page, event );\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_uiSpinnerHtml: function() {\n\t\treturn \"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>\";\n\t},\n\n\t_buttonHtml: function() {\n\t\treturn \"\" +\n\t\t\t\"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'>\" +\n\t\t\t\t\"<span class='ui-icon \" + this.options.icons.up + \"'>&#9650;</span>\" +\n\t\t\t\"</a>\" +\n\t\t\t\"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>\" +\n\t\t\t\t\"<span class='ui-icon \" + this.options.icons.down + \"'>&#9660;</span>\" +\n\t\t\t\"</a>\";\n\t},\n\n\t_start: function( event ) {\n\t\tif ( !this.spinning && this._trigger( \"start\", event ) === false ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( !this.counter ) {\n\t\t\tthis.counter = 1;\n\t\t}\n\t\tthis.spinning = true;\n\t\treturn true;\n\t},\n\n\t_repeat: function( i, steps, event ) {\n\t\ti = i || 500;\n\n\t\tclearTimeout( this.timer );\n\t\tthis.timer = this._delay(function() {\n\t\t\tthis._repeat( 40, steps, event );\n\t\t}, i );\n\n\t\tthis._spin( steps * this.options.step, event );\n\t},\n\n\t_spin: function( step, event ) {\n\t\tvar value = this.value() || 0;\n\n\t\tif ( !this.counter ) {\n\t\t\tthis.counter = 1;\n\t\t}\n\n\t\tvalue = this._adjustValue( value + step * this._increment( this.counter ) );\n\n\t\tif ( !this.spinning || this._trigger( \"spin\", event, { value: value } ) !== false) {\n\t\t\tthis._value( value );\n\t\t\tthis.counter++;\n\t\t}\n\t},\n\n\t_increment: function( i ) {\n\t\tvar incremental = this.options.incremental;\n\n\t\tif ( incremental ) {\n\t\t\treturn $.isFunction( incremental ) ?\n\t\t\t\tincremental( i ) :\n\t\t\t\tMath.floor( i*i*i/50000 - i*i/500 + 17*i/200 + 1 );\n\t\t}\n\n\t\treturn 1;\n\t},\n\n\t_precision: function() {\n\t\tvar precision = this._precisionOf( this.options.step );\n\t\tif ( this.options.min !== null ) {\n\t\t\tprecision = Math.max( precision, this._precisionOf( this.options.min ) );\n\t\t}\n\t\treturn precision;\n\t},\n\n\t_precisionOf: function( num ) {\n\t\tvar str = num.toString(),\n\t\t\tdecimal = str.indexOf( \".\" );\n\t\treturn decimal === -1 ? 0 : str.length - decimal - 1;\n\t},\n\n\t_adjustValue: function( value ) {\n\t\tvar base, aboveMin,\n\t\t\toptions = this.options;\n\n\t\t// make sure we're at a valid step\n\t\t// - find out where we are relative to the base (min or 0)\n\t\tbase = options.min !== null ? options.min : 0;\n\t\taboveMin = value - base;\n\t\t// - round to the nearest step\n\t\taboveMin = Math.round(aboveMin / options.step) * options.step;\n\t\t// - rounding is based on 0, so adjust back to our base\n\t\tvalue = base + aboveMin;\n\n\t\t// fix precision from bad JS floating point math\n\t\tvalue = parseFloat( value.toFixed( this._precision() ) );\n\n\t\t// clamp the value\n\t\tif ( options.max !== null && value > options.max) {\n\t\t\treturn options.max;\n\t\t}\n\t\tif ( options.min !== null && value < options.min ) {\n\t\t\treturn options.min;\n\t\t}\n\n\t\treturn value;\n\t},\n\n\t_stop: function( event ) {\n\t\tif ( !this.spinning ) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout( this.timer );\n\t\tclearTimeout( this.mousewheelTimer );\n\t\tthis.counter = 0;\n\t\tthis.spinning = false;\n\t\tthis._trigger( \"stop\", event );\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"culture\" || key === \"numberFormat\" ) {\n\t\t\tvar prevValue = this._parse( this.element.val() );\n\t\t\tthis.options[ key ] = value;\n\t\t\tthis.element.val( this._format( prevValue ) );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key === \"max\" || key === \"min\" || key === \"step\" ) {\n\t\t\tif ( typeof value === \"string\" ) {\n\t\t\t\tvalue = this._parse( value );\n\t\t\t}\n\t\t}\n\t\tif ( key === \"icons\" ) {\n\t\t\tthis.buttons.first().find( \".ui-icon\" )\n\t\t\t\t.removeClass( this.options.icons.up )\n\t\t\t\t.addClass( value.up );\n\t\t\tthis.buttons.last().find( \".ui-icon\" )\n\t\t\t\t.removeClass( this.options.icons.down )\n\t\t\t\t.addClass( value.down );\n\t\t}\n\n\t\tthis._super( key, value );\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tif ( value ) {\n\t\t\t\tthis.element.prop( \"disabled\", true );\n\t\t\t\tthis.buttons.button( \"disable\" );\n\t\t\t} else {\n\t\t\t\tthis.element.prop( \"disabled\", false );\n\t\t\t\tthis.buttons.button( \"enable\" );\n\t\t\t}\n\t\t}\n\t},\n\n\t_setOptions: modifier(function( options ) {\n\t\tthis._super( options );\n\t\tthis._value( this.element.val() );\n\t}),\n\n\t_parse: function( val ) {\n\t\tif ( typeof val === \"string\" && val !== \"\" ) {\n\t\t\tval = window.Globalize && this.options.numberFormat ?\n\t\t\t\tGlobalize.parseFloat( val, 10, this.options.culture ) : +val;\n\t\t}\n\t\treturn val === \"\" || isNaN( val ) ? null : val;\n\t},\n\n\t_format: function( value ) {\n\t\tif ( value === \"\" ) {\n\t\t\treturn \"\";\n\t\t}\n\t\treturn window.Globalize && this.options.numberFormat ?\n\t\t\tGlobalize.format( value, this.options.numberFormat, this.options.culture ) :\n\t\t\tvalue;\n\t},\n\n\t_refresh: function() {\n\t\tthis.element.attr({\n\t\t\t\"aria-valuemin\": this.options.min,\n\t\t\t\"aria-valuemax\": this.options.max,\n\t\t\t// TODO: what should we do with values that can't be parsed?\n\t\t\t\"aria-valuenow\": this._parse( this.element.val() )\n\t\t});\n\t},\n\n\t// update the value without triggering change\n\t_value: function( value, allowAny ) {\n\t\tvar parsed;\n\t\tif ( value !== \"\" ) {\n\t\t\tparsed = this._parse( value );\n\t\t\tif ( parsed !== null ) {\n\t\t\t\tif ( !allowAny ) {\n\t\t\t\t\tparsed = this._adjustValue( parsed );\n\t\t\t\t}\n\t\t\t\tvalue = this._format( parsed );\n\t\t\t}\n\t\t}\n\t\tthis.element.val( value );\n\t\tthis._refresh();\n\t},\n\n\t_destroy: function() {\n\t\tthis.element\n\t\t\t.removeClass( \"ui-spinner-input\" )\n\t\t\t.prop( \"disabled\", false )\n\t\t\t.removeAttr( \"autocomplete\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-valuemin\" )\n\t\t\t.removeAttr( \"aria-valuemax\" )\n\t\t\t.removeAttr( \"aria-valuenow\" );\n\t\tthis.uiSpinner.replaceWith( this.element );\n\t},\n\n\tstepUp: modifier(function( steps ) {\n\t\tthis._stepUp( steps );\n\t}),\n\t_stepUp: function( steps ) {\n\t\tif ( this._start() ) {\n\t\t\tthis._spin( (steps || 1) * this.options.step );\n\t\t\tthis._stop();\n\t\t}\n\t},\n\n\tstepDown: modifier(function( steps ) {\n\t\tthis._stepDown( steps );\n\t}),\n\t_stepDown: function( steps ) {\n\t\tif ( this._start() ) {\n\t\t\tthis._spin( (steps || 1) * -this.options.step );\n\t\t\tthis._stop();\n\t\t}\n\t},\n\n\tpageUp: modifier(function( pages ) {\n\t\tthis._stepUp( (pages || 1) * this.options.page );\n\t}),\n\n\tpageDown: modifier(function( pages ) {\n\t\tthis._stepDown( (pages || 1) * this.options.page );\n\t}),\n\n\tvalue: function( newVal ) {\n\t\tif ( !arguments.length ) {\n\t\t\treturn this._parse( this.element.val() );\n\t\t}\n\t\tmodifier( this._value ).call( this, newVal );\n\t},\n\n\twidget: function() {\n\t\treturn this.uiSpinner;\n\t}\n});\n\n}( jQuery ) );\n(function( $, undefined ) {\n\nvar tabId = 0,\n\trhash = /#.*$/;\n\nfunction getNextTabId() {\n\treturn ++tabId;\n}\n\nfunction isLocal( anchor ) {\n\treturn anchor.hash.length > 1 &&\n\t\tdecodeURIComponent( anchor.href.replace( rhash, \"\" ) ) ===\n\t\t\tdecodeURIComponent( location.href.replace( rhash, \"\" ) );\n}\n\n$.widget( \"ui.tabs\", {\n\tversion: \"1.10.3\",\n\tdelay: 300,\n\toptions: {\n\t\tactive: null,\n\t\tcollapsible: false,\n\t\tevent: \"click\",\n\t\theightStyle: \"content\",\n\t\thide: null,\n\t\tshow: null,\n\n\t\t// callbacks\n\t\tactivate: null,\n\t\tbeforeActivate: null,\n\t\tbeforeLoad: null,\n\t\tload: null\n\t},\n\n\t_create: function() {\n\t\tvar that = this,\n\t\t\toptions = this.options;\n\n\t\tthis.running = false;\n\n\t\tthis.element\n\t\t\t.addClass( \"ui-tabs ui-widget ui-widget-content ui-corner-all\" )\n\t\t\t.toggleClass( \"ui-tabs-collapsible\", options.collapsible )\n\t\t\t// Prevent users from focusing disabled tabs via click\n\t\t\t.delegate( \".ui-tabs-nav > li\", \"mousedown\" + this.eventNamespace, function( event ) {\n\t\t\t\tif ( $( this ).is( \".ui-state-disabled\" ) ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t})\n\t\t\t// support: IE <9\n\t\t\t// Preventing the default action in mousedown doesn't prevent IE\n\t\t\t// from focusing the element, so if the anchor gets focused, blur.\n\t\t\t// We don't have to worry about focusing the previously focused\n\t\t\t// element since clicking on a non-focusable element should focus\n\t\t\t// the body anyway.\n\t\t\t.delegate( \".ui-tabs-anchor\", \"focus\" + this.eventNamespace, function() {\n\t\t\t\tif ( $( this ).closest( \"li\" ).is( \".ui-state-disabled\" ) ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis._processTabs();\n\t\toptions.active = this._initialActive();\n\n\t\t// Take disabling tabs via class attribute from HTML\n\t\t// into account and update option properly.\n\t\tif ( $.isArray( options.disabled ) ) {\n\t\t\toptions.disabled = $.unique( options.disabled.concat(\n\t\t\t\t$.map( this.tabs.filter( \".ui-state-disabled\" ), function( li ) {\n\t\t\t\t\treturn that.tabs.index( li );\n\t\t\t\t})\n\t\t\t) ).sort();\n\t\t}\n\n\t\t// check for length avoids error when initializing empty list\n\t\tif ( this.options.active !== false && this.anchors.length ) {\n\t\t\tthis.active = this._findActive( options.active );\n\t\t} else {\n\t\t\tthis.active = $();\n\t\t}\n\n\t\tthis._refresh();\n\n\t\tif ( this.active.length ) {\n\t\t\tthis.load( options.active );\n\t\t}\n\t},\n\n\t_initialActive: function() {\n\t\tvar active = this.options.active,\n\t\t\tcollapsible = this.options.collapsible,\n\t\t\tlocationHash = location.hash.substring( 1 );\n\n\t\tif ( active === null ) {\n\t\t\t// check the fragment identifier in the URL\n\t\t\tif ( locationHash ) {\n\t\t\t\tthis.tabs.each(function( i, tab ) {\n\t\t\t\t\tif ( $( tab ).attr( \"aria-controls\" ) === locationHash ) {\n\t\t\t\t\t\tactive = i;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// check for a tab marked active via a class\n\t\t\tif ( active === null ) {\n\t\t\t\tactive = this.tabs.index( this.tabs.filter( \".ui-tabs-active\" ) );\n\t\t\t}\n\n\t\t\t// no active tab, set to false\n\t\t\tif ( active === null || active === -1 ) {\n\t\t\t\tactive = this.tabs.length ? 0 : false;\n\t\t\t}\n\t\t}\n\n\t\t// handle numbers: negative, out of range\n\t\tif ( active !== false ) {\n\t\t\tactive = this.tabs.index( this.tabs.eq( active ) );\n\t\t\tif ( active === -1 ) {\n\t\t\t\tactive = collapsible ? false : 0;\n\t\t\t}\n\t\t}\n\n\t\t// don't allow collapsible: false and active: false\n\t\tif ( !collapsible && active === false && this.anchors.length ) {\n\t\t\tactive = 0;\n\t\t}\n\n\t\treturn active;\n\t},\n\n\t_getCreateEventData: function() {\n\t\treturn {\n\t\t\ttab: this.active,\n\t\t\tpanel: !this.active.length ? $() : this._getPanelForTab( this.active )\n\t\t};\n\t},\n\n\t_tabKeydown: function( event ) {\n\t\t/*jshint maxcomplexity:15*/\n\t\tvar focusedTab = $( this.document[0].activeElement ).closest( \"li\" ),\n\t\t\tselectedIndex = this.tabs.index( focusedTab ),\n\t\t\tgoingForward = true;\n\n\t\tif ( this._handlePageNav( event ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch ( event.keyCode ) {\n\t\t\tcase $.ui.keyCode.RIGHT:\n\t\t\tcase $.ui.keyCode.DOWN:\n\t\t\t\tselectedIndex++;\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.UP:\n\t\t\tcase $.ui.keyCode.LEFT:\n\t\t\t\tgoingForward = false;\n\t\t\t\tselectedIndex--;\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.END:\n\t\t\t\tselectedIndex = this.anchors.length - 1;\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.HOME:\n\t\t\t\tselectedIndex = 0;\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.SPACE:\n\t\t\t\t// Activate only, no collapsing\n\t\t\t\tevent.preventDefault();\n\t\t\t\tclearTimeout( this.activating );\n\t\t\t\tthis._activate( selectedIndex );\n\t\t\t\treturn;\n\t\t\tcase $.ui.keyCode.ENTER:\n\t\t\t\t// Toggle (cancel delayed activation, allow collapsing)\n\t\t\t\tevent.preventDefault();\n\t\t\t\tclearTimeout( this.activating );\n\t\t\t\t// Determine if we should collapse or activate\n\t\t\t\tthis._activate( selectedIndex === this.options.active ? false : selectedIndex );\n\t\t\t\treturn;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\t// Focus the appropriate tab, based on which key was pressed\n\t\tevent.preventDefault();\n\t\tclearTimeout( this.activating );\n\t\tselectedIndex = this._focusNextTab( selectedIndex, goingForward );\n\n\t\t// Navigating with control key will prevent automatic activation\n\t\tif ( !event.ctrlKey ) {\n\t\t\t// Update aria-selected immediately so that AT think the tab is already selected.\n\t\t\t// Otherwise AT may confuse the user by stating that they need to activate the tab,\n\t\t\t// but the tab will already be activated by the time the announcement finishes.\n\t\t\tfocusedTab.attr( \"aria-selected\", \"false\" );\n\t\t\tthis.tabs.eq( selectedIndex ).attr( \"aria-selected\", \"true\" );\n\n\t\t\tthis.activating = this._delay(function() {\n\t\t\t\tthis.option( \"active\", selectedIndex );\n\t\t\t}, this.delay );\n\t\t}\n\t},\n\n\t_panelKeydown: function( event ) {\n\t\tif ( this._handlePageNav( event ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ctrl+up moves focus to the current tab\n\t\tif ( event.ctrlKey && event.keyCode === $.ui.keyCode.UP ) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.active.focus();\n\t\t}\n\t},\n\n\t// Alt+page up/down moves focus to the previous/next tab (and activates)\n\t_handlePageNav: function( event ) {\n\t\tif ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_UP ) {\n\t\t\tthis._activate( this._focusNextTab( this.options.active - 1, false ) );\n\t\t\treturn true;\n\t\t}\n\t\tif ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_DOWN ) {\n\t\t\tthis._activate( this._focusNextTab( this.options.active + 1, true ) );\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t_findNextTab: function( index, goingForward ) {\n\t\tvar lastTabIndex = this.tabs.length - 1;\n\n\t\tfunction constrain() {\n\t\t\tif ( index > lastTabIndex ) {\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\tif ( index < 0 ) {\n\t\t\t\tindex = lastTabIndex;\n\t\t\t}\n\t\t\treturn index;\n\t\t}\n\n\t\twhile ( $.inArray( constrain(), this.options.disabled ) !== -1 ) {\n\t\t\tindex = goingForward ? index + 1 : index - 1;\n\t\t}\n\n\t\treturn index;\n\t},\n\n\t_focusNextTab: function( index, goingForward ) {\n\t\tindex = this._findNextTab( index, goingForward );\n\t\tthis.tabs.eq( index ).focus();\n\t\treturn index;\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"active\" ) {\n\t\t\t// _activate() will handle invalid values and update this.options\n\t\t\tthis._activate( value );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\t// don't use the widget factory's disabled handling\n\t\t\tthis._setupDisabled( value );\n\t\t\treturn;\n\t\t}\n\n\t\tthis._super( key, value);\n\n\t\tif ( key === \"collapsible\" ) {\n\t\t\tthis.element.toggleClass( \"ui-tabs-collapsible\", value );\n\t\t\t// Setting collapsible: false while collapsed; open first panel\n\t\t\tif ( !value && this.options.active === false ) {\n\t\t\t\tthis._activate( 0 );\n\t\t\t}\n\t\t}\n\n\t\tif ( key === \"event\" ) {\n\t\t\tthis._setupEvents( value );\n\t\t}\n\n\t\tif ( key === \"heightStyle\" ) {\n\t\t\tthis._setupHeightStyle( value );\n\t\t}\n\t},\n\n\t_tabId: function( tab ) {\n\t\treturn tab.attr( \"aria-controls\" ) || \"ui-tabs-\" + getNextTabId();\n\t},\n\n\t_sanitizeSelector: function( hash ) {\n\t\treturn hash ? hash.replace( /[!\"$%&'()*+,.\\/:;<=>?@\\[\\]\\^`{|}~]/g, \"\\\\$&\" ) : \"\";\n\t},\n\n\trefresh: function() {\n\t\tvar options = this.options,\n\t\t\tlis = this.tablist.children( \":has(a[href])\" );\n\n\t\t// get disabled tabs from class attribute from HTML\n\t\t// this will get converted to a boolean if needed in _refresh()\n\t\toptions.disabled = $.map( lis.filter( \".ui-state-disabled\" ), function( tab ) {\n\t\t\treturn lis.index( tab );\n\t\t});\n\n\t\tthis._processTabs();\n\n\t\t// was collapsed or no tabs\n\t\tif ( options.active === false || !this.anchors.length ) {\n\t\t\toptions.active = false;\n\t\t\tthis.active = $();\n\t\t// was active, but active tab is gone\n\t\t} else if ( this.active.length && !$.contains( this.tablist[ 0 ], this.active[ 0 ] ) ) {\n\t\t\t// all remaining tabs are disabled\n\t\t\tif ( this.tabs.length === options.disabled.length ) {\n\t\t\t\toptions.active = false;\n\t\t\t\tthis.active = $();\n\t\t\t// activate previous tab\n\t\t\t} else {\n\t\t\t\tthis._activate( this._findNextTab( Math.max( 0, options.active - 1 ), false ) );\n\t\t\t}\n\t\t// was active, active tab still exists\n\t\t} else {\n\t\t\t// make sure active index is correct\n\t\t\toptions.active = this.tabs.index( this.active );\n\t\t}\n\n\t\tthis._refresh();\n\t},\n\n\t_refresh: function() {\n\t\tthis._setupDisabled( this.options.disabled );\n\t\tthis._setupEvents( this.options.event );\n\t\tthis._setupHeightStyle( this.options.heightStyle );\n\n\t\tthis.tabs.not( this.active ).attr({\n\t\t\t\"aria-selected\": \"false\",\n\t\t\ttabIndex: -1\n\t\t});\n\t\tthis.panels.not( this._getPanelForTab( this.active ) )\n\t\t\t.hide()\n\t\t\t.attr({\n\t\t\t\t\"aria-expanded\": \"false\",\n\t\t\t\t\"aria-hidden\": \"true\"\n\t\t\t});\n\n\t\t// Make sure one tab is in the tab order\n\t\tif ( !this.active.length ) {\n\t\t\tthis.tabs.eq( 0 ).attr( \"tabIndex\", 0 );\n\t\t} else {\n\t\t\tthis.active\n\t\t\t\t.addClass( \"ui-tabs-active ui-state-active\" )\n\t\t\t\t.attr({\n\t\t\t\t\t\"aria-selected\": \"true\",\n\t\t\t\t\ttabIndex: 0\n\t\t\t\t});\n\t\t\tthis._getPanelForTab( this.active )\n\t\t\t\t.show()\n\t\t\t\t.attr({\n\t\t\t\t\t\"aria-expanded\": \"true\",\n\t\t\t\t\t\"aria-hidden\": \"false\"\n\t\t\t\t});\n\t\t}\n\t},\n\n\t_processTabs: function() {\n\t\tvar that = this;\n\n\t\tthis.tablist = this._getList()\n\t\t\t.addClass( \"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\" )\n\t\t\t.attr( \"role\", \"tablist\" );\n\n\t\tthis.tabs = this.tablist.find( \"> li:has(a[href])\" )\n\t\t\t.addClass( \"ui-state-default ui-corner-top\" )\n\t\t\t.attr({\n\t\t\t\trole: \"tab\",\n\t\t\t\ttabIndex: -1\n\t\t\t});\n\n\t\tthis.anchors = this.tabs.map(function() {\n\t\t\t\treturn $( \"a\", this )[ 0 ];\n\t\t\t})\n\t\t\t.addClass( \"ui-tabs-anchor\" )\n\t\t\t.attr({\n\t\t\t\trole: \"presentation\",\n\t\t\t\ttabIndex: -1\n\t\t\t});\n\n\t\tthis.panels = $();\n\n\t\tthis.anchors.each(function( i, anchor ) {\n\t\t\tvar selector, panel, panelId,\n\t\t\t\tanchorId = $( anchor ).uniqueId().attr( \"id\" ),\n\t\t\t\ttab = $( anchor ).closest( \"li\" ),\n\t\t\t\toriginalAriaControls = tab.attr( \"aria-controls\" );\n\n\t\t\t// inline tab\n\t\t\tif ( isLocal( anchor ) ) {\n\t\t\t\tselector = anchor.hash;\n\t\t\t\tpanel = that.element.find( that._sanitizeSelector( selector ) );\n\t\t\t// remote tab\n\t\t\t} else {\n\t\t\t\tpanelId = that._tabId( tab );\n\t\t\t\tselector = \"#\" + panelId;\n\t\t\t\tpanel = that.element.find( selector );\n\t\t\t\tif ( !panel.length ) {\n\t\t\t\t\tpanel = that._createPanel( panelId );\n\t\t\t\t\tpanel.insertAfter( that.panels[ i - 1 ] || that.tablist );\n\t\t\t\t}\n\t\t\t\tpanel.attr( \"aria-live\", \"polite\" );\n\t\t\t}\n\n\t\t\tif ( panel.length) {\n\t\t\t\tthat.panels = that.panels.add( panel );\n\t\t\t}\n\t\t\tif ( originalAriaControls ) {\n\t\t\t\ttab.data( \"ui-tabs-aria-controls\", originalAriaControls );\n\t\t\t}\n\t\t\ttab.attr({\n\t\t\t\t\"aria-controls\": selector.substring( 1 ),\n\t\t\t\t\"aria-labelledby\": anchorId\n\t\t\t});\n\t\t\tpanel.attr( \"aria-labelledby\", anchorId );\n\t\t});\n\n\t\tthis.panels\n\t\t\t.addClass( \"ui-tabs-panel ui-widget-content ui-corner-bottom\" )\n\t\t\t.attr( \"role\", \"tabpanel\" );\n\t},\n\n\t// allow overriding how to find the list for rare usage scenarios (#7715)\n\t_getList: function() {\n\t\treturn this.element.find( \"ol,ul\" ).eq( 0 );\n\t},\n\n\t_createPanel: function( id ) {\n\t\treturn $( \"<div>\" )\n\t\t\t.attr( \"id\", id )\n\t\t\t.addClass( \"ui-tabs-panel ui-widget-content ui-corner-bottom\" )\n\t\t\t.data( \"ui-tabs-destroy\", true );\n\t},\n\n\t_setupDisabled: function( disabled ) {\n\t\tif ( $.isArray( disabled ) ) {\n\t\t\tif ( !disabled.length ) {\n\t\t\t\tdisabled = false;\n\t\t\t} else if ( disabled.length === this.anchors.length ) {\n\t\t\t\tdisabled = true;\n\t\t\t}\n\t\t}\n\n\t\t// disable tabs\n\t\tfor ( var i = 0, li; ( li = this.tabs[ i ] ); i++ ) {\n\t\t\tif ( disabled === true || $.inArray( i, disabled ) !== -1 ) {\n\t\t\t\t$( li )\n\t\t\t\t\t.addClass( \"ui-state-disabled\" )\n\t\t\t\t\t.attr( \"aria-disabled\", \"true\" );\n\t\t\t} else {\n\t\t\t\t$( li )\n\t\t\t\t\t.removeClass( \"ui-state-disabled\" )\n\t\t\t\t\t.removeAttr( \"aria-disabled\" );\n\t\t\t}\n\t\t}\n\n\t\tthis.options.disabled = disabled;\n\t},\n\n\t_setupEvents: function( event ) {\n\t\tvar events = {\n\t\t\tclick: function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t};\n\t\tif ( event ) {\n\t\t\t$.each( event.split(\" \"), function( index, eventName ) {\n\t\t\t\tevents[ eventName ] = \"_eventHandler\";\n\t\t\t});\n\t\t}\n\n\t\tthis._off( this.anchors.add( this.tabs ).add( this.panels ) );\n\t\tthis._on( this.anchors, events );\n\t\tthis._on( this.tabs, { keydown: \"_tabKeydown\" } );\n\t\tthis._on( this.panels, { keydown: \"_panelKeydown\" } );\n\n\t\tthis._focusable( this.tabs );\n\t\tthis._hoverable( this.tabs );\n\t},\n\n\t_setupHeightStyle: function( heightStyle ) {\n\t\tvar maxHeight,\n\t\t\tparent = this.element.parent();\n\n\t\tif ( heightStyle === \"fill\" ) {\n\t\t\tmaxHeight = parent.height();\n\t\t\tmaxHeight -= this.element.outerHeight() - this.element.height();\n\n\t\t\tthis.element.siblings( \":visible\" ).each(function() {\n\t\t\t\tvar elem = $( this ),\n\t\t\t\t\tposition = elem.css( \"position\" );\n\n\t\t\t\tif ( position === \"absolute\" || position === \"fixed\" ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tmaxHeight -= elem.outerHeight( true );\n\t\t\t});\n\n\t\t\tthis.element.children().not( this.panels ).each(function() {\n\t\t\t\tmaxHeight -= $( this ).outerHeight( true );\n\t\t\t});\n\n\t\t\tthis.panels.each(function() {\n\t\t\t\t$( this ).height( Math.max( 0, maxHeight -\n\t\t\t\t\t$( this ).innerHeight() + $( this ).height() ) );\n\t\t\t})\n\t\t\t.css( \"overflow\", \"auto\" );\n\t\t} else if ( heightStyle === \"auto\" ) {\n\t\t\tmaxHeight = 0;\n\t\t\tthis.panels.each(function() {\n\t\t\t\tmaxHeight = Math.max( maxHeight, $( this ).height( \"\" ).height() );\n\t\t\t}).height( maxHeight );\n\t\t}\n\t},\n\n\t_eventHandler: function( event ) {\n\t\tvar options = this.options,\n\t\t\tactive = this.active,\n\t\t\tanchor = $( event.currentTarget ),\n\t\t\ttab = anchor.closest( \"li\" ),\n\t\t\tclickedIsActive = tab[ 0 ] === active[ 0 ],\n\t\t\tcollapsing = clickedIsActive && options.collapsible,\n\t\t\ttoShow = collapsing ? $() : this._getPanelForTab( tab ),\n\t\t\ttoHide = !active.length ? $() : this._getPanelForTab( active ),\n\t\t\teventData = {\n\t\t\t\toldTab: active,\n\t\t\t\toldPanel: toHide,\n\t\t\t\tnewTab: collapsing ? $() : tab,\n\t\t\t\tnewPanel: toShow\n\t\t\t};\n\n\t\tevent.preventDefault();\n\n\t\tif ( tab.hasClass( \"ui-state-disabled\" ) ||\n\t\t\t\t// tab is already loading\n\t\t\t\ttab.hasClass( \"ui-tabs-loading\" ) ||\n\t\t\t\t// can't switch durning an animation\n\t\t\t\tthis.running ||\n\t\t\t\t// click on active header, but not collapsible\n\t\t\t\t( clickedIsActive && !options.collapsible ) ||\n\t\t\t\t// allow canceling activation\n\t\t\t\t( this._trigger( \"beforeActivate\", event, eventData ) === false ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\toptions.active = collapsing ? false : this.tabs.index( tab );\n\n\t\tthis.active = clickedIsActive ? $() : tab;\n\t\tif ( this.xhr ) {\n\t\t\tthis.xhr.abort();\n\t\t}\n\n\t\tif ( !toHide.length && !toShow.length ) {\n\t\t\t$.error( \"jQuery UI Tabs: Mismatching fragment identifier.\" );\n\t\t}\n\n\t\tif ( toShow.length ) {\n\t\t\tthis.load( this.tabs.index( tab ), event );\n\t\t}\n\t\tthis._toggle( event, eventData );\n\t},\n\n\t// handles show/hide for selecting tabs\n\t_toggle: function( event, eventData ) {\n\t\tvar that = this,\n\t\t\ttoShow = eventData.newPanel,\n\t\t\ttoHide = eventData.oldPanel;\n\n\t\tthis.running = true;\n\n\t\tfunction complete() {\n\t\t\tthat.running = false;\n\t\t\tthat._trigger( \"activate\", event, eventData );\n\t\t}\n\n\t\tfunction show() {\n\t\t\teventData.newTab.closest( \"li\" ).addClass( \"ui-tabs-active ui-state-active\" );\n\n\t\t\tif ( toShow.length && that.options.show ) {\n\t\t\t\tthat._show( toShow, that.options.show, complete );\n\t\t\t} else {\n\t\t\t\ttoShow.show();\n\t\t\t\tcomplete();\n\t\t\t}\n\t\t}\n\n\t\t// start out by hiding, then showing, then completing\n\t\tif ( toHide.length && this.options.hide ) {\n\t\t\tthis._hide( toHide, this.options.hide, function() {\n\t\t\t\teventData.oldTab.closest( \"li\" ).removeClass( \"ui-tabs-active ui-state-active\" );\n\t\t\t\tshow();\n\t\t\t});\n\t\t} else {\n\t\t\teventData.oldTab.closest( \"li\" ).removeClass( \"ui-tabs-active ui-state-active\" );\n\t\t\ttoHide.hide();\n\t\t\tshow();\n\t\t}\n\n\t\ttoHide.attr({\n\t\t\t\"aria-expanded\": \"false\",\n\t\t\t\"aria-hidden\": \"true\"\n\t\t});\n\t\teventData.oldTab.attr( \"aria-selected\", \"false\" );\n\t\t// If we're switching tabs, remove the old tab from the tab order.\n\t\t// If we're opening from collapsed state, remove the previous tab from the tab order.\n\t\t// If we're collapsing, then keep the collapsing tab in the tab order.\n\t\tif ( toShow.length && toHide.length ) {\n\t\t\teventData.oldTab.attr( \"tabIndex\", -1 );\n\t\t} else if ( toShow.length ) {\n\t\t\tthis.tabs.filter(function() {\n\t\t\t\treturn $( this ).attr( \"tabIndex\" ) === 0;\n\t\t\t})\n\t\t\t.attr( \"tabIndex\", -1 );\n\t\t}\n\n\t\ttoShow.attr({\n\t\t\t\"aria-expanded\": \"true\",\n\t\t\t\"aria-hidden\": \"false\"\n\t\t});\n\t\teventData.newTab.attr({\n\t\t\t\"aria-selected\": \"true\",\n\t\t\ttabIndex: 0\n\t\t});\n\t},\n\n\t_activate: function( index ) {\n\t\tvar anchor,\n\t\t\tactive = this._findActive( index );\n\n\t\t// trying to activate the already active panel\n\t\tif ( active[ 0 ] === this.active[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// trying to collapse, simulate a click on the current active header\n\t\tif ( !active.length ) {\n\t\t\tactive = this.active;\n\t\t}\n\n\t\tanchor = active.find( \".ui-tabs-anchor\" )[ 0 ];\n\t\tthis._eventHandler({\n\t\t\ttarget: anchor,\n\t\t\tcurrentTarget: anchor,\n\t\t\tpreventDefault: $.noop\n\t\t});\n\t},\n\n\t_findActive: function( index ) {\n\t\treturn index === false ? $() : this.tabs.eq( index );\n\t},\n\n\t_getIndex: function( index ) {\n\t\t// meta-function to give users option to provide a href string instead of a numerical index.\n\t\tif ( typeof index === \"string\" ) {\n\t\t\tindex = this.anchors.index( this.anchors.filter( \"[href$='\" + index + \"']\" ) );\n\t\t}\n\n\t\treturn index;\n\t},\n\n\t_destroy: function() {\n\t\tif ( this.xhr ) {\n\t\t\tthis.xhr.abort();\n\t\t}\n\n\t\tthis.element.removeClass( \"ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible\" );\n\n\t\tthis.tablist\n\t\t\t.removeClass( \"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\" )\n\t\t\t.removeAttr( \"role\" );\n\n\t\tthis.anchors\n\t\t\t.removeClass( \"ui-tabs-anchor\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"tabIndex\" )\n\t\t\t.removeUniqueId();\n\n\t\tthis.tabs.add( this.panels ).each(function() {\n\t\t\tif ( $.data( this, \"ui-tabs-destroy\" ) ) {\n\t\t\t\t$( this ).remove();\n\t\t\t} else {\n\t\t\t\t$( this )\n\t\t\t\t\t.removeClass( \"ui-state-default ui-state-active ui-state-disabled \" +\n\t\t\t\t\t\t\"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel\" )\n\t\t\t\t\t.removeAttr( \"tabIndex\" )\n\t\t\t\t\t.removeAttr( \"aria-live\" )\n\t\t\t\t\t.removeAttr( \"aria-busy\" )\n\t\t\t\t\t.removeAttr( \"aria-selected\" )\n\t\t\t\t\t.removeAttr( \"aria-labelledby\" )\n\t\t\t\t\t.removeAttr( \"aria-hidden\" )\n\t\t\t\t\t.removeAttr( \"aria-expanded\" )\n\t\t\t\t\t.removeAttr( \"role\" );\n\t\t\t}\n\t\t});\n\n\t\tthis.tabs.each(function() {\n\t\t\tvar li = $( this ),\n\t\t\t\tprev = li.data( \"ui-tabs-aria-controls\" );\n\t\t\tif ( prev ) {\n\t\t\t\tli\n\t\t\t\t\t.attr( \"aria-controls\", prev )\n\t\t\t\t\t.removeData( \"ui-tabs-aria-controls\" );\n\t\t\t} else {\n\t\t\t\tli.removeAttr( \"aria-controls\" );\n\t\t\t}\n\t\t});\n\n\t\tthis.panels.show();\n\n\t\tif ( this.options.heightStyle !== \"content\" ) {\n\t\t\tthis.panels.css( \"height\", \"\" );\n\t\t}\n\t},\n\n\tenable: function( index ) {\n\t\tvar disabled = this.options.disabled;\n\t\tif ( disabled === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( index === undefined ) {\n\t\t\tdisabled = false;\n\t\t} else {\n\t\t\tindex = this._getIndex( index );\n\t\t\tif ( $.isArray( disabled ) ) {\n\t\t\t\tdisabled = $.map( disabled, function( num ) {\n\t\t\t\t\treturn num !== index ? num : null;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdisabled = $.map( this.tabs, function( li, num ) {\n\t\t\t\t\treturn num !== index ? num : null;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tthis._setupDisabled( disabled );\n\t},\n\n\tdisable: function( index ) {\n\t\tvar disabled = this.options.disabled;\n\t\tif ( disabled === true ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( index === undefined ) {\n\t\t\tdisabled = true;\n\t\t} else {\n\t\t\tindex = this._getIndex( index );\n\t\t\tif ( $.inArray( index, disabled ) !== -1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( $.isArray( disabled ) ) {\n\t\t\t\tdisabled = $.merge( [ index ], disabled ).sort();\n\t\t\t} else {\n\t\t\t\tdisabled = [ index ];\n\t\t\t}\n\t\t}\n\t\tthis._setupDisabled( disabled );\n\t},\n\n\tload: function( index, event ) {\n\t\tindex = this._getIndex( index );\n\t\tvar that = this,\n\t\t\ttab = this.tabs.eq( index ),\n\t\t\tanchor = tab.find( \".ui-tabs-anchor\" ),\n\t\t\tpanel = this._getPanelForTab( tab ),\n\t\t\teventData = {\n\t\t\t\ttab: tab,\n\t\t\t\tpanel: panel\n\t\t\t};\n\n\t\t// not remote\n\t\tif ( isLocal( anchor[ 0 ] ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.xhr = $.ajax( this._ajaxSettings( anchor, event, eventData ) );\n\n\t\t// support: jQuery <1.8\n\t\t// jQuery <1.8 returns false if the request is canceled in beforeSend,\n\t\t// but as of 1.8, $.ajax() always returns a jqXHR object.\n\t\tif ( this.xhr && this.xhr.statusText !== \"canceled\" ) {\n\t\t\ttab.addClass( \"ui-tabs-loading\" );\n\t\t\tpanel.attr( \"aria-busy\", \"true\" );\n\n\t\t\tthis.xhr\n\t\t\t\t.success(function( response ) {\n\t\t\t\t\t// support: jQuery <1.8\n\t\t\t\t\t// http://bugs.jquery.com/ticket/11778\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tpanel.html( response );\n\t\t\t\t\t\tthat._trigger( \"load\", event, eventData );\n\t\t\t\t\t}, 1 );\n\t\t\t\t})\n\t\t\t\t.complete(function( jqXHR, status ) {\n\t\t\t\t\t// support: jQuery <1.8\n\t\t\t\t\t// http://bugs.jquery.com/ticket/11778\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif ( status === \"abort\" ) {\n\t\t\t\t\t\t\tthat.panels.stop( false, true );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttab.removeClass( \"ui-tabs-loading\" );\n\t\t\t\t\t\tpanel.removeAttr( \"aria-busy\" );\n\n\t\t\t\t\t\tif ( jqXHR === that.xhr ) {\n\t\t\t\t\t\t\tdelete that.xhr;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 1 );\n\t\t\t\t});\n\t\t}\n\t},\n\n\t_ajaxSettings: function( anchor, event, eventData ) {\n\t\tvar that = this;\n\t\treturn {\n\t\t\turl: anchor.attr( \"href\" ),\n\t\t\tbeforeSend: function( jqXHR, settings ) {\n\t\t\t\treturn that._trigger( \"beforeLoad\", event,\n\t\t\t\t\t$.extend( { jqXHR : jqXHR, ajaxSettings: settings }, eventData ) );\n\t\t\t}\n\t\t};\n\t},\n\n\t_getPanelForTab: function( tab ) {\n\t\tvar id = $( tab ).attr( \"aria-controls\" );\n\t\treturn this.element.find( this._sanitizeSelector( \"#\" + id ) );\n\t}\n});\n\n})( jQuery );\n(function( $ ) {\n\nvar increments = 0;\n\nfunction addDescribedBy( elem, id ) {\n\tvar describedby = (elem.attr( \"aria-describedby\" ) || \"\").split( /\\s+/ );\n\tdescribedby.push( id );\n\telem\n\t\t.data( \"ui-tooltip-id\", id )\n\t\t.attr( \"aria-describedby\", $.trim( describedby.join( \" \" ) ) );\n}\n\nfunction removeDescribedBy( elem ) {\n\tvar id = elem.data( \"ui-tooltip-id\" ),\n\t\tdescribedby = (elem.attr( \"aria-describedby\" ) || \"\").split( /\\s+/ ),\n\t\tindex = $.inArray( id, describedby );\n\tif ( index !== -1 ) {\n\t\tdescribedby.splice( index, 1 );\n\t}\n\n\telem.removeData( \"ui-tooltip-id\" );\n\tdescribedby = $.trim( describedby.join( \" \" ) );\n\tif ( describedby ) {\n\t\telem.attr( \"aria-describedby\", describedby );\n\t} else {\n\t\telem.removeAttr( \"aria-describedby\" );\n\t}\n}\n\n$.widget( \"ui.tooltip\", {\n\tversion: \"1.10.3\",\n\toptions: {\n\t\tcontent: function() {\n\t\t\t// support: IE<9, Opera in jQuery <1.7\n\t\t\t// .text() can't accept undefined, so coerce to a string\n\t\t\tvar title = $( this ).attr( \"title\" ) || \"\";\n\t\t\t// Escape title, since we're going from an attribute to raw HTML\n\t\t\treturn $( \"<a>\" ).text( title ).html();\n\t\t},\n\t\thide: true,\n\t\t// Disabled elements have inconsistent behavior across browsers (#8661)\n\t\titems: \"[title]:not([disabled])\",\n\t\tposition: {\n\t\t\tmy: \"left top+15\",\n\t\t\tat: \"left bottom\",\n\t\t\tcollision: \"flipfit flip\"\n\t\t},\n\t\tshow: true,\n\t\ttooltipClass: null,\n\t\ttrack: false,\n\n\t\t// callbacks\n\t\tclose: null,\n\t\topen: null\n\t},\n\n\t_create: function() {\n\t\tthis._on({\n\t\t\tmouseover: \"open\",\n\t\t\tfocusin: \"open\"\n\t\t});\n\n\t\t// IDs of generated tooltips, needed for destroy\n\t\tthis.tooltips = {};\n\t\t// IDs of parent tooltips where we removed the title attribute\n\t\tthis.parents = {};\n\n\t\tif ( this.options.disabled ) {\n\t\t\tthis._disable();\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tvar that = this;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis[ value ? \"_disable\" : \"_enable\" ]();\n\t\t\tthis.options[ key ] = value;\n\t\t\t// disable element style changes\n\t\t\treturn;\n\t\t}\n\n\t\tthis._super( key, value );\n\n\t\tif ( key === \"content\" ) {\n\t\t\t$.each( this.tooltips, function( id, element ) {\n\t\t\t\tthat._updateContent( element );\n\t\t\t});\n\t\t}\n\t},\n\n\t_disable: function() {\n\t\tvar that = this;\n\n\t\t// close open tooltips\n\t\t$.each( this.tooltips, function( id, element ) {\n\t\t\tvar event = $.Event( \"blur\" );\n\t\t\tevent.target = event.currentTarget = element[0];\n\t\t\tthat.close( event, true );\n\t\t});\n\n\t\t// remove title attributes to prevent native tooltips\n\t\tthis.element.find( this.options.items ).addBack().each(function() {\n\t\t\tvar element = $( this );\n\t\t\tif ( element.is( \"[title]\" ) ) {\n\t\t\t\telement\n\t\t\t\t\t.data( \"ui-tooltip-title\", element.attr( \"title\" ) )\n\t\t\t\t\t.attr( \"title\", \"\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_enable: function() {\n\t\t// restore title attributes\n\t\tthis.element.find( this.options.items ).addBack().each(function() {\n\t\t\tvar element = $( this );\n\t\t\tif ( element.data( \"ui-tooltip-title\" ) ) {\n\t\t\t\telement.attr( \"title\", element.data( \"ui-tooltip-title\" ) );\n\t\t\t}\n\t\t});\n\t},\n\n\topen: function( event ) {\n\t\tvar that = this,\n\t\t\ttarget = $( event ? event.target : this.element )\n\t\t\t\t// we need closest here due to mouseover bubbling,\n\t\t\t\t// but always pointing at the same event target\n\t\t\t\t.closest( this.options.items );\n\n\t\t// No element to show a tooltip for or the tooltip is already open\n\t\tif ( !target.length || target.data( \"ui-tooltip-id\" ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( target.attr( \"title\" ) ) {\n\t\t\ttarget.data( \"ui-tooltip-title\", target.attr( \"title\" ) );\n\t\t}\n\n\t\ttarget.data( \"ui-tooltip-open\", true );\n\n\t\t// kill parent tooltips, custom or native, for hover\n\t\tif ( event && event.type === \"mouseover\" ) {\n\t\t\ttarget.parents().each(function() {\n\t\t\t\tvar parent = $( this ),\n\t\t\t\t\tblurEvent;\n\t\t\t\tif ( parent.data( \"ui-tooltip-open\" ) ) {\n\t\t\t\t\tblurEvent = $.Event( \"blur\" );\n\t\t\t\t\tblurEvent.target = blurEvent.currentTarget = this;\n\t\t\t\t\tthat.close( blurEvent, true );\n\t\t\t\t}\n\t\t\t\tif ( parent.attr( \"title\" ) ) {\n\t\t\t\t\tparent.uniqueId();\n\t\t\t\t\tthat.parents[ this.id ] = {\n\t\t\t\t\t\telement: this,\n\t\t\t\t\t\ttitle: parent.attr( \"title\" )\n\t\t\t\t\t};\n\t\t\t\t\tparent.attr( \"title\", \"\" );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis._updateContent( target, event );\n\t},\n\n\t_updateContent: function( target, event ) {\n\t\tvar content,\n\t\t\tcontentOption = this.options.content,\n\t\t\tthat = this,\n\t\t\teventType = event ? event.type : null;\n\n\t\tif ( typeof contentOption === \"string\" ) {\n\t\t\treturn this._open( event, target, contentOption );\n\t\t}\n\n\t\tcontent = contentOption.call( target[0], function( response ) {\n\t\t\t// ignore async response if tooltip was closed already\n\t\t\tif ( !target.data( \"ui-tooltip-open\" ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// IE may instantly serve a cached response for ajax requests\n\t\t\t// delay this call to _open so the other call to _open runs first\n\t\t\tthat._delay(function() {\n\t\t\t\t// jQuery creates a special event for focusin when it doesn't\n\t\t\t\t// exist natively. To improve performance, the native event\n\t\t\t\t// object is reused and the type is changed. Therefore, we can't\n\t\t\t\t// rely on the type being correct after the event finished\n\t\t\t\t// bubbling, so we set it back to the previous value. (#8740)\n\t\t\t\tif ( event ) {\n\t\t\t\t\tevent.type = eventType;\n\t\t\t\t}\n\t\t\t\tthis._open( event, target, response );\n\t\t\t});\n\t\t});\n\t\tif ( content ) {\n\t\t\tthis._open( event, target, content );\n\t\t}\n\t},\n\n\t_open: function( event, target, content ) {\n\t\tvar tooltip, events, delayedShow,\n\t\t\tpositionOption = $.extend( {}, this.options.position );\n\n\t\tif ( !content ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Content can be updated multiple times. If the tooltip already\n\t\t// exists, then just update the content and bail.\n\t\ttooltip = this._find( target );\n\t\tif ( tooltip.length ) {\n\t\t\ttooltip.find( \".ui-tooltip-content\" ).html( content );\n\t\t\treturn;\n\t\t}\n\n\t\t// if we have a title, clear it to prevent the native tooltip\n\t\t// we have to check first to avoid defining a title if none exists\n\t\t// (we don't want to cause an element to start matching [title])\n\t\t//\n\t\t// We use removeAttr only for key events, to allow IE to export the correct\n\t\t// accessible attributes. For mouse events, set to empty string to avoid\n\t\t// native tooltip showing up (happens only when removing inside mouseover).\n\t\tif ( target.is( \"[title]\" ) ) {\n\t\t\tif ( event && event.type === \"mouseover\" ) {\n\t\t\t\ttarget.attr( \"title\", \"\" );\n\t\t\t} else {\n\t\t\t\ttarget.removeAttr( \"title\" );\n\t\t\t}\n\t\t}\n\n\t\ttooltip = this._tooltip( target );\n\t\taddDescribedBy( target, tooltip.attr( \"id\" ) );\n\t\ttooltip.find( \".ui-tooltip-content\" ).html( content );\n\n\t\tfunction position( event ) {\n\t\t\tpositionOption.of = event;\n\t\t\tif ( tooltip.is( \":hidden\" ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttooltip.position( positionOption );\n\t\t}\n\t\tif ( this.options.track && event && /^mouse/.test( event.type ) ) {\n\t\t\tthis._on( this.document, {\n\t\t\t\tmousemove: position\n\t\t\t});\n\t\t\t// trigger once to override element-relative positioning\n\t\t\tposition( event );\n\t\t} else {\n\t\t\ttooltip.position( $.extend({\n\t\t\t\tof: target\n\t\t\t}, this.options.position ) );\n\t\t}\n\n\t\ttooltip.hide();\n\n\t\tthis._show( tooltip, this.options.show );\n\t\t// Handle tracking tooltips that are shown with a delay (#8644). As soon\n\t\t// as the tooltip is visible, position the tooltip using the most recent\n\t\t// event.\n\t\tif ( this.options.show && this.options.show.delay ) {\n\t\t\tdelayedShow = this.delayedShow = setInterval(function() {\n\t\t\t\tif ( tooltip.is( \":visible\" ) ) {\n\t\t\t\t\tposition( positionOption.of );\n\t\t\t\t\tclearInterval( delayedShow );\n\t\t\t\t}\n\t\t\t}, $.fx.interval );\n\t\t}\n\n\t\tthis._trigger( \"open\", event, { tooltip: tooltip } );\n\n\t\tevents = {\n\t\t\tkeyup: function( event ) {\n\t\t\t\tif ( event.keyCode === $.ui.keyCode.ESCAPE ) {\n\t\t\t\t\tvar fakeEvent = $.Event(event);\n\t\t\t\t\tfakeEvent.currentTarget = target[0];\n\t\t\t\t\tthis.close( fakeEvent, true );\n\t\t\t\t}\n\t\t\t},\n\t\t\tremove: function() {\n\t\t\t\tthis._removeTooltip( tooltip );\n\t\t\t}\n\t\t};\n\t\tif ( !event || event.type === \"mouseover\" ) {\n\t\t\tevents.mouseleave = \"close\";\n\t\t}\n\t\tif ( !event || event.type === \"focusin\" ) {\n\t\t\tevents.focusout = \"close\";\n\t\t}\n\t\tthis._on( true, target, events );\n\t},\n\n\tclose: function( event ) {\n\t\tvar that = this,\n\t\t\ttarget = $( event ? event.currentTarget : this.element ),\n\t\t\ttooltip = this._find( target );\n\n\t\t// disabling closes the tooltip, so we need to track when we're closing\n\t\t// to avoid an infinite loop in case the tooltip becomes disabled on close\n\t\tif ( this.closing ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Clear the interval for delayed tracking tooltips\n\t\tclearInterval( this.delayedShow );\n\n\t\t// only set title if we had one before (see comment in _open())\n\t\tif ( target.data( \"ui-tooltip-title\" ) ) {\n\t\t\ttarget.attr( \"title\", target.data( \"ui-tooltip-title\" ) );\n\t\t}\n\n\t\tremoveDescribedBy( target );\n\n\t\ttooltip.stop( true );\n\t\tthis._hide( tooltip, this.options.hide, function() {\n\t\t\tthat._removeTooltip( $( this ) );\n\t\t});\n\n\t\ttarget.removeData( \"ui-tooltip-open\" );\n\t\tthis._off( target, \"mouseleave focusout keyup\" );\n\t\t// Remove 'remove' binding only on delegated targets\n\t\tif ( target[0] !== this.element[0] ) {\n\t\t\tthis._off( target, \"remove\" );\n\t\t}\n\t\tthis._off( this.document, \"mousemove\" );\n\n\t\tif ( event && event.type === \"mouseleave\" ) {\n\t\t\t$.each( this.parents, function( id, parent ) {\n\t\t\t\t$( parent.element ).attr( \"title\", parent.title );\n\t\t\t\tdelete that.parents[ id ];\n\t\t\t});\n\t\t}\n\n\t\tthis.closing = true;\n\t\tthis._trigger( \"close\", event, { tooltip: tooltip } );\n\t\tthis.closing = false;\n\t},\n\n\t_tooltip: function( element ) {\n\t\tvar id = \"ui-tooltip-\" + increments++,\n\t\t\ttooltip = $( \"<div>\" )\n\t\t\t\t.attr({\n\t\t\t\t\tid: id,\n\t\t\t\t\trole: \"tooltip\"\n\t\t\t\t})\n\t\t\t\t.addClass( \"ui-tooltip ui-widget ui-corner-all ui-widget-content \" +\n\t\t\t\t\t( this.options.tooltipClass || \"\" ) );\n\t\t$( \"<div>\" )\n\t\t\t.addClass( \"ui-tooltip-content\" )\n\t\t\t.appendTo( tooltip );\n\t\ttooltip.appendTo( this.document[0].body );\n\t\tthis.tooltips[ id ] = element;\n\t\treturn tooltip;\n\t},\n\n\t_find: function( target ) {\n\t\tvar id = target.data( \"ui-tooltip-id\" );\n\t\treturn id ? $( \"#\" + id ) : $();\n\t},\n\n\t_removeTooltip: function( tooltip ) {\n\t\ttooltip.remove();\n\t\tdelete this.tooltips[ tooltip.attr( \"id\" ) ];\n\t},\n\n\t_destroy: function() {\n\t\tvar that = this;\n\n\t\t// close open tooltips\n\t\t$.each( this.tooltips, function( id, element ) {\n\t\t\t// Delegate to close method to handle common cleanup\n\t\t\tvar event = $.Event( \"blur\" );\n\t\t\tevent.target = event.currentTarget = element[0];\n\t\t\tthat.close( event, true );\n\n\t\t\t// Remove immediately; destroying an open tooltip doesn't use the\n\t\t\t// hide animation\n\t\t\t$( \"#\" + id ).remove();\n\n\t\t\t// Restore the title\n\t\t\tif ( element.data( \"ui-tooltip-title\" ) ) {\n\t\t\t\telement.attr( \"title\", element.data( \"ui-tooltip-title\" ) );\n\t\t\t\telement.removeData( \"ui-tooltip-title\" );\n\t\t\t}\n\t\t});\n\t}\n});\n\n}( jQuery ) );\n(function($, undefined) {\n\nvar dataSpace = \"ui-effects-\";\n\n$.effects = {\n\teffect: {}\n};\n\n/*!\n * jQuery Color Animations v2.1.2\n * https://github.com/jquery/jquery-color\n *\n * Copyright 2013 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * Date: Wed Jan 16 08:47:09 2013 -0600\n */\n(function( jQuery, undefined ) {\n\n\tvar stepHooks = \"backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor\",\n\n\t// plusequals test for += 100 -= 100\n\trplusequals = /^([\\-+])=\\s*(\\d+\\.?\\d*)/,\n\t// a set of RE's that can match strings and generate color tuples.\n\tstringParsers = [{\n\t\t\tre: /rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,\n\t\t\tparse: function( execResult ) {\n\t\t\t\treturn [\n\t\t\t\t\texecResult[ 1 ],\n\t\t\t\t\texecResult[ 2 ],\n\t\t\t\t\texecResult[ 3 ],\n\t\t\t\t\texecResult[ 4 ]\n\t\t\t\t];\n\t\t\t}\n\t\t}, {\n\t\t\tre: /rgba?\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,\n\t\t\tparse: function( execResult ) {\n\t\t\t\treturn [\n\t\t\t\t\texecResult[ 1 ] * 2.55,\n\t\t\t\t\texecResult[ 2 ] * 2.55,\n\t\t\t\t\texecResult[ 3 ] * 2.55,\n\t\t\t\t\texecResult[ 4 ]\n\t\t\t\t];\n\t\t\t}\n\t\t}, {\n\t\t\t// this regex ignores A-F because it's compared against an already lowercased string\n\t\t\tre: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,\n\t\t\tparse: function( execResult ) {\n\t\t\t\treturn [\n\t\t\t\t\tparseInt( execResult[ 1 ], 16 ),\n\t\t\t\t\tparseInt( execResult[ 2 ], 16 ),\n\t\t\t\t\tparseInt( execResult[ 3 ], 16 )\n\t\t\t\t];\n\t\t\t}\n\t\t}, {\n\t\t\t// this regex ignores A-F because it's compared against an already lowercased string\n\t\t\tre: /#([a-f0-9])([a-f0-9])([a-f0-9])/,\n\t\t\tparse: function( execResult ) {\n\t\t\t\treturn [\n\t\t\t\t\tparseInt( execResult[ 1 ] + execResult[ 1 ], 16 ),\n\t\t\t\t\tparseInt( execResult[ 2 ] + execResult[ 2 ], 16 ),\n\t\t\t\t\tparseInt( execResult[ 3 ] + execResult[ 3 ], 16 )\n\t\t\t\t];\n\t\t\t}\n\t\t}, {\n\t\t\tre: /hsla?\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,\n\t\t\tspace: \"hsla\",\n\t\t\tparse: function( execResult ) {\n\t\t\t\treturn [\n\t\t\t\t\texecResult[ 1 ],\n\t\t\t\t\texecResult[ 2 ] / 100,\n\t\t\t\t\texecResult[ 3 ] / 100,\n\t\t\t\t\texecResult[ 4 ]\n\t\t\t\t];\n\t\t\t}\n\t\t}],\n\n\t// jQuery.Color( )\n\tcolor = jQuery.Color = function( color, green, blue, alpha ) {\n\t\treturn new jQuery.Color.fn.parse( color, green, blue, alpha );\n\t},\n\tspaces = {\n\t\trgba: {\n\t\t\tprops: {\n\t\t\t\tred: {\n\t\t\t\t\tidx: 0,\n\t\t\t\t\ttype: \"byte\"\n\t\t\t\t},\n\t\t\t\tgreen: {\n\t\t\t\t\tidx: 1,\n\t\t\t\t\ttype: \"byte\"\n\t\t\t\t},\n\t\t\t\tblue: {\n\t\t\t\t\tidx: 2,\n\t\t\t\t\ttype: \"byte\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\thsla: {\n\t\t\tprops: {\n\t\t\t\thue: {\n\t\t\t\t\tidx: 0,\n\t\t\t\t\ttype: \"degrees\"\n\t\t\t\t},\n\t\t\t\tsaturation: {\n\t\t\t\t\tidx: 1,\n\t\t\t\t\ttype: \"percent\"\n\t\t\t\t},\n\t\t\t\tlightness: {\n\t\t\t\t\tidx: 2,\n\t\t\t\t\ttype: \"percent\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tpropTypes = {\n\t\t\"byte\": {\n\t\t\tfloor: true,\n\t\t\tmax: 255\n\t\t},\n\t\t\"percent\": {\n\t\t\tmax: 1\n\t\t},\n\t\t\"degrees\": {\n\t\t\tmod: 360,\n\t\t\tfloor: true\n\t\t}\n\t},\n\tsupport = color.support = {},\n\n\t// element for support tests\n\tsupportElem = jQuery( \"<p>\" )[ 0 ],\n\n\t// colors = jQuery.Color.names\n\tcolors,\n\n\t// local aliases of functions called often\n\teach = jQuery.each;\n\n// determine rgba support immediately\nsupportElem.style.cssText = \"background-color:rgba(1,1,1,.5)\";\nsupport.rgba = supportElem.style.backgroundColor.indexOf( \"rgba\" ) > -1;\n\n// define cache name and alpha properties\n// for rgba and hsla spaces\neach( spaces, function( spaceName, space ) {\n\tspace.cache = \"_\" + spaceName;\n\tspace.props.alpha = {\n\t\tidx: 3,\n\t\ttype: \"percent\",\n\t\tdef: 1\n\t};\n});\n\nfunction clamp( value, prop, allowEmpty ) {\n\tvar type = propTypes[ prop.type ] || {};\n\n\tif ( value == null ) {\n\t\treturn (allowEmpty || !prop.def) ? null : prop.def;\n\t}\n\n\t// ~~ is an short way of doing floor for positive numbers\n\tvalue = type.floor ? ~~value : parseFloat( value );\n\n\t// IE will pass in empty strings as value for alpha,\n\t// which will hit this case\n\tif ( isNaN( value ) ) {\n\t\treturn prop.def;\n\t}\n\n\tif ( type.mod ) {\n\t\t// we add mod before modding to make sure that negatives values\n\t\t// get converted properly: -10 -> 350\n\t\treturn (value + type.mod) % type.mod;\n\t}\n\n\t// for now all property types without mod have min and max\n\treturn 0 > value ? 0 : type.max < value ? type.max : value;\n}\n\nfunction stringParse( string ) {\n\tvar inst = color(),\n\t\trgba = inst._rgba = [];\n\n\tstring = string.toLowerCase();\n\n\teach( stringParsers, function( i, parser ) {\n\t\tvar parsed,\n\t\t\tmatch = parser.re.exec( string ),\n\t\t\tvalues = match && parser.parse( match ),\n\t\t\tspaceName = parser.space || \"rgba\";\n\n\t\tif ( values ) {\n\t\t\tparsed = inst[ spaceName ]( values );\n\n\t\t\t// if this was an rgba parse the assignment might happen twice\n\t\t\t// oh well....\n\t\t\tinst[ spaces[ spaceName ].cache ] = parsed[ spaces[ spaceName ].cache ];\n\t\t\trgba = inst._rgba = parsed._rgba;\n\n\t\t\t// exit each( stringParsers ) here because we matched\n\t\t\treturn false;\n\t\t}\n\t});\n\n\t// Found a stringParser that handled it\n\tif ( rgba.length ) {\n\n\t\t// if this came from a parsed string, force \"transparent\" when alpha is 0\n\t\t// chrome, (and maybe others) return \"transparent\" as rgba(0,0,0,0)\n\t\tif ( rgba.join() === \"0,0,0,0\" ) {\n\t\t\tjQuery.extend( rgba, colors.transparent );\n\t\t}\n\t\treturn inst;\n\t}\n\n\t// named colors\n\treturn colors[ string ];\n}\n\ncolor.fn = jQuery.extend( color.prototype, {\n\tparse: function( red, green, blue, alpha ) {\n\t\tif ( red === undefined ) {\n\t\t\tthis._rgba = [ null, null, null, null ];\n\t\t\treturn this;\n\t\t}\n\t\tif ( red.jquery || red.nodeType ) {\n\t\t\tred = jQuery( red ).css( green );\n\t\t\tgreen = undefined;\n\t\t}\n\n\t\tvar inst = this,\n\t\t\ttype = jQuery.type( red ),\n\t\t\trgba = this._rgba = [];\n\n\t\t// more than 1 argument specified - assume ( red, green, blue, alpha )\n\t\tif ( green !== undefined ) {\n\t\t\tred = [ red, green, blue, alpha ];\n\t\t\ttype = \"array\";\n\t\t}\n\n\t\tif ( type === \"string\" ) {\n\t\t\treturn this.parse( stringParse( red ) || colors._default );\n\t\t}\n\n\t\tif ( type === \"array\" ) {\n\t\t\teach( spaces.rgba.props, function( key, prop ) {\n\t\t\t\trgba[ prop.idx ] = clamp( red[ prop.idx ], prop );\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( type === \"object\" ) {\n\t\t\tif ( red instanceof color ) {\n\t\t\t\teach( spaces, function( spaceName, space ) {\n\t\t\t\t\tif ( red[ space.cache ] ) {\n\t\t\t\t\t\tinst[ space.cache ] = red[ space.cache ].slice();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\teach( spaces, function( spaceName, space ) {\n\t\t\t\t\tvar cache = space.cache;\n\t\t\t\t\teach( space.props, function( key, prop ) {\n\n\t\t\t\t\t\t// if the cache doesn't exist, and we know how to convert\n\t\t\t\t\t\tif ( !inst[ cache ] && space.to ) {\n\n\t\t\t\t\t\t\t// if the value was null, we don't need to copy it\n\t\t\t\t\t\t\t// if the key was alpha, we don't need to copy it either\n\t\t\t\t\t\t\tif ( key === \"alpha\" || red[ key ] == null ) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinst[ cache ] = space.to( inst._rgba );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// this is the only case where we allow nulls for ALL properties.\n\t\t\t\t\t\t// call clamp with alwaysAllowEmpty\n\t\t\t\t\t\tinst[ cache ][ prop.idx ] = clamp( red[ key ], prop, true );\n\t\t\t\t\t});\n\n\t\t\t\t\t// everything defined but alpha?\n\t\t\t\t\tif ( inst[ cache ] && jQuery.inArray( null, inst[ cache ].slice( 0, 3 ) ) < 0 ) {\n\t\t\t\t\t\t// use the default of 1\n\t\t\t\t\t\tinst[ cache ][ 3 ] = 1;\n\t\t\t\t\t\tif ( space.from ) {\n\t\t\t\t\t\t\tinst._rgba = space.from( inst[ cache ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t},\n\tis: function( compare ) {\n\t\tvar is = color( compare ),\n\t\t\tsame = true,\n\t\t\tinst = this;\n\n\t\teach( spaces, function( _, space ) {\n\t\t\tvar localCache,\n\t\t\t\tisCache = is[ space.cache ];\n\t\t\tif (isCache) {\n\t\t\t\tlocalCache = inst[ space.cache ] || space.to && space.to( inst._rgba ) || [];\n\t\t\t\teach( space.props, function( _, prop ) {\n\t\t\t\t\tif ( isCache[ prop.idx ] != null ) {\n\t\t\t\t\t\tsame = ( isCache[ prop.idx ] === localCache[ prop.idx ] );\n\t\t\t\t\t\treturn same;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn same;\n\t\t});\n\t\treturn same;\n\t},\n\t_space: function() {\n\t\tvar used = [],\n\t\t\tinst = this;\n\t\teach( spaces, function( spaceName, space ) {\n\t\t\tif ( inst[ space.cache ] ) {\n\t\t\t\tused.push( spaceName );\n\t\t\t}\n\t\t});\n\t\treturn used.pop();\n\t},\n\ttransition: function( other, distance ) {\n\t\tvar end = color( other ),\n\t\t\tspaceName = end._space(),\n\t\t\tspace = spaces[ spaceName ],\n\t\t\tstartColor = this.alpha() === 0 ? color( \"transparent\" ) : this,\n\t\t\tstart = startColor[ space.cache ] || space.to( startColor._rgba ),\n\t\t\tresult = start.slice();\n\n\t\tend = end[ space.cache ];\n\t\teach( space.props, function( key, prop ) {\n\t\t\tvar index = prop.idx,\n\t\t\t\tstartValue = start[ index ],\n\t\t\t\tendValue = end[ index ],\n\t\t\t\ttype = propTypes[ prop.type ] || {};\n\n\t\t\t// if null, don't override start value\n\t\t\tif ( endValue === null ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// if null - use end\n\t\t\tif ( startValue === null ) {\n\t\t\t\tresult[ index ] = endValue;\n\t\t\t} else {\n\t\t\t\tif ( type.mod ) {\n\t\t\t\t\tif ( endValue - startValue > type.mod / 2 ) {\n\t\t\t\t\t\tstartValue += type.mod;\n\t\t\t\t\t} else if ( startValue - endValue > type.mod / 2 ) {\n\t\t\t\t\t\tstartValue -= type.mod;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresult[ index ] = clamp( ( endValue - startValue ) * distance + startValue, prop );\n\t\t\t}\n\t\t});\n\t\treturn this[ spaceName ]( result );\n\t},\n\tblend: function( opaque ) {\n\t\t// if we are already opaque - return ourself\n\t\tif ( this._rgba[ 3 ] === 1 ) {\n\t\t\treturn this;\n\t\t}\n\n\t\tvar rgb = this._rgba.slice(),\n\t\t\ta = rgb.pop(),\n\t\t\tblend = color( opaque )._rgba;\n\n\t\treturn color( jQuery.map( rgb, function( v, i ) {\n\t\t\treturn ( 1 - a ) * blend[ i ] + a * v;\n\t\t}));\n\t},\n\ttoRgbaString: function() {\n\t\tvar prefix = \"rgba(\",\n\t\t\trgba = jQuery.map( this._rgba, function( v, i ) {\n\t\t\t\treturn v == null ? ( i > 2 ? 1 : 0 ) : v;\n\t\t\t});\n\n\t\tif ( rgba[ 3 ] === 1 ) {\n\t\t\trgba.pop();\n\t\t\tprefix = \"rgb(\";\n\t\t}\n\n\t\treturn prefix + rgba.join() + \")\";\n\t},\n\ttoHslaString: function() {\n\t\tvar prefix = \"hsla(\",\n\t\t\thsla = jQuery.map( this.hsla(), function( v, i ) {\n\t\t\t\tif ( v == null ) {\n\t\t\t\t\tv = i > 2 ? 1 : 0;\n\t\t\t\t}\n\n\t\t\t\t// catch 1 and 2\n\t\t\t\tif ( i && i < 3 ) {\n\t\t\t\t\tv = Math.round( v * 100 ) + \"%\";\n\t\t\t\t}\n\t\t\t\treturn v;\n\t\t\t});\n\n\t\tif ( hsla[ 3 ] === 1 ) {\n\t\t\thsla.pop();\n\t\t\tprefix = \"hsl(\";\n\t\t}\n\t\treturn prefix + hsla.join() + \")\";\n\t},\n\ttoHexString: function( includeAlpha ) {\n\t\tvar rgba = this._rgba.slice(),\n\t\t\talpha = rgba.pop();\n\n\t\tif ( includeAlpha ) {\n\t\t\trgba.push( ~~( alpha * 255 ) );\n\t\t}\n\n\t\treturn \"#\" + jQuery.map( rgba, function( v ) {\n\n\t\t\t// default to 0 when nulls exist\n\t\t\tv = ( v || 0 ).toString( 16 );\n\t\t\treturn v.length === 1 ? \"0\" + v : v;\n\t\t}).join(\"\");\n\t},\n\ttoString: function() {\n\t\treturn this._rgba[ 3 ] === 0 ? \"transparent\" : this.toRgbaString();\n\t}\n});\ncolor.fn.parse.prototype = color.fn;\n\n// hsla conversions adapted from:\n// https://code.google.com/p/maashaack/source/browse/packages/graphics/trunk/src/graphics/colors/HUE2RGB.as?r=5021\n\nfunction hue2rgb( p, q, h ) {\n\th = ( h + 1 ) % 1;\n\tif ( h * 6 < 1 ) {\n\t\treturn p + (q - p) * h * 6;\n\t}\n\tif ( h * 2 < 1) {\n\t\treturn q;\n\t}\n\tif ( h * 3 < 2 ) {\n\t\treturn p + (q - p) * ((2/3) - h) * 6;\n\t}\n\treturn p;\n}\n\nspaces.hsla.to = function ( rgba ) {\n\tif ( rgba[ 0 ] == null || rgba[ 1 ] == null || rgba[ 2 ] == null ) {\n\t\treturn [ null, null, null, rgba[ 3 ] ];\n\t}\n\tvar r = rgba[ 0 ] / 255,\n\t\tg = rgba[ 1 ] / 255,\n\t\tb = rgba[ 2 ] / 255,\n\t\ta = rgba[ 3 ],\n\t\tmax = Math.max( r, g, b ),\n\t\tmin = Math.min( r, g, b ),\n\t\tdiff = max - min,\n\t\tadd = max + min,\n\t\tl = add * 0.5,\n\t\th, s;\n\n\tif ( min === max ) {\n\t\th = 0;\n\t} else if ( r === max ) {\n\t\th = ( 60 * ( g - b ) / diff ) + 360;\n\t} else if ( g === max ) {\n\t\th = ( 60 * ( b - r ) / diff ) + 120;\n\t} else {\n\t\th = ( 60 * ( r - g ) / diff ) + 240;\n\t}\n\n\t// chroma (diff) == 0 means greyscale which, by definition, saturation = 0%\n\t// otherwise, saturation is based on the ratio of chroma (diff) to lightness (add)\n\tif ( diff === 0 ) {\n\t\ts = 0;\n\t} else if ( l <= 0.5 ) {\n\t\ts = diff / add;\n\t} else {\n\t\ts = diff / ( 2 - add );\n\t}\n\treturn [ Math.round(h) % 360, s, l, a == null ? 1 : a ];\n};\n\nspaces.hsla.from = function ( hsla ) {\n\tif ( hsla[ 0 ] == null || hsla[ 1 ] == null || hsla[ 2 ] == null ) {\n\t\treturn [ null, null, null, hsla[ 3 ] ];\n\t}\n\tvar h = hsla[ 0 ] / 360,\n\t\ts = hsla[ 1 ],\n\t\tl = hsla[ 2 ],\n\t\ta = hsla[ 3 ],\n\t\tq = l <= 0.5 ? l * ( 1 + s ) : l + s - l * s,\n\t\tp = 2 * l - q;\n\n\treturn [\n\t\tMath.round( hue2rgb( p, q, h + ( 1 / 3 ) ) * 255 ),\n\t\tMath.round( hue2rgb( p, q, h ) * 255 ),\n\t\tMath.round( hue2rgb( p, q, h - ( 1 / 3 ) ) * 255 ),\n\t\ta\n\t];\n};\n\n\neach( spaces, function( spaceName, space ) {\n\tvar props = space.props,\n\t\tcache = space.cache,\n\t\tto = space.to,\n\t\tfrom = space.from;\n\n\t// makes rgba() and hsla()\n\tcolor.fn[ spaceName ] = function( value ) {\n\n\t\t// generate a cache for this space if it doesn't exist\n\t\tif ( to && !this[ cache ] ) {\n\t\t\tthis[ cache ] = to( this._rgba );\n\t\t}\n\t\tif ( value === undefined ) {\n\t\t\treturn this[ cache ].slice();\n\t\t}\n\n\t\tvar ret,\n\t\t\ttype = jQuery.type( value ),\n\t\t\tarr = ( type === \"array\" || type === \"object\" ) ? value : arguments,\n\t\t\tlocal = this[ cache ].slice();\n\n\t\teach( props, function( key, prop ) {\n\t\t\tvar val = arr[ type === \"object\" ? key : prop.idx ];\n\t\t\tif ( val == null ) {\n\t\t\t\tval = local[ prop.idx ];\n\t\t\t}\n\t\t\tlocal[ prop.idx ] = clamp( val, prop );\n\t\t});\n\n\t\tif ( from ) {\n\t\t\tret = color( from( local ) );\n\t\t\tret[ cache ] = local;\n\t\t\treturn ret;\n\t\t} else {\n\t\t\treturn color( local );\n\t\t}\n\t};\n\n\t// makes red() green() blue() alpha() hue() saturation() lightness()\n\teach( props, function( key, prop ) {\n\t\t// alpha is included in more than one space\n\t\tif ( color.fn[ key ] ) {\n\t\t\treturn;\n\t\t}\n\t\tcolor.fn[ key ] = function( value ) {\n\t\t\tvar vtype = jQuery.type( value ),\n\t\t\t\tfn = ( key === \"alpha\" ? ( this._hsla ? \"hsla\" : \"rgba\" ) : spaceName ),\n\t\t\t\tlocal = this[ fn ](),\n\t\t\t\tcur = local[ prop.idx ],\n\t\t\t\tmatch;\n\n\t\t\tif ( vtype === \"undefined\" ) {\n\t\t\t\treturn cur;\n\t\t\t}\n\n\t\t\tif ( vtype === \"function\" ) {\n\t\t\t\tvalue = value.call( this, cur );\n\t\t\t\tvtype = jQuery.type( value );\n\t\t\t}\n\t\t\tif ( value == null && prop.empty ) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tif ( vtype === \"string\" ) {\n\t\t\t\tmatch = rplusequals.exec( value );\n\t\t\t\tif ( match ) {\n\t\t\t\t\tvalue = cur + parseFloat( match[ 2 ] ) * ( match[ 1 ] === \"+\" ? 1 : -1 );\n\t\t\t\t}\n\t\t\t}\n\t\t\tlocal[ prop.idx ] = value;\n\t\t\treturn this[ fn ]( local );\n\t\t};\n\t});\n});\n\n// add cssHook and .fx.step function for each named hook.\n// accept a space separated string of properties\ncolor.hook = function( hook ) {\n\tvar hooks = hook.split( \" \" );\n\teach( hooks, function( i, hook ) {\n\t\tjQuery.cssHooks[ hook ] = {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar parsed, curElem,\n\t\t\t\t\tbackgroundColor = \"\";\n\n\t\t\t\tif ( value !== \"transparent\" && ( jQuery.type( value ) !== \"string\" || ( parsed = stringParse( value ) ) ) ) {\n\t\t\t\t\tvalue = color( parsed || value );\n\t\t\t\t\tif ( !support.rgba && value._rgba[ 3 ] !== 1 ) {\n\t\t\t\t\t\tcurElem = hook === \"backgroundColor\" ? elem.parentNode : elem;\n\t\t\t\t\t\twhile (\n\t\t\t\t\t\t\t(backgroundColor === \"\" || backgroundColor === \"transparent\") &&\n\t\t\t\t\t\t\tcurElem && curElem.style\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tbackgroundColor = jQuery.css( curElem, \"backgroundColor\" );\n\t\t\t\t\t\t\t\tcurElem = curElem.parentNode;\n\t\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvalue = value.blend( backgroundColor && backgroundColor !== \"transparent\" ?\n\t\t\t\t\t\t\tbackgroundColor :\n\t\t\t\t\t\t\t\"_default\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tvalue = value.toRgbaString();\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\telem.style[ hook ] = value;\n\t\t\t\t} catch( e ) {\n\t\t\t\t\t// wrapped to prevent IE from throwing errors on \"invalid\" values like 'auto' or 'inherit'\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tjQuery.fx.step[ hook ] = function( fx ) {\n\t\t\tif ( !fx.colorInit ) {\n\t\t\t\tfx.start = color( fx.elem, hook );\n\t\t\t\tfx.end = color( fx.end );\n\t\t\t\tfx.colorInit = true;\n\t\t\t}\n\t\t\tjQuery.cssHooks[ hook ].set( fx.elem, fx.start.transition( fx.end, fx.pos ) );\n\t\t};\n\t});\n\n};\n\ncolor.hook( stepHooks );\n\njQuery.cssHooks.borderColor = {\n\texpand: function( value ) {\n\t\tvar expanded = {};\n\n\t\teach( [ \"Top\", \"Right\", \"Bottom\", \"Left\" ], function( i, part ) {\n\t\t\texpanded[ \"border\" + part + \"Color\" ] = value;\n\t\t});\n\t\treturn expanded;\n\t}\n};\n\n// Basic color names only.\n// Usage of any of the other color names requires adding yourself or including\n// jquery.color.svg-names.js.\ncolors = jQuery.Color.names = {\n\t// 4.1. Basic color keywords\n\taqua: \"#00ffff\",\n\tblack: \"#000000\",\n\tblue: \"#0000ff\",\n\tfuchsia: \"#ff00ff\",\n\tgray: \"#808080\",\n\tgreen: \"#008000\",\n\tlime: \"#00ff00\",\n\tmaroon: \"#800000\",\n\tnavy: \"#000080\",\n\tolive: \"#808000\",\n\tpurple: \"#800080\",\n\tred: \"#ff0000\",\n\tsilver: \"#c0c0c0\",\n\tteal: \"#008080\",\n\twhite: \"#ffffff\",\n\tyellow: \"#ffff00\",\n\n\t// 4.2.3. \"transparent\" color keyword\n\ttransparent: [ null, null, null, 0 ],\n\n\t_default: \"#ffffff\"\n};\n\n})( jQuery );\n\n\n/******************************************************************************/\n/****************************** CLASS ANIMATIONS ******************************/\n/******************************************************************************/\n(function() {\n\nvar classAnimationActions = [ \"add\", \"remove\", \"toggle\" ],\n\tshorthandStyles = {\n\t\tborder: 1,\n\t\tborderBottom: 1,\n\t\tborderColor: 1,\n\t\tborderLeft: 1,\n\t\tborderRight: 1,\n\t\tborderTop: 1,\n\t\tborderWidth: 1,\n\t\tmargin: 1,\n\t\tpadding: 1\n\t};\n\n$.each([ \"borderLeftStyle\", \"borderRightStyle\", \"borderBottomStyle\", \"borderTopStyle\" ], function( _, prop ) {\n\t$.fx.step[ prop ] = function( fx ) {\n\t\tif ( fx.end !== \"none\" && !fx.setAttr || fx.pos === 1 && !fx.setAttr ) {\n\t\t\tjQuery.style( fx.elem, prop, fx.end );\n\t\t\tfx.setAttr = true;\n\t\t}\n\t};\n});\n\nfunction getElementStyles( elem ) {\n\tvar key, len,\n\t\tstyle = elem.ownerDocument.defaultView ?\n\t\t\telem.ownerDocument.defaultView.getComputedStyle( elem, null ) :\n\t\t\telem.currentStyle,\n\t\tstyles = {};\n\n\tif ( style && style.length && style[ 0 ] && style[ style[ 0 ] ] ) {\n\t\tlen = style.length;\n\t\twhile ( len-- ) {\n\t\t\tkey = style[ len ];\n\t\t\tif ( typeof style[ key ] === \"string\" ) {\n\t\t\t\tstyles[ $.camelCase( key ) ] = style[ key ];\n\t\t\t}\n\t\t}\n\t// support: Opera, IE <9\n\t} else {\n\t\tfor ( key in style ) {\n\t\t\tif ( typeof style[ key ] === \"string\" ) {\n\t\t\t\tstyles[ key ] = style[ key ];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn styles;\n}\n\n\nfunction styleDifference( oldStyle, newStyle ) {\n\tvar diff = {},\n\t\tname, value;\n\n\tfor ( name in newStyle ) {\n\t\tvalue = newStyle[ name ];\n\t\tif ( oldStyle[ name ] !== value ) {\n\t\t\tif ( !shorthandStyles[ name ] ) {\n\t\t\t\tif ( $.fx.step[ name ] || !isNaN( parseFloat( value ) ) ) {\n\t\t\t\t\tdiff[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn diff;\n}\n\n// support: jQuery <1.8\nif ( !$.fn.addBack ) {\n\t$.fn.addBack = function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t};\n}\n\n$.effects.animateClass = function( value, duration, easing, callback ) {\n\tvar o = $.speed( duration, easing, callback );\n\n\treturn this.queue( function() {\n\t\tvar animated = $( this ),\n\t\t\tbaseClass = animated.attr( \"class\" ) || \"\",\n\t\t\tapplyClassChange,\n\t\t\tallAnimations = o.children ? animated.find( \"*\" ).addBack() : animated;\n\n\t\t// map the animated objects to store the original styles.\n\t\tallAnimations = allAnimations.map(function() {\n\t\t\tvar el = $( this );\n\t\t\treturn {\n\t\t\t\tel: el,\n\t\t\t\tstart: getElementStyles( this )\n\t\t\t};\n\t\t});\n\n\t\t// apply class change\n\t\tapplyClassChange = function() {\n\t\t\t$.each( classAnimationActions, function(i, action) {\n\t\t\t\tif ( value[ action ] ) {\n\t\t\t\t\tanimated[ action + \"Class\" ]( value[ action ] );\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tapplyClassChange();\n\n\t\t// map all animated objects again - calculate new styles and diff\n\t\tallAnimations = allAnimations.map(function() {\n\t\t\tthis.end = getElementStyles( this.el[ 0 ] );\n\t\t\tthis.diff = styleDifference( this.start, this.end );\n\t\t\treturn this;\n\t\t});\n\n\t\t// apply original class\n\t\tanimated.attr( \"class\", baseClass );\n\n\t\t// map all animated objects again - this time collecting a promise\n\t\tallAnimations = allAnimations.map(function() {\n\t\t\tvar styleInfo = this,\n\t\t\t\tdfd = $.Deferred(),\n\t\t\t\topts = $.extend({}, o, {\n\t\t\t\t\tqueue: false,\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\tdfd.resolve( styleInfo );\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tthis.el.animate( this.diff, opts );\n\t\t\treturn dfd.promise();\n\t\t});\n\n\t\t// once all animations have completed:\n\t\t$.when.apply( $, allAnimations.get() ).done(function() {\n\n\t\t\t// set the final class\n\t\t\tapplyClassChange();\n\n\t\t\t// for each animated element,\n\t\t\t// clear all css properties that were animated\n\t\t\t$.each( arguments, function() {\n\t\t\t\tvar el = this.el;\n\t\t\t\t$.each( this.diff, function(key) {\n\t\t\t\t\tel.css( key, \"\" );\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// this is guarnteed to be there if you use jQuery.speed()\n\t\t\t// it also handles dequeuing the next anim...\n\t\t\to.complete.call( animated[ 0 ] );\n\t\t});\n\t});\n};\n\n$.fn.extend({\n\taddClass: (function( orig ) {\n\t\treturn function( classNames, speed, easing, callback ) {\n\t\t\treturn speed ?\n\t\t\t\t$.effects.animateClass.call( this,\n\t\t\t\t\t{ add: classNames }, speed, easing, callback ) :\n\t\t\t\torig.apply( this, arguments );\n\t\t};\n\t})( $.fn.addClass ),\n\n\tremoveClass: (function( orig ) {\n\t\treturn function( classNames, speed, easing, callback ) {\n\t\t\treturn arguments.length > 1 ?\n\t\t\t\t$.effects.animateClass.call( this,\n\t\t\t\t\t{ remove: classNames }, speed, easing, callback ) :\n\t\t\t\torig.apply( this, arguments );\n\t\t};\n\t})( $.fn.removeClass ),\n\n\ttoggleClass: (function( orig ) {\n\t\treturn function( classNames, force, speed, easing, callback ) {\n\t\t\tif ( typeof force === \"boolean\" || force === undefined ) {\n\t\t\t\tif ( !speed ) {\n\t\t\t\t\t// without speed parameter\n\t\t\t\t\treturn orig.apply( this, arguments );\n\t\t\t\t} else {\n\t\t\t\t\treturn $.effects.animateClass.call( this,\n\t\t\t\t\t\t(force ? { add: classNames } : { remove: classNames }),\n\t\t\t\t\t\tspeed, easing, callback );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// without force parameter\n\t\t\t\treturn $.effects.animateClass.call( this,\n\t\t\t\t\t{ toggle: classNames }, force, speed, easing );\n\t\t\t}\n\t\t};\n\t})( $.fn.toggleClass ),\n\n\tswitchClass: function( remove, add, speed, easing, callback) {\n\t\treturn $.effects.animateClass.call( this, {\n\t\t\tadd: add,\n\t\t\tremove: remove\n\t\t}, speed, easing, callback );\n\t}\n});\n\n})();\n\n/******************************************************************************/\n/*********************************** EFFECTS **********************************/\n/******************************************************************************/\n\n(function() {\n\n$.extend( $.effects, {\n\tversion: \"1.10.3\",\n\n\t// Saves a set of properties in a data storage\n\tsave: function( element, set ) {\n\t\tfor( var i=0; i < set.length; i++ ) {\n\t\t\tif ( set[ i ] !== null ) {\n\t\t\t\telement.data( dataSpace + set[ i ], element[ 0 ].style[ set[ i ] ] );\n\t\t\t}\n\t\t}\n\t},\n\n\t// Restores a set of previously saved properties from a data storage\n\trestore: function( element, set ) {\n\t\tvar val, i;\n\t\tfor( i=0; i < set.length; i++ ) {\n\t\t\tif ( set[ i ] !== null ) {\n\t\t\t\tval = element.data( dataSpace + set[ i ] );\n\t\t\t\t// support: jQuery 1.6.2\n\t\t\t\t// http://bugs.jquery.com/ticket/9917\n\t\t\t\t// jQuery 1.6.2 incorrectly returns undefined for any falsy value.\n\t\t\t\t// We can't differentiate between \"\" and 0 here, so we just assume\n\t\t\t\t// empty string since it's likely to be a more common value...\n\t\t\t\tif ( val === undefined ) {\n\t\t\t\t\tval = \"\";\n\t\t\t\t}\n\t\t\t\telement.css( set[ i ], val );\n\t\t\t}\n\t\t}\n\t},\n\n\tsetMode: function( el, mode ) {\n\t\tif (mode === \"toggle\") {\n\t\t\tmode = el.is( \":hidden\" ) ? \"show\" : \"hide\";\n\t\t}\n\t\treturn mode;\n\t},\n\n\t// Translates a [top,left] array into a baseline value\n\t// this should be a little more flexible in the future to handle a string & hash\n\tgetBaseline: function( origin, original ) {\n\t\tvar y, x;\n\t\tswitch ( origin[ 0 ] ) {\n\t\t\tcase \"top\": y = 0; break;\n\t\t\tcase \"middle\": y = 0.5; break;\n\t\t\tcase \"bottom\": y = 1; break;\n\t\t\tdefault: y = origin[ 0 ] / original.height;\n\t\t}\n\t\tswitch ( origin[ 1 ] ) {\n\t\t\tcase \"left\": x = 0; break;\n\t\t\tcase \"center\": x = 0.5; break;\n\t\t\tcase \"right\": x = 1; break;\n\t\t\tdefault: x = origin[ 1 ] / original.width;\n\t\t}\n\t\treturn {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\t},\n\n\t// Wraps the element around a wrapper that copies position properties\n\tcreateWrapper: function( element ) {\n\n\t\t// if the element is already wrapped, return it\n\t\tif ( element.parent().is( \".ui-effects-wrapper\" )) {\n\t\t\treturn element.parent();\n\t\t}\n\n\t\t// wrap the element\n\t\tvar props = {\n\t\t\t\twidth: element.outerWidth(true),\n\t\t\t\theight: element.outerHeight(true),\n\t\t\t\t\"float\": element.css( \"float\" )\n\t\t\t},\n\t\t\twrapper = $( \"<div></div>\" )\n\t\t\t\t.addClass( \"ui-effects-wrapper\" )\n\t\t\t\t.css({\n\t\t\t\t\tfontSize: \"100%\",\n\t\t\t\t\tbackground: \"transparent\",\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\tpadding: 0\n\t\t\t\t}),\n\t\t\t// Store the size in case width/height are defined in % - Fixes #5245\n\t\t\tsize = {\n\t\t\t\twidth: element.width(),\n\t\t\t\theight: element.height()\n\t\t\t},\n\t\t\tactive = document.activeElement;\n\n\t\t// support: Firefox\n\t\t// Firefox incorrectly exposes anonymous content\n\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=561664\n\t\ttry {\n\t\t\tactive.id;\n\t\t} catch( e ) {\n\t\t\tactive = document.body;\n\t\t}\n\n\t\telement.wrap( wrapper );\n\n\t\t// Fixes #7595 - Elements lose focus when wrapped.\n\t\tif ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {\n\t\t\t$( active ).focus();\n\t\t}\n\n\t\twrapper = element.parent(); //Hotfix for jQuery 1.4 since some change in wrap() seems to actually lose the reference to the wrapped element\n\n\t\t// transfer positioning properties to the wrapper\n\t\tif ( element.css( \"position\" ) === \"static\" ) {\n\t\t\twrapper.css({ position: \"relative\" });\n\t\t\telement.css({ position: \"relative\" });\n\t\t} else {\n\t\t\t$.extend( props, {\n\t\t\t\tposition: element.css( \"position\" ),\n\t\t\t\tzIndex: element.css( \"z-index\" )\n\t\t\t});\n\t\t\t$.each([ \"top\", \"left\", \"bottom\", \"right\" ], function(i, pos) {\n\t\t\t\tprops[ pos ] = element.css( pos );\n\t\t\t\tif ( isNaN( parseInt( props[ pos ], 10 ) ) ) {\n\t\t\t\t\tprops[ pos ] = \"auto\";\n\t\t\t\t}\n\t\t\t});\n\t\t\telement.css({\n\t\t\t\tposition: \"relative\",\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: \"auto\",\n\t\t\t\tbottom: \"auto\"\n\t\t\t});\n\t\t}\n\t\telement.css(size);\n\n\t\treturn wrapper.css( props ).show();\n\t},\n\n\tremoveWrapper: function( element ) {\n\t\tvar active = document.activeElement;\n\n\t\tif ( element.parent().is( \".ui-effects-wrapper\" ) ) {\n\t\t\telement.parent().replaceWith( element );\n\n\t\t\t// Fixes #7595 - Elements lose focus when wrapped.\n\t\t\tif ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {\n\t\t\t\t$( active ).focus();\n\t\t\t}\n\t\t}\n\n\n\t\treturn element;\n\t},\n\n\tsetTransition: function( element, list, factor, value ) {\n\t\tvalue = value || {};\n\t\t$.each( list, function( i, x ) {\n\t\t\tvar unit = element.cssUnit( x );\n\t\t\tif ( unit[ 0 ] > 0 ) {\n\t\t\t\tvalue[ x ] = unit[ 0 ] * factor + unit[ 1 ];\n\t\t\t}\n\t\t});\n\t\treturn value;\n\t}\n});\n\n// return an effect options object for the given parameters:\nfunction _normalizeArguments( effect, options, speed, callback ) {\n\n\t// allow passing all options as the first parameter\n\tif ( $.isPlainObject( effect ) ) {\n\t\toptions = effect;\n\t\teffect = effect.effect;\n\t}\n\n\t// convert to an object\n\teffect = { effect: effect };\n\n\t// catch (effect, null, ...)\n\tif ( options == null ) {\n\t\toptions = {};\n\t}\n\n\t// catch (effect, callback)\n\tif ( $.isFunction( options ) ) {\n\t\tcallback = options;\n\t\tspeed = null;\n\t\toptions = {};\n\t}\n\n\t// catch (effect, speed, ?)\n\tif ( typeof options === \"number\" || $.fx.speeds[ options ] ) {\n\t\tcallback = speed;\n\t\tspeed = options;\n\t\toptions = {};\n\t}\n\n\t// catch (effect, options, callback)\n\tif ( $.isFunction( speed ) ) {\n\t\tcallback = speed;\n\t\tspeed = null;\n\t}\n\n\t// add options to effect\n\tif ( options ) {\n\t\t$.extend( effect, options );\n\t}\n\n\tspeed = speed || options.duration;\n\teffect.duration = $.fx.off ? 0 :\n\t\ttypeof speed === \"number\" ? speed :\n\t\tspeed in $.fx.speeds ? $.fx.speeds[ speed ] :\n\t\t$.fx.speeds._default;\n\n\teffect.complete = callback || options.complete;\n\n\treturn effect;\n}\n\nfunction standardAnimationOption( option ) {\n\t// Valid standard speeds (nothing, number, named speed)\n\tif ( !option || typeof option === \"number\" || $.fx.speeds[ option ] ) {\n\t\treturn true;\n\t}\n\n\t// Invalid strings - treat as \"normal\" speed\n\tif ( typeof option === \"string\" && !$.effects.effect[ option ] ) {\n\t\treturn true;\n\t}\n\n\t// Complete callback\n\tif ( $.isFunction( option ) ) {\n\t\treturn true;\n\t}\n\n\t// Options hash (but not naming an effect)\n\tif ( typeof option === \"object\" && !option.effect ) {\n\t\treturn true;\n\t}\n\n\t// Didn't match any standard API\n\treturn false;\n}\n\n$.fn.extend({\n\teffect: function( /* effect, options, speed, callback */ ) {\n\t\tvar args = _normalizeArguments.apply( this, arguments ),\n\t\t\tmode = args.mode,\n\t\t\tqueue = args.queue,\n\t\t\teffectMethod = $.effects.effect[ args.effect ];\n\n\t\tif ( $.fx.off || !effectMethod ) {\n\t\t\t// delegate to the original method (e.g., .show()) if possible\n\t\t\tif ( mode ) {\n\t\t\t\treturn this[ mode ]( args.duration, args.complete );\n\t\t\t} else {\n\t\t\t\treturn this.each( function() {\n\t\t\t\t\tif ( args.complete ) {\n\t\t\t\t\t\targs.complete.call( this );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tfunction run( next ) {\n\t\t\tvar elem = $( this ),\n\t\t\t\tcomplete = args.complete,\n\t\t\t\tmode = args.mode;\n\n\t\t\tfunction done() {\n\t\t\t\tif ( $.isFunction( complete ) ) {\n\t\t\t\t\tcomplete.call( elem[0] );\n\t\t\t\t}\n\t\t\t\tif ( $.isFunction( next ) ) {\n\t\t\t\t\tnext();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If the element already has the correct final state, delegate to\n\t\t\t// the core methods so the internal tracking of \"olddisplay\" works.\n\t\t\tif ( elem.is( \":hidden\" ) ? mode === \"hide\" : mode === \"show\" ) {\n\t\t\t\telem[ mode ]();\n\t\t\t\tdone();\n\t\t\t} else {\n\t\t\t\teffectMethod.call( elem[0], args, done );\n\t\t\t}\n\t\t}\n\n\t\treturn queue === false ? this.each( run ) : this.queue( queue || \"fx\", run );\n\t},\n\n\tshow: (function( orig ) {\n\t\treturn function( option ) {\n\t\t\tif ( standardAnimationOption( option ) ) {\n\t\t\t\treturn orig.apply( this, arguments );\n\t\t\t} else {\n\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\n\t\t\t\targs.mode = \"show\";\n\t\t\t\treturn this.effect.call( this, args );\n\t\t\t}\n\t\t};\n\t})( $.fn.show ),\n\n\thide: (function( orig ) {\n\t\treturn function( option ) {\n\t\t\tif ( standardAnimationOption( option ) ) {\n\t\t\t\treturn orig.apply( this, arguments );\n\t\t\t} else {\n\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\n\t\t\t\targs.mode = \"hide\";\n\t\t\t\treturn this.effect.call( this, args );\n\t\t\t}\n\t\t};\n\t})( $.fn.hide ),\n\n\ttoggle: (function( orig ) {\n\t\treturn function( option ) {\n\t\t\tif ( standardAnimationOption( option ) || typeof option === \"boolean\" ) {\n\t\t\t\treturn orig.apply( this, arguments );\n\t\t\t} else {\n\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\n\t\t\t\targs.mode = \"toggle\";\n\t\t\t\treturn this.effect.call( this, args );\n\t\t\t}\n\t\t};\n\t})( $.fn.toggle ),\n\n\t// helper functions\n\tcssUnit: function(key) {\n\t\tvar style = this.css( key ),\n\t\t\tval = [];\n\n\t\t$.each( [ \"em\", \"px\", \"%\", \"pt\" ], function( i, unit ) {\n\t\t\tif ( style.indexOf( unit ) > 0 ) {\n\t\t\t\tval = [ parseFloat( style ), unit ];\n\t\t\t}\n\t\t});\n\t\treturn val;\n\t}\n});\n\n})();\n\n/******************************************************************************/\n/*********************************** EASING ***********************************/\n/******************************************************************************/\n\n(function() {\n\n// based on easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\nvar baseEasings = {};\n\n$.each( [ \"Quad\", \"Cubic\", \"Quart\", \"Quint\", \"Expo\" ], function( i, name ) {\n\tbaseEasings[ name ] = function( p ) {\n\t\treturn Math.pow( p, i + 2 );\n\t};\n});\n\n$.extend( baseEasings, {\n\tSine: function ( p ) {\n\t\treturn 1 - Math.cos( p * Math.PI / 2 );\n\t},\n\tCirc: function ( p ) {\n\t\treturn 1 - Math.sqrt( 1 - p * p );\n\t},\n\tElastic: function( p ) {\n\t\treturn p === 0 || p === 1 ? p :\n\t\t\t-Math.pow( 2, 8 * (p - 1) ) * Math.sin( ( (p - 1) * 80 - 7.5 ) * Math.PI / 15 );\n\t},\n\tBack: function( p ) {\n\t\treturn p * p * ( 3 * p - 2 );\n\t},\n\tBounce: function ( p ) {\n\t\tvar pow2,\n\t\t\tbounce = 4;\n\n\t\twhile ( p < ( ( pow2 = Math.pow( 2, --bounce ) ) - 1 ) / 11 ) {}\n\t\treturn 1 / Math.pow( 4, 3 - bounce ) - 7.5625 * Math.pow( ( pow2 * 3 - 2 ) / 22 - p, 2 );\n\t}\n});\n\n$.each( baseEasings, function( name, easeIn ) {\n\t$.easing[ \"easeIn\" + name ] = easeIn;\n\t$.easing[ \"easeOut\" + name ] = function( p ) {\n\t\treturn 1 - easeIn( 1 - p );\n\t};\n\t$.easing[ \"easeInOut\" + name ] = function( p ) {\n\t\treturn p < 0.5 ?\n\t\t\teaseIn( p * 2 ) / 2 :\n\t\t\t1 - easeIn( p * -2 + 2 ) / 2;\n\t};\n});\n\n})();\n\n})(jQuery);\n(function( $, undefined ) {\n\nvar rvertical = /up|down|vertical/,\n\trpositivemotion = /up|left|vertical|horizontal/;\n\n$.effects.effect.blind = function( o, done ) {\n\t// Create element\n\tvar el = $( this ),\n\t\tprops = [ \"position\", \"top\", \"bottom\", \"left\", \"right\", \"height\", \"width\" ],\n\t\tmode = $.effects.setMode( el, o.mode || \"hide\" ),\n\t\tdirection = o.direction || \"up\",\n\t\tvertical = rvertical.test( direction ),\n\t\tref = vertical ? \"height\" : \"width\",\n\t\tref2 = vertical ? \"top\" : \"left\",\n\t\tmotion = rpositivemotion.test( direction ),\n\t\tanimation = {},\n\t\tshow = mode === \"show\",\n\t\twrapper, distance, margin;\n\n\t// if already wrapped, the wrapper's properties are my property. #6245\n\tif ( el.parent().is( \".ui-effects-wrapper\" ) ) {\n\t\t$.effects.save( el.parent(), props );\n\t} else {\n\t\t$.effects.save( el, props );\n\t}\n\tel.show();\n\twrapper = $.effects.createWrapper( el ).css({\n\t\toverflow: \"hidden\"\n\t});\n\n\tdistance = wrapper[ ref ]();\n\tmargin = parseFloat( wrapper.css( ref2 ) ) || 0;\n\n\tanimation[ ref ] = show ? distance : 0;\n\tif ( !motion ) {\n\t\tel\n\t\t\t.css( vertical ? \"bottom\" : \"right\", 0 )\n\t\t\t.css( vertical ? \"top\" : \"left\", \"auto\" )\n\t\t\t.css({ position: \"absolute\" });\n\n\t\tanimation[ ref2 ] = show ? margin : distance + margin;\n\t}\n\n\t// start at 0 if we are showing\n\tif ( show ) {\n\t\twrapper.css( ref, 0 );\n\t\tif ( ! motion ) {\n\t\t\twrapper.css( ref2, margin + distance );\n\t\t}\n\t}\n\n\t// Animate\n\twrapper.animate( animation, {\n\t\tduration: o.duration,\n\t\teasing: o.easing,\n\t\tqueue: false,\n\t\tcomplete: function() {\n\t\t\tif ( mode === \"hide\" ) {\n\t\t\t\tel.hide();\n\t\t\t}\n\t\t\t$.effects.restore( el, props );\n\t\t\t$.effects.removeWrapper( el );\n\t\t\tdone();\n\t\t}\n\t});\n\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.effects.effect.bounce = function( o, done ) {\n\tvar el = $( this ),\n\t\tprops = [ \"position\", \"top\", \"bottom\", \"left\", \"right\", \"height\", \"width\" ],\n\n\t\t// defaults:\n\t\tmode = $.effects.setMode( el, o.mode || \"effect\" ),\n\t\thide = mode === \"hide\",\n\t\tshow = mode === \"show\",\n\t\tdirection = o.direction || \"up\",\n\t\tdistance = o.distance,\n\t\ttimes = o.times || 5,\n\n\t\t// number of internal animations\n\t\tanims = times * 2 + ( show || hide ? 1 : 0 ),\n\t\tspeed = o.duration / anims,\n\t\teasing = o.easing,\n\n\t\t// utility:\n\t\tref = ( direction === \"up\" || direction === \"down\" ) ? \"top\" : \"left\",\n\t\tmotion = ( direction === \"up\" || direction === \"left\" ),\n\t\ti,\n\t\tupAnim,\n\t\tdownAnim,\n\n\t\t// we will need to re-assemble the queue to stack our animations in place\n\t\tqueue = el.queue(),\n\t\tqueuelen = queue.length;\n\n\t// Avoid touching opacity to prevent clearType and PNG issues in IE\n\tif ( show || hide ) {\n\t\tprops.push( \"opacity\" );\n\t}\n\n\t$.effects.save( el, props );\n\tel.show();\n\t$.effects.createWrapper( el ); // Create Wrapper\n\n\t// default distance for the BIGGEST bounce is the outer Distance / 3\n\tif ( !distance ) {\n\t\tdistance = el[ ref === \"top\" ? \"outerHeight\" : \"outerWidth\" ]() / 3;\n\t}\n\n\tif ( show ) {\n\t\tdownAnim = { opacity: 1 };\n\t\tdownAnim[ ref ] = 0;\n\n\t\t// if we are showing, force opacity 0 and set the initial position\n\t\t// then do the \"first\" animation\n\t\tel.css( \"opacity\", 0 )\n\t\t\t.css( ref, motion ? -distance * 2 : distance * 2 )\n\t\t\t.animate( downAnim, speed, easing );\n\t}\n\n\t// start at the smallest distance if we are hiding\n\tif ( hide ) {\n\t\tdistance = distance / Math.pow( 2, times - 1 );\n\t}\n\n\tdownAnim = {};\n\tdownAnim[ ref ] = 0;\n\t// Bounces up/down/left/right then back to 0 -- times * 2 animations happen here\n\tfor ( i = 0; i < times; i++ ) {\n\t\tupAnim = {};\n\t\tupAnim[ ref ] = ( motion ? \"-=\" : \"+=\" ) + distance;\n\n\t\tel.animate( upAnim, speed, easing )\n\t\t\t.animate( downAnim, speed, easing );\n\n\t\tdistance = hide ? distance * 2 : distance / 2;\n\t}\n\n\t// Last Bounce when Hiding\n\tif ( hide ) {\n\t\tupAnim = { opacity: 0 };\n\t\tupAnim[ ref ] = ( motion ? \"-=\" : \"+=\" ) + distance;\n\n\t\tel.animate( upAnim, speed, easing );\n\t}\n\n\tel.queue(function() {\n\t\tif ( hide ) {\n\t\t\tel.hide();\n\t\t}\n\t\t$.effects.restore( el, props );\n\t\t$.effects.removeWrapper( el );\n\t\tdone();\n\t});\n\n\t// inject all the animations we just queued to be first in line (after \"inprogress\")\n\tif ( queuelen > 1) {\n\t\tqueue.splice.apply( queue,\n\t\t\t[ 1, 0 ].concat( queue.splice( queuelen, anims + 1 ) ) );\n\t}\n\tel.dequeue();\n\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.effects.effect.clip = function( o, done ) {\n\t// Create element\n\tvar el = $( this ),\n\t\tprops = [ \"position\", \"top\", \"bottom\", \"left\", \"right\", \"height\", \"width\" ],\n\t\tmode = $.effects.setMode( el, o.mode || \"hide\" ),\n\t\tshow = mode === \"show\",\n\t\tdirection = o.direction || \"vertical\",\n\t\tvert = direction === \"vertical\",\n\t\tsize = vert ? \"height\" : \"width\",\n\t\tposition = vert ? \"top\" : \"left\",\n\t\tanimation = {},\n\t\twrapper, animate, distance;\n\n\t// Save & Show\n\t$.effects.save( el, props );\n\tel.show();\n\n\t// Create Wrapper\n\twrapper = $.effects.createWrapper( el ).css({\n\t\toverflow: \"hidden\"\n\t});\n\tanimate = ( el[0].tagName === \"IMG\" ) ? wrapper : el;\n\tdistance = animate[ size ]();\n\n\t// Shift\n\tif ( show ) {\n\t\tanimate.css( size, 0 );\n\t\tanimate.css( position, distance / 2 );\n\t}\n\n\t// Create Animation Object:\n\tanimation[ size ] = show ? distance : 0;\n\tanimation[ position ] = show ? 0 : distance / 2;\n\n\t// Animate\n\tanimate.animate( animation, {\n\t\tqueue: false,\n\t\tduration: o.duration,\n\t\teasing: o.easing,\n\t\tcomplete: function() {\n\t\t\tif ( !show ) {\n\t\t\t\tel.hide();\n\t\t\t}\n\t\t\t$.effects.restore( el, props );\n\t\t\t$.effects.removeWrapper( el );\n\t\t\tdone();\n\t\t}\n\t});\n\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.effects.effect.drop = function( o, done ) {\n\n\tvar el = $( this ),\n\t\tprops = [ \"position\", \"top\", \"bottom\", \"left\", \"right\", \"opacity\", \"height\", \"width\" ],\n\t\tmode = $.effects.setMode( el, o.mode || \"hide\" ),\n\t\tshow = mode === \"show\",\n\t\tdirection = o.direction || \"left\",\n\t\tref = ( direction === \"up\" || direction === \"down\" ) ? \"top\" : \"left\",\n\t\tmotion = ( direction === \"up\" || direction === \"left\" ) ? \"pos\" : \"neg\",\n\t\tanimation = {\n\t\t\topacity: show ? 1 : 0\n\t\t},\n\t\tdistance;\n\n\t// Adjust\n\t$.effects.save( el, props );\n\tel.show();\n\t$.effects.createWrapper( el );\n\n\tdistance = o.distance || el[ ref === \"top\" ? \"outerHeight\": \"outerWidth\" ]( true ) / 2;\n\n\tif ( show ) {\n\t\tel\n\t\t\t.css( \"opacity\", 0 )\n\t\t\t.css( ref, motion === \"pos\" ? -distance : distance );\n\t}\n\n\t// Animation\n\tanimation[ ref ] = ( show ?\n\t\t( motion === \"pos\" ? \"+=\" : \"-=\" ) :\n\t\t( motion === \"pos\" ? \"-=\" : \"+=\" ) ) +\n\t\tdistance;\n\n\t// Animate\n\tel.animate( animation, {\n\t\tqueue: false,\n\t\tduration: o.duration,\n\t\teasing: o.easing,\n\t\tcomplete: function() {\n\t\t\tif ( mode === \"hide\" ) {\n\t\t\t\tel.hide();\n\t\t\t}\n\t\t\t$.effects.restore( el, props );\n\t\t\t$.effects.removeWrapper( el );\n\t\t\tdone();\n\t\t}\n\t});\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.effects.effect.explode = function( o, done ) {\n\n\tvar rows = o.pieces ? Math.round( Math.sqrt( o.pieces ) ) : 3,\n\t\tcells = rows,\n\t\tel = $( this ),\n\t\tmode = $.effects.setMode( el, o.mode || \"hide\" ),\n\t\tshow = mode === \"show\",\n\n\t\t// show and then visibility:hidden the element before calculating offset\n\t\toffset = el.show().css( \"visibility\", \"hidden\" ).offset(),\n\n\t\t// width and height of a piece\n\t\twidth = Math.ceil( el.outerWidth() / cells ),\n\t\theight = Math.ceil( el.outerHeight() / rows ),\n\t\tpieces = [],\n\n\t\t// loop\n\t\ti, j, left, top, mx, my;\n\n\t// children animate complete:\n\tfunction childComplete() {\n\t\tpieces.push( this );\n\t\tif ( pieces.length === rows * cells ) {\n\t\t\tanimComplete();\n\t\t}\n\t}\n\n\t// clone the element for each row and cell.\n\tfor( i = 0; i < rows ; i++ ) { // ===>\n\t\ttop = offset.top + i * height;\n\t\tmy = i - ( rows - 1 ) / 2 ;\n\n\t\tfor( j = 0; j < cells ; j++ ) { // |||\n\t\t\tleft = offset.left + j * width;\n\t\t\tmx = j - ( cells - 1 ) / 2 ;\n\n\t\t\t// Create a clone of the now hidden main element that will be absolute positioned\n\t\t\t// within a wrapper div off the -left and -top equal to size of our pieces\n\t\t\tel\n\t\t\t\t.clone()\n\t\t\t\t.appendTo( \"body\" )\n\t\t\t\t.wrap( \"<div></div>\" )\n\t\t\t\t.css({\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\tvisibility: \"visible\",\n\t\t\t\t\tleft: -j * width,\n\t\t\t\t\ttop: -i * height\n\t\t\t\t})\n\n\t\t\t// select the wrapper - make it overflow: hidden and absolute positioned based on\n\t\t\t// where the original was located +left and +top equal to the size of pieces\n\t\t\t\t.parent()\n\t\t\t\t.addClass( \"ui-effects-explode\" )\n\t\t\t\t.css({\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height,\n\t\t\t\t\tleft: left + ( show ? mx * width : 0 ),\n\t\t\t\t\ttop: top + ( show ? my * height : 0 ),\n\t\t\t\t\topacity: show ? 0 : 1\n\t\t\t\t}).animate({\n\t\t\t\t\tleft: left + ( show ? 0 : mx * width ),\n\t\t\t\t\ttop: top + ( show ? 0 : my * height ),\n\t\t\t\t\topacity: show ? 1 : 0\n\t\t\t\t}, o.duration || 500, o.easing, childComplete );\n\t\t}\n\t}\n\n\tfunction animComplete() {\n\t\tel.css({\n\t\t\tvisibility: \"visible\"\n\t\t});\n\t\t$( pieces ).remove();\n\t\tif ( !show ) {\n\t\t\tel.hide();\n\t\t}\n\t\tdone();\n\t}\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.effects.effect.fade = function( o, done ) {\n\tvar el = $( this ),\n\t\tmode = $.effects.setMode( el, o.mode || \"toggle\" );\n\n\tel.animate({\n\t\topacity: mode\n\t}, {\n\t\tqueue: false,\n\t\tduration: o.duration,\n\t\teasing: o.easing,\n\t\tcomplete: done\n\t});\n};\n\n})( jQuery );\n(function( $, undefined ) {\n\n$.effects.effect.fold = function( o, done ) {\n\n\t// Create element\n\tvar el = $( this ),\n\t\tprops = [ \"position\", \"top\", \"bottom\", \"left\", \"right\", \"height\", \"width\" ],\n\t\tmode = $.effects.setMode( el, o.mode || \"hide\" ),\n\t\tshow = mode === \"show\",\n\t\thide = mode === \"hide\",\n\t\tsize = o.size || 15,\n\t\tpercent = /([0-9]+)%/.exec( size ),\n\t\thorizFirst = !!o.horizFirst,\n\t\twidthFirst = show !== horizFirst,\n\t\tref = widthFirst ? [ \"width\", \"height\" ] : [ \"height\", \"width\" ],\n\t\tduration = o.duration / 2,\n\t\twrapper, distance,\n\t\tanimation1 = {},\n\t\tanimation2 = {};\n\n\t$.effects.save( el, props );\n\tel.show();\n\n\t// Create Wrapper\n\twrapper = $.effects.createWrapper( el ).css({\n\t\toverflow: \"hidden\"\n\t});\n\tdistance = widthFirst ?\n\t\t[ wrapper.width(), wrapper.height() ] :\n\t\t[ wrapper.height(), wrapper.width() ];\n\n\tif ( percent ) {\n\t\tsize = parseInt( percent[ 1 ], 10 ) / 100 * distance[ hide ? 0 : 1 ];\n\t}\n\tif ( show ) {\n\t\twrapper.css( horizFirst ? {\n\t\t\theight: 0,\n\t\t\twidth: size\n\t\t} : {\n\t\t\theight: size,\n\t\t\twidth: 0\n\t\t});\n\t}\n\n\t// Animation\n\tanimation1[ ref[ 0 ] ] = show ? distance[ 0 ] : size;\n\tanimation2[ ref[ 1 ] ] = show ? distance[ 1 ] : 0;\n\n\t// Animate\n\twrapper\n\t\t.animate( animation1, duration, o.easing )\n\t\t.animate( animation2, duration, o.easing, function() {\n\t\t\tif ( hide ) {\n\t\t\t\tel.hide();\n\t\t\t}\n\t\t\t$.effects.restore( el, props );\n\t\t\t$.effects.removeWrapper( el );\n\t\t\tdone();\n\t\t});\n\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.effects.effect.highlight = function( o, done ) {\n\tvar elem = $( this ),\n\t\tprops = [ \"backgroundImage\", \"backgroundColor\", \"opacity\" ],\n\t\tmode = $.effects.setMode( elem, o.mode || \"show\" ),\n\t\tanimation = {\n\t\t\tbackgroundColor: elem.css( \"backgroundColor\" )\n\t\t};\n\n\tif (mode === \"hide\") {\n\t\tanimation.opacity = 0;\n\t}\n\n\t$.effects.save( elem, props );\n\n\telem\n\t\t.show()\n\t\t.css({\n\t\t\tbackgroundImage: \"none\",\n\t\t\tbackgroundColor: o.color || \"#ffff99\"\n\t\t})\n\t\t.animate( animation, {\n\t\t\tqueue: false,\n\t\t\tduration: o.duration,\n\t\t\teasing: o.easing,\n\t\t\tcomplete: function() {\n\t\t\t\tif ( mode === \"hide\" ) {\n\t\t\t\t\telem.hide();\n\t\t\t\t}\n\t\t\t\t$.effects.restore( elem, props );\n\t\t\t\tdone();\n\t\t\t}\n\t\t});\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.effects.effect.pulsate = function( o, done ) {\n\tvar elem = $( this ),\n\t\tmode = $.effects.setMode( elem, o.mode || \"show\" ),\n\t\tshow = mode === \"show\",\n\t\thide = mode === \"hide\",\n\t\tshowhide = ( show || mode === \"hide\" ),\n\n\t\t// showing or hiding leaves of the \"last\" animation\n\t\tanims = ( ( o.times || 5 ) * 2 ) + ( showhide ? 1 : 0 ),\n\t\tduration = o.duration / anims,\n\t\tanimateTo = 0,\n\t\tqueue = elem.queue(),\n\t\tqueuelen = queue.length,\n\t\ti;\n\n\tif ( show || !elem.is(\":visible\")) {\n\t\telem.css( \"opacity\", 0 ).show();\n\t\tanimateTo = 1;\n\t}\n\n\t// anims - 1 opacity \"toggles\"\n\tfor ( i = 1; i < anims; i++ ) {\n\t\telem.animate({\n\t\t\topacity: animateTo\n\t\t}, duration, o.easing );\n\t\tanimateTo = 1 - animateTo;\n\t}\n\n\telem.animate({\n\t\topacity: animateTo\n\t}, duration, o.easing);\n\n\telem.queue(function() {\n\t\tif ( hide ) {\n\t\t\telem.hide();\n\t\t}\n\t\tdone();\n\t});\n\n\t// We just queued up \"anims\" animations, we need to put them next in the queue\n\tif ( queuelen > 1 ) {\n\t\tqueue.splice.apply( queue,\n\t\t\t[ 1, 0 ].concat( queue.splice( queuelen, anims + 1 ) ) );\n\t}\n\telem.dequeue();\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.effects.effect.puff = function( o, done ) {\n\tvar elem = $( this ),\n\t\tmode = $.effects.setMode( elem, o.mode || \"hide\" ),\n\t\thide = mode === \"hide\",\n\t\tpercent = parseInt( o.percent, 10 ) || 150,\n\t\tfactor = percent / 100,\n\t\toriginal = {\n\t\t\theight: elem.height(),\n\t\t\twidth: elem.width(),\n\t\t\touterHeight: elem.outerHeight(),\n\t\t\touterWidth: elem.outerWidth()\n\t\t};\n\n\t$.extend( o, {\n\t\teffect: \"scale\",\n\t\tqueue: false,\n\t\tfade: true,\n\t\tmode: mode,\n\t\tcomplete: done,\n\t\tpercent: hide ? percent : 100,\n\t\tfrom: hide ?\n\t\t\toriginal :\n\t\t\t{\n\t\t\t\theight: original.height * factor,\n\t\t\t\twidth: original.width * factor,\n\t\t\t\touterHeight: original.outerHeight * factor,\n\t\t\t\touterWidth: original.outerWidth * factor\n\t\t\t}\n\t});\n\n\telem.effect( o );\n};\n\n$.effects.effect.scale = function( o, done ) {\n\n\t// Create element\n\tvar el = $( this ),\n\t\toptions = $.extend( true, {}, o ),\n\t\tmode = $.effects.setMode( el, o.mode || \"effect\" ),\n\t\tpercent = parseInt( o.percent, 10 ) ||\n\t\t\t( parseInt( o.percent, 10 ) === 0 ? 0 : ( mode === \"hide\" ? 0 : 100 ) ),\n\t\tdirection = o.direction || \"both\",\n\t\torigin = o.origin,\n\t\toriginal = {\n\t\t\theight: el.height(),\n\t\t\twidth: el.width(),\n\t\t\touterHeight: el.outerHeight(),\n\t\t\touterWidth: el.outerWidth()\n\t\t},\n\t\tfactor = {\n\t\t\ty: direction !== \"horizontal\" ? (percent / 100) : 1,\n\t\t\tx: direction !== \"vertical\" ? (percent / 100) : 1\n\t\t};\n\n\t// We are going to pass this effect to the size effect:\n\toptions.effect = \"size\";\n\toptions.queue = false;\n\toptions.complete = done;\n\n\t// Set default origin and restore for show/hide\n\tif ( mode !== \"effect\" ) {\n\t\toptions.origin = origin || [\"middle\",\"center\"];\n\t\toptions.restore = true;\n\t}\n\n\toptions.from = o.from || ( mode === \"show\" ? {\n\t\theight: 0,\n\t\twidth: 0,\n\t\touterHeight: 0,\n\t\touterWidth: 0\n\t} : original );\n\toptions.to = {\n\t\theight: original.height * factor.y,\n\t\twidth: original.width * factor.x,\n\t\touterHeight: original.outerHeight * factor.y,\n\t\touterWidth: original.outerWidth * factor.x\n\t};\n\n\t// Fade option to support puff\n\tif ( options.fade ) {\n\t\tif ( mode === \"show\" ) {\n\t\t\toptions.from.opacity = 0;\n\t\t\toptions.to.opacity = 1;\n\t\t}\n\t\tif ( mode === \"hide\" ) {\n\t\t\toptions.from.opacity = 1;\n\t\t\toptions.to.opacity = 0;\n\t\t}\n\t}\n\n\t// Animate\n\tel.effect( options );\n\n};\n\n$.effects.effect.size = function( o, done ) {\n\n\t// Create element\n\tvar original, baseline, factor,\n\t\tel = $( this ),\n\t\tprops0 = [ \"position\", \"top\", \"bottom\", \"left\", \"right\", \"width\", \"height\", \"overflow\", \"opacity\" ],\n\n\t\t// Always restore\n\t\tprops1 = [ \"position\", \"top\", \"bottom\", \"left\", \"right\", \"overflow\", \"opacity\" ],\n\n\t\t// Copy for children\n\t\tprops2 = [ \"width\", \"height\", \"overflow\" ],\n\t\tcProps = [ \"fontSize\" ],\n\t\tvProps = [ \"borderTopWidth\", \"borderBottomWidth\", \"paddingTop\", \"paddingBottom\" ],\n\t\thProps = [ \"borderLeftWidth\", \"borderRightWidth\", \"paddingLeft\", \"paddingRight\" ],\n\n\t\t// Set options\n\t\tmode = $.effects.setMode( el, o.mode || \"effect\" ),\n\t\trestore = o.restore || mode !== \"effect\",\n\t\tscale = o.scale || \"both\",\n\t\torigin = o.origin || [ \"middle\", \"center\" ],\n\t\tposition = el.css( \"position\" ),\n\t\tprops = restore ? props0 : props1,\n\t\tzero = {\n\t\t\theight: 0,\n\t\t\twidth: 0,\n\t\t\touterHeight: 0,\n\t\t\touterWidth: 0\n\t\t};\n\n\tif ( mode === \"show\" ) {\n\t\tel.show();\n\t}\n\toriginal = {\n\t\theight: el.height(),\n\t\twidth: el.width(),\n\t\touterHeight: el.outerHeight(),\n\t\touterWidth: el.outerWidth()\n\t};\n\n\tif ( o.mode === \"toggle\" && mode === \"show\" ) {\n\t\tel.from = o.to || zero;\n\t\tel.to = o.from || original;\n\t} else {\n\t\tel.from = o.from || ( mode === \"show\" ? zero : original );\n\t\tel.to = o.to || ( mode === \"hide\" ? zero : original );\n\t}\n\n\t// Set scaling factor\n\tfactor = {\n\t\tfrom: {\n\t\t\ty: el.from.height / original.height,\n\t\t\tx: el.from.width / original.width\n\t\t},\n\t\tto: {\n\t\t\ty: el.to.height / original.height,\n\t\t\tx: el.to.width / original.width\n\t\t}\n\t};\n\n\t// Scale the css box\n\tif ( scale === \"box\" || scale === \"both\" ) {\n\n\t\t// Vertical props scaling\n\t\tif ( factor.from.y !== factor.to.y ) {\n\t\t\tprops = props.concat( vProps );\n\t\t\tel.from = $.effects.setTransition( el, vProps, factor.from.y, el.from );\n\t\t\tel.to = $.effects.setTransition( el, vProps, factor.to.y, el.to );\n\t\t}\n\n\t\t// Horizontal props scaling\n\t\tif ( factor.from.x !== factor.to.x ) {\n\t\t\tprops = props.concat( hProps );\n\t\t\tel.from = $.effects.setTransition( el, hProps, factor.from.x, el.from );\n\t\t\tel.to = $.effects.setTransition( el, hProps, factor.to.x, el.to );\n\t\t}\n\t}\n\n\t// Scale the content\n\tif ( scale === \"content\" || scale === \"both\" ) {\n\n\t\t// Vertical props scaling\n\t\tif ( factor.from.y !== factor.to.y ) {\n\t\t\tprops = props.concat( cProps ).concat( props2 );\n\t\t\tel.from = $.effects.setTransition( el, cProps, factor.from.y, el.from );\n\t\t\tel.to = $.effects.setTransition( el, cProps, factor.to.y, el.to );\n\t\t}\n\t}\n\n\t$.effects.save( el, props );\n\tel.show();\n\t$.effects.createWrapper( el );\n\tel.css( \"overflow\", \"hidden\" ).css( el.from );\n\n\t// Adjust\n\tif (origin) { // Calculate baseline shifts\n\t\tbaseline = $.effects.getBaseline( origin, original );\n\t\tel.from.top = ( original.outerHeight - el.outerHeight() ) * baseline.y;\n\t\tel.from.left = ( original.outerWidth - el.outerWidth() ) * baseline.x;\n\t\tel.to.top = ( original.outerHeight - el.to.outerHeight ) * baseline.y;\n\t\tel.to.left = ( original.outerWidth - el.to.outerWidth ) * baseline.x;\n\t}\n\tel.css( el.from ); // set top & left\n\n\t// Animate\n\tif ( scale === \"content\" || scale === \"both\" ) { // Scale the children\n\n\t\t// Add margins/font-size\n\t\tvProps = vProps.concat([ \"marginTop\", \"marginBottom\" ]).concat(cProps);\n\t\thProps = hProps.concat([ \"marginLeft\", \"marginRight\" ]);\n\t\tprops2 = props0.concat(vProps).concat(hProps);\n\n\t\tel.find( \"*[width]\" ).each( function(){\n\t\t\tvar child = $( this ),\n\t\t\t\tc_original = {\n\t\t\t\t\theight: child.height(),\n\t\t\t\t\twidth: child.width(),\n\t\t\t\t\touterHeight: child.outerHeight(),\n\t\t\t\t\touterWidth: child.outerWidth()\n\t\t\t\t};\n\t\t\tif (restore) {\n\t\t\t\t$.effects.save(child, props2);\n\t\t\t}\n\n\t\t\tchild.from = {\n\t\t\t\theight: c_original.height * factor.from.y,\n\t\t\t\twidth: c_original.width * factor.from.x,\n\t\t\t\touterHeight: c_original.outerHeight * factor.from.y,\n\t\t\t\touterWidth: c_original.outerWidth * factor.from.x\n\t\t\t};\n\t\t\tchild.to = {\n\t\t\t\theight: c_original.height * factor.to.y,\n\t\t\t\twidth: c_original.width * factor.to.x,\n\t\t\t\touterHeight: c_original.height * factor.to.y,\n\t\t\t\touterWidth: c_original.width * factor.to.x\n\t\t\t};\n\n\t\t\t// Vertical props scaling\n\t\t\tif ( factor.from.y !== factor.to.y ) {\n\t\t\t\tchild.from = $.effects.setTransition( child, vProps, factor.from.y, child.from );\n\t\t\t\tchild.to = $.effects.setTransition( child, vProps, factor.to.y, child.to );\n\t\t\t}\n\n\t\t\t// Horizontal props scaling\n\t\t\tif ( factor.from.x !== factor.to.x ) {\n\t\t\t\tchild.from = $.effects.setTransition( child, hProps, factor.from.x, child.from );\n\t\t\t\tchild.to = $.effects.setTransition( child, hProps, factor.to.x, child.to );\n\t\t\t}\n\n\t\t\t// Animate children\n\t\t\tchild.css( child.from );\n\t\t\tchild.animate( child.to, o.duration, o.easing, function() {\n\n\t\t\t\t// Restore children\n\t\t\t\tif ( restore ) {\n\t\t\t\t\t$.effects.restore( child, props2 );\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t// Animate\n\tel.animate( el.to, {\n\t\tqueue: false,\n\t\tduration: o.duration,\n\t\teasing: o.easing,\n\t\tcomplete: function() {\n\t\t\tif ( el.to.opacity === 0 ) {\n\t\t\t\tel.css( \"opacity\", el.from.opacity );\n\t\t\t}\n\t\t\tif( mode === \"hide\" ) {\n\t\t\t\tel.hide();\n\t\t\t}\n\t\t\t$.effects.restore( el, props );\n\t\t\tif ( !restore ) {\n\n\t\t\t\t// we need to calculate our new positioning based on the scaling\n\t\t\t\tif ( position === \"static\" ) {\n\t\t\t\t\tel.css({\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\ttop: el.to.top,\n\t\t\t\t\t\tleft: el.to.left\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$.each([ \"top\", \"left\" ], function( idx, pos ) {\n\t\t\t\t\t\tel.css( pos, function( _, str ) {\n\t\t\t\t\t\t\tvar val = parseInt( str, 10 ),\n\t\t\t\t\t\t\t\ttoRef = idx ? el.to.left : el.to.top;\n\n\t\t\t\t\t\t\t// if original was \"auto\", recalculate the new value from wrapper\n\t\t\t\t\t\t\tif ( str === \"auto\" ) {\n\t\t\t\t\t\t\t\treturn toRef + \"px\";\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn val + toRef + \"px\";\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$.effects.removeWrapper( el );\n\t\t\tdone();\n\t\t}\n\t});\n\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.effects.effect.shake = function( o, done ) {\n\n\tvar el = $( this ),\n\t\tprops = [ \"position\", \"top\", \"bottom\", \"left\", \"right\", \"height\", \"width\" ],\n\t\tmode = $.effects.setMode( el, o.mode || \"effect\" ),\n\t\tdirection = o.direction || \"left\",\n\t\tdistance = o.distance || 20,\n\t\ttimes = o.times || 3,\n\t\tanims = times * 2 + 1,\n\t\tspeed = Math.round(o.duration/anims),\n\t\tref = (direction === \"up\" || direction === \"down\") ? \"top\" : \"left\",\n\t\tpositiveMotion = (direction === \"up\" || direction === \"left\"),\n\t\tanimation = {},\n\t\tanimation1 = {},\n\t\tanimation2 = {},\n\t\ti,\n\n\t\t// we will need to re-assemble the queue to stack our animations in place\n\t\tqueue = el.queue(),\n\t\tqueuelen = queue.length;\n\n\t$.effects.save( el, props );\n\tel.show();\n\t$.effects.createWrapper( el );\n\n\t// Animation\n\tanimation[ ref ] = ( positiveMotion ? \"-=\" : \"+=\" ) + distance;\n\tanimation1[ ref ] = ( positiveMotion ? \"+=\" : \"-=\" ) + distance * 2;\n\tanimation2[ ref ] = ( positiveMotion ? \"-=\" : \"+=\" ) + distance * 2;\n\n\t// Animate\n\tel.animate( animation, speed, o.easing );\n\n\t// Shakes\n\tfor ( i = 1; i < times; i++ ) {\n\t\tel.animate( animation1, speed, o.easing ).animate( animation2, speed, o.easing );\n\t}\n\tel\n\t\t.animate( animation1, speed, o.easing )\n\t\t.animate( animation, speed / 2, o.easing )\n\t\t.queue(function() {\n\t\t\tif ( mode === \"hide\" ) {\n\t\t\t\tel.hide();\n\t\t\t}\n\t\t\t$.effects.restore( el, props );\n\t\t\t$.effects.removeWrapper( el );\n\t\t\tdone();\n\t\t});\n\n\t// inject all the animations we just queued to be first in line (after \"inprogress\")\n\tif ( queuelen > 1) {\n\t\tqueue.splice.apply( queue,\n\t\t\t[ 1, 0 ].concat( queue.splice( queuelen, anims + 1 ) ) );\n\t}\n\tel.dequeue();\n\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.effects.effect.slide = function( o, done ) {\n\n\t// Create element\n\tvar el = $( this ),\n\t\tprops = [ \"position\", \"top\", \"bottom\", \"left\", \"right\", \"width\", \"height\" ],\n\t\tmode = $.effects.setMode( el, o.mode || \"show\" ),\n\t\tshow = mode === \"show\",\n\t\tdirection = o.direction || \"left\",\n\t\tref = (direction === \"up\" || direction === \"down\") ? \"top\" : \"left\",\n\t\tpositiveMotion = (direction === \"up\" || direction === \"left\"),\n\t\tdistance,\n\t\tanimation = {};\n\n\t// Adjust\n\t$.effects.save( el, props );\n\tel.show();\n\tdistance = o.distance || el[ ref === \"top\" ? \"outerHeight\" : \"outerWidth\" ]( true );\n\n\t$.effects.createWrapper( el ).css({\n\t\toverflow: \"hidden\"\n\t});\n\n\tif ( show ) {\n\t\tel.css( ref, positiveMotion ? (isNaN(distance) ? \"-\" + distance : -distance) : distance );\n\t}\n\n\t// Animation\n\tanimation[ ref ] = ( show ?\n\t\t( positiveMotion ? \"+=\" : \"-=\") :\n\t\t( positiveMotion ? \"-=\" : \"+=\")) +\n\t\tdistance;\n\n\t// Animate\n\tel.animate( animation, {\n\t\tqueue: false,\n\t\tduration: o.duration,\n\t\teasing: o.easing,\n\t\tcomplete: function() {\n\t\t\tif ( mode === \"hide\" ) {\n\t\t\t\tel.hide();\n\t\t\t}\n\t\t\t$.effects.restore( el, props );\n\t\t\t$.effects.removeWrapper( el );\n\t\t\tdone();\n\t\t}\n\t});\n};\n\n})(jQuery);\n(function( $, undefined ) {\n\n$.effects.effect.transfer = function( o, done ) {\n\tvar elem = $( this ),\n\t\ttarget = $( o.to ),\n\t\ttargetFixed = target.css( \"position\" ) === \"fixed\",\n\t\tbody = $(\"body\"),\n\t\tfixTop = targetFixed ? body.scrollTop() : 0,\n\t\tfixLeft = targetFixed ? body.scrollLeft() : 0,\n\t\tendPosition = target.offset(),\n\t\tanimation = {\n\t\t\ttop: endPosition.top - fixTop ,\n\t\t\tleft: endPosition.left - fixLeft ,\n\t\t\theight: target.innerHeight(),\n\t\t\twidth: target.innerWidth()\n\t\t},\n\t\tstartPosition = elem.offset(),\n\t\ttransfer = $( \"<div class='ui-effects-transfer'></div>\" )\n\t\t\t.appendTo( document.body )\n\t\t\t.addClass( o.className )\n\t\t\t.css({\n\t\t\t\ttop: startPosition.top - fixTop ,\n\t\t\t\tleft: startPosition.left - fixLeft ,\n\t\t\t\theight: elem.innerHeight(),\n\t\t\t\twidth: elem.innerWidth(),\n\t\t\t\tposition: targetFixed ? \"fixed\" : \"absolute\"\n\t\t\t})\n\t\t\t.animate( animation, o.duration, o.easing, function() {\n\t\t\t\ttransfer.remove();\n\t\t\t\tdone();\n\t\t\t});\n};\n\n})(jQuery);\n\n/*\n * SceneJS WebGL Scene Graph Library for JavaScript\n * http://scenejs.org/\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://scenejs.org/license\n * Copyright 2010, Lindsay Kay\n *\n *\n */// Only define RequireJS if not already present\nif (undefined === require) {/*\n RequireJS 2.1.6 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\n Available via the MIT or new BSD license.\n see: http://github.com/jrburke/requirejs for details\n */\nvar requirejs,require,define;\n(function(ba){function J(b){return\"[object Function]\"===N.call(b)}function K(b){return\"[object Array]\"===N.call(b)}function z(b,c){if(b){var d;for(d=0;d<b.length&&(!b[d]||!c(b[d],d,b));d+=1);}}function O(b,c){if(b){var d;for(d=b.length-1;-1<d&&(!b[d]||!c(b[d],d,b));d-=1);}}function t(b,c){return ha.call(b,c)}function m(b,c){return t(b,c)&&b[c]}function H(b,c){for(var d in b)if(t(b,d)&&c(b[d],d))break}function S(b,c,d,m){c&&H(c,function(c,l){if(d||!t(b,l))m&&\"string\"!==typeof c?(b[l]||(b[l]={}),S(b[l],\n    c,d,m)):b[l]=c});return b}function v(b,c){return function(){return c.apply(b,arguments)}}function ca(b){throw b;}function da(b){if(!b)return b;var c=ba;z(b.split(\".\"),function(b){c=c[b]});return c}function B(b,c,d,m){c=Error(c+\"\\nhttp://requirejs.org/docs/errors.html#\"+b);c.requireType=b;c.requireModules=m;d&&(c.originalError=d);return c}function ia(b){function c(a,f,C){var e,n,b,c,d,T,k,g=f&&f.split(\"/\");e=g;var l=j.map,h=l&&l[\"*\"];if(a&&\".\"===a.charAt(0))if(f){e=m(j.pkgs,f)?g=[f]:g.slice(0,g.length-\n    1);f=a=e.concat(a.split(\"/\"));for(e=0;f[e];e+=1)if(n=f[e],\".\"===n)f.splice(e,1),e-=1;else if(\"..\"===n)if(1===e&&(\"..\"===f[2]||\"..\"===f[0]))break;else 0<e&&(f.splice(e-1,2),e-=2);e=m(j.pkgs,f=a[0]);a=a.join(\"/\");e&&a===f+\"/\"+e.main&&(a=f)}else 0===a.indexOf(\"./\")&&(a=a.substring(2));if(C&&l&&(g||h)){f=a.split(\"/\");for(e=f.length;0<e;e-=1){b=f.slice(0,e).join(\"/\");if(g)for(n=g.length;0<n;n-=1)if(C=m(l,g.slice(0,n).join(\"/\")))if(C=m(C,b)){c=C;d=e;break}if(c)break;!T&&(h&&m(h,b))&&(T=m(h,b),k=e)}!c&&\n    T&&(c=T,d=k);c&&(f.splice(0,d,c),a=f.join(\"/\"))}return a}function d(a){A&&z(document.getElementsByTagName(\"script\"),function(f){if(f.getAttribute(\"data-requiremodule\")===a&&f.getAttribute(\"data-requirecontext\")===k.contextName)return f.parentNode.removeChild(f),!0})}function p(a){var f=m(j.paths,a);if(f&&K(f)&&1<f.length)return d(a),f.shift(),k.require.undef(a),k.require([a]),!0}function g(a){var f,b=a?a.indexOf(\"!\"):-1;-1<b&&(f=a.substring(0,b),a=a.substring(b+1,a.length));return[f,a]}function l(a,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          f,b,e){var n,D,i=null,d=f?f.name:null,l=a,h=!0,j=\"\";a||(h=!1,a=\"_@r\"+(N+=1));a=g(a);i=a[0];a=a[1];i&&(i=c(i,d,e),D=m(r,i));a&&(i?j=D&&D.normalize?D.normalize(a,function(a){return c(a,d,e)}):c(a,d,e):(j=c(a,d,e),a=g(j),i=a[0],j=a[1],b=!0,n=k.nameToUrl(j)));b=i&&!D&&!b?\"_unnormalized\"+(O+=1):\"\";return{prefix:i,name:j,parentMap:f,unnormalized:!!b,url:n,originalName:l,isDefine:h,id:(i?i+\"!\"+j:j)+b}}function s(a){var f=a.id,b=m(q,f);b||(b=q[f]=new k.Module(a));return b}function u(a,f,b){var e=a.id,n=m(q,\n    e);if(t(r,e)&&(!n||n.defineEmitComplete))\"defined\"===f&&b(r[e]);else if(n=s(a),n.error&&\"error\"===f)b(n.error);else n.on(f,b)}function w(a,f){var b=a.requireModules,e=!1;if(f)f(a);else if(z(b,function(f){if(f=m(q,f))f.error=a,f.events.error&&(e=!0,f.emit(\"error\",a))}),!e)h.onError(a)}function x(){U.length&&(ja.apply(I,[I.length-1,0].concat(U)),U=[])}function y(a){delete q[a];delete W[a]}function G(a,f,b){var e=a.map.id;a.error?a.emit(\"error\",a.error):(f[e]=!0,z(a.depMaps,function(e,c){var d=e.id,\n    g=m(q,d);g&&(!a.depMatched[c]&&!b[d])&&(m(f,d)?(a.defineDep(c,r[d]),a.check()):G(g,f,b))}),b[e]=!0)}function E(){var a,f,b,e,n=(b=1E3*j.waitSeconds)&&k.startTime+b<(new Date).getTime(),c=[],i=[],g=!1,l=!0;if(!X){X=!0;H(W,function(b){a=b.map;f=a.id;if(b.enabled&&(a.isDefine||i.push(b),!b.error))if(!b.inited&&n)p(f)?g=e=!0:(c.push(f),d(f));else if(!b.inited&&(b.fetched&&a.isDefine)&&(g=!0,!a.prefix))return l=!1});if(n&&c.length)return b=B(\"timeout\",\"Load timeout for modules: \"+c,null,c),b.contextName=\n    k.contextName,w(b);l&&z(i,function(a){G(a,{},{})});if((!n||e)&&g)if((A||ea)&&!Y)Y=setTimeout(function(){Y=0;E()},50);X=!1}}function F(a){t(r,a[0])||s(l(a[0],null,!0)).init(a[1],a[2])}function L(a){var a=a.currentTarget||a.srcElement,b=k.onScriptLoad;a.detachEvent&&!Z?a.detachEvent(\"onreadystatechange\",b):a.removeEventListener(\"load\",b,!1);b=k.onScriptError;(!a.detachEvent||Z)&&a.removeEventListener(\"error\",b,!1);return{node:a,id:a&&a.getAttribute(\"data-requiremodule\")}}function M(){var a;for(x();I.length;){a=\n    I.shift();if(null===a[0])return w(B(\"mismatch\",\"Mismatched anonymous define() module: \"+a[a.length-1]));F(a)}}var X,$,k,P,Y,j={waitSeconds:7,baseUrl:\"./\",paths:{},pkgs:{},shim:{},config:{}},q={},W={},aa={},I=[],r={},V={},N=1,O=1;P={require:function(a){return a.require?a.require:a.require=k.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?a.exports:a.exports=r[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){var b=\n    m(j.pkgs,a.map.id);return(b?m(j.config,a.map.id+\"/\"+b.main):m(j.config,a.map.id))||{}},exports:r[a.map.id]}}};$=function(a){this.events=m(aa,a.id)||{};this.map=a;this.shim=m(j.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};$.prototype={init:function(a,b,c,e){e=e||{};if(!this.inited){this.factory=b;if(c)this.on(\"error\",c);else this.events.error&&(c=v(this,function(a){this.emit(\"error\",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=\n    !0;this.ignore=e.ignore;e.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;k.startTime=(new Date).getTime();var a=this.map;if(this.shim)k.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],v(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=\n    this.map.url;V[a]||(V[a]=!0,k.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var e=this.exports,n=this.factory;if(this.inited)if(this.error)this.emit(\"error\",this.error);else{if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(J(n)){if(this.events.error&&this.map.isDefine||h.onError!==ca)try{e=k.execCb(c,n,b,e)}catch(d){a=d}else e=k.execCb(c,n,b,e);this.map.isDefine&&((b=this.module)&&void 0!==b.exports&&b.exports!==\n    this.exports?e=b.exports:void 0===e&&this.usingExports&&(e=this.exports));if(a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?\"define\":\"require\",w(this.error=a)}else e=n;this.exports=e;if(this.map.isDefine&&!this.ignore&&(r[c]=e,h.onResourceLoad))h.onResourceLoad(k,this.map,this.depMaps);y(c);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit(\"defined\",this.exports),this.defineEmitComplete=\n    !0)}}else this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=l(a.prefix);this.depMaps.push(d);u(d,\"defined\",v(this,function(e){var n,d;d=this.map.name;var g=this.map.parentMap?this.map.parentMap.name:null,C=k.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(e.normalize&&(d=e.normalize(d,function(a){return c(a,g,!0)})||\"\"),e=l(a.prefix+\"!\"+d,this.map.parentMap),u(e,\"defined\",v(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),\n    d=m(q,e.id)){this.depMaps.push(e);if(this.events.error)d.on(\"error\",v(this,function(a){this.emit(\"error\",a)}));d.enable()}}else n=v(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),n.error=v(this,function(a){this.inited=!0;this.error=a;a.requireModules=[b];H(q,function(a){0===a.map.id.indexOf(b+\"_unnormalized\")&&y(a.map.id)});w(a)}),n.fromText=v(this,function(e,c){var d=a.name,g=l(d),i=Q;c&&(e=c);i&&(Q=!1);s(g);t(j.config,b)&&(j.config[d]=j.config[b]);try{h.exec(e)}catch(D){return w(B(\"fromtexteval\",\n    \"fromText eval for \"+b+\" failed: \"+D,D,[b]))}i&&(Q=!0);this.depMaps.push(g);k.completeLoad(d);C([d],n)}),e.load(a.name,C,n,j)}));k.enable(d,this);this.pluginMaps[d.id]=d},enable:function(){W[this.map.id]=this;this.enabling=this.enabled=!0;z(this.depMaps,v(this,function(a,b){var c,e;if(\"string\"===typeof a){a=l(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[b]=a;if(c=m(P,a.id)){this.depExports[b]=c(this);return}this.depCount+=1;u(a,\"defined\",v(this,function(a){this.defineDep(b,\n    a);this.check()}));this.errback&&u(a,\"error\",v(this,this.errback))}c=a.id;e=q[c];!t(P,c)&&(e&&!e.enabled)&&k.enable(a,this)}));H(this.pluginMaps,v(this,function(a){var b=m(q,a.id);b&&!b.enabled&&k.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){z(this.events[a],function(a){a(b)});\"error\"===a&&delete this.events[a]}};k={config:j,contextName:b,registry:q,defined:r,urlFetched:V,defQueue:I,Module:$,makeModuleMap:l,\n    nextTick:h.nextTick,onError:w,configure:function(a){a.baseUrl&&\"/\"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+=\"/\");var b=j.pkgs,c=j.shim,e={paths:!0,config:!0,map:!0};H(a,function(a,b){e[b]?\"map\"===b?(j.map||(j.map={}),S(j[b],a,!0,!0)):S(j[b],a,!0):j[b]=a});a.shim&&(H(a.shim,function(a,b){K(a)&&(a={deps:a});if((a.exports||a.init)&&!a.exportsFn)a.exportsFn=k.makeShimExports(a);c[b]=a}),j.shim=c);a.packages&&(z(a.packages,function(a){a=\"string\"===typeof a?{name:a}:a;b[a.name]={name:a.name,\n        location:a.location||a.name,main:(a.main||\"main\").replace(ka,\"\").replace(fa,\"\")}}),j.pkgs=b);H(q,function(a,b){!a.inited&&!a.map.unnormalized&&(a.map=l(b))});if(a.deps||a.callback)k.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;a.init&&(b=a.init.apply(ba,arguments));return b||a.exports&&da(a.exports)}},makeRequire:function(a,f){function d(e,c,g){var i,j;f.enableBuildCallback&&(c&&J(c))&&(c.__requireJsBuild=!0);if(\"string\"===typeof e){if(J(c))return w(B(\"requireargs\",\n        \"Invalid require call\"),g);if(a&&t(P,e))return P[e](q[a.id]);if(h.get)return h.get(k,e,a,d);i=l(e,a,!1,!0);i=i.id;return!t(r,i)?w(B(\"notloaded\",'Module name \"'+i+'\" has not been loaded yet for context: '+b+(a?\"\":\". Use require([])\"))):r[i]}M();k.nextTick(function(){M();j=s(l(null,a));j.skipMap=f.skipMap;j.init(e,c,g,{enabled:!0});E()});return d}f=f||{};S(d,{isBrowser:A,toUrl:function(b){var d,f=b.lastIndexOf(\".\"),g=b.split(\"/\")[0];if(-1!==f&&(!(\".\"===g||\"..\"===g)||1<f))d=b.substring(f,b.length),b=\n        b.substring(0,f);return k.nameToUrl(c(b,a&&a.id,!0),d,!0)},defined:function(b){return t(r,l(b,a,!1,!0).id)},specified:function(b){b=l(b,a,!1,!0).id;return t(r,b)||t(q,b)}});a||(d.undef=function(b){x();var c=l(b,a,!0),d=m(q,b);delete r[b];delete V[c.url];delete aa[b];d&&(d.events.defined&&(aa[b]=d.events),y(b))});return d},enable:function(a){m(q,a.id)&&s(a).enable()},completeLoad:function(a){var b,c,e=m(j.shim,a)||{},d=e.exports;for(x();I.length;){c=I.shift();if(null===c[0]){c[0]=a;if(b)break;b=!0}else c[0]===\n        a&&(b=!0);F(c)}c=m(q,a);if(!b&&!t(r,a)&&c&&!c.inited){if(j.enforceDefine&&(!d||!da(d)))return p(a)?void 0:w(B(\"nodefine\",\"No define call for \"+a,null,[a]));F([a,e.deps||[],e.exportsFn])}E()},nameToUrl:function(a,b,c){var d,g,l,i,k,p;if(h.jsExtRegExp.test(a))i=a+(b||\"\");else{d=j.paths;g=j.pkgs;i=a.split(\"/\");for(k=i.length;0<k;k-=1)if(p=i.slice(0,k).join(\"/\"),l=m(g,p),p=m(d,p)){K(p)&&(p=p[0]);i.splice(0,k,p);break}else if(l){a=a===l.name?l.location+\"/\"+l.main:l.location;i.splice(0,k,a);break}i=i.join(\"/\");\n        i+=b||(/\\?/.test(i)||c?\"\":\".js\");i=(\"/\"===i.charAt(0)||i.match(/^[\\w\\+\\.\\-]+:/)?\"\":j.baseUrl)+i}return j.urlArgs?i+((-1===i.indexOf(\"?\")?\"?\":\"&\")+j.urlArgs):i},load:function(a,b){h.load(k,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if(\"load\"===a.type||la.test((a.currentTarget||a.srcElement).readyState))R=null,a=L(a),k.completeLoad(a.id)},onScriptError:function(a){var b=L(a);if(!p(b.id))return w(B(\"scripterror\",\"Script error for: \"+b.id,a,[b.id]))}};k.require=k.makeRequire();\n    return k}var h,x,y,E,L,F,R,M,s,ga,ma=/(\\/\\*([\\s\\S]*?)\\*\\/|([^:]|^)\\/\\/(.*)$)/mg,na=/[^.]\\s*require\\s*\\(\\s*[\"']([^'\"\\s]+)[\"']\\s*\\)/g,fa=/\\.js$/,ka=/^\\.\\//;x=Object.prototype;var N=x.toString,ha=x.hasOwnProperty,ja=Array.prototype.splice,A=!!(\"undefined\"!==typeof window&&navigator&&window.document),ea=!A&&\"undefined\"!==typeof importScripts,la=A&&\"PLAYSTATION 3\"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Z=\"undefined\"!==typeof opera&&\"[object Opera]\"===opera.toString(),G={},u={},U=[],Q=\n    !1;if(\"undefined\"===typeof define){if(\"undefined\"!==typeof requirejs){if(J(requirejs))return;u=requirejs;requirejs=void 0}\"undefined\"!==typeof require&&!J(require)&&(u=require,require=void 0);h=requirejs=function(b,c,d,p){var g,l=\"_\";!K(b)&&\"string\"!==typeof b&&(g=b,K(c)?(b=c,c=d,d=p):b=[]);g&&g.context&&(l=g.context);(p=m(G,l))||(p=G[l]=h.s.newContext(l));g&&p.configure(g);return p.require(b,c,d)};h.config=function(b){return h(b)};h.nextTick=\"undefined\"!==typeof setTimeout?function(b){setTimeout(b,\n    4)}:function(b){b()};require||(require=h);h.version=\"2.1.6\";h.jsExtRegExp=/^\\/|:|\\?|\\.js$/;h.isBrowser=A;x=h.s={contexts:G,newContext:ia};h({});z([\"toUrl\",\"undef\",\"defined\",\"specified\"],function(b){h[b]=function(){var c=G._;return c.require[b].apply(c,arguments)}});if(A&&(y=x.head=document.getElementsByTagName(\"head\")[0],E=document.getElementsByTagName(\"base\")[0]))y=x.head=E.parentNode;h.onError=ca;h.load=function(b,c,d){var h=b&&b.config||{},g;if(A)return g=h.xhtml?document.createElementNS(\"http://www.w3.org/1999/xhtml\",\n    \"html:script\"):document.createElement(\"script\"),g.type=h.scriptType||\"text/javascript\",g.charset=\"utf-8\",g.async=!0,g.setAttribute(\"data-requirecontext\",b.contextName),g.setAttribute(\"data-requiremodule\",c),g.attachEvent&&!(g.attachEvent.toString&&0>g.attachEvent.toString().indexOf(\"[native code\"))&&!Z?(Q=!0,g.attachEvent(\"onreadystatechange\",b.onScriptLoad)):(g.addEventListener(\"load\",b.onScriptLoad,!1),g.addEventListener(\"error\",b.onScriptError,!1)),g.src=d,M=g,E?y.insertBefore(g,E):y.appendChild(g),\n    M=null,g;if(ea)try{importScripts(d),b.completeLoad(c)}catch(l){b.onError(B(\"importscripts\",\"importScripts failed for \"+c+\" at \"+d,l,[c]))}};A&&O(document.getElementsByTagName(\"script\"),function(b){y||(y=b.parentNode);if(L=b.getAttribute(\"data-main\"))return s=L,u.baseUrl||(F=s.split(\"/\"),s=F.pop(),ga=F.length?F.join(\"/\")+\"/\":\"./\",u.baseUrl=ga),s=s.replace(fa,\"\"),h.jsExtRegExp.test(s)&&(s=L),u.deps=u.deps?u.deps.concat(s):[s],!0});define=function(b,c,d){var h,g;\"string\"!==typeof b&&(d=c,c=b,b=null);\n    K(c)||(d=c,c=null);!c&&J(d)&&(c=[],d.length&&(d.toString().replace(ma,\"\").replace(na,function(b,d){c.push(d)}),c=(1===d.length?[\"require\"]:[\"require\",\"exports\",\"module\"]).concat(c)));if(Q){if(!(h=M))R&&\"interactive\"===R.readyState||O(document.getElementsByTagName(\"script\"),function(b){if(\"interactive\"===b.readyState)return R=b}),h=R;h&&(b||(b=h.getAttribute(\"data-requiremodule\")),g=G[h.getAttribute(\"data-requirecontext\")])}(g?g.defQueue:U).push([b,c,d])};define.amd={jQuery:!0};h.exec=function(b){return eval(b)};\n    h(u)}})(this);}\nWebGLDebugUtils = function() {\n\n/**\n * Wrapped logging function.\n * @param {string} msg Message to log.\n */\nvar log = function(msg) {\n  if (window.console && window.console.log) {\n    window.console.log(msg);\n  }\n};\n\n/**\n * Which arguements are enums.\n * @type {!Object.<number, string>}\n */\nvar glValidEnumContexts = {\n\n  // Generic setters and getters\n\n  'enable': { 0:true },\n  'disable': { 0:true },\n  'getParameter': { 0:true },\n\n  // Rendering\n\n  'drawArrays': { 0:true },\n  'drawElements': { 0:true, 2:true },\n\n  // Shaders\n\n  'createShader': { 0:true },\n  'getShaderParameter': { 1:true },\n  'getProgramParameter': { 1:true },\n\n  // Vertex attributes\n\n  'getVertexAttrib': { 1:true },\n  'vertexAttribPointer': { 2:true },\n\n  // Textures\n\n  'bindTexture': { 0:true },\n  'activeTexture': { 0:true },\n  'getTexParameter': { 0:true, 1:true },\n  'texParameterf': { 0:true, 1:true },\n  'texParameteri': { 0:true, 1:true, 2:true },\n  'texImage2D': { 0:true, 2:true, 6:true, 7:true },\n  'texSubImage2D': { 0:true, 6:true, 7:true },\n  'copyTexImage2D': { 0:true, 2:true },\n  'copyTexSubImage2D': { 0:true },\n  'generateMipmap': { 0:true },\n\n  // Buffer objects\n\n  'bindBuffer': { 0:true },\n  'bufferData': { 0:true, 2:true },\n  'bufferSubData': { 0:true },\n  'getBufferParameter': { 0:true, 1:true },\n\n  // Renderbuffers and framebuffers\n\n  'pixelStorei': { 0:true, 1:true },\n  'readPixels': { 4:true, 5:true },\n  'bindRenderbuffer': { 0:true },\n  'bindFramebuffer': { 0:true },\n  'checkFramebufferStatus': { 0:true },\n  'framebufferRenderbuffer': { 0:true, 1:true, 2:true },\n  'framebufferTexture2D': { 0:true, 1:true, 2:true },\n  'getFramebufferAttachmentParameter': { 0:true, 1:true, 2:true },\n  'getRenderbufferParameter': { 0:true, 1:true },\n  'renderbufferStorage': { 0:true, 1:true },\n\n  // Frame buffer operations (clear, blend, depth test, stencil)\n\n  'clear': { 0:true },\n  'depthFunc': { 0:true },\n  'blendFunc': { 0:true, 1:true },\n  'blendFuncSeparate': { 0:true, 1:true, 2:true, 3:true },\n  'blendEquation': { 0:true },\n  'blendEquationSeparate': { 0:true, 1:true },\n  'stencilFunc': { 0:true },\n  'stencilFuncSeparate': { 0:true, 1:true },\n  'stencilMaskSeparate': { 0:true },\n  'stencilOp': { 0:true, 1:true, 2:true },\n  'stencilOpSeparate': { 0:true, 1:true, 2:true, 3:true },\n\n  // Culling\n\n  'cullFace': { 0:true },\n  'frontFace': { 0:true },\n};\n\n/**\n * Map of numbers to names.\n * @type {Object}\n */\nvar glEnums = null;\n\n/**\n * Initializes this module. Safe to call more than once.\n * @param {!WebGLRenderingContext} ctx A WebGL context. If\n *    you have more than one context it doesn't matter which one\n *    you pass in, it is only used to pull out constants.\n */\nfunction init(ctx) {\n  if (glEnums == null) {\n    glEnums = { };\n    for (var propertyName in ctx) {\n      if (typeof ctx[propertyName] == 'number') {\n        glEnums[ctx[propertyName]] = propertyName;\n      }\n    }\n  }\n}\n\n/**\n * Checks the utils have been initialized.\n */\nfunction checkInit() {\n  if (glEnums == null) {\n    throw 'WebGLDebugUtils.init(ctx) not called';\n  }\n}\n\n/**\n * Returns true or false if value matches any WebGL enum\n * @param {*} value Value to check if it might be an enum.\n * @return {boolean} True if value matches one of the WebGL defined enums\n */\nfunction mightBeEnum(value) {\n  checkInit();\n  return (glEnums[value] !== undefined);\n}\n\n/**\n * Gets an string version of an WebGL enum.\n *\n * Example:\n *   var str = WebGLDebugUtil.glEnumToString(ctx.getError());\n *\n * @param {number} value Value to return an enum for\n * @return {string} The string version of the enum.\n */\nfunction glEnumToString(value) {\n  checkInit();\n  var name = glEnums[value];\n  return (name !== undefined) ? name :\n      (\"*UNKNOWN WebGL ENUM (0x\" + value.toString(16) + \")\");\n}\n\n/**\n * Returns the string version of a WebGL argument.\n * Attempts to convert enum arguments to strings.\n * @param {string} functionName the name of the WebGL function.\n * @param {number} argumentIndx the index of the argument.\n * @param {*} value The value of the argument.\n * @return {string} The value as a string.\n */\nfunction glFunctionArgToString(functionName, argumentIndex, value) {\n  var funcInfo = glValidEnumContexts[functionName];\n  if (funcInfo !== undefined) {\n    if (funcInfo[argumentIndex]) {\n      return glEnumToString(value);\n    }\n  }\n  if (value === null) {\n    return \"null\";\n  } else if (value === undefined) {\n    return \"undefined\";\n  } else {\n    return value.toString();\n  }\n}\n\n/**\n * Converts the arguments of a WebGL function to a string.\n * Attempts to convert enum arguments to strings.\n *\n * @param {string} functionName the name of the WebGL function.\n * @param {number} args The arguments.\n * @return {string} The arguments as a string.\n */\nfunction glFunctionArgsToString(functionName, args) {\n  // apparently we can't do args.join(\",\");\n  var argStr = \"\";\n  for (var ii = 0; ii < args.length; ++ii) {\n    argStr += ((ii == 0) ? '' : ', ') +\n        glFunctionArgToString(functionName, ii, args[ii]);\n  }\n  return argStr;\n};\n\n\nfunction makePropertyWrapper(wrapper, original, propertyName) {\n  //log(\"wrap prop: \" + propertyName);\n  wrapper.__defineGetter__(propertyName, function() {\n    return original[propertyName];\n  });\n  // TODO(gmane): this needs to handle properties that take more than\n  // one value?\n  wrapper.__defineSetter__(propertyName, function(value) {\n    //log(\"set: \" + propertyName);\n    original[propertyName] = value;\n  });\n}\n\n// Makes a function that calls a function on another object.\nfunction makeFunctionWrapper(original, functionName) {\n  //log(\"wrap fn: \" + functionName);\n  var f = original[functionName];\n  return function() {\n    //log(\"call: \" + functionName);\n    var result = f.apply(original, arguments);\n    return result;\n  };\n}\n\n/**\n * Given a WebGL context returns a wrapped context that calls\n * gl.getError after every command and calls a function if the\n * result is not gl.NO_ERROR.\n *\n * @param {!WebGLRenderingContext} ctx The webgl context to\n *        wrap.\n * @param {!function(err, funcName, args): void} opt_onErrorFunc\n *        The function to call when gl.getError returns an\n *        error. If not specified the default function calls\n *        console.log with a message.\n * @param {!function(funcName, args): void} opt_onFunc The\n *        function to call when each webgl function is called.\n *        You can use this to log all calls for example.\n */\nfunction makeDebugContext(ctx, opt_onErrorFunc, opt_onFunc) {\n  init(ctx);\n  opt_onErrorFunc = opt_onErrorFunc || function(err, functionName, args) {\n        // apparently we can't do args.join(\",\");\n        var argStr = \"\";\n        for (var ii = 0; ii < args.length; ++ii) {\n          argStr += ((ii == 0) ? '' : ', ') +\n              glFunctionArgToString(functionName, ii, args[ii]);\n        }\n        log(\"WebGL error \"+ glEnumToString(err) + \" in \"+ functionName +\n            \"(\" + argStr + \")\");\n      };\n\n  // Holds booleans for each GL error so after we get the error ourselves\n  // we can still return it to the client app.\n  var glErrorShadow = { };\n\n  // Makes a function that calls a WebGL function and then calls getError.\n  function makeErrorWrapper(ctx, functionName) {\n    return function() {\n      if (opt_onFunc) {\n        opt_onFunc(functionName, arguments);\n      }\n      var result = ctx[functionName].apply(ctx, arguments);\n      var err = ctx.getError();\n      if (err != 0) {\n        glErrorShadow[err] = true;\n        opt_onErrorFunc(err, functionName, arguments);\n      }\n      return result;\n    };\n  }\n\n  // Make a an object that has a copy of every property of the WebGL context\n  // but wraps all functions.\n  var wrapper = {};\n  for (var propertyName in ctx) {\n    if (typeof ctx[propertyName] == 'function') {\n       wrapper[propertyName] = makeErrorWrapper(ctx, propertyName);\n     } else {\n       makePropertyWrapper(wrapper, ctx, propertyName);\n     }\n  }\n\n  // Override the getError function with one that returns our saved results.\n  wrapper.getError = function() {\n    for (var err in glErrorShadow) {\n      if (glErrorShadow.hasOwnProperty(err)) {\n        if (glErrorShadow[err]) {\n          glErrorShadow[err] = false;\n          return err;\n        }\n      }\n    }\n    return ctx.NO_ERROR;\n  };\n\n  return wrapper;\n}\n\nfunction resetToInitialState(ctx) {\n  var numAttribs = ctx.getParameter(ctx.MAX_VERTEX_ATTRIBS);\n  var tmp = ctx.createBuffer();\n  ctx.bindBuffer(ctx.ARRAY_BUFFER, tmp);\n  for (var ii = 0; ii < numAttribs; ++ii) {\n    ctx.disableVertexAttribArray(ii);\n    ctx.vertexAttribPointer(ii, 4, ctx.FLOAT, false, 0, 0);\n    ctx.vertexAttrib1f(ii, 0);\n  }\n  ctx.deleteBuffer(tmp);\n\n  var numTextureUnits = ctx.getParameter(ctx.MAX_TEXTURE_IMAGE_UNITS);\n  for (var ii = 0; ii < numTextureUnits; ++ii) {\n    ctx.activeTexture(ctx.TEXTURE0 + ii);\n    ctx.bindTexture(ctx.TEXTURE_CUBE_MAP, null);\n    ctx.bindTexture(ctx.TEXTURE_2D, null);\n  }\n\n  ctx.activeTexture(ctx.TEXTURE0);\n  ctx.useProgram(null);\n  ctx.bindBuffer(ctx.ARRAY_BUFFER, null);\n  ctx.bindBuffer(ctx.ELEMENT_ARRAY_BUFFER, null);\n  ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n  ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n  ctx.disable(ctx.BLEND);\n  ctx.disable(ctx.CULL_FACE);\n  ctx.disable(ctx.DEPTH_TEST);\n  ctx.disable(ctx.DITHER);\n  ctx.disable(ctx.SCISSOR_TEST);\n  ctx.blendColor(0, 0, 0, 0);\n  ctx.blendEquation(ctx.FUNC_ADD);\n  ctx.blendFunc(ctx.ONE, ctx.ZERO);\n  ctx.clearColor(0, 0, 0, 0);\n  ctx.clearDepth(1);\n  ctx.clearStencil(-1);\n  ctx.colorMask(true, true, true, true);\n  ctx.cullFace(ctx.BACK);\n  ctx.depthFunc(ctx.LESS);\n  ctx.depthMask(true);\n  ctx.depthRange(0, 1);\n  ctx.frontFace(ctx.CCW);\n  ctx.hint(ctx.GENERATE_MIPMAP_HINT, ctx.DONT_CARE);\n  ctx.lineWidth(1);\n  ctx.pixelStorei(ctx.PACK_ALIGNMENT, 4);\n  ctx.pixelStorei(ctx.UNPACK_ALIGNMENT, 4);\n  ctx.pixelStorei(ctx.UNPACK_FLIP_Y_WEBGL, false);\n  ctx.pixelStorei(ctx.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n  // TODO: Delete this IF.\n  if (ctx.UNPACK_COLORSPACE_CONVERSION_WEBGL) {\n    ctx.pixelStorei(ctx.UNPACK_COLORSPACE_CONVERSION_WEBGL, ctx.BROWSER_DEFAULT_WEBGL);\n  }\n  ctx.polygonOffset(0, 0);\n  ctx.sampleCoverage(1, false);\n  ctx.scissor(0, 0, ctx.canvas.width, ctx.canvas.height);\n  ctx.stencilFunc(ctx.ALWAYS, 0, 0xFFFFFFFF);\n  ctx.stencilMask(0xFFFFFFFF);\n  ctx.stencilOp(ctx.KEEP, ctx.KEEP, ctx.KEEP);\n  ctx.viewport(0, 0, ctx.canvas.width, ctx.canvas.height);\n  ctx.clear(ctx.COLOR_BUFFER_BIT | ctx.DEPTH_BUFFER_BIT | ctx.STENCIL_BUFFER_BIT);\n\n  // TODO: This should NOT be needed but Firefox fails with 'hint'\n  while(ctx.getError());\n}\n\nfunction makeLostContextSimulatingCanvas(canvas) {\n  var unwrappedContext_;\n  var wrappedContext_;\n  var onLost_ = [];\n  var onRestored_ = [];\n  var wrappedContext_ = {};\n  var contextId_ = 1;\n  var contextLost_ = false;\n  var resourceId_ = 0;\n  var resourceDb_ = [];\n  var numCallsToLoseContext_ = 0;\n  var numCalls_ = 0;\n  var canRestore_ = false;\n  var restoreTimeout_ = 0;\n\n  // Holds booleans for each GL error so can simulate errors.\n  var glErrorShadow_ = { };\n\n  canvas.getContext = function(f) {\n    return function() {\n      var ctx = f.apply(canvas, arguments);\n      // Did we get a context and is it a WebGL context?\n      if (ctx instanceof WebGLRenderingContext) {\n        if (ctx != unwrappedContext_) {\n          if (unwrappedContext_) {\n            throw \"got different context\"\n          }\n          unwrappedContext_ = ctx;\n          wrappedContext_ = makeLostContextSimulatingContext(unwrappedContext_);\n        }\n        return wrappedContext_;\n      }\n      return ctx;\n    }\n  }(canvas.getContext);\n\n  function wrapEvent(listener) {\n    if (typeof(listener) == \"function\") {\n      return listener;\n    } else {\n      return function(info) {\n        listener.handleEvent(info);\n      }\n    }\n  }\n\n  var addOnContextLostListener = function(listener) {\n    onLost_.push(wrapEvent(listener));\n  };\n\n  var addOnContextRestoredListener = function(listener) {\n    onRestored_.push(wrapEvent(listener));\n  };\n\n\n  function wrapAddEventListener(canvas) {\n    var f = canvas.addEventListener;\n    canvas.addEventListener = function(type, listener, bubble) {\n      switch (type) {\n        case 'webglcontextlost':\n          addOnContextLostListener(listener);\n          break;\n        case 'webglcontextrestored':\n          addOnContextRestoredListener(listener);\n          break;\n        default:\n          f.apply(canvas, arguments);\n      }\n    };\n  }\n\n  wrapAddEventListener(canvas);\n\n  canvas.loseContext = function() {\n    if (!contextLost_) {\n      contextLost_ = true;\n      numCallsToLoseContext_ = 0;\n      ++contextId_;\n      while (unwrappedContext_.getError());\n      clearErrors();\n      glErrorShadow_[unwrappedContext_.CONTEXT_LOST_WEBGL] = true;\n      var event = makeWebGLContextEvent(\"context lost\");\n      var callbacks = onLost_.slice();\n      setTimeout(function() {\n          //log(\"numCallbacks:\" + callbacks.length);\n          for (var ii = 0; ii < callbacks.length; ++ii) {\n            //log(\"calling callback:\" + ii);\n            callbacks[ii](event);\n          }\n          if (restoreTimeout_ >= 0) {\n            setTimeout(function() {\n                canvas.restoreContext();\n              }, restoreTimeout_);\n          }\n        }, 0);\n    }\n  };\n\n  canvas.restoreContext = function() {\n    if (contextLost_) {\n      if (onRestored_.length) {\n        setTimeout(function() {\n            if (!canRestore_) {\n              throw \"can not restore. webglcontestlost listener did not call event.preventDefault\";\n            }\n            freeResources();\n            resetToInitialState(unwrappedContext_);\n            contextLost_ = false;\n            numCalls_ = 0;\n            canRestore_ = false;\n            var callbacks = onRestored_.slice();\n            var event = makeWebGLContextEvent(\"context restored\");\n            for (var ii = 0; ii < callbacks.length; ++ii) {\n              callbacks[ii](event);\n            }\n          }, 0);\n      }\n    }\n  };\n\n  canvas.loseContextInNCalls = function(numCalls) {\n    if (contextLost_) {\n      throw \"You can not ask a lost contet to be lost\";\n    }\n    numCallsToLoseContext_ = numCalls_ + numCalls;\n  };\n\n  canvas.getNumCalls = function() {\n    return numCalls_;\n  };\n\n  canvas.setRestoreTimeout = function(timeout) {\n    restoreTimeout_ = timeout;\n  };\n\n  function isWebGLObject(obj) {\n    //return false;\n    return (obj instanceof WebGLBuffer ||\n            obj instanceof WebGLFramebuffer ||\n            obj instanceof WebGLProgram ||\n            obj instanceof WebGLRenderbuffer ||\n            obj instanceof WebGLShader ||\n            obj instanceof WebGLTexture);\n  }\n\n  function checkResources(args) {\n    for (var ii = 0; ii < args.length; ++ii) {\n      var arg = args[ii];\n      if (isWebGLObject(arg)) {\n        return arg.__webglDebugContextLostId__ == contextId_;\n      }\n    }\n    return true;\n  }\n\n  function clearErrors() {\n    var k = Object.keys(glErrorShadow_);\n    for (var ii = 0; ii < k.length; ++ii) {\n      delete glErrorShadow_[k];\n    }\n  }\n\n  function loseContextIfTime() {\n    ++numCalls_;\n    if (!contextLost_) {\n      if (numCallsToLoseContext_ == numCalls_) {\n        canvas.loseContext();\n      }\n    }\n  }\n\n  // Makes a function that simulates WebGL when out of context.\n  function makeLostContextFunctionWrapper(ctx, functionName) {\n    var f = ctx[functionName];\n    return function() {\n      // log(\"calling:\" + functionName);\n      // Only call the functions if the context is not lost.\n      loseContextIfTime();\n      if (!contextLost_) {\n        //if (!checkResources(arguments)) {\n        //  glErrorShadow_[wrappedContext_.INVALID_OPERATION] = true;\n        //  return;\n        //}\n\n        var result = f.apply(ctx, arguments);\n        return result;\n      }\n    };\n  }\n\n  function freeResources() {\n    for (var ii = 0; ii < resourceDb_.length; ++ii) {\n      var resource = resourceDb_[ii];\n      if (resource instanceof WebGLBuffer) {\n        unwrappedContext_.deleteBuffer(resource);\n      } else if (resource instanceof WebGLFramebuffer) {\n        unwrappedContext_.deleteFramebuffer(resource);\n      } else if (resource instanceof WebGLProgram) {\n        unwrappedContext_.deleteProgram(resource);\n      } else if (resource instanceof WebGLRenderbuffer) {\n        unwrappedContext_.deleteRenderbuffer(resource);\n      } else if (resource instanceof WebGLShader) {\n        unwrappedContext_.deleteShader(resource);\n      } else if (resource instanceof WebGLTexture) {\n        unwrappedContext_.deleteTexture(resource);\n      }\n    }\n  }\n\n  function makeWebGLContextEvent(statusMessage) {\n    return {\n      statusMessage: statusMessage,\n      preventDefault: function() {\n          canRestore_ = true;\n        }\n    };\n  }\n\n  return canvas;\n\n  function makeLostContextSimulatingContext(ctx) {\n    // copy all functions and properties to wrapper\n    for (var propertyName in ctx) {\n      if (typeof ctx[propertyName] == 'function') {\n         wrappedContext_[propertyName] = makeLostContextFunctionWrapper(\n             ctx, propertyName);\n       } else {\n         makePropertyWrapper(wrappedContext_, ctx, propertyName);\n       }\n    }\n\n    // Wrap a few functions specially.\n    wrappedContext_.getError = function() {\n      loseContextIfTime();\n      if (!contextLost_) {\n        var err;\n        while (err = unwrappedContext_.getError()) {\n          glErrorShadow_[err] = true;\n        }\n      }\n      for (var err in glErrorShadow_) {\n        if (glErrorShadow_[err]) {\n          delete glErrorShadow_[err];\n          return err;\n        }\n      }\n      return wrappedContext_.NO_ERROR;\n    };\n\n    var creationFunctions = [\n      \"createBuffer\",\n      \"createFramebuffer\",\n      \"createProgram\",\n      \"createRenderbuffer\",\n      \"createShader\",\n      \"createTexture\"\n    ];\n    for (var ii = 0; ii < creationFunctions.length; ++ii) {\n      var functionName = creationFunctions[ii];\n      wrappedContext_[functionName] = function(f) {\n        return function() {\n          loseContextIfTime();\n          if (contextLost_) {\n            return null;\n          }\n          var obj = f.apply(ctx, arguments);\n          obj.__webglDebugContextLostId__ = contextId_;\n          resourceDb_.push(obj);\n          return obj;\n        };\n      }(ctx[functionName]);\n    }\n\n    var functionsThatShouldReturnNull = [\n      \"getActiveAttrib\",\n      \"getActiveUniform\",\n      \"getBufferParameter\",\n      \"getContextAttributes\",\n      \"getAttachedShaders\",\n      \"getFramebufferAttachmentParameter\",\n      \"getParameter\",\n      \"getProgramParameter\",\n      \"getProgramInfoLog\",\n      \"getRenderbufferParameter\",\n      \"getShaderParameter\",\n      \"getShaderInfoLog\",\n      \"getShaderSource\",\n      \"getTexParameter\",\n      \"getUniform\",\n      \"getUniformLocation\",\n      \"getVertexAttrib\"\n    ];\n    for (var ii = 0; ii < functionsThatShouldReturnNull.length; ++ii) {\n      var functionName = functionsThatShouldReturnNull[ii];\n      wrappedContext_[functionName] = function(f) {\n        return function() {\n          loseContextIfTime();\n          if (contextLost_) {\n            return null;\n          }\n          return f.apply(ctx, arguments);\n        }\n      }(wrappedContext_[functionName]);\n    }\n\n    var isFunctions = [\n      \"isBuffer\",\n      \"isEnabled\",\n      \"isFramebuffer\",\n      \"isProgram\",\n      \"isRenderbuffer\",\n      \"isShader\",\n      \"isTexture\"\n    ];\n    for (var ii = 0; ii < isFunctions.length; ++ii) {\n      var functionName = isFunctions[ii];\n      wrappedContext_[functionName] = function(f) {\n        return function() {\n          loseContextIfTime();\n          if (contextLost_) {\n            return false;\n          }\n          return f.apply(ctx, arguments);\n        }\n      }(wrappedContext_[functionName]);\n    }\n\n    wrappedContext_.checkFramebufferStatus = function(f) {\n      return function() {\n        loseContextIfTime();\n        if (contextLost_) {\n          return wrappedContext_.FRAMEBUFFER_UNSUPPORTED;\n        }\n        return f.apply(ctx, arguments);\n      };\n    }(wrappedContext_.checkFramebufferStatus);\n\n    wrappedContext_.getAttribLocation = function(f) {\n      return function() {\n        loseContextIfTime();\n        if (contextLost_) {\n          return -1;\n        }\n        return f.apply(ctx, arguments);\n      };\n    }(wrappedContext_.getAttribLocation);\n\n    wrappedContext_.getVertexAttribOffset = function(f) {\n      return function() {\n        loseContextIfTime();\n        if (contextLost_) {\n          return 0;\n        }\n        return f.apply(ctx, arguments);\n      };\n    }(wrappedContext_.getVertexAttribOffset);\n\n    wrappedContext_.isContextLost = function() {\n      return contextLost_;\n    };\n\n    return wrappedContext_;\n  }\n}\n\nreturn {\n    /**\n     * Initializes this module. Safe to call more than once.\n     * @param {!WebGLRenderingContext} ctx A WebGL context. If\n    }\n   *    you have more than one context it doesn't matter which one\n   *    you pass in, it is only used to pull out constants.\n   */\n  'init': init,\n\n  /**\n   * Returns true or false if value matches any WebGL enum\n   * @param {*} value Value to check if it might be an enum.\n   * @return {boolean} True if value matches one of the WebGL defined enums\n   */\n  'mightBeEnum': mightBeEnum,\n\n  /**\n   * Gets an string version of an WebGL enum.\n   *\n   * Example:\n   *   WebGLDebugUtil.init(ctx);\n   *   var str = WebGLDebugUtil.glEnumToString(ctx.getError());\n   *\n   * @param {number} value Value to return an enum for\n   * @return {string} The string version of the enum.\n   */\n  'glEnumToString': glEnumToString,\n\n  /**\n   * Converts the argument of a WebGL function to a string.\n   * Attempts to convert enum arguments to strings.\n   *\n   * Example:\n   *   WebGLDebugUtil.init(ctx);\n   *   var str = WebGLDebugUtil.glFunctionArgToString('bindTexture', 0, gl.TEXTURE_2D);\n   *\n   * would return 'TEXTURE_2D'\n   *\n   * @param {string} functionName the name of the WebGL function.\n   * @param {number} argumentIndx the index of the argument.\n   * @param {*} value The value of the argument.\n   * @return {string} The value as a string.\n   */\n  'glFunctionArgToString': glFunctionArgToString,\n\n  /**\n   * Converts the arguments of a WebGL function to a string.\n   * Attempts to convert enum arguments to strings.\n   *\n   * @param {string} functionName the name of the WebGL function.\n   * @param {number} args The arguments.\n   * @return {string} The arguments as a string.\n   */\n  'glFunctionArgsToString': glFunctionArgsToString,\n\n  /**\n   * Given a WebGL context returns a wrapped context that calls\n   * gl.getError after every command and calls a function if the\n   * result is not NO_ERROR.\n   *\n   * You can supply your own function if you want. For example, if you'd like\n   * an exception thrown on any GL error you could do this\n   *\n   *    function throwOnGLError(err, funcName, args) {\n   *      throw WebGLDebugUtils.glEnumToString(err) +\n   *            \" was caused by call to \" + funcName;\n   *    };\n   *\n   *    ctx = WebGLDebugUtils.makeDebugContext(\n   *        canvas.getContext(\"webgl\"), throwOnGLError);\n   *\n   * @param {!WebGLRenderingContext} ctx The webgl context to wrap.\n   * @param {!function(err, funcName, args): void} opt_onErrorFunc The function\n   *     to call when gl.getError returns an error. If not specified the default\n   *     function calls console.log with a message.\n   * @param {!function(funcName, args): void} opt_onFunc The\n   *     function to call when each webgl function is called. You\n   *     can use this to log all calls for example.\n   */\n  'makeDebugContext': makeDebugContext,\n\n  /**\n   * Given a canvas element returns a wrapped canvas element that will\n   * simulate lost context. The canvas returned adds the following functions.\n   *\n   * loseContext:\n   *   simulates a lost context event.\n   *\n   * restoreContext:\n   *   simulates the context being restored.\n   *\n   * lostContextInNCalls:\n   *   loses the context after N gl calls.\n   *\n   * getNumCalls:\n   *   tells you how many gl calls there have been so far.\n   *\n   * setRestoreTimeout:\n   *   sets the number of milliseconds until the context is restored\n   *   after it has been lost. Defaults to 0. Pass -1 to prevent\n   *   automatic restoring.\n   *\n   * @param {!Canvas} canvas The canvas element to wrap.\n   */\n  'makeLostContextSimulatingCanvas': makeLostContextSimulatingCanvas,\n\n  /**\n   * Resets a context to the initial state.\n   * @param {!WebGLRenderingContext} ctx The webgl context to\n   *     reset.\n   */\n  'resetToInitialState': resetToInitialState\n};\n\n}();\n/**\n * @class Generic map of IDs to items - can generate own IDs or accept given IDs. IDs should be strings in order to not\n * clash with internally generated IDs, which are numbers.\n * @private\n */\nvar SceneJS_Map = function(items, _baseId) {\n\n    /**\n     * @property Items in this map\n     */\n    this.items = items || [];\n\n\n    var baseId = _baseId || 0;\n    var lastUniqueId = baseId + 1;\n\n    /**\n     * Adds an item to the map and returns the ID of the item in the map. If an ID is given, the item is\n     * mapped to that ID. Otherwise, the map automatically generates the ID and maps to that.\n     *\n     * id = myMap.addItem(\"foo\") // ID internally generated\n     *\n     * id = myMap.addItem(\"foo\", \"bar\") // ID is \"foo\"\n     *\n     */\n    this.addItem = function() {\n\n        var item;\n\n        if (arguments.length == 2) {\n\n            var id = arguments[0];\n\n            item = arguments[1];\n\n            if (this.items[id]) { // Won't happen if given ID is string\n                throw SceneJS_error.fatalError(SceneJS.errors.ID_CLASH, \"ID clash: '\" + id + \"'\");\n            }\n\n            this.items[id] = item;\n\n            return id;\n\n        } else {\n\n            while (true) {\n\n                item = arguments[0];\n                var findId = lastUniqueId++;\n\n                if (!this.items[findId]) {\n                    this.items[findId] = item;\n                    return findId;\n                }\n            }\n        }\n    };\n\n    /**\n     * Removes the item of the given ID from the map\n     */\n    this.removeItem = function(id) {\n        delete this.items[id];\n    };\n};/**\n * The SceneJS object.\n */\nvar SceneJS = new (function () {\n\n    /**\n     * This SceneJS version\n     */\n    this.VERSION = '3.2';\n\n    this._baseStateId = 0;\n\n    // Pub/sub support\n    this._handleMap = new SceneJS_Map(); // Subscription handle pool\n    this._topicSubs = {}; // A [handle -> callback] map for each topic name\n    this._handleTopics = {}; // Maps handles to topic names\n    this._topicPubs = {}; // Maps topics to publications\n\n    /**\n     * @property {SceneJS_Engine} Engines currently in existance\n     */\n    this._engines = {};\n\n    this._engineIds = new SceneJS_Map();\n\n\n    /**\n     * Publishes to a topic.\n     *\n     * Immediately notifies existing subscriptions to that topic, retains the publication to give to\n     * any subsequent notifications on that topic as they are made.\n     *\n     * @param {String} topic Publication topic\n     * @param {Object} pub The publication\n     * @param {Boolean} [forget] When true, the publication will be sent to subscribers then forgotten, so that any\n     * subsequent subscribers will not receive it\n     * @private\n     */\n    this.publish = function (topic, pub, forget) {\n        if (!forget) {\n            this._topicPubs[topic] = pub; // Save notification\n        }\n        var subsForTopic = this._topicSubs[topic];\n        if (subsForTopic) { // Notify subscriptions\n            for (var handle in subsForTopic) {\n                if (subsForTopic.hasOwnProperty(handle)) {\n                    subsForTopic[handle].call(this, pub);\n                }\n            }\n        }\n    };\n\n    /**\n     * Removes a topic publication\n     *\n     * Immediately notifies existing subscriptions to that topic, sending them each a null publication.\n     *\n     * @param topic Publication topic\n     * @private\n     */\n    this.unpublish = function (topic) {\n        var subsForTopic = this._topicSubs[topic];\n        if (subsForTopic) { // Notify subscriptions\n            for (var handle in subsForTopic) {\n                if (subsForTopic.hasOwnProperty(handle)) {\n                    subsForTopic[handle].call(this, null);\n                }\n            }\n        }\n        delete this._topicPubs[topic];\n    };\n\n\n    /**\n     * Listen for data changes at a particular location\n     *\n     * <p>Your callback will be triggered for\n     * the initial data and again whenever the data changes. Use {@link #off} to stop receiving updates.</p>\n     *\n     * <p>The callback is be called with SceneJS as scope.</p>\n     *\n     * @param {String} location Publication location\n     * @param {Function(data)} callback Called when fresh data is available at the location\n     * @return {String} Handle to the subscription, which may be used to unsubscribe with {@link #off}.\n     */\n    this.on = function (topic, callback) {\n        var subsForTopic = this._topicSubs[topic];\n        if (!subsForTopic) {\n            subsForTopic = {};\n            this._topicSubs[topic] = subsForTopic;\n        }\n        var handle = this._handleMap.addItem(); // Create unique handle\n        subsForTopic[handle] = callback;\n        this._handleTopics[handle] = topic;\n        var pub = this._topicPubs[topic];\n        if (pub) { // A publication exists, notify callback immediately\n            callback.call(this, pub);\n        }\n        return handle;\n    };\n\n    /**\n     * Unsubscribes from a publication that was previously made with {@link #on}.\n     * @param handle Publication handle\n     */\n    this.off = function (handle) {\n        var topic = this._handleTopics[handle];\n        if (topic) {\n            delete this._handleTopics[handle];\n            var topicSubs = this._topicSubs[topic];\n            if (topicSubs) {\n                delete topicSubs[handle];\n            }\n            this._handleMap.removeItem(handle); // Release handle\n            if (topic == \"rendered\") {\n                this._engine.branchDirty(this);\n            }\n        }\n    };\n\n    /**\n     * Listens for exactly one data update at the specified location, and then stops listening.\n     * <p>This is equivalent to calling {@link #on}, and then calling {@link #off} inside the callback function.</p>\n     * @param {String} location Data location to listen to\n     * @param {Function(data)} callback Called when fresh data is available at the location\n     */\n    this.once = function (topic, callback) {\n        var self = this;\n        var sub = this.on(topic,\n            function (pub) {\n                self.off(sub);\n                callback(pub);\n            });\n    };\n\n    /**\n     * Creates a new scene from the given JSON description and begins rendering it\n     *\n     * @param {String} json JSON scene description\n     * @param {*} options Optional options\n     * @param {Boolean} options.simulateWebGLContextLost Set true to enable simulation of lost WebGL context (has performance impact)\n     * @returns {SceneJS.Scene} New scene\n     */\n    this.createScene = function (json, options) {\n\n       json = json || {};\n\n        if (json.id) {\n            if (this._engines[json.id]) {\n                throw SceneJS_error.fatalError(\n                    SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                    \"Scene already exists with this ID: '\" + json.id + \"'\");\n            }\n            this._engineIds.addItem(json.id, {});\n        } else {\n            json.id = this._engineIds.addItem({});\n        }\n\n        var engine = new SceneJS_Engine(json, options);\n\n        this._engines[json.id] = engine;\n\n        SceneJS_events.fireEvent(SceneJS_events.SCENE_CREATED, {    // Notify modules that need to know about new scene\n            engine:engine\n        });\n\n        engine.scene.start(options);\n\n        return engine.scene;\n    };\n\n    /**\n     * Gets an existing scene\n     *\n     * @param {String} sceneId ID of target scene\n     * @deprecated\n     * @returns {SceneJS.Scene} The selected scene\n     */\n    this.scene = function (sceneId) {\n\n        var engine = this._engines[sceneId];\n\n        return engine ? engine.scene : null;\n    };\n\n    /**\n     * Gets an existing scene.\n     *\n     * When no scene ID is given, the first scene found is returned. This is a shorthand convenience for\n     * easy scripting when only one scene is defined.\n     *\n     * @param {String} [sceneId] ID of target scene\n     * @returns {SceneJS.Scene} The selected scene\n     */\n    this.getScene = function (sceneId) {\n\n        if (!sceneId) {\n            for (var sceneId in this._engines) {\n                if (this._engines.hasOwnProperty(sceneId)) {\n                    return this._engines[sceneId].scene;\n                }\n            }\n        }\n\n        var engine = this._engines[sceneId];\n\n        return engine ? engine.scene : null;\n    };\n\n    /**\n     * Gets existing scenes\n     *\n     * @returns  Existing scenes, mapped to their IDs\n     */\n    this.getScenes = function () {\n\n        var scenes = {};\n\n        for (var sceneId in this._engines) {\n            if (this._engines.hasOwnProperty(sceneId)) {\n                scenes[sceneId] = this._engines[sceneId].scene;\n            }\n        }\n\n        return scenes;\n    };\n\n    /**\n     * Tests if the given object is an array\n     * @private\n     */\n    this._isArray = function (testObject) {\n        return testObject && !(testObject.propertyIsEnumerable('length'))\n            && typeof testObject === 'object' && typeof testObject.length === 'number';\n    };\n\n    /**\n     *\n     */\n    this._shallowClone = function (o) {\n        var o2 = {};\n        for (var name in o) {\n            if (o.hasOwnProperty(name)) {\n                o2[name] = o[name];\n            }\n        }\n        return o2;\n    };\n\n    /**\n     * Add properties of o to o2 where undefined or null on o2\n     * @private\n     */\n    this._applyIf = function (o, o2) {\n        for (var name in o) {\n            if (o.hasOwnProperty(name)) {\n                if (o2[name] == undefined || o2[name] == null) {\n                    o2[name] = o[name];\n                }\n            }\n        }\n        return o2;\n    };\n\n    /**\n     * Add properties of o to o2, overwriting them on o2 if already there.\n     * The optional clear flag causes properties on o2 to be cleared first\n     * @private\n     */\n    this._apply = function (o, o2, clear) {\n        var name;\n        if (clear) {\n            for (name in o2) {\n                if (o2.hasOwnProperty(name)) {\n                    delete o2[name];\n                }\n            }\n        }\n        for (name in o) {\n            if (o.hasOwnProperty(name) && o[name] != undefined) {\n                o2[name] = o[name];\n            }\n        }\n        return o2;\n    };\n\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    /**\n     * Tests is an object is empty\n     * @param obj\n     * @returns {boolean}\n     * @private\n     */\n    this._isEmpty =function(obj) {\n        // null and undefined are \"empty\"\n        if (obj == null) return true;\n        // Assume if it has a length property with a non-zero value\n        // that that property is correct.\n        if (obj.length > 0)    return false;\n        if (obj.length === 0)  return true;\n        // Otherwise, does it have any properties of its own?\n        // Note that this doesn't handle\n        // toString and valueOf enumeration bugs in IE < 9\n        for (var key in obj) {\n            if (hasOwnProperty.call(obj, key)) return false;\n        }\n        return true;\n    };\n\n    /**\n     * Resets SceneJS, destroying all existing scenes\n     */\n    this.reset = function () {\n\n        var temp = [];\n\n        for (var id in this._engines) { // Collect engines to destroy\n            if (this._engines.hasOwnProperty(id)) {\n\n                temp.push(this._engines[id]);\n\n                delete this._engines[id];\n\n                this._engineIds.removeItem(id);\n            }\n        }\n\n        while (temp.length > 0) { // Destroy the engines\n            temp.pop().destroy();\n        }\n\n        SceneJS_events.fireEvent(SceneJS_events.RESET);\n    };\n\n})();\n// Configure RequireJS to find plugins relative to plugins location\n(function () {\n\n    var pluginPath;\n\n    SceneJS.on(\"configs\",\n        function (configs) {\n            if (configs.pluginPath != pluginPath) {\n                pluginPath = configs.pluginPath;\n                var libPath = pluginPath + \"/lib\";\n                require.config({\n                    paths:{\n                        \"scenejsPluginDeps\":libPath\n                    }\n                });\n            }\n        });\n})();/**\n *  @private\n */\nvar SceneJS_eventManager = function () {\n\n    this._handlerIds = new SceneJS_Map();\n\n    this.typeHandlers = {};\n};\n\n/**\n *\n */\nSceneJS_eventManager.prototype.createEvent = function (type) {\n\n    if (this.typeHandlers[type]) {\n        return;\n    }\n\n    this.typeHandlers[type] = {\n        handlers:{},\n        numSubs:0\n    };\n};\n\n/**\n * Subscribes to an event defined on this event manager\n *\n * @param {String} type Event type one of the values in SceneJS_events\n * @param {Function} callback Handler function that will accept whatever parameter object accompanies the event\n * @return {String} handle Handle to the event binding\n */\nSceneJS_eventManager.prototype.onEvent = function (type, callback) {\n\n    var handlersForType = this.typeHandlers[type] || (this.typeHandlers[type] = {\n        handlers:{},\n        numSubs:0\n    });\n\n    var handlerId = this._handlerIds.addItem(type);\n\n    var handlers = handlersForType.handlers;\n    handlers[handlerId] = callback;\n    handlersForType.numSubs++;\n\n    return handlerId;\n};\n\n/**\n *\n */\nSceneJS_eventManager.prototype.fireEvent = function (type, params) {\n\n    var handlersForType = this.typeHandlers[type] || (this.typeHandlers[type] = {\n        handlers:{},\n        numSubs:0\n    });\n\n    if (handlersForType.numSubs > 0) {\n\n        var handlers = handlersForType.handlers;\n\n        for (var handlerId in handlers) {\n            if (handlers.hasOwnProperty(handlerId)) {\n                handlers[handlerId](params);\n            }\n        }\n    }\n};\n\n/**\n * Unsubscribes to an event previously subscribed to on this manager\n *\n * @param {String} handlerId Subscription handle\n */\nSceneJS_eventManager.prototype.unEvent = function (handlerId) {\n\n    var type = this._handlerIds.items[handlerId];\n    if (!type) {\n        return;\n    }\n\n    this._handlerIds.removeItem(handlerId);\n\n    var handlers = this.typeHandlers[type];\n\n    if (!handlers) {\n        return;\n    }\n\n    delete handlers[handlerId];\n    this.typeHandlers[type].numSubs--;\n};\n/**\n * SceneJS plugin registry\n */\nSceneJS.Plugins = new (function () {\n\n    // Plugin map for each node type\n    var nodePlugins = {};\n\n    // Subscribers to plugins\n    var pluginSubs = {};\n\n    /**\n     * Installs a plugin into SceneJS\n     * @param {String} nodeType Node type name\n     * @param {String} pluginType Plugin type name\n     * @param [{String}] deps List of URLs of JavaScript files that the plugin depends on\n     * @param {Function} plugin Plugin constructor\n     */\n    this.addPlugin = function () {\n        var nodeType = arguments[0];\n        var pluginType = arguments[1];\n        var deps;\n        var plugin;\n        if (arguments.length == 4) {\n            deps = arguments[2];\n            plugin = arguments[3];\n        } else {\n            plugin = arguments[2];\n        }\n        addPlugin(nodeType, pluginType, deps, plugin);\n    };\n\n    function addPlugin(nodeType, pluginType, deps, plugin) {\n        var plugins = nodePlugins[nodeType] || (nodePlugins[nodeType] = {});\n        plugins[pluginType] = plugin;\n        // Load dependencies, if any\n        loadDeps(deps,\n            0,\n            function () {\n                // Notify and unsubscribe subscribers\n                var subId = nodeType + pluginType;\n                var subs = pluginSubs[subId] || (pluginSubs[subId] = []);\n                while (subs.length > 0) {\n                    subs.pop()(plugin);\n                }\n                delete pluginSubs[subId];\n            });\n    }\n\n    // Loads list of dependencies, synchronously and in order\n    function loadDeps(deps, i, ok) {\n        if (!deps || i >= deps.length) {\n            ok();\n            return;\n        }\n        var src = deps[i];\n        var pluginPath = SceneJS_configsModule.configs.pluginPath;\n        if (!pluginPath) {\n            throw \"no pluginPath config\"; // Build script error - should create this config\n        }\n        src = pluginPath + \"/\" + src;\n        loadScript(src,\n            function () {\n                loadDeps(deps, i + 1, ok);\n            });\n    }\n\n    /**\n     * Tests if given plugin is installed\n     */\n    this.hasPlugin = function (nodeType, pluginType) {\n        var plugins = nodePlugins[nodeType];\n        return (plugins && !!plugins[pluginType]);\n    };\n\n    /**\n     * Returns installed plugin of given type and ID\n     */\n    this.getPlugin = function (nodeType, pluginType, ok) {\n        var plugins = nodePlugins[nodeType];\n        if (plugins) {\n            var plugin = plugins[pluginType];\n            if (plugin) {\n                ok(plugin);\n                return;\n            }\n        }\n        var subId = nodeType + pluginType;\n        var subs = pluginSubs[subId] || (pluginSubs[subId] = []);\n        subs.push(ok);\n        if (subs.length > 1) { // Not first sub\n            return;\n        }\n        var self = this;\n        var pluginPath = SceneJS_configsModule.configs.pluginPath;\n        if (!pluginPath) {\n            throw \"no pluginPath config\"; // Build script error - should create this config\n        }\n        var pluginFilePath = pluginPath + \"/\" + nodeType + \"/\" + pluginType + \".js\";\n        loadScript(pluginFilePath);\n    };\n\n    function loadScript(src, ok) {\n        var script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        if (script.readyState) {  //IE\n            script.onreadystatechange = function () {\n                if (script.readyState == \"loaded\" ||\n                    script.readyState == \"complete\") {\n                    script.onreadystatechange = null;\n                    if (ok) {\n                        ok();\n                    }\n                }\n            };\n        } else {  //Others\n            script.onload = function () {\n                if (ok) {\n                    ok();\n                }\n            };\n        }\n        script.src = src;\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\n    }\n\n})();/**\n *  @private\n */\nvar SceneJS_events = new (function () {\n\n    this.ERROR = 0;\n    this.RESET = 1;                         // SceneJS framework reset\n    this.NODE_CREATED = 2;                 // Scene has just been created\n    this.SCENE_CREATED = 3;                 // Scene has just been created\n    this.SCENE_COMPILING = 4;               // Scene about to be compiled and drawn\n    this.SCENE_DESTROYED = 5;               // Scene just been destroyed\n    this.OBJECT_COMPILING = 6;\n    this.WEBGL_CONTEXT_LOST = 7;\n    this.WEBGL_CONTEXT_RESTORED = 8;\n\n    /* Priority queue for each type of event\n     */\n    var events = [];\n\n    /**\n     * Registers a handler for the given event and returns a subscription handle\n     *\n     * The handler can be registered with an optional priority number which specifies the order it is\n     * called among the other handler already registered for the event.\n     *\n     * So, with n being the number of commands registered for the given event:\n     *\n     * (priority <= 0)      - command will be the first called\n     * (priority >= n)      - command will be the last called\n     * (0 < priority < n)   - command will be called at the order given by the priority\n     * @private\n     * @param type Event type - one of the values in SceneJS_events\n     * @param command - Handler function that will accept whatever parameter object accompanies the event\n     * @param priority - Optional priority number (see above)\n     * @return {String} - Subscription handle\n     */\n    this.addListener = function (type, command, priority) {\n\n        var list = events[type];\n\n        if (!list) {\n            list = [];\n            events[type] = list;\n        }\n\n        var handler = {\n            command:command,\n            priority:(priority == undefined) ? list.length : priority\n        };\n\n        var index = -1;\n\n        for (var i = 0, len = list.length; i < len; i++) {\n            if (!list[i]) {\n                index = i;\n                break;\n            }\n        }\n\n        if (index < 0) {\n            list.push(handler);\n            index = list.length - 1;\n        }\n\n//\n//        for (var i = 0; i < list.length; i++) {\n//            if (list[i].priority > handler.priority) {\n//                list.splice(i, 0, handler);\n//                return i;\n//            }\n//        }\n\n\n        var handle = type + \".\" + index;\n\n        return handle;\n    };\n\n    /**\n     * Removes a listener\n     * @param handle Subscription handle\n     */\n    this.removeListener = function (handle) {\n\n        var lastIdx = handle.lastIndexOf(\".\");\n\n        var type = parseInt(handle.substr(0, lastIdx));\n        var index = parseInt(handle.substr(lastIdx + 1));\n\n        var list = events[type];\n\n        if (!list) {\n            return;\n        }\n\n        delete list[index];\n    };\n\n    /**\n     * @private\n     */\n    this.fireEvent = function (type, params) {\n\n        var list = events[type];\n\n        if (list) {\n            params = params || {};\n            for (var i = 0; i < list.length; i++) {\n                if (list[i]) {\n                    list[i].command(params);\n                }\n            }\n        }\n    };\n\n})();\n\n\n/**\n * Subscribe to SceneJS events\n * @deprecated\n */\nSceneJS.bind = function (name, func) {\n    switch (name) {\n\n        case \"error\" :\n\n            return SceneJS_events.addListener(SceneJS_events.ERROR, func);\n            break;\n\n        case \"reset\" :\n\n            return SceneJS_events.addListener(\n                SceneJS_events.RESET,\n                function () {\n                    func();\n                });\n            break;\n\n        case \"webglcontextlost\" :\n\n            return SceneJS_events.addListener(\n                SceneJS_events.WEBGL_CONTEXT_LOST,\n                function (params) {\n                    func(params);\n                });\n            break;\n\n        case \"webglcontextrestored\" :\n\n            return SceneJS_events.addListener(\n                SceneJS_events.WEBGL_CONTEXT_RESTORED,\n                function (params) {\n                    func(params);\n                });\n            break;\n\n        default:\n            throw SceneJS_error.fatalError(\"SceneJS.bind - this event type not supported: '\" + name + \"'\");\n    }\n};\n\n/* Subscribe to SceneJS events\n * @deprecated\n */\nSceneJS.onEvent = SceneJS.bind;\n\n/* Unsubscribe from event\n */\nSceneJS.unEvent = function (handle) {\n    return SceneJS_events.removeListener(handle);\n};\n\nSceneJS.subscribe = SceneJS.addListener = SceneJS.onEvent = SceneJS.bind;\n\nSceneJS.unsubscribe = SceneJS.unEvent;\n\n\nSceneJS.on = SceneJS.onEvent;\nSceneJS.off = SceneJS.unEvent;\n\n\n\n/**\n *\n */\nvar SceneJS_Canvas = function (id, canvasId, contextAttr, options) {\n\n    /**\n     * ID of this canvas\n     */\n    this.canvasId;\n\n    if (!canvasId) {\n        // Automatic default canvas\n        canvasId = \"canvas-\" + id;\n        var body = document.getElementsByTagName(\"body\")[0];\n        var div = document.createElement('div');\n        var style = div.style;\n        style.height = \"100%\";\n        style.width = \"100%\";\n        style.padding = \"0\";\n        style.margin = \"0\";\n        style.left = \"0\";\n        style.top = \"0\";\n        style.position = \"absolute\";\n        // style[\"z-index\"] = \"10000\";\n        div.innerHTML += '<canvas id=\"' + canvasId + '\" style=\"width: 100%; height: 100%; margin: 0; padding: 0;\"></canvas>';\n        body.appendChild(div);\n    }\n\n    // Bind to canvas\n    var canvas = document.getElementById(canvasId);\n    if (!canvas) {\n        throw SceneJS_error.fatalError(SceneJS.errors.CANVAS_NOT_FOUND,\n            \"SceneJS.Scene attribute 'canvasId' does not match any elements in the page\");\n    }\n    this.canvasId = canvasId;\n\n    /**\n     * WebGL context options\n     */\n    this.options = options || {};\n\n    this.canvas = (this.options.simulateWebGLContextLost)\n        ? WebGLDebugUtils.makeLostContextSimulatingCanvas(canvas)\n        : canvas;\n\n    // If the canvas uses css styles to specify the sizes make sure the basic\n    // width and height attributes match or the WebGL context will use 300 x 150\n\n    this.canvas.width = this.canvas.clientWidth;\n    this.canvas.height = this.canvas.clientHeight;\n\n    /**\n     * Attributes given when initialising the WebGL context\n     */\n    this.contextAttr = contextAttr;\n\n    /**\n     * The WebGL context\n     */\n    this.gl = null;\n\n    this.initWebGL();\n};\n\n/**\n * Names of recognised WebGL contexts\n */\nSceneJS_Canvas.prototype._WEBGL_CONTEXT_NAMES = [\n    \"webgl\",\n    \"experimental-webgl\",\n    \"webkit-3d\",\n    \"moz-webgl\",\n    \"moz-glweb20\"\n];\n\n/**\n * Initialise the WebGL context\n\n */\nSceneJS_Canvas.prototype.initWebGL = function () {\n\n    for (var i = 0; !this.gl && i < this._WEBGL_CONTEXT_NAMES.length; i++) {\n        try {\n            this.gl = this.canvas.getContext(this._WEBGL_CONTEXT_NAMES[i], this.contextAttr);\n        } catch (e) { // Try with next context name\n        }\n    }\n\n    if (!this.gl) {\n        throw SceneJS_error.fatalError(\n            SceneJS.errors.WEBGL_NOT_SUPPORTED,\n            'Failed to get a WebGL context');\n    }\n\n   // this.gl.enable(this.gl.SCISSOR_TEST);\n//    this.gl.clearColor(1.0, 1.0, 1.0, 1.0);\n//    this.gl.clearDepth(1.0);\n//    this.gl.enable(this.gl.DEPTH_TEST);\n//    this.gl.disable(this.gl.CULL_FACE);\n//    this.gl.depthRange(0, 1);\n//    this.gl.disable(this.gl.SCISSOR_TEST);\n//    this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n};\n\n\n/**\n * Simulate a lost WebGL context.\n * Only works if the simulateWebGLContextLost was given as an option to the canvas' constructor.\n */\nSceneJS_Canvas.prototype.loseWebGLContext = function () {\n    if (this.options.simulateWebGLContextLost) {\n        this.canvas.loseContext();\n    }\n};\n\n\n/**\n * @class A container for a scene graph and its display\n *\n *\n * @private\n */\nvar SceneJS_Engine = function (json, options) {\n\n    json.type = \"scene\"; // The type property supplied by user on the root JSON node is ignored - would always be 'scene'\n\n    /**\n     * ID of this engine, also the ID of this engine's {@link SceneJS.Scene}\n     * @type String\n     */\n    this.id = json.id;\n\n\n    /**\n     * Number of times the scene is drawn each time it's rendered.\n     * <p>This is useful for when we need to do things like render for left and right eyes.\n     * @type {*|number}\n     */\n    this._numPasses = json.numPasses || 1;\n\n    /**\n     * Canvas and GL context for this engine\n     */\n    this.canvas = new SceneJS_Canvas(this.id, json.canvasId, json.contextAttr, options);\n\n    /**\n     * Manages firing of and subscription to events\n     */\n    this.events = new SceneJS_eventManager();\n\n    /**\n     * State core factory - creates, stores, shares and destroys cores\n     */\n    this._coreFactory = new SceneJS_CoreFactory();\n\n    /**\n     * Manages creation, recycle and destruction of {@link SceneJS.Node} instances for this engine's scene graph\n     */\n    this._nodeFactory = new SceneJS_NodeFactory();\n\n    /**\n     * The engine's scene renderer\n     * @type SceneJS_Display\n     */\n    this.display = new SceneJS_Display({\n        canvas: this.canvas,\n        transparent: json.transparent,\n        dof: json.dof\n    });\n\n    /**\n     * Flags the entirety of the scene graph as needing to be (re)compiled into the display\n     */\n    this.sceneDirty = false;\n\n    /**\n     * Flag set when at least one branch of the scene graph needs recompilation\n     */\n    this._sceneBranchesDirty = false;\n\n    /**\n     * List of nodes scheduled for destruction by #destroyNode\n     * Destructions are done in a batch at the end of each render so as not to disrupt the render.\n     */\n    this._nodesToDestroy = [];\n\n    /**\n     * Number of nodes in destruction list\n     */\n    this._numNodesToDestroy = 0;\n\n    /**\n     * Flag which is set while this engine is running - set after call to #start, unset after #stop or #pause\n     */\n    this.running = false;\n\n    /**\n     * Flag which is set while this engine is paused - set after call to #pause, unset after #stop or #start\n     */\n    this.paused = false;\n\n    /**\n     * Flag set once this engine has been destroyed\n     */\n    this.destroyed = false;\n\n    /**\n     * The current scene graph status\n     */\n    this.sceneStatus = {\n        nodes: {}, // Status for each node\n        numTasks: 0  // Number of loads currently in progress\n    };\n\n    var self = this;\n\n\n    // Create scene root first, then create its subnodes\n    // This way nodes can access the scene in their constructors\n    var nodes = json.nodes;\n    json.nodes = null;\n    this.scene = this.createNode(json); // Create scene root\n\n    if (nodes) {\n        json.nodes = nodes;\n        this.scene.addNodes(nodes); // then create sub-nodes\n    }\n\n    this.canvas.canvas.addEventListener(// WebGL context lost\n        \"webglcontextlost\",\n        function (event) {\n            event.preventDefault();\n            self.stop();\n            SceneJS_events.fireEvent(SceneJS_events.WEBGL_CONTEXT_LOST, { scene: self.scene });\n        },\n        false);\n\n    this.canvas.canvas.addEventListener(// WebGL context recovered\n        \"webglcontextrestored\",\n        function (event) {\n            self.canvas.initWebGL();\n            self._coreFactory.webglRestored();  // Reallocate WebGL resources for node state cores\n            self.display.webglRestored(); // Reallocate shaders and re-cache shader var locations for display state chunks\n            SceneJS_events.fireEvent(SceneJS_events.WEBGL_CONTEXT_RESTORED, { scene: self.scene });\n            self.start();\n        },\n        false);\n};\n\n/**\n * Sets the number of times the scene is drawn on each render.\n * <p>This is useful for when we need to do things like render for left and right eyes.\n * @param {Number} numPasses The number of times the scene is drawn on each frame.\n * @see #getTagMask\n * @see SceneJS.Tag\n */\nSceneJS_Engine.prototype.setNumPasses = function (numPasses) {\n    this._numPasses = numPasses;\n};\n\n/**\n * Simulate a lost WebGL context.\n * Only works if the simulateWebGLContextLost was given as an option to the engine's constructor.\n */\nSceneJS_Engine.prototype.loseWebGLContext = function () {\n    this.canvas.loseWebGLContext();\n};\n\n/**\n * Gets/loads the given node type\n *\n * @param {String} type Node type name\n * @param {Function(Function)} ok Callback fired when type loaded, returns the type constructor\n */\nSceneJS_Engine.prototype.getNodeType = function (type, ok) {\n    SceneJS_NodeFactory.getNodeType(type, ok);\n};\n\n/**\n * Returns true if the given node type is currently loaded (ie. load not required)\n * @param type\n */\nSceneJS_Engine.prototype.hasNodeType = function (type) {\n    return !!SceneJS_NodeFactory.nodeTypes[type];\n};\n\n/**\n * Recursively parse the given JSON scene graph representation and return a scene (sub)graph.\n *\n * @param {Object} json JSON definition of a scene graph or subgraph\n * @param {Function} ok Callback fired when node created, with the node as argument\n */\nSceneJS_Engine.prototype.createNode = function (json, ok) {\n\n    // Do buffered node destroys - don't want olds nodes\n    // hanging around whose IDs may clash with the new node\n    this._doDestroyNodes();\n\n    json.type = json.type || \"node\"; // Nodes are SceneJS.Node type by default\n    var core = this._coreFactory.getCore(json.type, json.coreId); // Create or share a core\n    var self = this;\n\n    return this._nodeFactory.getNode(\n        this,\n        json,\n        core,\n        function (node) {\n\n            // Create child nodes\n            if (!node._fromPlugin && json.nodes) {\n                var numNodes = 0;\n                for (var i = 0, len = json.nodes.length; i < len; i++) {\n                    self.createNode(\n                        json.nodes[i],\n                        function (childNode) {\n                            node.addNode(childNode);\n                            if (++numNodes == len) {\n                                if (ok) {\n                                    ok(node);\n                                }\n                                self.scene.publish(\"nodes/\" + node.id, node);\n                            }\n                        });\n                }\n            } else {\n                if (ok) {\n                    ok(node);\n                    self.scene.publish(\"nodes/\" + node.id, node);\n                }\n            }\n        });\n};\n\n/**\n * Performs pending node destructions. When destroyed, each node and its core is released back to the\n * node and core pools for reuse, respectively.\n */\nSceneJS_Engine.prototype._doDestroyNodes = function () {\n    var node;\n    while (this._numNodesToDestroy > 0) {\n        node = this._nodesToDestroy[--this._numNodesToDestroy];\n        node._doDestroy();\n        this._coreFactory.putCore(node._core);    // Release state core for reuse\n        this._nodeFactory.putNode(node);         // Release node for reuse\n    }\n};\n\n/**\n * Finds the node with the given ID in this engine's scene graph\n * @return {SceneJS.Node} The node if found, else null\n */\nSceneJS_Engine.prototype.findNode = function (nodeId) {\n    return this._nodeFactory.nodes.items[nodeId];\n};\n\n/** Finds nodes in this engine's scene graph that have nodes IDs matching the given regular expression\n * @param {String} nodeIdRegex Regular expression to match on node IDs\n * @return {[SceneJS.Node]} Array of nodes whose IDs match the given regex\n */\nSceneJS_Engine.prototype.findNodes = function (nodeIdRegex) {\n\n    var regex = new RegExp(nodeIdRegex);\n    var nodes = [];\n    var nodeMap = this._nodeFactory.nodes.items;\n\n    for (var nodeId in nodeMap) {\n        if (nodeMap.hasOwnProperty(nodeId)) {\n\n            if (regex.test(nodeId)) {\n                nodes.push(nodeMap[nodeId]);\n            }\n        }\n    }\n\n    return nodes;\n};\n\n/**\n * Tests whether a core of the given ID exists for the given node type\n * @param {String} type Node type\n * @param {String} coreId\n * @returns Boolean\n */\nSceneJS_Engine.prototype.hasCore = function (type, coreId) {\n    return this._coreFactory.hasCore(type, coreId);\n};\n\n/**\n * Schedules the given subtree of this engine's {@link SceneJS.Scene} for recompilation\n *\n * @param {SceneJS.Node} node Root node of the subtree to recompile\n */\nSceneJS_Engine.prototype.branchDirty = function (node) {\n\n    if (this.sceneDirty) {\n        return; // Whole scene will recompile anyway\n    }\n\n    /* Dealing with some weirdness with the embedded window and iframe / window fascism.\n     */\n    if (node == window) {\n        return;\n    }\n\n    node.branchDirty = true;\n    node.dirty = true;\n\n    for (var n = node.parent; n && !(n.dirty || n.branchDirty); n = n.parent) { // Flag path down to this node\n        n.dirty = true;\n    }\n\n    this._sceneBranchesDirty = true;\n};\n\n/**\n * Renders a single frame. Does any pending scene compilations or draw graph updates first.\n * Ordinarily the frame is rendered only if compilations or draw graph updates were performed,\n * but may be forced to render the frame regardless.\n *\n * @param {*} params Rendering parameters\n * @param {Boolean} params.clear True to clear the display first (default)\n */\nSceneJS_Engine.prototype.renderFrame = function (params) {\n\n    var rendered = false;\n\n    if (this._needCompile() || (params && params.force)) {\n\n//        // Render display graph\n//        this.display.render(params);\n\n        var time = (new Date()).getTime();\n\n        // Render the scene once for each pass\n        for (var i = 0; i < this._numPasses; i++) {\n\n            // Notify that render is upcoming\n            this.scene.publish(\"rendering\", {\n                pass: i\n            });\n\n            // Compile scene graph to display graph, if necessary\n            this._doCompile();\n\n            // Render display graph\n            // Clear buffers only on first frame\n            this.display.render({\n                clear: i == 0\n            });\n\n            // Notify that render completed\n            this.scene.publish(\"rendered\", {\n                sceneId: this.id,\n                time: time,\n                pass: i\n            });\n\n            rendered = true;\n        }\n    }\n\n    return rendered;\n};\n\n/**\n * Starts the render loop on this engine.\n */\nSceneJS_Engine.prototype.start = function () {\n\n    if (!this.running) { // Do nothing if already started\n\n        this.running = true;\n        this.paused = false;\n        this.sceneDirty = true;\n\n        var self = this;\n        var fnName = \"__scenejs_sceneLoop\" + this.id;\n        var sleeping = false;\n        var time = (new Date()).getTime();\n        var prevTime = time;\n        var startTime = time;\n        var scene = this.scene;\n        var rendered = false;\n\n        // Notify started\n        this.events.fireEvent(\"started\", {\n            sceneId: self.id,\n            startTime: startTime\n        });\n\n        // Animation frame callback\n        window[fnName] = function () {\n\n            if (self.running && !self.paused) {\n\n                time = (new Date()).getTime();\n\n                scene.publish(\"tick\", {\n                    sceneId: self.id,\n                    startTime: startTime,\n                    prevTime: prevTime,\n                    time: time\n                });\n\n                prevTime = time;\n\n                if (!self.running) { // \"tick\" handler have destroyed scene\n                    return;\n                }\n\n                rendered = false;\n\n                // Render the scene once for each pass\n                for (var i = 0; i < self._numPasses; i++) {\n\n                    if (self._needCompile() || rendered) {\n\n                        sleeping = false;\n\n                        // Notify we're about to do a render\n                        scene.publish(\"rendering\", {\n                            pass: i\n                        });\n\n                        // Compile scene graph to display graph, if necessary\n                        self._doCompile();\n\n                        // Render display graph\n                        // Clear buffers only on first frame\n                        self.display.render({\n                            clear: i == 0\n                        });\n\n                        // Notify that we've just done a render\n                        scene.publish(\"rendered\", {\n                            sceneId: self.id,\n                            time: time,\n                            pass: i\n                        });\n\n                        rendered = true;\n                    }\n                }\n\n                // If any of the passes did not render anything, then put the render loop to sleep again\n                if (!rendered) {\n                    if (!sleeping) {\n                        scene.publish(\"sleep\", {\n                            sceneId: self.id,\n                            startTime: startTime,\n                            prevTime: time,\n                            time: time\n                        });\n                    }\n                    sleeping = true;\n                }\n            }\n\n            if (self.running) {\n                window.requestAnimationFrame(window[fnName]);\n            }\n        };\n\n        window.requestAnimationFrame(window[fnName]);\n    }\n};\n\n/**\n * Performs a pick on this engine and returns a hit record containing at least the name of the picked\n * scene object (as configured by SceneJS.Name nodes) and the canvas pick coordinates. Ordinarily, picking\n * is the simple GPU color-name mapped method, but this method can instead perform a ray-intersect pick\n * when the 'rayPick' flag is set on the options parameter for this method. For that mode, this method will\n * also find the intersection point on the picked object's near surface with a ray cast from the eye that passes\n * through the mouse position on the projection plane.\n *\n * @param {Number} canvasX X-axis canvas pick coordinate\n * @param {Number} canvasY Y-axis canvas pick coordinate\n * @param options Pick options\n * @param options.rayPick Performs additional ray-intersect pick when true\n * @returns The pick record\n */\nSceneJS_Engine.prototype.pick = function (canvasX, canvasY, options) {\n\n    // Do any pending scene compilations\n    if (this._needCompile()) {\n        this._doCompile();\n    }\n\n    var hit = this.display.pick({\n        canvasX: canvasX,\n        canvasY: canvasY,\n        rayPick: options ? options.rayPick : false\n    });\n\n    return hit;\n};\n\n/**\n * Returns true if view needs refreshing from scene\n * @returns {Boolean}\n * @private\n */\nSceneJS_Engine.prototype._needCompile = function () {\n    return (this.display.imageDirty // Frame buffer needs redraw\n        || this.display.drawListDirty // Draw list needs rebuild\n        || this.display.stateSortDirty // Draw list needs to redetermine state order\n        || this.display.stateOrderDirty // Draw list needs state sort\n        || this.display.objectListDirty // Draw list needs to be rebuilt\n        || this._sceneBranchesDirty // One or more branches in scene graph need (re)compilation\n        || this.sceneDirty); // Whole scene needs recompilation\n};\n\n/**\n * Performs any pending scene compilations or display rebuilds\n */\nSceneJS_Engine.prototype._doCompile = function () {\n    if (this._sceneBranchesDirty || this.sceneDirty) { // Need scene graph compilation\n        this._sceneBranchesDirty = false;\n        SceneJS_events.fireEvent(SceneJS_events.SCENE_COMPILING, {  // Notify compilation support start\n            engine: this                                            // Compilation support modules get ready\n        });\n        this.pubSubProxy = new SceneJS_PubSubProxy(this.scene, null);\n        var ctx = {\n            pubSubProxy: this.pubSubProxy\n        };\n        this.scene._compileNodes(ctx); // Begin depth-first compilation descent into scene sub-nodes\n        this.sceneDirty = false;\n    }\n    this._doDestroyNodes(); // Garbage collect destroyed nodes - node destructions set imageDirty true\n};\n\n/**\n * Pauses/unpauses the render loop\n * @param {Boolean} doPause Pauses or unpauses the render loop\n */\nSceneJS_Engine.prototype.pause = function (doPause) {\n    this.paused = doPause;\n};\n\n/**\n * Stops the render loop\n */\nSceneJS_Engine.prototype.stop = function () {\n    if (this.running) {\n        this.running = false;\n        this.paused = false;\n        window[\"__scenejs_sceneLoop\" + this.id] = null;\n        //   this.events.fireEvent(\"stopped\", { sceneId: this.id });\n    }\n};\n\n/**\n * Destroys a node within this engine's {@link SceneJS.Scene}\n *\n * @param {SceneJS.Node} node Node to destroy\n */\nSceneJS_Engine.prototype.destroyNode = function (node) {\n\n    /* The node is actually scheduled for lazy destruction within the next invocation of #_tryCompile\n     */\n    this._nodesToDestroy[this._numNodesToDestroy++] = node;\n\n    /* Stop tracking node's status\n     */\n    var nodeStatus = this.sceneStatus.nodes[node.id];\n\n    if (nodeStatus) {\n        this.sceneStatus.numTasks -= nodeStatus.numTasks;\n        delete this.sceneStatus.nodes[node.id];\n    }\n};\n\n/**\n * Destroys this engine\n */\nSceneJS_Engine.prototype.destroy = function () {\n    this.destroyed = true;\n    // this.events.fireEvent(\"destroyed\", { sceneId: this.id });\n};\n\n/*---------------------------------------------------------------------------------------------------------------------\n * JavaScript augmentations to support render loop\n *--------------------------------------------------------------------------------------------------------------------*/\n\nif (!self.Int32Array) {\n    self.Int32Array = Array;\n    self.Float32Array = Array;\n}\n\n// Ripped off from THREE.js - https://github.com/mrdoob/three.js/blob/master/src/Three.js\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n\n(function () {\n    var lastTime = 0;\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame']\n            || window[vendors[x] + 'RequestCancelAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function (callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function () {\n                    callback(currTime + timeToCall);\n                },\n                timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n\n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function (id) {\n            clearTimeout(id);\n        };\n}());\n/**\n * Backend module that provides single point through which exceptions may be raised\n *\n * @class SceneJS_error\n * @private\n */\nvar SceneJS_error = new (function() {\n\n    var activeSceneId;\n\n    SceneJS_events.addListener(\n            SceneJS_events.SCENE_COMPILING, // Set default logging for scene root\n            function(params) {\n                activeSceneId = params.engine.id;\n            });\n\n    SceneJS_events.addListener(\n            SceneJS_events.RESET,\n            function() {\n                activeSceneId = null;\n            },\n            100000);  // Really low priority - must be reset last\n\n    this.fatalError = function(code, message) {\n        if (typeof code == \"string\") {\n            message = code;\n            code = SceneJS.errors.ERROR;\n        }\n        var error = {\n            errorName: SceneJS.errors._getErrorName(code) || \"ERROR\",\n            code: code,\n            exception: message,\n            fatal: true\n        };\n        if (activeSceneId) {\n            error.sceneId = activeSceneId;\n        }\n        SceneJS_events.fireEvent(SceneJS_events.ERROR, error);\n        return message;\n    };\n\n    this.error = function(code, message) {\n        var error = {\n            errorName: SceneJS.errors._getErrorName(code) || \"ERROR\",\n            code: code,\n            exception: message,\n            fatal: false\n        };\n        if (activeSceneId) {\n            error.sceneId = activeSceneId;\n        }\n        SceneJS_events.fireEvent(SceneJS_events.ERROR, error);\n    };\n})();\n\n(function() {\n    SceneJS.errors = {};\n\n    var n = 0;\n    SceneJS.errors.ERROR = n++;\n    SceneJS.errors.WEBGL_NOT_SUPPORTED = n++;\n    SceneJS.errors.WEBGL_CONTEXT_LOST = n++;\n    SceneJS.errors.NODE_CONFIG_EXPECTED = n++;\n    SceneJS.errors.ILLEGAL_NODE_CONFIG = n++;\n    SceneJS.errors.SHADER_COMPILATION_FAILURE = n++;\n    SceneJS.errors.SHADER_LINK_FAILURE = n++;\n    SceneJS.errors.CANVAS_NOT_FOUND = n++;\n    SceneJS.errors.OUT_OF_VRAM = n++;\n    SceneJS.errors.WEBGL_UNSUPPORTED_NODE_CONFIG = n++;\n    SceneJS.errors.NODE_NOT_FOUND = n++;\n    SceneJS.errors.NODE_ILLEGAL_STATE = n++;\n    SceneJS.errors.ID_CLASH = n++;\n    SceneJS.errors.PLUGIN_INVALID = n++;\n})();\n\nSceneJS.errors._getErrorName = function(code) {\n    for (var key in SceneJS.errors) {\n        if (SceneJS.errors.hasOwnProperty(key) && SceneJS.errors[key] == code) {\n            return key;\n        }\n    }\n    return null;\n};\n\n/**\n * Backend that manages configurations.\n *\n * @class SceneJS_configsModule\n * @private\n */\nvar SceneJS_configsModule = new (function () {\n\n    this.configs = {};\n    var subs = {};\n\n    /**\n     * Set a config\n     * @param path\n     * @param data\n     */\n    this.setConfigs = function (path, data) {\n        // Update configs\n        if (!path) {\n            this.configs = data;\n        } else {\n            var parts = path.split(\".\");\n            var cfg = this.configs;\n            var subCfg;\n            var name;\n            for (var i = 0; i < parts.length - 1; i++) {\n                name = parts[i];\n                subCfg = cfg[name];\n                if (!subCfg) {\n                    subCfg = cfg[name] = {};\n                }\n                cfg = subCfg;\n            }\n            cfg[parts.length - 1] = data;\n        }\n        // Notify subscribers\n        var list = subs[path || \"_all\"];\n        if (list) {\n            for (var i = 0, len = list.length; i < len; i++) {\n                list[i](cfg);\n            }\n        }\n\n        SceneJS.publish(\"configs\", this.configs);\n    };\n\n    /**\n     * Get a config\n     * @param path\n     * @return {*}\n     */\n    this.getConfigs = function (path) {\n        if (!path) {\n            return this.configs;\n        } else {\n            var cfg = this.configs;\n            var parts = path.split(\".\");\n            for (var i = 0; cfg && i < parts.length; i++) {\n                cfg = cfg[parts[i]];\n            }\n            return (cfg != undefined) ? cfg : {};\n        }\n    };\n\n    /**\n     * Subscribe to updates to a config\n     * @param path\n     * @param ok\n     */\n    this.on = function (path, ok) {\n        path = path || \"_all\";\n        (subs[path] || (subs[path] = [])).push(ok);\n        ok(this.getConfigs(path));\n    };\n\n})();\n\n/** Sets configurations.\n */\nSceneJS.configure = SceneJS.setConfigs = SceneJS.setDebugConfigs = function () {\n    if (arguments.length == 1) {\n        SceneJS_configsModule.setConfigs(null, arguments[0]);\n    } else if (arguments.length == 2) {\n        SceneJS_configsModule.setConfigs(arguments[0], arguments[1]);\n    } else {\n        throw SceneJS_error.fatalError(\"Illegal arguments given to SceneJS.setDebugs - should be either ({String}:name, {Object}:cfg) or ({Object}:cfg)\");\n    }\n};\n\n/** Gets configurations\n */\nSceneJS.getConfigs = SceneJS.getDebugConfigs = function (path) {\n    return SceneJS_configsModule.getConfigs(path);\n};\n\n/**\n * @class Manages logging\n *  @private\n */\nSceneJS.log = new (function() {\n\n    var activeSceneId;\n    var funcs = null;\n    var queues = {};\n    var indent = 0;\n    var indentStr = \"\";\n\n    SceneJS_events.addListener(\n            SceneJS_events.SCENE_COMPILING, // Set default logging for scene root\n            function(params) {\n                activeSceneId = params.engine.id;\n            });\n\n    SceneJS_events.addListener(\n            SceneJS_events.RESET,\n            function() {\n                queues = {};\n                funcs = null;\n                activeSceneId = null;\n            },\n            100000);  // Really low priority - must be reset last\n\n    this._setIndent = function(_indent) {\n        indent = _indent;\n        var indentArray = [];\n        for (var i = 0; i < indent; i++) {\n            indentArray.push(\"----\");\n        }\n        indentStr = indentArray.join(\"\");\n    };\n\n    this.error = function(msg) {\n        this._log(\"error\", msg);\n    };\n\n    this.warn = function(msg) {\n        this._log(\"warn\", msg);\n    };\n\n    this.info = function(msg) {\n        this._log(\"info\", msg);\n    };\n\n    this.debug = function(msg) {\n        this._log(\"debug\", msg);\n    };\n\n    this.setFuncs = function(l) {\n        if (l) {\n            funcs = l;\n            for (var channel in queues) {\n                this._flush(channel);\n            }\n        }\n    };\n\n    this._flush = function(channel) {\n        var queue = queues[channel];\n        if (queue) {\n            var func = funcs ? funcs[channel] : null;\n            if (func) {\n                for (var i = 0; i < queue.length; i++) {\n                    func(queue[i]);\n                }\n                queues[channel] = [];\n            }\n        }\n    };\n\n    this._log = function(channel, message) {\n        if (SceneJS._isArray(message)) {\n            for (var i = 0; i < message.length; i++) {\n                this.__log(channel, message[i]);\n            }\n        } else {\n            this.__log(channel, message);\n        }\n    };\n\n    this.__log = function(channel, message) {\n        message = activeSceneId\n                ? indentStr + activeSceneId + \": \" + message\n                : indentStr + message;\n\n        if (funcs && funcs[channel]) {\n            funcs[channel](message);\n\n        } else if (console && console[channel]) {\n            console[channel](message);\n        }\n    };\n\n    this.getFuncs = function() {\n        return funcs;\n    };\n\n})();/* \n * Optimizations made based on glMatrix by Brandon Jones\n */\n\n/*\n * Copyright (c) 2010 Brandon Jones\n *\n * This software is provided 'as-is', without any express or implied\n * warranty. In no event will the authors be held liable for any damages\n * arising from the use of this software.\n *\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n *\n *    1. The origin of this software must not be misrepresented; you must not\n *    claim that you wrote the original software. If you use this software\n *    in a product, an acknowledgment in the product documentation would be\n *    appreciated but is not required.\n *\n *    2. Altered source versions must be plainly marked as such, and must not\n *    be misrepresented as being the original software.\n *\n *    3. This notice may not be removed or altered from any source\n *    distribution.\n */\n\n\n/**\n * @param u vec3\n * @param v vec3\n * @param dest vec3 - optional destination\n * @return {vec3} dest if specified, u otherwise\n * @private\n */\nvar SceneJS_math_divVec3 = function(u, v, dest) {\n    if (!dest) {\n        dest = u;\n    }\n\n    dest[0] = u[0] / v[0];\n    dest[1] = u[1] / v[1];\n    dest[2] = u[2] / v[2];\n\n    return dest;\n};\n\n/**\n * @param v vec4\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_negateVector4 = function(v, dest) {\n    if (!dest) {\n        dest = v;\n    }\n    dest[0] = -v[0];\n    dest[1] = -v[1];\n    dest[2] = -v[2];\n    dest[3] = -v[3];\n\n    return dest;\n};\n\n/**\n * @param u vec4\n * @param v vec4\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, u otherwise\n * @private\n */\nvar SceneJS_math_addVec4 = function(u, v, dest) {\n    if (!dest) {\n        dest = u;\n    }\n\n    dest[0] = u[0] + v[0];\n    dest[1] = u[1] + v[1];\n    dest[2] = u[2] + v[2];\n    dest[3] = u[3] + v[3];\n\n    return dest;\n};\n\n\n/**\n * @param v vec4\n * @param s scalar\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_addVec4s = function(v, s, dest) {\n    if (!dest) {\n        dest = v;\n    }\n\n    dest[0] = v[0] + s;\n    dest[1] = v[1] + s;\n    dest[2] = v[2] + s;\n    dest[3] = v[3] + s;\n\n    return dest;\n};\n\n/**\n * @param u vec3\n * @param v vec3\n * @param dest vec3 - optional destination\n * @return {vec3} dest if specified, u otherwise\n * @private\n */\nvar SceneJS_math_addVec3 = function(u, v, dest) {\n    if (!dest) {\n        dest = u;\n    }\n\n    dest[0] = u[0] + v[0];\n    dest[1] = u[1] + v[1];\n    dest[2] = u[2] + v[2];\n\n    return dest;\n};\n\n/**\n * @param v vec3\n * @param s scalar\n * @param dest vec3 - optional destination\n * @return {vec3} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_addVec3s = function(v, s, dest) {\n    if (!dest) {\n        dest = v;\n    }\n\n    dest[0] = v[0] + s;\n    dest[1] = v[1] + s;\n    dest[2] = v[2] + s;\n\n    return dest;\n};\n\n/** @private */\nvar SceneJS_math_addScalarVec4 = function(s, v, dest) {\n    return SceneJS_math_addVec4s(v, s, dest);\n};\n\n/**\n * @param u vec4\n * @param v vec4\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, u otherwise\n * @private\n */\nvar SceneJS_math_subVec4 = function(u, v, dest) {\n    if (!dest) {\n        dest = u;\n    }\n\n    dest[0] = u[0] - v[0];\n    dest[1] = u[1] - v[1];\n    dest[2] = u[2] - v[2];\n    dest[3] = u[3] - v[3];\n\n    return dest;\n};\n\n/**\n * @param u vec3\n * @param v vec3\n * @param dest vec3 - optional destination\n * @return {vec3} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_subVec3 = function(u, v, dest) {\n    if (!dest) {\n        dest = u;\n    }\n\n    dest[0] = u[0] - v[0];\n    dest[1] = u[1] - v[1];\n    dest[2] = u[2] - v[2];\n\n    return dest;\n};\n\nvar SceneJS_math_lerpVec3 = function(t, t1, t2, p1, p2) {\n    var f2 = (t - t1) / (t2 - t1);\n    var f1 = 1.0 - f2;\n    return  {\n        x: p1.x * f1 + p2.x * f2,\n        y: p1.y * f1 + p2.y * f2,\n        z: p1.z * f1 + p2.z * f2\n    };\n};\n\n\n/**\n * @param u vec2\n * @param v vec2\n * @param dest vec2 - optional destination\n * @return {vec2} dest if specified, u otherwise\n * @private\n */\nvar SceneJS_math_subVec2 = function(u, v, dest) {\n    if (!dest) {\n        dest = u;\n    }\n\n    dest[0] = u[0] - v[0];\n    dest[1] = u[1] - v[1];\n\n    return dest;\n};\n\n/**\n * @param v vec4\n * @param s scalar\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_subVec4Scalar = function(v, s, dest) {\n    if (!dest) {\n        dest = v;\n    }\n\n    dest[0] = v[0] - s;\n    dest[1] = v[1] - s;\n    dest[2] = v[2] - s;\n    dest[3] = v[3] - s;\n\n    return dest;\n};\n\n/**\n * @param v vec4\n * @param s scalar\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_subScalarVec4 = function(v, s, dest) {\n    if (!dest) {\n        dest = v;\n    }\n\n    dest[0] = s - v[0];\n    dest[1] = s - v[1];\n    dest[2] = s - v[2];\n    dest[3] = s - v[3];\n\n    return dest;\n};\n\n/**\n * @param u vec4\n * @param v vec4\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, u otherwise\n * @private\n */\nvar SceneJS_math_mulVec4 = function(u, v, dest) {\n    if (!dest) {\n        dest = u;\n    }\n\n    dest[0] = u[0] * v[0];\n    dest[1] = u[1] * v[1];\n    dest[2] = u[2] * v[2];\n    dest[3] = u[3] * v[3];\n\n    return dest;\n};\n\n/**\n * @param v vec4\n * @param s scalar\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_mulVec4Scalar = function(v, s, dest) {\n    if (!dest) {\n        dest = v;\n    }\n\n    dest[0] = v[0] * s;\n    dest[1] = v[1] * s;\n    dest[2] = v[2] * s;\n    dest[3] = v[3] * s;\n\n    return dest;\n};\n\n\n/**\n * @param v vec3\n * @param s scalar\n * @param dest vec3 - optional destination\n * @return {vec3} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_mulVec3Scalar = function(v, s, dest) {\n    if (!dest) {\n        dest = v;\n    }\n\n    dest[0] = v[0] * s;\n    dest[1] = v[1] * s;\n    dest[2] = v[2] * s;\n\n    return dest;\n};\n\n/**\n * @param v vec2\n * @param s scalar\n * @param dest vec2 - optional destination\n * @return {vec2} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_mulVec2Scalar = function(v, s, dest) {\n    if (!dest) {\n        dest = v;\n    }\n\n    dest[0] = v[0] * s;\n    dest[1] = v[1] * s;\n\n    return dest;\n};\n\n\n/**\n * @param u vec4\n * @param v vec4\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, u otherwise\n * @private\n */\nvar SceneJS_math_divVec4 = function(u, v, dest) {\n    if (!dest) {\n        dest = u;\n    }\n\n    dest[0] = u[0] / v[0];\n    dest[1] = u[1] / v[1];\n    dest[2] = u[2] / v[2];\n    dest[3] = u[3] / v[3];\n\n    return dest;\n};\n\n/**\n * @param v vec3\n * @param s scalar\n * @param dest vec3 - optional destination\n * @return {vec3} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_divScalarVec3 = function(s, v, dest) {\n    if (!dest) {\n        dest = v;\n    }\n\n    dest[0] = s / v[0];\n    dest[1] = s / v[1];\n    dest[2] = s / v[2];\n\n    return dest;\n};\n\n/**\n * @param v vec3\n * @param s scalar\n * @param dest vec3 - optional destination\n * @return {vec3} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_divVec3s = function(v, s, dest) {\n    if (!dest) {\n        dest = v;\n    }\n\n    dest[0] = v[0] / s;\n    dest[1] = v[1] / s;\n    dest[2] = v[2] / s;\n\n    return dest;\n};\n\n/**\n * @param v vec4\n * @param s scalar\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_divVec4s = function(v, s, dest) {\n    if (!dest) {\n        dest = v;\n    }\n\n    dest[0] = v[0] / s;\n    dest[1] = v[1] / s;\n    dest[2] = v[2] / s;\n    dest[3] = v[3] / s;\n\n    return dest;\n};\n\n\n/**\n * @param s scalar\n * @param v vec4\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_divScalarVec4 = function(s, v, dest) {\n    if (!dest) {\n        dest = v;\n    }\n\n    dest[0] = s / v[0];\n    dest[1] = s / v[1];\n    dest[2] = s / v[2];\n    dest[3] = s / v[3];\n\n    return dest;\n};\n\n\n/** @private */\nvar SceneJS_math_dotVector4 = function(u, v) {\n    return (u[0] * v[0] + u[1] * v[1] + u[2] * v[2] + u[3] * v[3]);\n};\n\n/** @private */\nvar SceneJS_math_cross3Vec4 = function(u, v) {\n    var u0 = u[0], u1 = u[1], u2 = u[2];\n    var v0 = v[0], v1 = v[1], v2 = v[2];\n    return [\n        u1 * v2 - u2 * v1,\n        u2 * v0 - u0 * v2,\n        u0 * v1 - u1 * v0,\n        0.0];\n};\n\n/**\n * @param u vec3\n * @param v vec3\n * @param dest vec3 - optional destination\n * @return {vec3} dest if specified, u otherwise\n * @private\n */\nvar SceneJS_math_cross3Vec3 = function(u, v, dest) {\n    if (!dest) {\n        dest = u;\n    }\n\n    var x = u[0], y = u[1], z = u[2];\n    var x2 = v[0], y2 = v[1], z2 = v[2];\n\n    dest[0] = y * z2 - z * y2;\n    dest[1] = z * x2 - x * z2;\n    dest[2] = x * y2 - y * x2;\n\n    return dest;\n};\n\n/** @private */\nvar SceneJS_math_sqLenVec4 = function(v) {\n    return SceneJS_math_dotVector4(v, v);\n};\n\n/** @private */\nvar SceneJS_math_lenVec4 = function(v) {\n    return Math.sqrt(SceneJS_math_sqLenVec4(v));\n};\n\n/** @private */\nvar SceneJS_math_dotVector3 = function(u, v) {\n    return (u[0] * v[0] + u[1] * v[1] + u[2] * v[2]);\n};\n\n/** @private */\nvar SceneJS_math_dotVector2 = function(u, v) {\n    return (u[0] * v[0] + u[1] * v[1]);\n};\n\n/** @private */\nvar SceneJS_math_sqLenVec3 = function(v) {\n    return SceneJS_math_dotVector3(v, v);\n};\n\n/** @private */\nvar SceneJS_math_sqLenVec2 = function(v) {\n    return SceneJS_math_dotVector2(v, v);\n};\n\n/** @private */\nvar SceneJS_math_lenVec3 = function(v) {\n    return Math.sqrt(SceneJS_math_sqLenVec3(v));\n};\n\n/** @private */\nvar SceneJS_math_lenVec2 = function(v) {\n    return Math.sqrt(SceneJS_math_sqLenVec2(v));\n};\n\n/**\n * @param v vec3\n * @param dest vec3 - optional destination\n * @return {vec3} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_rcpVec3 = function(v, dest) {\n    return SceneJS_math_divScalarVec3(1.0, v, dest);\n};\n\n/**\n * @param v vec4\n * @param dest vec4 - optional destination\n * @return {vec4} dest if specified, v otherwise\n * @private\n */\nvar SceneJS_math_normalizeVec4 = function(v, dest) {\n    var f = 1.0 / SceneJS_math_lenVec4(v);\n    return SceneJS_math_mulVec4Scalar(v, f, dest);\n};\n\n/** @private */\nvar SceneJS_math_normalizeVec3 = function(v, dest) {\n    var f = 1.0 / SceneJS_math_lenVec3(v);\n    return SceneJS_math_mulVec3Scalar(v, f, dest);\n};\n\n// @private\nvar SceneJS_math_normalizeVec2 = function(v, dest) {\n    var f = 1.0 / SceneJS_math_lenVec2(v);\n    return SceneJS_math_mulVec2Scalar(v, f, dest);\n};\n\n/** @private */\nvar SceneJS_math_mat4 = function() {\n    return new Array(16);\n};\n\n/** @private */\nvar SceneJS_math_dupMat4 = function(m) {\n    return m.slice(0, 16);\n};\n\n/** @private */\nvar SceneJS_math_getCellMat4 = function(m, row, col) {\n    return m[row + col * 4];\n};\n\n/** @private */\nvar SceneJS_math_setCellMat4 = function(m, row, col, s) {\n    m[row + col * 4] = s;\n};\n\n/** @private */\nvar SceneJS_math_getRowMat4 = function(m, r) {\n    return [m[r], m[r + 4], m[r + 8], m[r + 12]];\n};\n\n/** @private */\nvar SceneJS_math_setRowMat4 = function(m, r, v) {\n    m[r] = v[0];\n    m[r + 4] = v[1];\n    m[r + 8] = v[2];\n    m[r + 12] = v[3];\n};\n\n/** @private */\nvar SceneJS_math_setRowMat4c = function(m, r, x, y, z, w) {\n    SceneJS_math_setRowMat4(m, r, [x,y,z,w]);\n};\n\n/** @private */\nvar SceneJS_math_setRowMat4s = function(m, r, s) {\n    SceneJS_math_setRowMat4c(m, r, s, s, s, s);\n};\n\n/** @private */\nvar SceneJS_math_getColMat4 = function(m, c) {\n    var i = c * 4;\n    return [m[i], m[i + 1],m[i + 2],m[i + 3]];\n};\n\n/** @private */\nvar SceneJS_math_setColMat4v = function(m, c, v) {\n    var i = c * 4;\n    m[i] = v[0];\n    m[i + 1] = v[1];\n    m[i + 2] = v[2];\n    m[i + 3] = v[3];\n};\n\n/** @private */\nvar SceneJS_math_setColMat4c = function(m, c, x, y, z, w) {\n    SceneJS_math_setColMat4v(m, c, [x,y,z,w]);\n};\n\n/** @private */\nvar SceneJS_math_setColMat4Scalar = function(m, c, s) {\n    SceneJS_math_setColMat4c(m, c, s, s, s, s);\n};\n\n/** @private */\nvar SceneJS_math_mat4To3 = function(m) {\n    return [\n        m[0],m[1],m[2],\n        m[4],m[5],m[6],\n        m[8],m[9],m[10]\n    ];\n};\n\n/** @private */\nvar SceneJS_math_m4s = function(s) {\n    return [\n        s,s,s,s,\n        s,s,s,s,\n        s,s,s,s,\n        s,s,s,s\n    ];\n};\n\n/** @private */\nvar SceneJS_math_setMat4ToZeroes = function() {\n    return SceneJS_math_m4s(0.0);\n};\n\n/** @private */\nvar SceneJS_math_setMat4ToOnes = function() {\n    return SceneJS_math_m4s(1.0);\n};\n\n/** @private */\nvar SceneJS_math_diagonalMat4v = function(v) {\n    return [\n        v[0], 0.0, 0.0, 0.0,\n        0.0,v[1], 0.0, 0.0,\n        0.0, 0.0, v[2],0.0,\n        0.0, 0.0, 0.0, v[3]\n    ];\n};\n\n/** @private */\nvar SceneJS_math_diagonalMat4c = function(x, y, z, w) {\n    return SceneJS_math_diagonalMat4v([x,y,z,w]);\n};\n\n/** @private */\nvar SceneJS_math_diagonalMat4s = function(s) {\n    return SceneJS_math_diagonalMat4c(s, s, s, s);\n};\n\n/** @private */\nvar SceneJS_math_identityMat4 = function() {\n    return SceneJS_math_diagonalMat4v([1.0,1.0,1.0,1.0]);\n};\n\n/** @private */\nvar SceneJS_math_isIdentityMat4 = function(m) {\n    if (m[0] !== 1.0 || m[1] !== 0.0 || m[2] !== 0.0 || m[3] !== 0.0 ||\n        m[4] !== 0.0 || m[5] !== 1.0 || m[6] !== 0.0 || m[7] !== 0.0 ||\n        m[8] !== 0.0 || m[9] !== 0.0 || m[10] !== 1.0 || m[11] !== 0.0 ||\n        m[12] !== 0.0 || m[13] !== 0.0 || m[14] !== 0.0 || m[15] !== 1.0)\n    {\n        return false;\n    }\n\n    return true;\n};\n\n/**\n * @param m mat4\n * @param dest mat4 - optional destination\n * @return {mat4} dest if specified, m otherwise\n * @private\n */\nvar SceneJS_math_negateMat4 = function(m, dest) {\n    if (!dest) {\n        dest = m;\n    }\n\n    dest[0] = -m[0];\n    dest[1] = -m[1];\n    dest[2] = -m[2];\n    dest[3] = -m[3];\n    dest[4] = -m[4];\n    dest[5] = -m[5];\n    dest[6] = -m[6];\n    dest[7] = -m[7];\n    dest[8] = -m[8];\n    dest[9] = -m[9];\n    dest[10] = -m[10];\n    dest[11] = -m[11];\n    dest[12] = -m[12];\n    dest[13] = -m[13];\n    dest[14] = -m[14];\n    dest[15] = -m[15];\n\n    return dest;\n};\n\n/**\n * @param a mat4\n * @param b mat4\n * @param dest mat4 - optional destination\n * @return {mat4} dest if specified, a otherwise\n * @private\n */\nvar SceneJS_math_addMat4 = function(a, b, dest) {\n    if (!dest) {\n        dest = a;\n    }\n\n    dest[0] = a[0] + b[0];\n    dest[1] = a[1] + b[1];\n    dest[2] = a[2] + b[2];\n    dest[3] = a[3] + b[3];\n    dest[4] = a[4] + b[4];\n    dest[5] = a[5] + b[5];\n    dest[6] = a[6] + b[6];\n    dest[7] = a[7] + b[7];\n    dest[8] = a[8] + b[8];\n    dest[9] = a[9] + b[9];\n    dest[10] = a[10] + b[10];\n    dest[11] = a[11] + b[11];\n    dest[12] = a[12] + b[12];\n    dest[13] = a[13] + b[13];\n    dest[14] = a[14] + b[14];\n    dest[15] = a[15] + b[15];\n\n    return dest;\n};\n\n/**\n * @param m mat4\n * @param s scalar\n * @param dest mat4 - optional destination\n * @return {mat4} dest if specified, m otherwise\n * @private\n */\nvar SceneJS_math_addMat4Scalar = function(m, s, dest) {\n    if (!dest) {\n        dest = m;\n    }\n\n    dest[0] = m[0] + s;\n    dest[1] = m[1] + s;\n    dest[2] = m[2] + s;\n    dest[3] = m[3] + s;\n    dest[4] = m[4] + s;\n    dest[5] = m[5] + s;\n    dest[6] = m[6] + s;\n    dest[7] = m[7] + s;\n    dest[8] = m[8] + s;\n    dest[9] = m[9] + s;\n    dest[10] = m[10] + s;\n    dest[11] = m[11] + s;\n    dest[12] = m[12] + s;\n    dest[13] = m[13] + s;\n    dest[14] = m[14] + s;\n    dest[15] = m[15] + s;\n\n    return dest;\n};\n\n/** @private */\nvar SceneJS_math_addScalarMat4 = function(s, m, dest) {\n    return SceneJS_math_addMat4Scalar(m, s, dest);\n};\n\n/**\n * @param a mat4\n * @param b mat4\n * @param dest mat4 - optional destination\n * @return {mat4} dest if specified, a otherwise\n * @private\n */\nvar SceneJS_math_subMat4 = function(a, b, dest) {\n    if (!dest) {\n        dest = a;\n    }\n\n    dest[0] = a[0] - b[0];\n    dest[1] = a[1] - b[1];\n    dest[2] = a[2] - b[2];\n    dest[3] = a[3] - b[3];\n    dest[4] = a[4] - b[4];\n    dest[5] = a[5] - b[5];\n    dest[6] = a[6] - b[6];\n    dest[7] = a[7] - b[7];\n    dest[8] = a[8] - b[8];\n    dest[9] = a[9] - b[9];\n    dest[10] = a[10] - b[10];\n    dest[11] = a[11] - b[11];\n    dest[12] = a[12] - b[12];\n    dest[13] = a[13] - b[13];\n    dest[14] = a[14] - b[14];\n    dest[15] = a[15] - b[15];\n\n    return dest;\n};\n\n/**\n * @param m mat4\n * @param s scalar\n * @param dest mat4 - optional destination\n * @return {mat4} dest if specified, m otherwise\n * @private\n */\nvar SceneJS_math_subMat4Scalar = function(m, s, dest) {\n    if (!dest) {\n        dest = m;\n    }\n\n    dest[0] = m[0] - s;\n    dest[1] = m[1] - s;\n    dest[2] = m[2] - s;\n    dest[3] = m[3] - s;\n    dest[4] = m[4] - s;\n    dest[5] = m[5] - s;\n    dest[6] = m[6] - s;\n    dest[7] = m[7] - s;\n    dest[8] = m[8] - s;\n    dest[9] = m[9] - s;\n    dest[10] = m[10] - s;\n    dest[11] = m[11] - s;\n    dest[12] = m[12] - s;\n    dest[13] = m[13] - s;\n    dest[14] = m[14] - s;\n    dest[15] = m[15] - s;\n\n    return dest;\n};\n\n/**\n * @param s scalar\n * @param m mat4\n * @param dest mat4 - optional destination\n * @return {mat4} dest if specified, m otherwise\n * @private\n */\nvar SceneJS_math_subScalarMat4 = function(s, m, dest) {\n    if (!dest) {\n        dest = m;\n    }\n\n    dest[0] = s - m[0];\n    dest[1] = s - m[1];\n    dest[2] = s - m[2];\n    dest[3] = s - m[3];\n    dest[4] = s - m[4];\n    dest[5] = s - m[5];\n    dest[6] = s - m[6];\n    dest[7] = s - m[7];\n    dest[8] = s - m[8];\n    dest[9] = s - m[9];\n    dest[10] = s - m[10];\n    dest[11] = s - m[11];\n    dest[12] = s - m[12];\n    dest[13] = s - m[13];\n    dest[14] = s - m[14];\n    dest[15] = s - m[15];\n\n    return dest;\n};\n\n/**\n * @param a mat4\n * @param b mat4\n * @param dest mat4 - optional destination\n * @return {mat4} dest if specified, a otherwise\n * @private\n */\nvar SceneJS_math_mulMat4 = function(a, b, dest) {\n    if (!dest) {\n        dest = a;\n    }\n\n    // Cache the matrix values (makes for huge speed increases!)\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    var b00 = b[0], b01 = b[1], b02 = b[2], b03 = b[3];\n    var b10 = b[4], b11 = b[5], b12 = b[6], b13 = b[7];\n    var b20 = b[8], b21 = b[9], b22 = b[10], b23 = b[11];\n    var b30 = b[12], b31 = b[13], b32 = b[14], b33 = b[15];\n\n    dest[0] = b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30;\n    dest[1] = b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31;\n    dest[2] = b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32;\n    dest[3] = b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33;\n    dest[4] = b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30;\n    dest[5] = b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31;\n    dest[6] = b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32;\n    dest[7] = b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33;\n    dest[8] = b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30;\n    dest[9] = b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31;\n    dest[10] = b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32;\n    dest[11] = b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33;\n    dest[12] = b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30;\n    dest[13] = b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31;\n    dest[14] = b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32;\n    dest[15] = b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33;\n\n    return dest;\n};\n\n/**\n * @param m mat4\n * @param s scalar\n * @param dest mat4 - optional destination\n * @return {mat4} dest if specified, m otherwise\n * @private\n */\nvar SceneJS_math_mulMat4s = function(m, s, dest)\n{\n    if (!dest) {\n        dest = m;\n    }\n\n    dest[0] = m[0] * s;\n    dest[1] = m[1] * s;\n    dest[2] = m[2] * s;\n    dest[3] = m[3] * s;\n    dest[4] = m[4] * s;\n    dest[5] = m[5] * s;\n    dest[6] = m[6] * s;\n    dest[7] = m[7] * s;\n    dest[8] = m[8] * s;\n    dest[9] = m[9] * s;\n    dest[10] = m[10] * s;\n    dest[11] = m[11] * s;\n    dest[12] = m[12] * s;\n    dest[13] = m[13] * s;\n    dest[14] = m[14] * s;\n    dest[15] = m[15] * s;\n\n    return dest;\n};\n\n/**\n * @param m mat4\n * @param v vec4\n * @return {vec4}\n * @private\n */\nvar SceneJS_math_mulMat4v4 = function(m, v) {\n    var v0 = v[0], v1 = v[1], v2 = v[2], v3 = v[3];\n\n    return [\n        m[0] * v0 + m[4] * v1 + m[8] * v2 + m[12] * v3,\n        m[1] * v0 + m[5] * v1 + m[9] * v2 + m[13] * v3,\n        m[2] * v0 + m[6] * v1 + m[10] * v2 + m[14] * v3,\n        m[3] * v0 + m[7] * v1 + m[11] * v2 + m[15] * v3\n    ];\n};\n\n/**\n * @param mat mat4\n * @param dest mat4 - optional destination\n * @return {mat4} dest if specified, mat otherwise\n * @private\n */\nvar SceneJS_math_transposeMat4 = function(mat, dest) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    var m4 = mat[4], m14 = mat[14], m8 = mat[8];\n    var m13 = mat[13], m12 = mat[12], m9 = mat[9];\n    if (!dest || mat == dest) {\n        var a01 = mat[1], a02 = mat[2], a03 = mat[3];\n        var a12 = mat[6], a13 = mat[7];\n        var a23 = mat[11];\n\n        mat[1] = m4;\n        mat[2] = m8;\n        mat[3] = m12;\n        mat[4] = a01;\n        mat[6] = m9;\n        mat[7] = m13;\n        mat[8] = a02;\n        mat[9] = a12;\n        mat[11] = m14;\n        mat[12] = a03;\n        mat[13] = a13;\n        mat[14] = a23;\n        return mat;\n    }\n\n    dest[0] = mat[0];\n    dest[1] = m4;\n    dest[2] = m8;\n    dest[3] = m12;\n    dest[4] = mat[1];\n    dest[5] = mat[5];\n    dest[6] = m9;\n    dest[7] = m13;\n    dest[8] = mat[2];\n    dest[9] = mat[6];\n    dest[10] = mat[10];\n    dest[11] = m14;\n    dest[12] = mat[3];\n    dest[13] = mat[7];\n    dest[14] = mat[11];\n    dest[15] = mat[15];\n    return dest;\n};\n\n/** @private */\nvar SceneJS_math_determinantMat4 = function(mat) {\n    // Cache the matrix values (makes for huge speed increases!)\n    var a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n    var a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n    var a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n    var a30 = mat[12], a31 = mat[13], a32 = mat[14], a33 = mat[15];\n\n    return a30 * a21 * a12 * a03 - a20 * a31 * a12 * a03 - a30 * a11 * a22 * a03 + a10 * a31 * a22 * a03 +\n           a20 * a11 * a32 * a03 - a10 * a21 * a32 * a03 - a30 * a21 * a02 * a13 + a20 * a31 * a02 * a13 +\n           a30 * a01 * a22 * a13 - a00 * a31 * a22 * a13 - a20 * a01 * a32 * a13 + a00 * a21 * a32 * a13 +\n           a30 * a11 * a02 * a23 - a10 * a31 * a02 * a23 - a30 * a01 * a12 * a23 + a00 * a31 * a12 * a23 +\n           a10 * a01 * a32 * a23 - a00 * a11 * a32 * a23 - a20 * a11 * a02 * a33 + a10 * a21 * a02 * a33 +\n           a20 * a01 * a12 * a33 - a00 * a21 * a12 * a33 - a10 * a01 * a22 * a33 + a00 * a11 * a22 * a33;\n};\n\n/**\n * @param mat mat4\n * @param dest mat4 - optional destination\n * @return {mat4} dest if specified, mat otherwise\n * @private\n */\nvar SceneJS_math_inverseMat4 = function(mat, dest) {\n    if (!dest) {\n        dest = mat;\n    }\n\n    // Cache the matrix values (makes for huge speed increases!)\n    var a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n    var a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n    var a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n    var a30 = mat[12], a31 = mat[13], a32 = mat[14], a33 = mat[15];\n\n    var b00 = a00 * a11 - a01 * a10;\n    var b01 = a00 * a12 - a02 * a10;\n    var b02 = a00 * a13 - a03 * a10;\n    var b03 = a01 * a12 - a02 * a11;\n    var b04 = a01 * a13 - a03 * a11;\n    var b05 = a02 * a13 - a03 * a12;\n    var b06 = a20 * a31 - a21 * a30;\n    var b07 = a20 * a32 - a22 * a30;\n    var b08 = a20 * a33 - a23 * a30;\n    var b09 = a21 * a32 - a22 * a31;\n    var b10 = a21 * a33 - a23 * a31;\n    var b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant (inlined to avoid double-caching)\n    var invDet = 1 / (b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06);\n\n    dest[0] = (a11 * b11 - a12 * b10 + a13 * b09) * invDet;\n    dest[1] = (-a01 * b11 + a02 * b10 - a03 * b09) * invDet;\n    dest[2] = (a31 * b05 - a32 * b04 + a33 * b03) * invDet;\n    dest[3] = (-a21 * b05 + a22 * b04 - a23 * b03) * invDet;\n    dest[4] = (-a10 * b11 + a12 * b08 - a13 * b07) * invDet;\n    dest[5] = (a00 * b11 - a02 * b08 + a03 * b07) * invDet;\n    dest[6] = (-a30 * b05 + a32 * b02 - a33 * b01) * invDet;\n    dest[7] = (a20 * b05 - a22 * b02 + a23 * b01) * invDet;\n    dest[8] = (a10 * b10 - a11 * b08 + a13 * b06) * invDet;\n    dest[9] = (-a00 * b10 + a01 * b08 - a03 * b06) * invDet;\n    dest[10] = (a30 * b04 - a31 * b02 + a33 * b00) * invDet;\n    dest[11] = (-a20 * b04 + a21 * b02 - a23 * b00) * invDet;\n    dest[12] = (-a10 * b09 + a11 * b07 - a12 * b06) * invDet;\n    dest[13] = (a00 * b09 - a01 * b07 + a02 * b06) * invDet;\n    dest[14] = (-a30 * b03 + a31 * b01 - a32 * b00) * invDet;\n    dest[15] = (a20 * b03 - a21 * b01 + a22 * b00) * invDet;\n\n    return dest;\n};\n\n/** @private */\nvar SceneJS_math_traceMat4 = function(m) {\n    return (m[0] + m[5] + m[10] + m[15]);\n};\n\n/** @private */\nvar SceneJS_math_translationMat4v = function(v) {\n    var m = SceneJS_math_identityMat4();\n    m[12] = v[0];\n    m[13] = v[1];\n    m[14] = v[2];\n    return m;\n};\n\n/** @private */\nvar SceneJS_math_translationMat4c = function(x, y, z) {\n    return SceneJS_math_translationMat4v([x,y,z]);\n};\n\n/** @private */\nvar SceneJS_math_translationMat4s = function(s) {\n    return SceneJS_math_translationMat4c(s, s, s);\n};\n\n/** @private */\nvar SceneJS_math_rotationMat4v = function(anglerad, axis) {\n    var ax = SceneJS_math_normalizeVec4([axis[0],axis[1],axis[2],0.0]);\n    var s = Math.sin(anglerad);\n    var c = Math.cos(anglerad);\n    var q = 1.0 - c;\n\n    var x = ax[0];\n    var y = ax[1];\n    var z = ax[2];\n\n    var xy,yz,zx,xs,ys,zs;\n\n    //xx = x * x; used once\n    //yy = y * y; used once\n    //zz = z * z; used once\n    xy = x * y;\n    yz = y * z;\n    zx = z * x;\n    xs = x * s;\n    ys = y * s;\n    zs = z * s;\n\n    var m = SceneJS_math_mat4();\n\n    m[0] = (q * x * x) + c;\n    m[1] = (q * xy) + zs;\n    m[2] = (q * zx) - ys;\n    m[3] = 0.0;\n\n    m[4] = (q * xy) - zs;\n    m[5] = (q * y * y) + c;\n    m[6] = (q * yz) + xs;\n    m[7] = 0.0;\n\n    m[8] = (q * zx) + ys;\n    m[9] = (q * yz) - xs;\n    m[10] = (q * z * z) + c;\n    m[11] = 0.0;\n\n    m[12] = 0.0;\n    m[13] = 0.0;\n    m[14] = 0.0;\n    m[15] = 1.0;\n\n    return m;\n};\n\n/** @private */\nvar SceneJS_math_rotationMat4c = function(anglerad, x, y, z) {\n    return SceneJS_math_rotationMat4v(anglerad, [x,y,z]);\n};\n\n/** @private */\nvar SceneJS_math_scalingMat4v = function(v) {\n    var m = SceneJS_math_identityMat4();\n    m[0] = v[0];\n    m[5] = v[1];\n    m[10] = v[2];\n    return m;\n};\n\n/** @private */\nvar SceneJS_math_scalingMat4c = function(x, y, z) {\n    return SceneJS_math_scalingMat4v([x,y,z]);\n};\n\n/** @private */\nvar SceneJS_math_scalingMat4s = function(s) {\n    return SceneJS_math_scalingMat4c(s, s, s);\n};\n\n/**\n * Default lookat properties - eye at 0,0,1, looking at 0,0,0, up vector pointing up Y-axis\n */\nvar SceneJS_math_LOOKAT_OBJ = {\n    eye:    {x: 0, y:0, z:10.0 },\n    look:   {x:0, y:0, z:0.0 },\n    up:     {x:0, y:1, z:0.0 }\n};\n\n/**\n * Default lookat properties in array form - eye at 0,0,1, looking at 0,0,0, up vector pointing up Y-axis\n */\nvar SceneJS_math_LOOKAT_ARRAYS = {\n    eye:    [0, 0, 10.0],\n    look:   [0, 0, 0.0 ],\n    up:     [0, 1, 0.0 ]\n};\n\n/**\n * Default orthographic projection properties\n */\nvar SceneJS_math_ORTHO_OBJ = {\n    left: -1.0,\n    right: 1.0,\n    bottom: -1.0,\n    near: 0.1,\n    top: 1.0,\n    far: 5000.0\n};\n\n/**\n * @param pos vec3 position of the viewer\n * @param target vec3 point the viewer is looking at\n * @param up vec3 pointing \"up\"\n * @param dest mat4 Optional, mat4 frustum matrix will be written into\n *\n * @return {mat4} dest if specified, a new mat4 otherwise\n */\nvar SceneJS_math_lookAtMat4v = function(pos, target, up, dest) {\n    if (!dest) {\n        dest = SceneJS_math_mat4();\n    }\n\n    var posx = pos[0],\n            posy = pos[1],\n            posz = pos[2],\n            upx = up[0],\n            upy = up[1],\n            upz = up[2],\n            targetx = target[0],\n            targety = target[1],\n            targetz = target[2];\n\n    if (posx == targetx && posy == targety && posz == targetz) {\n        return SceneJS_math_identityMat4();\n    }\n\n    var z0,z1,z2,x0,x1,x2,y0,y1,y2,len;\n\n    //vec3.direction(eye, center, z);\n    z0 = posx - targetx;\n    z1 = posy - targety;\n    z2 = posz - targetz;\n\n    // normalize (no check needed for 0 because of early return)\n    len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n\n    //vec3.normalize(vec3.cross(up, z, x));\n    x0 = upy * z2 - upz * z1;\n    x1 = upz * z0 - upx * z2;\n    x2 = upx * z1 - upy * z0;\n    len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n    if (!len) {\n        x0 = 0;\n        x1 = 0;\n        x2 = 0;\n    } else {\n        len = 1 / len;\n        x0 *= len;\n        x1 *= len;\n        x2 *= len;\n    }\n\n    //vec3.normalize(vec3.cross(z, x, y));\n    y0 = z1 * x2 - z2 * x1;\n    y1 = z2 * x0 - z0 * x2;\n    y2 = z0 * x1 - z1 * x0;\n\n    len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n    if (!len) {\n        y0 = 0;\n        y1 = 0;\n        y2 = 0;\n    } else {\n        len = 1 / len;\n        y0 *= len;\n        y1 *= len;\n        y2 *= len;\n    }\n\n    dest[0] = x0;\n    dest[1] = y0;\n    dest[2] = z0;\n    dest[3] = 0;\n    dest[4] = x1;\n    dest[5] = y1;\n    dest[6] = z1;\n    dest[7] = 0;\n    dest[8] = x2;\n    dest[9] = y2;\n    dest[10] = z2;\n    dest[11] = 0;\n    dest[12] = -(x0 * posx + x1 * posy + x2 * posz);\n    dest[13] = -(y0 * posx + y1 * posy + y2 * posz);\n    dest[14] = -(z0 * posx + z1 * posy + z2 * posz);\n    dest[15] = 1;\n\n    return dest;\n};\n\n/** @private */\nvar SceneJS_math_lookAtMat4c = function(posx, posy, posz, targetx, targety, targetz, upx, upy, upz) {\n    return SceneJS_math_lookAtMat4v([posx,posy,posz], [targetx,targety,targetz], [upx,upy,upz]);\n};\n\n/** @private */\nvar SceneJS_math_orthoMat4c = function(left, right, bottom, top, near, far, dest) {\n    if (!dest) {\n        dest = SceneJS_math_mat4();\n    }\n    var rl = (right - left);\n    var tb = (top - bottom);\n    var fn = (far - near);\n\n    dest[0] = 2.0 / rl;\n    dest[1] = 0.0;\n    dest[2] = 0.0;\n    dest[3] = 0.0;\n\n    dest[4] = 0.0;\n    dest[5] = 2.0 / tb;\n    dest[6] = 0.0;\n    dest[7] = 0.0;\n\n    dest[8] = 0.0;\n    dest[9] = 0.0;\n    dest[10] = -2.0 / fn;\n    dest[11] = 0.0;\n\n    dest[12] = -(left + right) / rl;\n    dest[13] = -(top + bottom) / tb;\n    dest[14] = -(far + near) / fn;\n    dest[15] = 1.0;\n\n    return dest;\n};\n\n/** @private */\nvar SceneJS_math_frustumMat4v = function(fmin, fmax) {\n    var fmin4 = [fmin[0],fmin[1],fmin[2],0.0];\n    var fmax4 = [fmax[0],fmax[1],fmax[2],0.0];\n    var vsum = SceneJS_math_mat4();\n    SceneJS_math_addVec4(fmax4, fmin4, vsum);\n    var vdif = SceneJS_math_mat4();\n    SceneJS_math_subVec4(fmax4, fmin4, vdif);\n    var t = 2.0 * fmin4[2];\n\n    var m = SceneJS_math_mat4();\n    var vdif0 = vdif[0], vdif1 = vdif[1], vdif2 = vdif[2];\n\n    m[0] = t / vdif0;\n    m[1] = 0.0;\n    m[2] = 0.0;\n    m[3] = 0.0;\n\n    m[4] = 0.0;\n    m[5] = t / vdif1;\n    m[6] = 0.0;\n    m[7] = 0.0;\n\n    m[8] = vsum[0] / vdif0;\n    m[9] = vsum[1] / vdif1;\n    m[10] = -vsum[2] / vdif2;\n    m[11] = -1.0;\n\n    m[12] = 0.0;\n    m[13] = 0.0;\n    m[14] = -t * fmax4[2] / vdif2;\n    m[15] = 0.0;\n\n    return m;\n};\n\n/** @private */\nvar SceneJS_math_frustumMatrix4 = function(left, right, bottom, top, near, far, dest) {\n    if (!dest) {\n        dest = SceneJS_math_mat4();\n    }\n    var rl = (right - left);\n    var tb = (top - bottom);\n    var fn = (far - near);\n    dest[0] = (near * 2) / rl;\n    dest[1] = 0;\n    dest[2] = 0;\n    dest[3] = 0;\n    dest[4] = 0;\n    dest[5] = (near * 2) / tb;\n    dest[6] = 0;\n    dest[7] = 0;\n    dest[8] = (right + left) / rl;\n    dest[9] = (top + bottom) / tb;\n    dest[10] = -(far + near) / fn;\n    dest[11] = -1;\n    dest[12] = 0;\n    dest[13] = 0;\n    dest[14] = -(far * near * 2) / fn;\n    dest[15] = 0;\n    return dest;\n};\n\n\n/** @private */\nvar SceneJS_math_perspectiveMatrix4 = function(fovyrad, aspectratio, znear, zfar) {\n    var pmin = [];\n    var pmax = [];\n\n    pmin[2] = znear;\n    pmax[2] = zfar;\n\n    pmax[1] = pmin[2] * Math.tan(fovyrad / 2.0);\n    pmin[1] = -pmax[1];\n\n    pmax[0] = pmax[1] * aspectratio;\n    pmin[0] = -pmax[0];\n\n    return SceneJS_math_frustumMat4v(pmin, pmax);\n};\n\n/** @private */\nvar SceneJS_math_transformPoint3 = function(m, p) {\n    var p0 = p[0], p1 = p[1], p2 = p[2];\n    return [\n        (m[0] * p0) + (m[4] * p1) + (m[8] * p2) + m[12],\n        (m[1] * p0) + (m[5] * p1) + (m[9] * p2) + m[13],\n        (m[2] * p0) + (m[6] * p1) + (m[10] * p2) + m[14],\n        (m[3] * p0) + (m[7] * p1) + (m[11] * p2) + m[15]\n    ];\n};\n\n\n/** @private */\nvar SceneJS_math_transformPoints3 = function(m, points) {\n    var result = new Array(points.length);\n    var len = points.length;\n    var p0, p1, p2;\n    var pi;\n\n    // cache values\n    var m0 = m[0], m1 = m[1], m2 = m[2], m3 = m[3];\n    var m4 = m[4], m5 = m[5], m6 = m[6], m7 = m[7];\n    var m8 = m[8], m9 = m[9], m10 = m[10], m11 = m[11];\n    var m12 = m[12], m13 = m[13], m14 = m[14], m15 = m[15];\n\n    for (var i = 0; i < len; ++i) {\n        // cache values\n        pi = points[i];\n        p0 = pi[0];\n        p1 = pi[1];\n        p2 = pi[2];\n\n        result[i] = [\n            (m0 * p0) + (m4 * p1) + (m8 * p2) + m12,\n            (m1 * p0) + (m5 * p1) + (m9 * p2) + m13,\n            (m2 * p0) + (m6 * p1) + (m10 * p2) + m14,\n            (m3 * p0) + (m7 * p1) + (m11 * p2) + m15\n        ];\n    }\n\n    return result;\n};\n\n/** @private */\nvar SceneJS_math_transformVector3 = function(m, v) {\n    var v0 = v[0], v1 = v[1], v2 = v[2];\n    return [\n        (m[0] * v0) + (m[4] * v1) + (m[8] * v2),\n        (m[1] * v0) + (m[5] * v1) + (m[9] * v2),\n        (m[2] * v0) + (m[6] * v1) + (m[10] * v2)\n    ];\n};\n\nvar SceneJS_math_transformVector4 = function(m, v) {\n    var v0 = v[0], v1 = v[1], v2 = v[2], v3 = v[3];\n    return [\n        m[ 0] * v0 + m[ 4] * v1 + m[ 8] * v2 + m[12] * v3,\n        m[ 1] * v0 + m[ 5] * v1 + m[ 9] * v2 + m[13] * v3,\n        m[ 2] * v0 + m[ 6] * v1 + m[10] * v2 + m[14] * v3,\n        m[ 3] * v0 + m[ 7] * v1 + m[11] * v2 + m[15] * v3\n    ];\n};\n\n/** @private */\nvar SceneJS_math_projectVec4 = function(v) {\n    var f = 1.0 / v[3];\n    return [v[0] * f, v[1] * f, v[2] * f, 1.0];\n};\n\n\n/** @private */\nvar SceneJS_math_Plane3 = function (normal, offset, normalize) {\n    this.normal = [0.0, 0.0, 1.0 ];\n\n    this.offset = 0.0;\n    if (normal && offset) {\n        var normal0 = normal[0], normal1 = normal[1], normal2 = normal[2];\n        this.offset = offset;\n\n        if (normalize) {\n            var s = Math.sqrt(\n                    normal0 * normal0 +\n                    normal1 * normal1 +\n                    normal2 * normal2\n                    );\n            if (s > 0.0) {\n                s = 1.0 / s;\n                this.normal[0] = normal0 * s;\n                this.normal[1] = normal1 * s;\n                this.normal[2] = normal2 * s;\n                this.offset *= s;\n            }\n        }\n    }\n};\n\n/** @private */\nvar SceneJS_math_MAX_DOUBLE = Number.POSITIVE_INFINITY;\n/** @private */\nvar SceneJS_math_MIN_DOUBLE = Number.NEGATIVE_INFINITY;\n\n/** @private\n *\n */\nvar SceneJS_math_Box3 = function(min, max) {\n    this.min = min || [ SceneJS_math_MAX_DOUBLE,SceneJS_math_MAX_DOUBLE,SceneJS_math_MAX_DOUBLE ];\n    this.max = max || [ SceneJS_math_MIN_DOUBLE,SceneJS_math_MIN_DOUBLE,SceneJS_math_MIN_DOUBLE ];\n\n    /** @private */\n    this.init = function(min, max) {\n        this.min[0] = min[0];\n        this.min[1] = min[1];\n        this.min[2] = min[2];\n        this.max[0] = max[0];\n        this.max[1] = max[1];\n        this.max[2] = max[2];\n        return this;\n    };\n\n    /** @private */\n    this.fromPoints = function(points) {\n        var pointsLength = points.length;\n\n        for (var i = 0; i < pointsLength; ++i) {\n            var points_i3 = points[i][3];\n            var pDiv0 = points[i][0] / points_i3;\n            var pDiv1 = points[i][1] / points_i3;\n            var pDiv2 = points[i][2] / points_i3;\n\n            if (pDiv0 < this.min[0]) {\n                this.min[0] = pDiv0;\n            }\n            if (pDiv1 < this.min[1]) {\n                this.min[1] = pDiv1;\n            }\n            if (pDiv2 < this.min[2]) {\n                this.min[2] = pDiv2;\n            }\n\n            if (pDiv0 > this.max[0]) {\n                this.max[0] = pDiv0;\n            }\n            if (pDiv1 > this.max[1]) {\n                this.max[1] = pDiv1;\n            }\n            if (pDiv2 > this.max[2]) {\n                this.max[2] = pDiv2;\n            }\n        }\n        return this;\n    };\n\n    /** @private */\n    this.isEmpty = function() {\n        return (\n                (this.min[0] >= this.max[0]) &&\n                (this.min[1] >= this.max[1]) &&\n                (this.min[2] >= this.max[2])\n                );\n    };\n\n    /** @private */\n    this.getCenter = function() {\n        return [\n            (this.max[0] + this.min[0]) / 2.0,\n            (this.max[1] + this.min[1]) / 2.0,\n            (this.max[2] + this.min[2]) / 2.0\n        ];\n    };\n\n    /** @private */\n    this.getSize = function() {\n        return [\n            (this.max[0] - this.min[0]),\n            (this.max[1] - this.min[1]),\n            (this.max[2] - this.min[2])\n        ];\n    };\n\n    /** @private */\n    this.getFacesAreas = function() {\n        var s = this.size;\n        return [\n            (s[1] * s[2]),\n            (s[0] * s[2]),\n            (s[0] * s[1])\n        ];\n    };\n\n    /** @private */\n    this.getSurfaceArea = function() {\n        var a = this.getFacesAreas();\n        return ((a[0] + a[1] + a[2]) * 2.0);\n    };\n\n    /** @private */\n    this.getVolume = function() {\n        var s = this.size;\n        return (s[0] * s[1] * s[2]);\n    };\n\n    /** @private */\n    this.getOffset = function(half_delta) {\n        this.min[0] -= half_delta;\n        this.min[1] -= half_delta;\n        this.min[2] -= half_delta;\n        this.max[0] += half_delta;\n        this.max[1] += half_delta;\n        this.max[2] += half_delta;\n        return this;\n    };\n};\n\n/** @private\n *\n * @param min\n * @param max\n */\nvar SceneJS_math_AxisBox3 = function(min, max) {\n    var min0 = min[0], min1 = min[1], min2 = min[2];\n    var max0 = max[0], max1 = max[1], max2 = max[2];\n\n    this.verts = [\n        [min0, min1, min2],\n        [max0, min1, min2],\n        [max0, max1, min2],\n        [min0, max1, min2],\n\n        [min0, min1, max2],\n        [max0, min1, max2],\n        [max0, max1, max2],\n        [min0, max1, max2]\n    ];\n\n    /** @private */\n    this.toBox3 = function() {\n        var box = new SceneJS_math_Box3();\n        for (var i = 0; i < 8; ++i) {\n            var v = this.verts[i];\n            for (var j = 0; j < 3; ++j) {\n                if (v[j] < box.min[j]) {\n                    box.min[j] = v[j];\n                }\n                if (v[j] > box.max[j]) {\n                    box.max[j] = v[j];\n                }\n            }\n        }\n    };\n};\n\n/** @private\n *\n * @param center\n * @param radius\n */\nvar SceneJS_math_Sphere3 = function(center, radius) {\n    this.center = [center[0], center[1], center[2] ];\n    this.radius = radius;\n\n    /** @private */\n    this.isEmpty = function() {\n        return (this.radius === 0.0);\n    };\n\n    /** @private */\n    this.surfaceArea = function() {\n        return (4.0 * Math.PI * this.radius * this.radius);\n    };\n\n    /** @private */\n    this.getVolume = function() {\n        var thisRadius = this.radius;\n        return ((4.0 / 3.0) * Math.PI * thisRadius * thisRadius * thisRadius);\n    };\n};\n\n/** Creates billboard matrix from given view matrix\n * @private\n */\nvar SceneJS_math_billboardMat = function(viewMatrix) {\n    var rotVec = [\n        SceneJS_math_getColMat4(viewMatrix, 0),\n        SceneJS_math_getColMat4(viewMatrix, 1),\n        SceneJS_math_getColMat4(viewMatrix, 2)\n    ];\n\n    var scaleVec = [\n        SceneJS_math_lenVec4(rotVec[0]),\n        SceneJS_math_lenVec4(rotVec[1]),\n        SceneJS_math_lenVec4(rotVec[2])\n    ];\n\n    var scaleVecRcp = SceneJS_math_mat4();\n    SceneJS_math_rcpVec3(scaleVec, scaleVecRcp);\n    var sMat = SceneJS_math_scalingMat4v(scaleVec);\n    //var sMatInv = SceneJS_math_scalingMat4v(scaleVecRcp);\n\n    SceneJS_math_mulVec4Scalar(rotVec[0], scaleVecRcp[0]);\n    SceneJS_math_mulVec4Scalar(rotVec[1], scaleVecRcp[1]);\n    SceneJS_math_mulVec4Scalar(rotVec[2], scaleVecRcp[2]);\n\n    var rotMatInverse = SceneJS_math_identityMat4();\n\n    SceneJS_math_setRowMat4(rotMatInverse, 0, rotVec[0]);\n    SceneJS_math_setRowMat4(rotMatInverse, 1, rotVec[1]);\n    SceneJS_math_setRowMat4(rotMatInverse, 2, rotVec[2]);\n\n    //return rotMatInverse;\n    //return SceneJS_math_mulMat4(sMatInv, SceneJS_math_mulMat4(rotMatInverse, sMat));\n    return SceneJS_math_mulMat4(rotMatInverse, sMat);\n    // return SceneJS_math_mulMat4(sMat, SceneJS_math_mulMat4(rotMatInverse, sMat));\n    //return SceneJS_math_mulMat4(sMatInv, SceneJS_math_mulMat4(rotMatInverse, sMat));\n};\n\n/** @private */\nvar SceneJS_math_FrustumPlane = function(nx, ny, nz, offset) {\n    var s = 1.0 / Math.sqrt(nx * nx + ny * ny + nz * nz);\n    this.normal = [nx * s, ny * s, nz * s];\n    this.offset = offset * s;\n    this.testVertex = [\n        (this.normal[0] >= 0.0) ? (1) : (0),\n        (this.normal[1] >= 0.0) ? (1) : (0),\n        (this.normal[2] >= 0.0) ? (1) : (0)];\n};\n\n/** @private */\nvar SceneJS_math_OUTSIDE_FRUSTUM = 3;\n/** @private */\nvar SceneJS_math_INTERSECT_FRUSTUM = 4;\n/** @private */\nvar SceneJS_math_INSIDE_FRUSTUM = 5;\n\n/** @private */\nvar SceneJS_math_Frustum = function(viewMatrix, projectionMatrix, viewport) {\n    var m = SceneJS_math_mat4();\n    SceneJS_math_mulMat4(projectionMatrix, viewMatrix, m);\n\n    // cache m indexes\n    var m0 = m[0], m1 = m[1], m2 = m[2], m3 = m[3];\n    var m4 = m[4], m5 = m[5], m6 = m[6], m7 = m[7];\n    var m8 = m[8], m9 = m[9], m10 = m[10], m11 = m[11];\n    var m12 = m[12], m13 = m[13], m14 = m[14], m15 = m[15];\n\n    //var q = [ m[3], m[7], m[11] ]; just reuse m indexes instead of making new var\n    var planes = [\n        new SceneJS_math_FrustumPlane(m3 - m0, m7 - m4, m11 - m8, m15 - m12),\n        new SceneJS_math_FrustumPlane(m3 + m0, m7 + m4, m11 + m8, m15 + m12),\n        new SceneJS_math_FrustumPlane(m3 - m1, m7 - m5, m11 - m9, m15 - m13),\n        new SceneJS_math_FrustumPlane(m3 + m1, m7 + m5, m11 + m9, m15 + m13),\n        new SceneJS_math_FrustumPlane(m3 - m2, m7 - m6, m11 - m10, m15 - m14),\n        new SceneJS_math_FrustumPlane(m3 + m2, m7 + m6, m11 + m10, m15 + m14)\n    ];\n\n    /* Resources for LOD\n     */\n    var rotVec = [\n        SceneJS_math_getColMat4(viewMatrix, 0),\n        SceneJS_math_getColMat4(viewMatrix, 1),\n        SceneJS_math_getColMat4(viewMatrix, 2)\n    ];\n\n    var scaleVec = [\n        SceneJS_math_lenVec4(rotVec[0]),\n        SceneJS_math_lenVec4(rotVec[1]),\n        SceneJS_math_lenVec4(rotVec[2])\n    ];\n\n    var scaleVecRcp = SceneJS_math_rcpVec3(scaleVec);\n    var sMat = SceneJS_math_scalingMat4v(scaleVec);\n    var sMatInv = SceneJS_math_scalingMat4v(scaleVecRcp);\n\n    SceneJS_math_mulVec4Scalar(rotVec[0], scaleVecRcp[0]);\n    SceneJS_math_mulVec4Scalar(rotVec[1], scaleVecRcp[1]);\n    SceneJS_math_mulVec4Scalar(rotVec[2], scaleVecRcp[2]);\n\n    var rotMatInverse = SceneJS_math_identityMat4();\n\n    SceneJS_math_setRowMat4(rotMatInverse, 0, rotVec[0]);\n    SceneJS_math_setRowMat4(rotMatInverse, 1, rotVec[1]);\n    SceneJS_math_setRowMat4(rotMatInverse, 2, rotVec[2]);\n\n    if (!this.matrix) {\n        this.matrix = SceneJS_math_mat4();\n    }\n    SceneJS_math_mulMat4(projectionMatrix, viewMatrix, this.matrix);\n    if (!this.billboardMatrix) {\n        this.billboardMatrix = SceneJS_math_mat4();\n    }\n    SceneJS_math_mulMat4(sMatInv, SceneJS_math_mulMat4(rotMatInverse, sMat), this.billboardMatrix);\n    this.viewport = viewport.slice(0, 4);\n\n    /** @private */\n    this.textAxisBoxIntersection = function(box) {\n        var ret = SceneJS_math_INSIDE_FRUSTUM;\n        var bminmax = [ box.min, box.max ];\n        var plane = null;\n\n        for (var i = 0; i < 6; ++i) {\n            plane = planes[i];\n            if (((plane.normal[0] * bminmax[plane.testVertex[0]][0]) +\n                 (plane.normal[1] * bminmax[plane.testVertex[1]][1]) +\n                 (plane.normal[2] * bminmax[plane.testVertex[2]][2]) +\n                 (plane.offset)) < 0.0) {\n                return SceneJS_math_OUTSIDE_FRUSTUM;\n            }\n            if (((plane.normal[0] * bminmax[1 - plane.testVertex[0]][0]) +\n                 (plane.normal[1] * bminmax[1 - plane.testVertex[1]][1]) +\n                 (plane.normal[2] * bminmax[1 - plane.testVertex[2]][2]) +\n                 (plane.offset)) < 0.0) {\n                ret = SceneJS_math_INTERSECT_FRUSTUM;\n            }\n        }\n        return ret;\n    };\n\n    /** @private */\n    this.getProjectedSize = function(box) {\n        var diagVec = SceneJS_math_mat4();\n        SceneJS_math_subVec3(box.max, box.min, diagVec);\n\n        var diagSize = SceneJS_math_lenVec3(diagVec);\n\n        var size = Math.abs(diagSize);\n\n        var p0 = [\n            (box.min[0] + box.max[0]) * 0.5,\n            (box.min[1] + box.max[1]) * 0.5,\n            (box.min[2] + box.max[2]) * 0.5,\n            0.0];\n\n        var halfSize = size * 0.5;\n        var p1 = [ -halfSize, 0.0, 0.0, 1.0 ];\n        var p2 = [  halfSize, 0.0, 0.0, 1.0 ];\n\n        p1 = SceneJS_math_mulMat4v4(this.billboardMatrix, p1);\n        p1 = SceneJS_math_addVec4(p1, p0);\n        p1 = SceneJS_math_projectVec4(SceneJS_math_mulMat4v4(this.matrix, p1));\n\n        p2 = SceneJS_math_mulMat4v4(this.billboardMatrix, p2);\n        p2 = SceneJS_math_addVec4(p2, p0);\n        p2 = SceneJS_math_projectVec4(SceneJS_math_mulMat4v4(this.matrix, p2));\n\n        return viewport[2] * Math.abs(p2[0] - p1[0]);\n    };\n\n\n    this.getProjectedState = function(modelCoords) {\n        var viewCoords = SceneJS_math_transformPoints3(this.matrix, modelCoords);\n\n        //var canvasBox = {\n        //    min: [10000000, 10000000 ],\n        //    max: [-10000000, -10000000]\n        //};\n        // separate variables instead of indexing an array\n        var canvasBoxMin0 = 10000000, canvasBoxMin1 = 10000000;\n        var canvasBoxMax0 = -10000000, canvasBoxMax1 = -10000000;\n\n        var v, x, y;\n\n        var arrLen = viewCoords.length;\n        for (var i = 0; i < arrLen; ++i) {\n            v = SceneJS_math_projectVec4(viewCoords[i]);\n            x = v[0];\n            y = v[1];\n\n            if (x < -0.5) {\n                x = -0.5;\n            }\n\n            if (y < -0.5) {\n                y = -0.5;\n            }\n\n            if (x > 0.5) {\n                x = 0.5;\n            }\n\n            if (y > 0.5) {\n                y = 0.5;\n            }\n\n\n            if (x < canvasBoxMin0) {\n                canvasBoxMin0 = x;\n            }\n            if (y < canvasBoxMin1) {\n                canvasBoxMin1 = y;\n            }\n\n            if (x > canvasBoxMax0) {\n                canvasBoxMax0 = x;\n            }\n            if (y > canvasBoxMax1) {\n                canvasBoxMax1 = y;\n            }\n        }\n\n        canvasBoxMin0 += 0.5;\n        canvasBoxMin1 += 0.5;\n        canvasBoxMax0 += 0.5;\n        canvasBoxMax1 += 0.5;\n\n        // cache viewport indexes\n        var viewport2 = viewport[2], viewport3 = viewport[3];\n\n        canvasBoxMin0 = (canvasBoxMin0 * (viewport2 + 15));\n        canvasBoxMin1 = (canvasBoxMin1 * (viewport3 + 15));\n        canvasBoxMax0 = (canvasBoxMax0 * (viewport2 + 15));\n        canvasBoxMax1 = (canvasBoxMax1 * (viewport3 + 15));\n\n        var diagCanvasBoxVec = SceneJS_math_mat4();\n        SceneJS_math_subVec2([canvasBoxMax0, canvasBoxMax1],\n                [canvasBoxMin0, canvasBoxMin1],\n                diagCanvasBoxVec);\n        var diagCanvasBoxSize = SceneJS_math_lenVec2(diagCanvasBoxVec);\n\n        if (canvasBoxMin0 < 0) {\n            canvasBoxMin0 = 0;\n        }\n        if (canvasBoxMax0 > viewport2) {\n            canvasBoxMax0 = viewport2;\n        }\n\n        if (canvasBoxMin1 < 0) {\n            canvasBoxMin1 = 0;\n        }\n        if (canvasBoxMax1 > viewport3) {\n            canvasBoxMax1 = viewport3;\n        }\n        return {\n            canvasBox:  {\n                min: [canvasBoxMin0, canvasBoxMin1 ],\n                max: [canvasBoxMax0, canvasBoxMax1 ]\n            },\n            canvasSize: diagCanvasBoxSize\n        };\n    };\n};\n\nvar SceneJS_math_identityQuaternion = function() {\n    return [ 0.0, 0.0, 0.0, 1.0 ];\n};\n\nvar SceneJS_math_angleAxisQuaternion = function(x, y, z, degrees) {\n    var angleRad = (degrees / 180.0) * Math.PI;\n    var halfAngle = angleRad / 2.0;\n    var fsin = Math.sin(halfAngle);\n    return [\n        fsin * x,\n        fsin * y,\n        fsin * z,\n        Math.cos(halfAngle)\n    ];\n};\n\nvar SceneJS_math_mulQuaternions = function(p, q) {\n    var p0 = p[0], p1 = p[1], p2 = p[2], p3 = p[3];\n    var q0 = q[0], q1 = q[1], q2 = q[2], q3 = q[3];\n    return [\n        p3 * q0 + p0 * q3 + p1 * q2 - p2 * q1,\n        p3 * q1 + p1 * q3 + p2 * q0 - p0 * q2,\n        p3 * q2 + p2 * q3 + p0 * q1 - p1 * q0,\n        p3 * q3 - p0 * q0 - p1 * q1 - p2 * q2\n    ];\n};\n\nvar SceneJS_math_newMat4FromQuaternion = function(q) {\n    var q0 = q[0], q1 = q[1], q2 = q[2], q3 = q[3];\n    var tx = 2.0 * q0;\n    var ty = 2.0 * q1;\n    var tz = 2.0 * q2;\n    var twx = tx * q3;\n    var twy = ty * q3;\n    var twz = tz * q3;\n    var txx = tx * q0;\n    var txy = ty * q0;\n    var txz = tz * q0;\n    var tyy = ty * q1;\n    var tyz = tz * q1;\n    var tzz = tz * q2;\n    var m = SceneJS_math_identityMat4();\n    SceneJS_math_setCellMat4(m, 0, 0, 1.0 - (tyy + tzz));\n    SceneJS_math_setCellMat4(m, 0, 1, txy - twz);\n    SceneJS_math_setCellMat4(m, 0, 2, txz + twy);\n    SceneJS_math_setCellMat4(m, 1, 0, txy + twz);\n    SceneJS_math_setCellMat4(m, 1, 1, 1.0 - (txx + tzz));\n    SceneJS_math_setCellMat4(m, 1, 2, tyz - twx);\n    SceneJS_math_setCellMat4(m, 2, 0, txz - twy);\n    SceneJS_math_setCellMat4(m, 2, 1, tyz + twx);\n    SceneJS_math_setCellMat4(m, 2, 2, 1.0 - (txx + tyy));\n    return m;\n};\n\n\n//var SceneJS_math_slerp(t, q1, q2) {\n//    var result = SceneJS_math_identityQuaternion();\n//    var cosHalfAngle = q1[3] * q2[3] + q1[0] * q2[0] + q1[1] * q2[1] + q1[2] * q2[2];\n//    if (Math.abs(cosHalfAngle) >= 1) {\n//        return [ q1[0],q1[1], q1[2], q1[3] ];\n//    } else {\n//        var halfAngle = Math.acos(cosHalfAngle);\n//        var sinHalfAngle = Math.sqrt(1 - cosHalfAngle * cosHalfAngle);\n//        if (Math.abs(sinHalfAngle) < 0.001) {\n//            return [\n//                q1[0] * 0.5 + q2[0] * 0.5,\n//                q1[1] * 0.5 + q2[1] * 0.5,\n//                q1[2] * 0.5 + q2[2] * 0.5,\n//                q1[3] * 0.5 + q2[3] * 0.5\n//            ];\n//        } else {\n//            var a = Math.sin((1 - t) * halfAngle) / sinHalfAngle;\n//            var b = Math.sin(t * halfAngle) / sinHalfAngle;\n//            return [\n//                q1[0] * a + q2[0] * b,\n//                q1[1] * a + q2[1] * b,\n//                q1[2] * a + q2[2] * b,\n//                q1[3] * a + q2[3] * b\n//            ];\n//        }\n//    }\n//}\n\nvar SceneJS_math_slerp = function(t, q1, q2) {\n    //var result = SceneJS_math_identityQuaternion();\n    var q13 = q1[3] * 0.0174532925;\n    var q23 = q2[3] * 0.0174532925;\n    var cosHalfAngle = q13 * q23 + q1[0] * q2[0] + q1[1] * q2[1] + q1[2] * q2[2];\n    if (Math.abs(cosHalfAngle) >= 1) {\n        return [ q1[0],q1[1], q1[2], q1[3] ];\n    } else {\n        var halfAngle = Math.acos(cosHalfAngle);\n        var sinHalfAngle = Math.sqrt(1 - cosHalfAngle * cosHalfAngle);\n        if (Math.abs(sinHalfAngle) < 0.001) {\n            return [\n                q1[0] * 0.5 + q2[0] * 0.5,\n                q1[1] * 0.5 + q2[1] * 0.5,\n                q1[2] * 0.5 + q2[2] * 0.5,\n                q1[3] * 0.5 + q2[3] * 0.5\n            ];\n        } else {\n            var a = Math.sin((1 - t) * halfAngle) / sinHalfAngle;\n            var b = Math.sin(t * halfAngle) / sinHalfAngle;\n            return [\n                q1[0] * a + q2[0] * b,\n                q1[1] * a + q2[1] * b,\n                q1[2] * a + q2[2] * b,\n                (q13 * a + q23 * b) * 57.295779579\n            ];\n        }\n    }\n};\n\nvar SceneJS_math_normalizeQuaternion = function(q) {\n    var len = SceneJS_math_lenVec4([q[0], q[1], q[2], q[3]]);\n    return [ q[0] / len, q[1] / len, q[2] / len, q[3] / len ];\n};\n\nvar SceneJS_math_conjugateQuaternion = function(q) {\n    return[-q[0],-q[1],-q[2],q[3]];\n};\n\nvar SceneJS_math_angleAxisFromQuaternion = function(q) {\n    q = SceneJS_math_normalizeQuaternion(q);\n    var q3 = q[3];\n    var angle = 2 * Math.acos(q3);\n    var s = Math.sqrt(1 - q3 * q3);\n    if (s < 0.001) { // test to avoid divide by zero, s is always positive due to sqrt\n        return {\n            x : q[0],\n            y : q[1],\n            z : q[2],\n            angle: angle * 57.295779579\n        };\n    } else {\n        return {\n            x : q[0] / s,\n            y : q[1] / s,\n            z : q[2] / s,\n            angle: angle * 57.295779579\n        };\n    }\n};\n/**\n * Backend that tracks statistics on loading states of nodes during scene traversal.\n *\n * This supports the \"loading-status\" events that we can listen for on scene nodes.\n *\n * When a node with that listener is pre-visited, it will call getStatus on this module to\n * save a copy of the status. Then when it is post-visited, it will call diffStatus on this\n * module to find the status for its sub-nodes, which it then reports through the \"loading-status\" event.\n *\n * @private\n */\nvar SceneJS_sceneStatusModule = new (function () {\n\n    // Public activity summary\n    this.sceneStatus = {};\n\n    // IDs of all tasks\n    var taskIds = new SceneJS_Map();\n    var tasks = {};\n\n    var sceneStates = {};\n\n    var self = this;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_DESTROYED,\n        function (params) {\n            var sceneId = params.engine.id;\n            delete self.sceneStatus[sceneId];\n            delete sceneStates[sceneId];\n        });\n\n    /** Notifies that a node has begun loading some data\n     */\n    this.taskStarted = function (node, description) {\n\n        var popups = SceneJS_configsModule.configs.statusPopups !== false;\n\n        var scene = node.getScene();\n        var sceneId = scene.getId();\n        var nodeId = node.getId();\n        var canvas = scene.getCanvas();\n\n        var taskId = taskIds.addItem();\n\n        // Update public info\n        var status = this.sceneStatus[sceneId];\n        if (!status) {\n            status = this.sceneStatus[sceneId] = {\n                numTasks: 0\n            };\n        }\n        status.numTasks++;\n\n        // Track node\n        var sceneState = sceneStates[sceneId];\n        if (!sceneState) {\n            sceneState = sceneStates[sceneId] = {\n                sceneId: sceneId,\n                nodeStates: {},\n                scene: scene,\n                popupContainer: popups ? createPopupContainer(canvas) : null,\n                descCounts: {}\n            };\n        }\n        var descCount = sceneState.descCounts[description];\n        if (descCount == undefined) {\n            descCount = sceneState.descCounts[description] = 0;\n        }\n        sceneState.descCounts[description]++;\n        var nodeState = sceneState.nodeStates[nodeId];\n        if (!nodeState) {\n            nodeState = sceneState.nodeStates[nodeId] = {\n                nodeId: nodeId,\n                numTasks: 0,\n                tasks: {}\n            };\n        }\n        description = description + \" \" + sceneState.descCounts[description] + \"...\";\n        nodeState.numTasks++;\n        var task = {\n            sceneState: sceneState,\n            nodeState: nodeState,\n            description: description,\n            element: popups ? createPopup(sceneState.popupContainer, description) : null\n        };\n        nodeState.tasks[taskId] = task;\n        tasks[taskId] = task;\n        return taskId;\n    };\n\n    function createPopupContainer(canvas) {\n        var body = document.getElementsByTagName(\"body\")[0];\n        var div = document.createElement('div');\n        var style = div.style;\n        style.position = \"absolute\";\n        style.width = \"200px\";\n        style.right = \"10px\";\n        style.top = \"0\";\n        style.padding = \"10px\";\n        style[\"z-index\"] = \"10000\";\n        body.appendChild(div);\n        return div;\n    }\n\n    function createPopup(popupContainer, description) {\n        var div = document.createElement('div');\n        var style = div.style;\n        style[\"font-family\"] = \"Helvetica\";\n        style[\"font-size\"] = \"14px\";\n        style.padding = \"5px\";\n        style.margin = \"4px\";\n        style[\"padding-left\"] = \"12px\";\n        style[\"border\"] = \"1px solid #000055\";\n        style.color = \"black\";\n        style.background = \"#AAAAAA\";\n        style.opacity = \"0.8\";\n        style[\"border-radius\"] = \"3px\";\n        style[\"-moz-border-radius\"] = \"3px\";\n        style[\"box-shadow\"] = \"3px 3px 3px #444444\";\n        div.innerHTML = description;\n        popupContainer.appendChild(div);\n        return div;\n    }\n\n    /** Notifies that a load has finished loading some data\n     */\n    this.taskFinished = function (taskId) {\n        if (taskId == -1 || taskId == null) {\n            return null;\n        }\n        var task = tasks[taskId];\n        if (!task) {\n            return null;\n        }\n        var sceneState = task.sceneState;\n        this.sceneStatus[sceneState.sceneId].numTasks--;\n        if (task.element) {\n            dismissPopup(task.element);\n        }\n        var nodeState = task.nodeState;\n        if (--nodeState.numTasks < 0) {\n            nodeState.numTasks = 0;\n        }\n        delete nodeState.tasks[taskId];\n        if (nodeState.numTasks == 0) {\n            delete sceneState.nodeStates[nodeState.nodeId];\n        }\n        return null;\n    };\n\n    function dismissPopup(element) {\n        element.style.background = \"#AAFFAA\";\n        var opacity = 0.8;\n        var interval = setInterval(function () {\n            if (opacity <= 0) {\n                element.parentNode.removeChild(element);\n                clearInterval(interval);\n            } else {\n                element.style.opacity = opacity;\n                opacity -= 0.1;\n            }\n        }, 100);\n    }\n\n    /** Notifies that a task has failed\n     */\n    this.taskFailed = function (taskId) {\n        if (taskId == -1 || taskId == null) {\n            return null;\n        }\n        var task = tasks[taskId];\n        if (!task) {\n            return null;\n        }\n        var popups = !!SceneJS_configsModule.configs.statusPopups;\n        var sceneState = task.sceneState;\n        this.sceneStatus[sceneState.sceneId].numTasks--;\n        if (popups) {\n            failPopup(task.element);\n        }\n        var nodeState = task.nodeState;\n        nodeState.numTasks--;\n        delete nodeState.tasks[taskId];\n        if (nodeState.numTasks == 0) {\n            delete task.sceneState.nodeStates[nodeState.nodeId];\n        }\n        return null;\n    };\n\n    function failPopup(element) {\n        element.style.background = \"#FFAAAA\";\n    }\n})();SceneJS._webgl = {};\n/** Buffer for vertices and indices\n *\n * @private\n * @param gl  WebGL gl\n * @param type     Eg. ARRAY_BUFFER, ELEMENT_ARRAY_BUFFER\n * @param values   WebGL array wrapper\n * @param numItems Count of items in array wrapper\n * @param itemSize Size of each item\n * @param usage    Eg. STATIC_DRAW\n */\n\nSceneJS._webgl.ArrayBuffer = function (gl, type, values, numItems, itemSize, usage) {\n\n    this.gl = gl;\n    this.type = type;\n    this.itemSize = itemSize;\n\n    this._allocate = function (values, numItems) {\n        this.handle = gl.createBuffer();\n        this.handle.numItems = numItems;\n        this.handle.itemSize = itemSize;\n        gl.bindBuffer(type, this.handle);\n        gl.bufferData(type, values, usage);\n        this.handle.numItems = numItems;\n        gl.bindBuffer(type, null);\n        this.numItems = numItems;\n        this.length = values.length;\n    };\n\n    this._allocate(values, numItems);\n\n    this.setData = function (data, offset) {\n\n        if (data.length > this.length) {\n            this.destroy();\n            this._allocate(data, data.length);\n\n        } else {\n\n            if (offset || offset === 0) {\n                gl.bufferSubData(type, offset, data);\n            } else {\n                gl.bufferData(type, data);\n            }\n        }\n    };\n\n    this.unbind = function () {\n        gl.bindBuffer(type, null);\n    };\n\n    this.destroy = function () {\n        gl.deleteBuffer(this.handle);\n    };\n};\n\nSceneJS._webgl.ArrayBuffer.prototype.bind = function () {\n    this.gl.bindBuffer(this.type, this.handle);\n};\n\n\n\n/** An attribute within a shader\n */\nSceneJS._webgl.Attribute = function (gl, program, name, type, size, location) {\n\n    this.gl = gl;\n    this.location = location;\n\n    this.bindFloatArrayBuffer = function (buffer) {\n        if (buffer) {\n            buffer.bind();\n            gl.enableVertexAttribArray(location);\n            gl.vertexAttribPointer(location, buffer.itemSize, gl.FLOAT, false, 0, 0);   // Vertices are not homogeneous - no w-element\n        }\n    };\n};\n\nSceneJS._webgl.Attribute.prototype.bindInterleavedFloatArrayBuffer = function (components, stride, byteOffset) {\n    this.gl.enableVertexAttribArray(this.location);\n    this.gl.vertexAttribPointer(this.location, components, this.gl.FLOAT, false, stride, byteOffset);   // Vertices are not homogeneous - no w-element\n};\n\n/** Maps SceneJS node parameter names to WebGL enum names\n * @private\n */\nSceneJS._webgl.enumMap = {\n    funcAdd: \"FUNC_ADD\",\n    funcSubtract: \"FUNC_SUBTRACT\",\n    funcReverseSubtract: \"FUNC_REVERSE_SUBTRACT\",\n    zero: \"ZERO\",\n    one: \"ONE\",\n    srcColor: \"SRC_COLOR\",\n    oneMinusSrcColor: \"ONE_MINUS_SRC_COLOR\",\n    dstColor: \"DST_COLOR\",\n    oneMinusDstColor: \"ONE_MINUS_DST_COLOR\",\n    srcAlpha: \"SRC_ALPHA\",\n    oneMinusSrcAlpha: \"ONE_MINUS_SRC_ALPHA\",\n    dstAlpha: \"DST_ALPHA\",\n    oneMinusDstAlpha: \"ONE_MINUS_DST_ALPHA\",\n    contantColor: \"CONSTANT_COLOR\",\n    oneMinusConstantColor: \"ONE_MINUS_CONSTANT_COLOR\",\n    constantAlpha: \"CONSTANT_ALPHA\",\n    oneMinusConstantAlpha: \"ONE_MINUS_CONSTANT_ALPHA\",\n    srcAlphaSaturate: \"SRC_ALPHA_SATURATE\",\n    front: \"FRONT\",\n    back: \"BACK\",\n    frontAndBack: \"FRONT_AND_BACK\",\n    never: \"NEVER\",\n    less: \"LESS\",\n    equal: \"EQUAL\",\n    lequal: \"LEQUAL\",\n    greater: \"GREATER\",\n    notequal: \"NOTEQUAL\",\n    gequal: \"GEQUAL\",\n    always: \"ALWAYS\",\n    cw: \"CW\",\n    ccw: \"CCW\",\n    linear: \"LINEAR\",\n    nearest: \"NEAREST\",\n    linearMipMapNearest: \"LINEAR_MIPMAP_NEAREST\",\n    nearestMipMapNearest: \"NEAREST_MIPMAP_NEAREST\",\n    nearestMipMapLinear: \"NEAREST_MIPMAP_LINEAR\",\n    linearMipMapLinear: \"LINEAR_MIPMAP_LINEAR\",\n    repeat: \"REPEAT\",\n    clampToEdge: \"CLAMP_TO_EDGE\",\n    mirroredRepeat: \"MIRRORED_REPEAT\",\n    alpha: \"ALPHA\",\n    rgb: \"RGB\",\n    rgba: \"RGBA\",\n    luminance: \"LUMINANCE\",\n    luminanceAlpha: \"LUMINANCE_ALPHA\",\n    textureBinding2D: \"TEXTURE_BINDING_2D\",\n    textureBindingCubeMap: \"TEXTURE_BINDING_CUBE_MAP\",\n    compareRToTexture: \"COMPARE_R_TO_TEXTURE\", // Hardware Shadowing Z-depth,\n    unsignedByte: \"UNSIGNED_BYTE\"\n};\n\nSceneJS._webgl.RenderBuffer = function (cfg) {\n\n    var canvas = cfg.canvas;\n    var gl = canvas.gl;\n\n    var buf;\n    var bound = false;\n\n    /**\n     * Called after WebGL context is restored.\n     */\n    this.webglRestored = function (_gl) {\n        gl = _gl;\n        buf = null;\n    };\n\n    /** Binds this renderbuffer\n     */\n    this.bind = function () {\n        this._touch();\n        if (bound) {\n            return;\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, buf.framebuf);\n        bound = true;\n    };\n\n    this._touch = function () {\n        var width = canvas.canvas.width;\n        var height = canvas.canvas.height;\n        if (buf) { // Currently have a buffer\n            if (buf.width == width && buf.height == height) { // Canvas size unchanged, buffer still good\n                return;\n            } else { // Buffer needs reallocation for new canvas size\n                gl.deleteTexture(buf.texture);\n                gl.deleteFramebuffer(buf.framebuf);\n                gl.deleteRenderbuffer(buf.renderbuf);\n            }\n        }\n        buf = {\n            framebuf: gl.createFramebuffer(),\n            renderbuf: gl.createRenderbuffer(),\n            texture: gl.createTexture(),\n            width: width,\n            height: height\n        };\n        gl.bindFramebuffer(gl.FRAMEBUFFER, buf.framebuf);\n        gl.bindTexture(gl.TEXTURE_2D, buf.texture);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        try {\n            // Do it the way the spec requires\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        } catch (exception) {\n            // Workaround for what appears to be a Minefield bug.\n            var textureStorage = new WebGLUnsignedByteArray(width * height * 3);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, textureStorage);\n        }\n        gl.bindRenderbuffer(gl.RENDERBUFFER, buf.renderbuf);\n        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, width, height);\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, buf.texture, 0);\n        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, buf.renderbuf);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        // Verify framebuffer is OK\n        gl.bindFramebuffer(gl.FRAMEBUFFER, buf.framebuf);\n        if (!gl.isFramebuffer(buf.framebuf)) {\n            throw SceneJS_error.fatalError(SceneJS.errors.ERROR, \"Invalid framebuffer\");\n        }\n        var status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n        switch (status) {\n            case gl.FRAMEBUFFER_COMPLETE:\n                break;\n            case gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:\n                throw SceneJS_error.fatalError(SceneJS.errors.ERROR, \"Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT\");\n            case gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:\n                throw SceneJS_error.fatalError(SceneJS.errors.ERROR, \"Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\");\n            case gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:\n                throw SceneJS_error.fatalError(SceneJS.errors.ERROR, \"Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS\");\n            case gl.FRAMEBUFFER_UNSUPPORTED:\n                throw SceneJS_error.fatalError(SceneJS.errors.ERROR, \"Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED\");\n            default:\n                throw SceneJS_error.fatalError(SceneJS.errors.ERROR, \"Incomplete framebuffer: \" + status);\n        }\n        bound = false;\n    };\n\n    /** Clears this renderbuffer\n     */\n    this.clear = function () {\n        if (!bound) {\n            throw \"Render buffer not bound\";\n        }\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n        gl.disable(gl.BLEND);\n    };\n\n\n    /** Reads buffer pixel at given coordinates\n     */\n    this.read = function (pickX, pickY) {\n        var x = pickX;\n        var y = canvas.canvas.height - pickY;\n        var pix = new Uint8Array(4);\n        gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pix);\n        return pix;\n    };\n\n    /** Unbinds this renderbuffer\n     */\n    this.unbind = function () {\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        bound = false;\n    };\n\n    /** Returns the texture\n     */\n    this.getTexture = function () {\n        return {\n            bind: function (unit) {\n                if (buf && buf.texture) {\n                    gl.activeTexture(gl[\"TEXTURE\" + unit]);\n                    gl.bindTexture(gl.TEXTURE_2D, buf.texture);\n                    return true;\n                }\n                return false;\n            },\n            unbind: function (unit) {\n                if (buf && buf.texture) {\n                    gl.activeTexture(gl[\"TEXTURE\" + unit]);\n                    gl.bindTexture(gl.TEXTURE_2D, null);\n                }\n            }\n        };\n    };\n};\n\n/**\n * @class Wrapper for a WebGL program\n *\n * @param hash SceneJS-managed ID for program\n * @param gl WebGL gl\n * @param vertexSources Source codes for vertex shaders\n * @param fragmentSources Source codes for fragment shaders\n * @param logging Program and shaders will write to logging's debug channel as they compile and link\n */\nSceneJS._webgl.Program = function (gl, vertexSources, fragmentSources) {\n\n    var a, i, u, u_name, location, shader;\n\n    this._uniforms = {};\n    this._samplers = {};\n    this._attributes = {};\n\n    this.materialSettings = {\n        specularColor: [0, 0, 0],\n        specular: 0,\n        shine: 0,\n        emit: 0,\n        alpha: 0\n    };\n\n    /* Create shaders from sources\n     */\n    this._shaders = [];\n    for (i = 0; i < vertexSources.length; i++) {\n        this._shaders.push(new SceneJS._webgl.Shader(gl, gl.VERTEX_SHADER, vertexSources[i]));\n    }\n    for (i = 0; i < fragmentSources.length; i++) {\n        this._shaders.push(new SceneJS._webgl.Shader(gl, gl.FRAGMENT_SHADER, fragmentSources[i]));\n    }\n\n    /* Create program, attach shaders, link and validate program\n     */\n    var handle = gl.createProgram();\n\n    for (i = 0; i < this._shaders.length; i++) {\n        shader = this._shaders[i];\n        if (shader.valid) {\n            gl.attachShader(handle, shader.handle);\n        }\n    }\n    gl.linkProgram(handle);\n\n    //this.valid = (gl.getProgramParameter(handle, gl.LINK_STATUS) != 0);\n\n    var debugCfg = SceneJS_configsModule.getConfigs(\"shading\");\n//    if (debugCfg.validate !== false) {\n//        gl.validateProgram(handle);\n//        this.valid = this.valid && (gl.getProgramParameter(handle, gl.VALIDATE_STATUS) != 0);\n//    }\n\n    if (false && !this.valid) {\n\n        if (!gl.isContextLost()) { // Handled explicitly elsewhere, so wont rehandle here\n\n            SceneJS.log.error(\"Shader program failed to link: \" + gl.getProgramInfoLog(handle));\n\n            SceneJS.log.error(\"Vertex shader(s):\");\n            for (i = 0; i < vertexSources.length; i++) {\n                SceneJS.log.error(\"Vertex shader #\" + i + \":\");\n                var lines = vertexSources[i].split('\\n');\n                for (var j = 0; j < lines.length; j++) {\n                    SceneJS.log.error(lines[j]);\n\n                }\n            }\n\n            SceneJS.log.error(\"Fragment shader(s):\");\n            for (i = 0; i < fragmentSources.length; i++) {\n                SceneJS.log.error(\"Fragment shader #\" + i + \":\");\n                var lines = fragmentSources[i].split('\\n');\n                for (var j = 0; j < lines.length; j++) {\n                    SceneJS.log.error(lines[j]);\n                }\n            }\n\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.SHADER_LINK_FAILURE, \"Shader program failed to link\");\n        }\n    }\n\n    /* Discover active uniforms and samplers\n     */\n\n    var numUniforms = gl.getProgramParameter(handle, gl.ACTIVE_UNIFORMS);\n\n    this.uniformValues = [];\n    var valueIndex = 0;\n\n    for (i = 0; i < numUniforms; ++i) {\n        u = gl.getActiveUniform(handle, i);\n        if (u) {\n            u_name = u.name;\n            if (u_name[u_name.length - 1] == \"\\u0000\") {\n                u_name = u_name.substr(0, u_name.length - 1);\n            }\n            location = gl.getUniformLocation(handle, u_name);\n            if ((u.type == gl.SAMPLER_2D) || (u.type == gl.SAMPLER_CUBE) || (u.type == 35682)) {\n\n                this._samplers[u_name] = new SceneJS._webgl.Sampler(\n                    gl,\n                    handle,\n                    u_name,\n                    u.type,\n                    u.size,\n                    location);\n            } else {\n                this._uniforms[u_name] = new SceneJS._webgl.Uniform(\n                    gl,\n                    handle,\n                    u_name,\n                    u.type,\n                    u.size,\n                    location,\n                    valueIndex);\n                this.uniformValues[valueIndex] = null;\n                ++valueIndex;\n            }\n        }\n    }\n\n    /* Discover attributes\n     */\n\n    var numAttribs = gl.getProgramParameter(handle, gl.ACTIVE_ATTRIBUTES);\n    for (i = 0; i < numAttribs; i++) {\n        a = gl.getActiveAttrib(handle, i);\n        if (a) {\n            location = gl.getAttribLocation(handle, a.name);\n            this._attributes[a.name] = new SceneJS._webgl.Attribute(\n                gl,\n                handle,\n                a.name,\n                a.type,\n                a.size,\n                location);\n        }\n    }\n\n    this.setProfile = function (profile) {\n        this._profile = profile;\n    };\n\n    this.bind = function () {\n        gl.useProgram(handle);\n        if (this._profile) {\n            this._profile.program++;\n        }\n    };\n\n    this.getUniformLocation = function (name) {\n        var u = this._uniforms[name];\n        if (u) {\n            return u.getLocation();\n        } else {\n            // SceneJS.log.warn(\"Uniform not found in shader : \" + name);\n        }\n    };\n\n    this.getUniform = function (name) {\n        var u = this._uniforms[name];\n        if (u) {\n            return u;\n        } else {\n            //      SceneJS.log.warn(\"Shader uniform load failed - uniform not found in shader : \" + name);\n        }\n    };\n\n    this.getAttribute = function (name) {\n        var attr = this._attributes[name];\n        if (attr) {\n            return attr;\n        } else {\n            //  logging.warn(\"Shader attribute bind failed - attribute not found in shader : \" + name);\n        }\n    };\n\n    this.bindFloatArrayBuffer = function (name, buffer) {\n        var attr = this._attributes[name];\n        if (attr) {\n            attr.bindFloatArrayBuffer(buffer);\n            if (this._profile) {\n                this._profile.varying++;\n            }\n        } else {\n            //  logging.warn(\"Shader attribute bind failed - attribute not found in shader : \" + name);\n        }\n    };\n\n    this.bindTexture = function (name, texture, unit) {\n        var sampler = this._samplers[name];\n        if (sampler) {\n            if (this._profile) {\n                this._profile.texture++;\n            }\n            return sampler.bindTexture(texture, unit);\n        } else {\n            return false;\n        }\n    };\n\n    this.destroy = function () {\n\n        if (this.valid) {\n\n            //   SceneJS.log.debug(\"Destroying shader program: '\" + hash + \"'\");\n            gl.deleteProgram(handle);\n            for (var s in this._shaders) {\n                gl.deleteShader(this._shaders[s].handle);\n            }\n            this._attributes = null;\n            this._uniforms = null;\n            this._samplers = null;\n            this.valid = false;\n        }\n    };\n};\n\nSceneJS._webgl.Program.prototype.setUniform = function (name, value) {\n    var u = this._uniforms[name];\n    if (u) {\n        if (this.uniformValues[u.index] !== value || !u.numberValue) {\n            u.setValue(value);\n            if (this._profile) {\n                this._profile.uniform++;\n            }\n            this.uniformValues[u.index] = value;\n        }\n    } else {\n        //      SceneJS.log.warn(\"Shader uniform load failed - uniform not found in shader : \" + name);\n    }\n};\nSceneJS._webgl.Sampler = function (gl, program, name, type, size, location) {\n    this.bindTexture = function (texture, unit) {\n        if (texture.bind(unit)) {\n            gl.uniform1i(location, unit);\n            return true;\n        }\n        return false;\n    };\n};\n/**\n * A vertex/fragment shader in a program\n *\n * @private\n * @param gl WebGL gl\n * @param gl.VERTEX_SHADER | gl.FRAGMENT_SHADER\n * @param source Source code for shader\n * @param logging Shader will write logging's debug channel as it compiles\n */\nSceneJS._webgl.Shader = function (gl, type, source) {\n\n    this.handle = gl.createShader(type);\n\n    gl.shaderSource(this.handle, source);\n    gl.compileShader(this.handle);\n\n    this.valid = (gl.getShaderParameter(this.handle, gl.COMPILE_STATUS) != 0);\n\n    if (!this.valid) {\n\n        if (!gl.isContextLost()) { // Handled explicitely elsewhere, so wont rehandle here\n\n            SceneJS.log.error(\"Shader program failed to compile: \" + gl.getShaderInfoLog(this.handle));\n            SceneJS.log.error(\"Shader source:\");\n            var lines = source.split('\\n');\n            for (var j = 0; j < lines.length; j++) {\n                SceneJS.log.error(lines[j]);\n            }\n\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.SHADER_COMPILATION_FAILURE, \"Shader program failed to compile\");\n        }\n    }\n};\n\nSceneJS._webgl.Texture2D = function (gl, cfg) {\n\n    this.target = cfg.target || gl.TEXTURE_2D;\n    this.minFilter = cfg.minFilter;\n    this.magFilter = cfg.magFilter;\n    this.wrapS = cfg.wrapS;\n    this.wrapT = cfg.wrapT;\n    this.update = cfg.update;  // For dynamically-sourcing textures (ie movies etc)\n    this.texture = cfg.texture;\n    this.format = gl.RGBA;\n    this.isDepth = false;\n    this.depthMode = 0;\n    this.depthCompareMode = 0;\n    this.depthCompareFunc = 0;\n\n    try {\n        gl.bindTexture(this.target, this.texture);\n\n        if (cfg.minFilter) {\n            gl.texParameteri(this.target, gl.TEXTURE_MIN_FILTER, cfg.minFilter);\n        }\n\n        if (cfg.magFilter) {\n            gl.texParameteri(this.target, gl.TEXTURE_MAG_FILTER, cfg.magFilter);\n        }\n\n        if (cfg.wrapS) {\n            gl.texParameteri(this.target, gl.TEXTURE_WRAP_S, cfg.wrapS);\n        }\n\n        if (cfg.wrapT) {\n            gl.texParameteri(this.target, gl.TEXTURE_WRAP_T, cfg.wrapT);\n        }\n\n        if (cfg.minFilter == gl.NEAREST_MIPMAP_NEAREST ||\n            cfg.minFilter == gl.LINEAR_MIPMAP_NEAREST ||\n            cfg.minFilter == gl.NEAREST_MIPMAP_LINEAR ||\n            cfg.minFilter == gl.LINEAR_MIPMAP_LINEAR) {\n            gl.generateMipmap(this.target);\n        }\n\n        gl.bindTexture(this.target, null);\n\n    } catch (e) {\n        throw SceneJS_error.fatalError(SceneJS.errors.ERROR, \"Failed to create texture: \" + e.message || e);\n    }\n\n    this.bind = function (unit) {\n        if (this.texture) {\n            gl.activeTexture(gl[\"TEXTURE\" + unit]);\n            gl.bindTexture(this.target, this.texture);\n            if (this.update) {\n                this.update(gl);\n            }\n            return true;\n        }\n        return false;\n    };\n\n    this.unbind = function (unit) {\n        if (this.texture) {\n            gl.activeTexture(gl[\"TEXTURE\" + unit]);\n            gl.bindTexture(this.target, null);\n        }\n    };\n\n    this.destroy = function () {\n        if (this.texture) {\n            gl.deleteTexture(this.texture);\n            this.texture = null;\n        }\n    };\n};\n\n\nSceneJS._webgl.ensureImageSizePowerOfTwo = function (image) {\n    if (!SceneJS._webgl.isPowerOfTwo(image.width) || !SceneJS._webgl.isPowerOfTwo(image.height)) {\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = SceneJS._webgl.nextHighestPowerOfTwo(image.width);\n        canvas.height = SceneJS._webgl.nextHighestPowerOfTwo(image.height);\n        var ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(image,\n            0, 0, image.width, image.height,\n            0, 0, canvas.width, canvas.height);\n        image = canvas;\n    }\n    return image;\n};\n\nSceneJS._webgl.isPowerOfTwo = function (x) {\n    return (x & (x - 1)) == 0;\n};\n\nSceneJS._webgl.nextHighestPowerOfTwo = function (x) {\n    --x;\n    for (var i = 1; i < 32; i <<= 1) {\n        x = x | x >> i;\n    }\n    return x + 1;\n};\n\n\nSceneJS._webgl.Uniform = function (gl, program, name, type, size, location, index, logging) {\n\n    var func = null;\n    this.numberValue = false;\n    if (type == gl.BOOL) {\n        this.numberValue = true;\n        func = function (v) {\n            gl.uniform1i(location, v);\n        };\n    } else if (type == gl.BOOL_VEC2) {\n        func = function (v) {\n            gl.uniform2iv(location, v);\n        };\n    } else if (type == gl.BOOL_VEC3) {\n        func = function (v) {\n            gl.uniform3iv(location, v);\n        };\n    } else if (type == gl.BOOL_VEC4) {\n        func = function (v) {\n            gl.uniform4iv(location, v);\n        };\n    } else if (type == gl.INT) {\n        this.numberValue = true;\n        func = function (v) {\n            gl.uniform1iv(location, v);\n        };\n    } else if (type == gl.INT_VEC2) {\n        func = function (v) {\n            gl.uniform2iv(location, v);\n        };\n    } else if (type == gl.INT_VEC3) {\n        func = function (v) {\n            gl.uniform3iv(location, v);\n        };\n    } else if (type == gl.INT_VEC4) {\n        func = function (v) {\n            gl.uniform4iv(location, v);\n        };\n    } else if (type == gl.FLOAT) {\n        this.numberValue = true;\n        func = function (v) {\n            gl.uniform1f(location, v);\n        };\n    } else if (type == gl.FLOAT_VEC2) {\n        func = function (v) {\n            gl.uniform2fv(location, v);\n        };\n    } else if (type == gl.FLOAT_VEC3) {\n        func = function (v) {\n            gl.uniform3fv(location, v);\n        };\n    } else if (type == gl.FLOAT_VEC4) {\n        func = function (v) {\n            gl.uniform4fv(location, v);\n        };\n    } else if (type == gl.FLOAT_MAT2) {\n        func = function (v) {\n            gl.uniformMatrix2fv(location, gl.FALSE, v);\n        };\n    } else if (type == gl.FLOAT_MAT3) {\n        func = function (v) {\n            gl.uniformMatrix3fv(location, gl.FALSE, v);\n        };\n    } else if (type == gl.FLOAT_MAT4) {\n        func = function (v) {\n            gl.uniformMatrix4fv(location, gl.FALSE, v);\n        };\n    } else {\n        throw \"Unsupported shader uniform type: \" + type;\n    }\n\n    this.setValue = func;\n\n\n    this.getValue = function () {\n        return gl.getUniform(program, location);\n    };\n\n    this.getLocation = function () {\n        return location;\n    };\n\n    // This is just an integer key for caching the uniform's value, more efficient than caching by name.\n    this.index = index;\n};\n\n\n\n\n\n\n\n\n\n\n/**\n * Manages scene node event listeners\n * @private\n */\nvar SceneJS_nodeEventsModule = new (function () {\n\n    var idStack = [];\n    var listenerStack = [];\n    var stackLen = 0;\n    var dirty;\n\n    var defaultCore = {\n        type:\"listeners\",\n        stateId:SceneJS._baseStateId++,\n        empty:true,\n        listeners:[]\n    };\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function () {\n            stackLen = 0;\n            dirty = true;\n        });\n\n    SceneJS_events.addListener(\n        SceneJS_events.OBJECT_COMPILING,\n        function (params) {\n            if (dirty) {\n                if (stackLen > 0) {\n                    var core = {\n                        type:\"listeners\",\n                        stateId:idStack[stackLen - 1],\n                        listeners:listenerStack.slice(0, stackLen)\n                    };\n                    params.display.renderListeners = core;\n                } else {\n                    params.display.renderListeners = defaultCore;\n                }\n                dirty = false;\n            }\n        });\n\n\n    this.preVisitNode = function (node) {\n\n        var renderedSubs = node._topicSubs[\"rendered\"]; // DEPRECATED in V3.2\n        var worldPosSubs = node._topicSubs[\"worldPos\"];\n        var viewPosSubs = node._topicSubs[\"viewPos\"];\n        var cameraPosSubs = node._topicSubs[\"cameraPos\"];\n        var projPosSubs = node._topicSubs[\"projPos\"];\n        var canvasPosSubs = node._topicSubs[\"canvasPos\"];\n\n        if (renderedSubs || worldPosSubs || viewPosSubs || cameraPosSubs || projPosSubs || canvasPosSubs) {\n            idStack[stackLen] = node.id;\n\n            listenerStack[stackLen] = function (event) {\n\n                // Don't retain - callback must get positions for\n                // required coordinate via methods on the event object.\n                // That's dirty, therefore deprecated.\n                if (renderedSubs) {\n                    node.publish(\"rendered\", event, true); // DEPRECATED in V3.2\n                }\n\n                // Publish retained positions for coordinate systems where subscribed\n                if (worldPosSubs) {\n                    node.publish(\"worldPos\", event.getWorldPos());\n                }\n                if (viewPosSubs) {\n                    node.publish(\"viewPos\", event.getViewPos());\n                }\n                if (cameraPosSubs) {\n                    node.publish(\"cameraPos\", event.getCameraPos());\n                }\n                if (projPosSubs) {\n                    node.publish(\"projPos\", event.getProjPos());\n                }\n                if (canvasPosSubs) {\n                    node.publish(\"canvasPos\", event.getCanvasPos());\n                }\n            };\n\n            stackLen++;\n            dirty = true;\n        }\n    };\n\n    this.postVisitNode = function (node) {\n        if (node.id == idStack[stackLen - 1]) {\n            stackLen--;\n            dirty = true;\n        }\n    };\n\n})();\n\n/**\n * @class Holds state for one or more {@link SceneJS.Node}s.\n *\n * <p>Each {@link SceneJS.Node} has a state core to hold its state, and the core may be shared by other\n * {@link SceneJS.Nodes}s of the same type.</p>\n *\n * <p>The state held by core is rendered by a {@link SceneJS_Chunk}  \n *\n * @private\n */\nvar SceneJS_Core = function(type) {\n\n    /**\n     * The state core type, which will be the same value as the type property on the {@link SceneJS.Node}s that use the core\n     * @type String\n     * @see SceneJS.Node#type\n     */\n    this.type = type;\n\n    /**\n     * The state core ID, unique within the scene. This ID may be either a string assigned by the application layer via\n     * scene node configs, or a number that is automatically generated by the {@link SceneJS_CoreFactory} managing\n     * this core instance.\n     * @type String|Number\n     */\n    this.coreId = null;\n\n    /**\n     * Uniquely identifies this state core within a {@link SceneJS_Display}.\n     *\n     * This ID is used by a {@link SceneJS_Display} to reduce redundant state changes when rendering a sequence of cores, \n     * where as a {@link SceneJS_Display} renders a frame it avoids applying consecutive cores that have the\n     * same value for this ID.\n     *\n     * @type Number\n     */\n    this.stateId = null;\n\n    /**\n     * Count of {@link SceneJS.Node} instances this core holds state for\n     */\n    this.useCount = 0;\n};/**\n * @class Manages creation, recycle and destruction of {@link SceneJS_Core} instances\n * @private\n */\nvar SceneJS_CoreFactory = function () {\n\n    this._stateMap = new SceneJS_Map(null, SceneJS._baseStateId);  // For creating unique state IDs for cores\n\n    this._cores = {}; // Map of cores for each type\n};\n\n/**\n * State core classes provided by this factory\n * @type {SceneJS.Core}\n */\nSceneJS_CoreFactory.coreTypes = {};    // Supported core classes, installed by #createCoreType\n\n/**\n * Creates a core class for instantiation by this factory\n * @param {String} type Name of type, eg. \"camera\"\n * @param {Node} [superType] Class of super type - SceneJS.Node by default\n * @returns The new node class\n */\nSceneJS_CoreFactory.createCoreType = function (type, superType) {\n    //\n    //    var supa = SceneJS_CoreFactory.coreTypes[superType];\n    //\n    //    if (!supa) {\n    //        supa = SceneJS.Core; // Super class is Core by default\n    //    }\n    //\n    //    var nodeType = function() { // Create the class\n    //        supa.apply(this, arguments);\n    //        this.type = type;\n    //    };\n    //\n    //    nodeType.prototype = new supa();            // Inherit from base class\n    //    nodeType.prototype.constructor = nodeType;\n    //\n    //    SceneJS_CoreFactory.nodeTypes[type] = nodeType;\n    //\n    //    return nodeType;\n};\n\nSceneJS_CoreFactory.addCoreBuilder = function (type, factory) {\n\n};\n\n/* HACK - allows different types of node to have same type of core, eg. \"rotate\" and \"translate\" nodes can both have an \"xform\" core    \n */\nSceneJS_CoreFactory.coreAliases = {\n    \"rotate\":\"xform\",\n    \"translate\":\"xform\",\n    \"scale\":\"xform\",\n    \"matrix\":\"xform\",\n    \"xform\":\"xform\"\n};\n\n/**\n * Gets a core of the given type from this factory. Reuses any existing existing core of the same type and ID.\n *\n * The caller (a scene node) will then augment the core with type-specific attributes and methods.\n *\n * @param {String} type Type name of core, e.g. \"material\", \"texture\"\n * @param {String} coreId ID for the core, unique among all cores of the given type within this factory\n * @returns {Core} The core\n */\nSceneJS_CoreFactory.prototype.getCore = function (type, coreId) {\n\n    /* HACK - allows different types of node to have same type of core, eg. \"rotate\" and \"translate\" nodes can both have an \"xform\" core    \n     */\n    var alias = SceneJS_CoreFactory.coreAliases[type];\n    if (alias) {\n        type = alias;\n    }\n\n    var cores = this._cores[type];\n\n    if (!cores) {\n        cores = this._cores[type] = {};\n    }\n\n    var core;\n\n    if (coreId) { // Attempt to reuse a core\n\n        core = cores[coreId];\n\n        if (core) {\n            core.useCount++;\n            return core;\n        }\n    }\n\n    core = new SceneJS_Core(type);\n    core.useCount = 1;  // One user so far\n\n    core.stateId = this._stateMap.addItem(core);\n    core.coreId = (coreId != undefined && coreId != null) ? coreId : core.stateId; // Use state ID as core ID by default\n\n    cores[core.coreId] = core;\n\n    return core;\n};\n\n\n/**\n * Tests if a core of the given type and ID currently exists within this factory.\n *\n * @param {String} type Type name of core, e.g. \"material\", \"texture\"\n * @param {String} coreId ID for the core, unique among all cores of the given type within this factory\n * @returns {Boolean} True if the core exists\n */\nSceneJS_CoreFactory.prototype.hasCore = function (type, coreId) {\n    // HACK - allows different types of node to have same type of core, eg. \"rotate\" and \"translate\" nodes can both have an \"xform\" core\n    var alias = SceneJS_CoreFactory.coreAliases[type];\n    if (alias) {\n        type = alias;\n    }\n    var cores = this._cores[type];\n    return cores && cores[coreId];\n};\n\n/**\n * Releases a state core back to this factory, destroying it if the core's use count is then zero.\n * @param {Core} core Core to release\n */\nSceneJS_CoreFactory.prototype.putCore = function (core) {\n\n    if (core.useCount == 0) {\n        return; // In case of excess puts\n    }\n\n    if (--core.useCount <= 0) {                    // Release shared core if use count now zero\n\n        var cores = this._cores[core.type];\n\n        cores[core.coreId] = null;\n\n        this._stateMap.removeItem(core.stateId);  // Release state ID for reuse\n    }\n};\n\n/**\n * Reallocates WebGL resources for cores within this factory\n */\nSceneJS_CoreFactory.prototype.webglRestored = function () {\n\n    var cores;\n    var core;\n\n    for (var type in this._cores) {\n        if (this._cores.hasOwnProperty(type)) {\n\n            cores = this._cores[type];\n\n            if (cores) {\n\n                for (var coreId in cores) {\n                    if (cores.hasOwnProperty(coreId)) {\n\n                        core = cores[coreId];\n\n                        if (core.webglRestored) { // Method augmented on core by user\n                            core.webglRestored();\n                        }\n                    }\n                }\n            }\n        }\n    }\n};\n/**\n * @class The basic scene graph node type\n */\nSceneJS.Node = function () {\n};\n\n/**\n * @class Basic scene graph node\n */\nSceneJS.Node.prototype.constructor = SceneJS.Node;\n\n/**\n * Called by SceneJS_Engine after it has instantiated the node\n *\n * @param {SceneJS_Engine} engine The engine which will manage this node\n * @param {SceneJS_Core} core The core which will hold state for this node, may be shared with other nodes of the same type\n * @param cfg Configuration for this node\n * @param {String} cfg.id ID for the node, unique among all nodes in the scene\n * @param {String} cfg.type type Type of this node (eg. \"material\", \"texture\" etc)\n * @param {Object} cfg.data Optional arbitrary JSON object to attach to node\n * @param {String} nodeId Optional ID for node\n */\nSceneJS.Node.prototype._construct = function (engine, core, cfg, nodeId) {\n\n    /**\n     * Engine that manages this node\n     * @type SceneJS_Engine\n     */\n    this._engine = engine;\n\n    /**\n     * The core which holds state for this node, may be shared with other nodes of the same type\n     * @type SceneJS_Core\n     */\n    this._core = core;\n\n    /**\n     * The core ID\n     * @type {String|Number}\n     */\n    this.coreId = core.coreId;\n\n    /**\n     * ID of this node, unique within its scene. The ID is a string if it was defined by the application\n     * via the node's JSON configuration, otherwise it is a number if it was left to SceneJS to automatically create.\n     * @type String|Number\n     */\n    this.id = cfg.id || cfg.nodeId || nodeId;\n\n    /**\n     * Type of this node (eg. \"material\", \"texture\" etc)\n     * @type String\n     */\n    this.type = cfg.type || \"node\";\n\n    /**\n     * Optional arbitrary JSON object attached to this node\n     * @type JSON\n     */\n    this.data = cfg.data;\n\n    /**\n     * Parent node\n     * @type SceneJS.Node\n     */\n    this.parent = null;\n\n    /**\n     * Child nodes\n     * @type SceneJS.Node[]\n     */\n    this.nodes = [];\n\n    // Pub/sub support\n    this._handleMap = new SceneJS_Map(); // Subscription handle pool\n    this._topicSubs = {}; // A [handle -> callback] map for each topic name\n    this._handleTopics = {}; // Maps handles to topic names\n    this._topicPubs = {}; // Maps topics to publications\n\n    /**\n     *\n     */\n    this._listeners = {};\n\n    /**\n     *\n     */\n    this._numListeners = 0; // Useful for quick check whether node observes any events\n\n    /**\n     *\n     */\n    this.dirty = false;\n\n    /**\n     *\n     */\n    this.branchDirty = false;\n\n    if (this._init) {\n        this._init(cfg);\n    }\n};\n\n/**\n * Notifies that an asynchronous task has started on this node\n * @param {String} [description] Description - will be \"Task\" by default\n * @return {String} Unique ID for the task, which may be given to {@link #taskFinished} or {@link #taskFailed}\n */\nSceneJS.Node.prototype.taskStarted = function (description) {\n    return SceneJS_sceneStatusModule.taskStarted(this, description || \"Task\");\n};\n\n/**\n * Notifies that a task, whose initiation was previously notified with {@link #taskStarted},\n * has now completed successfully.\n * @param {String} taskId Unique ID for the task, which was got with {@link #taskStarted}\n * @return null\n */\nSceneJS.Node.prototype.taskFinished = function (taskId) {\n    return SceneJS_sceneStatusModule.taskFinished(taskId);\n};\n\n/**\n * Notifies that a task, whose initiation was previously notified with {@link #taskStarted},\n * has failed.\n * @param {String} taskId Unique ID for the task, which was got with {@link #taskStarted}\n * @return null\n */\nSceneJS.Node.prototype.taskFailed = function (taskId) {\n    return SceneJS_sceneStatusModule.taskFailed(taskId);\n};\n\n/**\n * Logs a message in the context of this node\n * @param {String} [channel] Logging channel - \"error\", \"warn\" or \"info\" (default)\n * @param {String} msg Message to log\n */\nSceneJS.Node.prototype.log = function () {\n    var channel;\n    var msg;\n    if (arguments.length == 1) {\n        channel = \"info\";\n        msg = arguments[0];\n    } else if (arguments.length == 2) {\n        channel = arguments[0];\n        msg = arguments[1];\n    }\n    switch (channel) {\n        case \"warn\":\n            msg = \"WARN;  [SceneJS.Node type=\" + this.type + \", id=\" + this.id + \"] : \" + msg;\n            break;\n        case \"error\":\n            msg = \"ERROR; [SceneJS.Node type=\" + this.type + \", id=\" + this.id + \"] : \" + msg;\n            break;\n        default:\n            msg = \"INFO;  [SceneJS.Node type=\" + this.type + \", id=\" + this.id + \"] : \" + msg;\n            break;\n    }\n\n    if (console[channel]) {\n        console[channel](msg);\n    } else {\n        console.log(msg);\n    }\n};\n\n/**\n * Publishes to a topic on this node.\n *\n * Immediately notifies existing subscriptions to that topic, and unless the \"forget' parameter is\n * true, retains the publication to give to any subsequent notifications on that topic as they are made.\n *\n * @param {String} topic Publication topic\n * @param {Object} pub The publication\n * @param {Boolean} [forget] When true, the publication will be sent to subscribers then forgotten, so that any\n * subsequent subscribers will not receive it\n */\nSceneJS.Node.prototype.publish = function (topic, pub, forget) {\n    if (!forget) {\n        this._topicPubs[topic] = pub; // Save notification\n    }\n    if (this._topicSubs[topic]) { // Notify subscriptions\n        var subsForTopic = this._topicSubs[topic];\n        for (var handle in subsForTopic) {\n            if (subsForTopic.hasOwnProperty(handle)) {\n                subsForTopic[handle].call(this, pub);\n            }\n        }\n    }\n};\n\n/**\n * Removes a topic publication\n *\n * Immediately notifies existing subscriptions to that topic, sending them each a null publication.\n *\n * @param topic Publication topic\n * @private\n */\nSceneJS.Node.prototype.unpublish = function (topic) {\n    var subsForTopic = this._topicSubs[topic];\n    if (subsForTopic) { // Notify subscriptions\n        for (var handle in subsForTopic) {\n            if (subsForTopic.hasOwnProperty(handle)) {\n                subsForTopic[handle].call(this, null);\n            }\n        }\n    }\n    delete this._topicPubs[topic];\n};\n\n\n/**\n * Listen for data changes at a particular location on this node\n *\n * <p>Your callback will be triggered for\n * the initial data and again whenever the data changes. Use {@link #off} to stop receiving updates.</p>\n *\n * <p>The callback is be called with this node as scope.</p>\n *\n * @param {String} location Publication location\n * @param {Function(data)} callback Called when fresh data is available at the location\n * @return {String} Handle to the subscription, which may be used to unsubscribe with {@link #off}.\n */\nSceneJS.Node.prototype.on = function (topic, callback) {\n    var subsForTopic = this._topicSubs[topic];\n    if (!subsForTopic) {\n        subsForTopic = {};\n        this._topicSubs[topic] = subsForTopic;\n    }\n    var handle = this._handleMap.addItem(); // Create unique handle\n    subsForTopic[handle] = callback;\n    this._handleTopics[handle] = topic;\n    var pub = this._topicPubs[topic];\n    if (pub) { // A publication exists, notify callback immediately\n        callback.call(this, pub);\n    }\n    //else {\n    if (topic == \"rendered\") {\n        this._engine.branchDirty(this);\n    }\n//    if (topic == \"tick\") {\n//        this._engine.scene.on(\"tick\",callback);\n//    }\n    // }\n    return handle;\n};\n\n/**\n * Unsubscribes from a publication on this node that was previously made with {@link #on}.\n * @param handle Publication handle\n */\nSceneJS.Node.prototype.off = function (handle) {\n    var topic = this._handleTopics[handle];\n    if (topic) {\n        delete this._handleTopics[handle];\n        var topicSubs = this._topicSubs[topic];\n        if (topicSubs) {\n            delete topicSubs[handle];\n        }\n        this._handleMap.removeItem(handle); // Release handle\n        if (topic == \"rendered\") {\n            this._engine.branchDirty(this);\n        }\n    }\n//    else {\n//        this._engine.scene.off(handle);\n//    }\n};\n\n/**\n * Listens for exactly one data update at the specified location on this node, and then stops listening.\n * <p>This is equivalent to calling {@link #on}, and then calling {@link #off} inside the callback function.</p>\n * @param {String} location Data location to listen to\n * @param {Function(data)} callback Called when fresh data is available at the location\n */\nSceneJS.Node.prototype.once = function (topic, callback) {\n    var self = this;\n    var sub = this.on(topic,\n        function (pub) {\n            self.off(sub);\n            callback(pub);\n        });\n};\n\n/**\n * Returns this node's {@link SceneJS.Scene}\n */\nSceneJS.Node.prototype.getScene = function () {\n    return this._engine.scene;\n};\n\n/**\n * Returns the ID of this node's core\n */\nSceneJS.Node.prototype.getCoreId = function () {\n    return this._core.coreId;\n};\n\n/**\n * Get the node's ID\n *\n */\nSceneJS.Node.prototype.getID = function () {\n    return this.id;\n};\n\n/**\n * Alias for getID\n *  @function\n */\nSceneJS.Node.prototype.getId = function () {\n    return this.id;\n};\n\n/**\n * Alias for getID\n *  @function\n */\nSceneJS.Node.prototype.getNodeId = function () {\n    return this.id;\n};\n\n\n/**\n * Returns the node's type. For the Node base class, it is \"node\", overridden in sub-classes.\n */\nSceneJS.Node.prototype.getType = function () {\n    return this.type;\n};\n\n/**\n * Returns the data object attached to this node.\n */\nSceneJS.Node.prototype.getData = function () {\n    return this.data;\n};\n\n/**\n * Sets a data object on this node.\n */\nSceneJS.Node.prototype.setData = function (data) {\n    this.data = data;\n    return this;\n};\n\n/**\n * Returns the number of child nodes\n */\nSceneJS.Node.prototype.getNumNodes = function () {\n    return this.nodes.length;\n};\n\n/** Returns child nodes\n * @returns {Array} Child nodes\n */\nSceneJS.Node.prototype.getNodes = function () {\n    return this.nodes.slice(0);\n};\n\n/** Returns child node at given index. Returns null if no node at that index.\n * @param {Number} index The child index\n * @returns {Node} Child node, or null if not found\n */\nSceneJS.Node.prototype.getNodeAt = function (index) {\n    if (index < 0 || index >= this.nodes.length) {\n        return null;\n    }\n    return this.nodes[index];\n};\n\n/** Returns first child node. Returns null if no child nodes.\n * @returns {Node} First child node, or null if not found\n */\nSceneJS.Node.prototype.getFirstNode = function () {\n    if (this.nodes.length == 0) {\n        return null;\n    }\n    return this.nodes[0];\n};\n\n/** Returns last child node. Returns null if no child nodes.\n * @returns {Node} Last child node, or null if not found\n */\nSceneJS.Node.prototype.getLastNode = function () {\n    if (this.nodes.length == 0) {\n        return null;\n    }\n    return this.nodes[this.nodes.length - 1];\n};\n\n/** Returns child node with the given ID.\n * Returns null if no such child node found.\n */\nSceneJS.Node.prototype.getNode = function (id) {\n    for (var i = 0; i < this.nodes.length; i++) {\n        if (this.nodes[i].id == id) {\n            return this.nodes[i];\n        }\n    }\n    return null;\n};\n\n/** Disconnects the child node at the given index from its parent node\n * @param {int} index Child node index\n * @returns {Node} The disconnected child node if located, else null\n */\nSceneJS.Node.prototype.disconnectNodeAt = function (index) {\n    var r = this.nodes.splice(index, 1);\n    if (r.length > 0) {\n        r[0].parent = null;\n        this._engine.display.objectListDirty = true;\n        return r[0];\n    } else {\n        return null;\n    }\n};\n\n/** Disconnects the child node from its parent, given as a node object\n * @param {String | Node} id The target child node, or its ID\n * @returns {Node} The removed child node if located\n */\nSceneJS.Node.prototype.disconnect = function () {\n    if (this.parent) {\n        for (var i = 0; i < this.parent.nodes.length; i++) {\n            if (this.parent.nodes[i] === this) {\n                var node = this.parent.disconnectNodeAt(i);\n                this.parent = null;\n                return node;\n            }\n        }\n        this.parent = null;\n    }\n    return null;\n};\n\n/** Removes the child node at the given index\n * @param {int} index Child node index\n */\nSceneJS.Node.prototype.removeNodeAt = function (index) {\n    var child = this.disconnectNodeAt(index);\n    if (child) {\n        child.destroy();\n        this._engine.display.objectListDirty = true;\n    }\n};\n\n/** Removes the child node, given as either a node object or an ID string.\n * @param {String | Node} id The target child node, or its ID\n * @returns {Node} The removed child node if located\n */\nSceneJS.Node.prototype.removeNode = function (node) {\n\n    if (!node) {\n        throw SceneJS_error.fatalError(\n            SceneJS.errors.ILLEGAL_NODE_CONFIG,\n            \"Node#removeNode - node argument undefined\");\n    }\n\n    if (!node._compile) {\n        if (typeof node == \"string\") {\n            var gotNode = this._engine.findNode(node);\n            if (!gotNode) {\n                throw SceneJS_error.fatalError(\n                    SceneJS.errors.NODE_NOT_FOUND,\n                    \"Node#removeNode - node not found anywhere: '\" + node + \"'\");\n            }\n            node = gotNode;\n        }\n    }\n\n    if (node._compile) { //  instance of node\n        for (var i = 0; i < this.nodes.length; i++) {\n            if (this.nodes[i] === node) {\n                var removedNode = this.removeNodeAt(i);\n                this._engine.display.objectListDirty = true;\n                return removedNode;\n            }\n        }\n    }\n\n    throw SceneJS_error.fatalError(\n        SceneJS.errors.NODE_NOT_FOUND,\n        \"Node#removeNode - child node not found: \" + (node._compile ? \": \" + node.id : node));\n};\n\n/** Disconnects all child nodes from their parent node and returns them in an array.\n */\nSceneJS.Node.prototype.disconnectNodes = function () {\n    var len = this.nodes.length;\n    for (var i = 0; i < len; i++) {  // Unlink nodes from this\n        this.nodes[i].parent = null;\n    }\n    var nodes = this.nodes;\n    this.nodes = [];\n    this._engine.display.objectListDirty = true;\n    return nodes;\n};\n\n/** Removes all child nodes and returns them in an array.\n */\nSceneJS.Node.prototype.removeNodes = function () {\n    var nodes = this.disconnectNodes();\n    for (var i = 0; i < nodes.length; i++) {\n        nodes[i].destroy();\n        this._engine.display.objectListDirty = true;\n    }\n};\n\n/** Destroys this node and moves children up to parent, inserting them where this node resided.\n */\nSceneJS.Node.prototype.splice = function () {\n\n    var i, len;\n\n    if (this.parent == null) {\n        return null;\n    }\n    var parent = this.parent;\n    var nodes = this.disconnectNodes();\n    for (i = 0, len = nodes.length; i < len; i++) {  // Link this node's nodes to new parent\n        nodes[i].parent = this.parent;\n    }\n    for (i = 0, len = parent.nodes.length; i < len; i++) { // Replace node on parent's nodes with this node's nodes\n        if (parent.nodes[i] === this) {\n\n            parent.nodes.splice.apply(parent.nodes, [i, 1].concat(nodes));\n\n            this.nodes = [];\n            this.parent = null;\n\n            this.destroy();\n\n            this._engine.branchDirty(parent);\n\n            return parent;\n        }\n    }\n};\n\n/** Appends multiple child nodes\n */\nSceneJS.Node.prototype.addNodes = function (nodes, ok) {\n\n    if (!nodes) {\n        throw SceneJS_error.fatalError(\n            SceneJS.errors.ILLEGAL_NODE_CONFIG,\n            \"Node#addNodes - nodes argument is undefined\");\n    }\n\n    var node;\n    var result = [];\n    var numNodes = nodes.length;\n\n    for (var i = nodes.length - 1; i >= 0; i--) {\n        var nodeAttr = nodes[i];\n        if (nodeAttr.type == \"node\" || this._engine.hasNodeType(nodeAttr.type)) {\n\n            // Add loaded node type synchronously\n\n            node = this.addNode(nodeAttr);\n            result[i] = node;\n            if (--numNodes == 0) {\n                if (ok) {\n                    ok(nodes);\n                }\n                return nodes;\n            }\n        } else {\n\n            // Load node type and instantiate it asynchronously\n\n            var self = this;\n            (function () {\n                var nodei = i;\n                self.addNode(nodeAttr,\n                    function (node) {\n                        result[nodei] = node;\n                        if (--numNodes == 0) {\n                            if (ok) {\n                                ok(nodes);\n                            }\n                        }\n                    });\n            })();\n        }\n    }\n    return null;\n};\n\n/** Appends a child node\n */\nSceneJS.Node.prototype.addNode = function (node, ok) {\n\n    node = node || {};\n\n    // Graft node object\n    if (node._compile) {\n        if (node.parent != null) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"Node#addNode - node argument is still attached to another parent\");\n        }\n        this.nodes.push(node);\n        node.parent = this;\n        this._engine.branchDirty(node);\n        if (ok) {\n            ok(node);\n        }\n        return node;\n    }\n\n    // Graft node object by ID reference\n    if (typeof node == \"string\") {\n        var gotNode = this._engine.findNode(node);\n        if (!gotNode) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"Node#addNode - node not found: '\" + node + \"'\");\n        }\n        node = gotNode;\n        if (node.parent != null) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"Node#addNode - node argument is still attached to another parent\");\n        }\n        this.nodes.push(node);\n        node.parent = this;\n        this._engine.branchDirty(node);\n        if (ok) {\n            ok(node);\n        }\n        return node;\n    }\n\n    // Create node\n\n    node.type = node.type || \"node\";\n\n    if (node.type == \"node\" || this._engine.hasNodeType(node.type)) {\n\n        // Root node's type is already loaded, so we are able\n        // to create the root synchronously. When the caller\n        // is creating a core node type, then by this contract\n        // it can rely on the return value\n\n        node = this._engine.createNode(node);\n        this.nodes.push(node);\n        node.parent = this;\n        this._engine.branchDirty(node);\n        if (ok) {\n            ok(node);\n        }\n        return node;\n\n    } else {\n\n        // Otherwise the root node's type needs to be loaded,\n        // so we need to create it asynchronously. By this contract,\n        // the Caller would not rely on synchronous creation of\n        // non-core types.\n        var self = this;\n        this._engine.createNode(node,\n            function (node) {\n                self.nodes.push(node);\n                node.parent = self;\n                self._engine.branchDirty(node);\n                if (ok) {\n                    ok(node);\n                }\n            });\n        return null;\n    }\n};\n\n/** Inserts a subgraph into child nodes\n * @param {Node} node Child node\n * @param {int} i Index for new child node\n * @return {Node} The child node\n */\nSceneJS.Node.prototype.insertNode = function (node, i) {\n\n    if (!node) {\n        throw SceneJS_error.fatalError(\n            SceneJS.errors.ILLEGAL_NODE_CONFIG,\n            \"SceneJS.Node#insertNode - node argument is undefined\");\n    }\n\n    if (!node._compile) { // JSON node definition\n        node = this._engine.createNode(node); // Create node\n    }\n\n    if (!node._compile) {\n        throw SceneJS_error.fatalError(\n            SceneJS.errors.ILLEGAL_NODE_CONFIG,\n            \"SceneJS.Node#insertNode - node argument is not a SceneJS.Node\");\n    }\n\n    if (node.parent != null) {\n        throw SceneJS_error.fatalError(\n            SceneJS.errors.ILLEGAL_NODE_CONFIG,\n            \"SceneJS.Node#insertNode - node argument is still attached to another parent\");\n    }\n\n    if (i === undefined || i === null) {\n        node.addNodes(this.disconnectNodes());\n        this.addNode(node);\n\n    } else if (i < 0) {\n\n        throw SceneJS_error.fatalError(\n            SceneJS.errors.ILLEGAL_NODE_CONFIG,\n            \"SceneJS.Node#insertNode - node index out of range: -1\");\n\n    } else if (i >= this.nodes.length) {\n        this.nodes.push(node);\n    } else {\n        this.nodes.splice(i, 0, node);\n    }\n\n    node.parent = this;\n    return node;\n};\n\n/** Calls the given function on each node in the subgraph rooted by this node, including this node.\n * The callback takes each node as it's sole argument and traversal stops as soon as the function returns\n * true and returns the node.\n * @param {function(Node)} func The function\n */\nSceneJS.Node.prototype.mapNodes = function (func) {\n    if (func(this)) {\n        return this;\n    }\n    var result;\n    for (var i = 0; i < this.nodes.length; i++) {\n        result = this.nodes[i].mapNodes(func);\n        if (result) {\n            return result;\n        }\n    }\n    return null;\n};\n\n/**\n * Registers a listener for a given event on this node. If the event type\n * is not supported by this node type, then the listener will never be called.\n * <p><b>Example:</b>\n * <pre><code>\n * var node = new Node();\n *\n * node.addListener(\n *\n *              // eventName\n *              \"some-event\",\n *\n *              // handler\n *              function(node,      // Node we are listening to\n *                       params) {  // Whatever params accompany the event type\n *\n *                     // ...\n *              }\n * );\n *\n *\n * </code></pre>\n *\n * @param {String} eventName One of the event types supported by this node\n * @param {Function} fn - Handler function that be called as specified\n * @param options - Optional options for the handler as specified\n * @return {Node} this\n */\nSceneJS.Node.prototype.addListener = function (eventName, fn, options) {\n    var list = this._listeners[eventName];\n    if (!list) {\n        list = [];\n        this._listeners[eventName] = list;\n    }\n    list.push({\n        eventName:eventName,\n        fn:fn,\n        options:options || {}\n    });\n    this._numListeners++;\n    return this;\n};\n\n/**\n * Fires an event at this node, immediately calling listeners registered for the event\n */\nSceneJS.Node.prototype._fireEvent = function (eventName, params, options) {\n    var list = this._listeners[eventName];\n    if (list) {\n        if (!params) {\n            params = {};\n        }\n        var event = {\n            name:eventName,\n            params:params,\n            options:options || {}\n        };\n        var listener;\n        for (var i = 0, len = list.length; i < len; i++) {\n            listener = list[i];\n            if (listener.options.scope) {\n                listener.fn.call(listener.options.scope, event);\n            } else {\n                listener.fn.call(this, event);\n            }\n        }\n    }\n};\n\n/**\n * Removes a handler that is registered for the given event on this node.\n * Does nothing if no such handler registered.\n */\nSceneJS.Node.prototype.removeListener = function (eventName, fn) {\n    var list = this._listeners[eventName];\n    if (!list) {\n        return null;\n    }\n    for (var i = 0; i < list.length; i++) {\n        if (list[i].fn == fn) {\n            list.splice(i, 1);\n            return fn;\n        }\n    }\n    this._numListeners--;\n    return null;\n};\n\n/**\n * Returns true if this node has any listeners for the given event\n */\nSceneJS.Node.prototype.hasListener = function (eventName) {\n    return this._listeners[eventName];\n};\n\n/**\n * Returns true if this node has any listeners at all.\n */\nSceneJS.Node.prototype.hasListeners = function () {\n    return (this._numListeners > 0);\n};\n\n/** Removes all listeners registered on this node.\n */\nSceneJS.Node.prototype.removeListeners = function () {\n    this._listeners = {};\n    this._numListeners = 0;\n    return this;\n};\n\n/**\n * Returns the parent node\n * @return {SceneJS.Node}\n */\nSceneJS.Node.prototype.getParent = function (type) {\n    return this.parent;\n};\n\n/**\n * Finds the first node of given type on path to root.\n * @param {String} type Parent type to find on path to root\n * @return {SceneJS.Node}\n */\nSceneJS.Node.prototype.getParentOfType = function (type) {\n    var parent = this.parent;\n    while (parent && parent.type != type) {\n        parent = parent.parent;\n    }\n    return parent;\n};\n\n/**\n * Iterates over parent nodes on the path from the selected node to the root, executing a function\n * for each.\n * If the function returns true at any node, then traversal stops and a selector is\n * returned for that node.\n * @param {Function(node, index)} fn Function to execute on each instance node\n * @return {Object} Selector for selected node, if any\n */\nSceneJS.Node.prototype.eachParent = function (fn) {\n\n    if (!fn) {\n        throw \"SceneJS.Node.eachParent param 'fn' is null or undefined\";\n    }\n\n    var count = 0;\n    var node = this;\n\n    while (node.parent) {\n        if (fn.call(node.parent, count++) === true) {\n            return node.parent;\n        }\n        node = node.parent;\n    }\n\n    return null;\n};\n\n/** Returns true if a child node matching given ID or index exists on this node\n * @param {Number|String} node Child node index or ID\n */\nSceneJS.Node.prototype.hasNode = function (node) {\n\n    if (node === null || node === undefined) {\n        throw \"SceneJS.Node.hasNode param 'node' is null or undefined\";\n    }\n\n    var type = typeof node;\n    var nodeGot;\n\n    if (type == \"number\") {\n        nodeGot = this.getNodeAt(node);\n\n    } else if (type == \"string\") {\n        nodeGot = this.getNode(node);\n\n    } else {\n        throw \"SceneJS.Node.hasNode param 'node' should be either an index number or an ID string\";\n    }\n\n    return (nodeGot != undefined && nodeGot != null);\n};\n\n/** Selects a child node matching given ID or index\n * @param {Number|String} node Child node index or ID\n */\nSceneJS.Node.prototype.node = function (node) {\n\n    if (node === null || node === undefined) {\n        throw \"SceneJS.Node.node param 'node' is null or undefined\";\n    }\n\n    var type = typeof node;\n    var nodeGot;\n\n    if (type == \"number\") {\n        nodeGot = this.getNodeAt(node);\n\n    } else if (type == \"string\") {\n        nodeGot = this.getNode(node);\n\n    } else {\n        throw \"SceneJS.Node.node param 'node' should be either an index number or an ID string\";\n    }\n\n    if (!nodeGot) {\n        throw \"SceneJS.Node.node - node not found: '\" + node + \"'\";\n    }\n\n    return nodeGot;\n};\n\n/**\n * Iterates over sub-nodes of the selected node, executing a function\n * for each. With the optional options object we can configure is depth-first or breadth-first order.\n * If neither, then only the child nodes are iterated.\n * If the function returns true at any node, then traversal stops and a selector is\n * returned for that node.\n * @param {Function(index, node)} fn Function to execute on each child node\n * @return {Object} Selector for selected node, if any\n */\nSceneJS.Node.prototype.eachNode = function (fn, options) {\n\n    if (!fn) {\n        throw \"SceneJS.Node.eachNode param 'fn' is null or undefined\";\n    }\n\n    if (typeof fn != \"function\") {\n        throw \"SceneJS.Node.eachNode param 'fn' should be a function\";\n    }\n\n    var stoppedNode;\n    options = options || {};\n    var count = 0;\n\n    if (options.andSelf) {\n        if (fn.call(this, count++) === true) {\n            return this;\n        }\n    }\n\n    if (!options.depthFirst && !options.breadthFirst) {\n        stoppedNode = this._iterateEachNode(fn, this, count);\n\n    } else if (options.depthFirst) {\n        stoppedNode = this._iterateEachNodeDepthFirst(fn, this, count, false); // Not below root yet\n\n    } else {\n        // TODO: breadth-first\n    }\n\n    if (stoppedNode) {\n        return stoppedNode;\n    }\n\n    return undefined; // IDE happy now\n};\n\nSceneJS.Node.prototype.numNodes = function () {\n    return this.nodes.length;\n};\n\nSceneJS.Node.prototype._iterateEachNode = function (fn, node, count) {\n\n    var len = node.nodes.length;\n    var child;\n\n    for (var i = 0; i < len; i++) {\n        child = node.nodes[i];\n\n        if (fn.call(child, count++) === true) {\n            return child;\n        }\n    }\n\n    return null;\n};\n\nSceneJS.Node.prototype._iterateEachNodeDepthFirst = function (fn, node, count, belowRoot) {\n\n    if (belowRoot) {\n\n        /* Visit this node - if we are below root, because entry point visits the root\n         */\n        if (fn.call(node, count++) === true) {\n            return node;\n        }\n    }\n\n    belowRoot = true;\n\n    /* Iterate nodes\n     */\n    var len = node.nodes.length;\n    var child;\n    for (var i = 0; i < len; i++) {\n        child = this._iterateEachNodeDepthFirst(fn, node.nodes[i], count, belowRoot);\n        if (child) {\n            return child;\n        }\n    }\n\n    return null;\n};\n\n/** Returns either all child or all sub-nodes of the given type, depending on whether search is recursive or not.\n */\nSceneJS.Node.prototype.findNodesByType = function (type, recursive) {\n    return this._findNodesByType(type, [], recursive);\n};\n\nSceneJS.Node.prototype._findNodesByType = function (type, list, recursive) {\n    var i;\n    for (i = 0; i < this.nodes; i++) {\n        var node = this.nodes[i];\n        if (node.type == type) {\n            list.add(node);\n        }\n    }\n    if (recursive) {\n        for (i = 0; i < this.nodes; i++) {\n            this.nodes[i]._findNodesByType(type, list, recursive);\n        }\n    }\n    return list;\n};\n\n/** Finds the first node on path up to root whose type equals that given\n */\nSceneJS.Node.prototype.findParentByType = function (type) {\n    var parent = this.parent;\n    while (parent && parent.type != type) {\n        parent = parent.parent;\n    }\n    return parent;\n};\n\n\n/**\n * Given a map of name-value pairs, calls a getter method for each name,\n * feeding into it the corresponding value.\n *\n * @param attr\n * @param value\n * @return {*}\n */\nSceneJS.Node.prototype.set = function (attr, value) {\n\n    if (typeof attr == \"object\") { // Attribute map - recurse for each attribute\n        for (var subAttr in attr) {\n            if (attr.hasOwnProperty(subAttr)) {\n                this.set(subAttr, attr[subAttr]);\n            }\n        }\n        return;\n    }\n\n    if (this._set) {\n        var method = this._set[attr];\n        if (method) {\n            return method.call(this, value);\n        }\n    }\n\n    return this._createAccessor(\"set\", attr, value);\n};\n\nSceneJS.Node.prototype.get = function (attr) {\n\n    if (this._get) {\n        var method = this._get[attr];\n        if (method) {\n            return method.call(this);\n        }\n    }\n\n    return this._createAccessor(\"get\", attr);\n};\n\nSceneJS.Node.prototype.add = function (attr, value) {\n\n    if (typeof attr == \"object\") { // Attribute map - recurse for each attribute\n        for (var subAttr in attr) {\n            if (attr.hasOwnProperty(subAttr)) {\n                this.add(subAttr, attr[subAttr]);\n            }\n        }\n        return;\n    }\n\n    if (this._add) {\n        var method = this._add[attr];\n        if (method) {\n            return method.call(this, value);\n        }\n    }\n\n    return this._createAccessor(\"add\", attr, value);\n};\n\nSceneJS.Node.prototype.inc = function (attr, value) {\n\n    if (typeof attr == \"object\") { // Attribute map - recurse for each attribute\n        for (var subAttr in attr) {\n            if (attr.hasOwnProperty(subAttr)) {\n                this.inc(subAttr, attr[subAttr]);\n            }\n        }\n        return;\n    }\n\n    if (this._inc) {\n        var method = this._inc[attr];\n        if (method) {\n            return method.call(this, value);\n        }\n    }\n\n    return this._createAccessor(\"inc\", attr, value);\n};\n\nSceneJS.Node.prototype.insert = function (attr, value) {\n\n    if (typeof attr == \"object\") { // Attribute map - recurse for each attribute\n        for (var subAttr in attr) {\n            if (attr.hasOwnProperty(subAttr)) {\n                this.insert(subAttr, attr[subAttr]);\n            }\n        }\n        return;\n    }\n\n    if (this._set) {\n        var method = this._set[attr];\n        if (method) {\n            return method.call(this, value);\n        }\n    }\n\n    return this._createAccessor(\"insert\", attr, value);\n};\n\nSceneJS.Node.prototype.remove = function (attr, value) {\n\n    if (typeof attr == \"object\") { // Attribute map - recurse for each attribute\n        for (var subAttr in attr) {\n            if (attr.hasOwnProperty(subAttr)) {\n                this.remove(subAttr, attr[subAttr]);\n            }\n        }\n        return;\n    }\n\n    if (this._remove) {\n        var method = this._remove[attr];\n        if (method) {\n            return method.call(this, value);\n        }\n    }\n\n    return this._createAccessor(\"remove\", attr, value);\n};\n\nSceneJS.Node.prototype._createAccessor = function (op, attr, value) {\n\n    var methodName = op + attr.substr(0, 1).toUpperCase() + attr.substr(1);\n\n    var method = this[methodName];\n\n    if (!method) {\n        throw \"Method not found on node: '\" + methodName + \"'\";\n    }\n\n    //var proto = (this.type == \"node\") ? SceneJS.Node.prototype : this._engine.nodeTypes[this.type].prototype;\n\n    var proto = this.__proto__;\n\n    var accessors;\n    switch (op) {\n        case \"set\":\n            accessors = (proto._set || (proto._set = {}));\n            break;\n\n        case \"get\":\n            accessors = (proto._get || (proto._get = {}));\n            break;\n\n        case \"inc\":\n            accessors = (proto._inc || (proto._inc = {}));\n            break;\n\n        case \"add\":\n            accessors = (proto._add || (proto._add = {}));\n            break;\n\n        case \"insert\":\n            accessors = (proto._insert || (proto._insert = {}));\n            break;\n\n        case \"remove\":\n            accessors = (proto._remove || (proto._remove = {}));\n            break;\n    }\n\n    accessors[attr] = method;\n\n    return method.call(this, value); // value can be undefined\n};\n\n/** Binds a listener to an event on the selected node\n *\n * @param {String} name Event name\n * @param {Function} handler Event handler\n */\nSceneJS.Node.prototype.bind = function (name, handler) {\n\n    if (!name) {\n        throw \"SceneJS.Node.bind param 'name' null or undefined\";\n    }\n\n    if (typeof name != \"string\") {\n        throw \"SceneJS.Node.bind param 'name' should be a string\";\n    }\n\n    if (!handler) {\n        throw \"SceneJS.Node.bind param 'handler' null or undefined\";\n    }\n\n    if (typeof handler != \"function\") {\n        throw \"SceneJS.Node.bind param 'handler' should be a function\";\n    }\n\n    this.addListener(name, handler, { scope:this });\n\n    this._engine.branchDirty(this);\n\n    return handler;\n};\n\n/**\n * Returns an object containing the attributes that were given when creating the node. Obviously, the map will have\n * the current values, plus any attributes that were later added through set/add methods on the node\n *\n */\nSceneJS.Node.prototype.getJSON = function () {\n    return this;\n};\n\n\nSceneJS.Node.prototype._compile = function (ctx) {\n    if (this.preCompile) {\n        this.preCompile();\n    }\n    this._compileNodes(ctx);\n    if (this.postCompile) {\n        this.postCompile();\n    }\n};\n\nSceneJS.Node.prototype._compileNodes = function (ctx) {\n\n    var renderSubs = this._topicSubs[\"rendered\"];\n\n    if (renderSubs) {\n        SceneJS_nodeEventsModule.preVisitNode(this);\n    }\n\n//    var tickSubs = this._topicSubs[\"tick\"];\n//\n//    if (tickSubs) {\n//        ctx.pubSubProxy.on(\"tick\", function(event) {\n//            this.publish(\"tick\", event);\n//        });\n//    }\n\n    var child;\n\n    for (var i = 0, len = this.nodes.length; i < len; i++) {\n\n        child = this.nodes[i];\n\n        child.branchDirty = child.branchDirty || this.branchDirty; // Compile subnodes if scene branch dirty\n\n        if (child.dirty || child.branchDirty || this._engine.sceneDirty) {  // Compile nodes that are flagged dirty\n            child._compile(ctx);\n            child.dirty = false;\n            child.branchDirty = false;\n        }\n    }\n\n    if (renderSubs) {\n        SceneJS_nodeEventsModule.postVisitNode(this);\n    }\n};\n\n\n\n/**\n * Destroys this node. It is marked for destruction; when the next scene traversal begins (or the current one ends)\n * it will be destroyed and removed from it's parent.\n */\nSceneJS.Node.prototype.destroy = function () {\n\n    if (!this.destroyed) {\n\n        if (this.parent) {\n\n            /* Remove from parent's child node list\n             */\n            for (var i = 0; i < this.nodes.length; i++) {\n                if (this.parent.nodes[i].id === this.id) {\n                    this.parent.nodes.splice(i, 1);\n                    break;\n                }\n            }\n        }\n\n        // Remove publication\n        this._engine.scene.unpublish(\"nodes/\" + this.id);\n\n        /* Recusrsively destroy child nodes without\n         * bothering to remove them from their parents\n         */\n        this._destroyTree();\n\n        /* Need object list recompilation on display\n         */\n        this._engine.display.objectListDirty = true;\n    }\n\n    return this;\n};\n\nSceneJS.Node.prototype._destroyTree = function () {\n\n    this.destroyed = true;\n\n    this._engine.destroyNode(this); // Release node object\n\n    for (var i = 0, len = this.nodes.length; i < len; i++) {\n        this.nodes[i]._destroyTree();\n    }\n};\n\n/**\n * Performs the actual destruction of this node, calling the node's optional template destroy method\n */\nSceneJS.Node.prototype._doDestroy = function () {\n\n    if (this._destroy) {  // Call destruction handler for each node subclass\n        this._destroy();\n    }\n\n    return this;\n};SceneJS_PubSubProxy = function (scene, proxy) {\n    this.scene = scene;\n    this.proxy = proxy;\n\n};\n\n\n\n/**\n * @class Manages creation, recycle and destruction of {@link SceneJS.Node} instances\n * @private\n */\nvar SceneJS_NodeFactory = function () {\n\n    /** Nodes created by this factory\n     * @type {SceneJS_Map}\n     */\n    this.nodes = new SceneJS_Map({});\n};\n\n/**\n * Scene graph node classes provided by the SceneJS_NodeFactory class\n *\n * @type {[SceneJS.Node]}\n */\nSceneJS_NodeFactory.nodeTypes = {};\n\n/**\n * Subscribers waiting for node types\n * @type {Object}\n * @private\n */\nSceneJS_NodeFactory._subs = {};\n\n/**\n * Creates a node class for instantiation by this factory\n *\n * @param {String} typeName Name of type, eg. \"rotate\"\n * @param {String} coreTypeName Optional name of core type for the node, eg. \"xform\" - defaults to type name of node\n * @param {Function} [augment] Augments the basic node type with our custom node methods\n * @returns The new node class\n */\nSceneJS_NodeFactory.createNodeType = function (typeName, coreTypeName, augment) {\n    if (SceneJS_NodeFactory.nodeTypes[typeName]) {\n        throw \"Node type already defined: \" + typeName;\n    }\n    var nodeType = function () { // Create the class\n        SceneJS.Node.apply(this, arguments);\n        this.type = typeName;\n    };\n    nodeType.prototype = new SceneJS.Node();            // Inherit from base class\n    nodeType.prototype.constructor = nodeType;\n    SceneJS_NodeFactory.nodeTypes[typeName] = nodeType;\n\n    var type = SceneJS_NodeFactory.nodeTypes[typeName]; // Type has installed itself\n    if (!type) {\n        throw \"Node type plugin did not install itself correctly\";\n    }\n    // Augment the basic node type\n    if (augment) {\n        augment(nodeType);\n    }\n    // Notify subscribers waiting for the type\n    var subs = SceneJS_NodeFactory._subs[typeName];\n    if (subs) {\n        while (subs.length > 0) {\n            subs.pop()(type);\n        }\n        delete subs[typeName];\n    }\n    return nodeType;\n};\n\n/**\n *\n */\nSceneJS_NodeFactory.prototype.getNode = function (engine, json, core, ok) {\n    json.type = json.type || \"node\"; // Nodes are SceneJS.Node type by default\n    var nodeType;\n    if (json.type == \"node\") {\n        nodeType = SceneJS.Node;\n    } else {\n        nodeType = SceneJS_NodeFactory.nodeTypes[json.type];\n    }\n    if (nodeType) {\n        return this._createNode(nodeType, engine, json, core, ok);\n    } else {\n        var self = this;\n        this._getType(\n            engine,\n            json.type,\n            function (nodeType) {\n                self._createNode(nodeType, engine, json, core, ok);\n            });\n    }\n};\n\nSceneJS_NodeFactory.prototype._createNode = function (nodeType, engine, json, core, ok) {\n    var node = new nodeType();\n    var id = json.id || json.nodeId; // 'id' and 'nodeId' are aliases\n    if (id) {\n        this.nodes.addItem(id, node);\n    } else {\n        id = this.nodes.addItem(node);\n    }\n    node._construct(engine, core, json, id); // Instantiate node\n    if (ok) {\n        ok(node);\n    }\n    return node;\n};\n\n/**\n * Returns installed type of given type and ID\n */\nSceneJS_NodeFactory.prototype._getType = function (engine, typeName, ok) {\n    var type = SceneJS_NodeFactory.nodeTypes[typeName];\n    if (type) {\n        ok(type);\n        return;\n    }\n    var subs = SceneJS_NodeFactory._subs[typeName] || (SceneJS_NodeFactory._subs[typeName] = []);\n    subs.push(ok);\n    if (subs.length > 1) { // Not first sub\n        return;\n    }\n    var taskId = SceneJS_sceneStatusModule.taskStarted(engine.scene, \"Loading plugin\");\n    subs.push(function () {\n        SceneJS_sceneStatusModule.taskFinished(taskId);\n    });\n    var self = this;\n    var typePath = SceneJS_configsModule.configs.pluginPath;\n    if (!typePath) {\n        throw \"no typePath config\"; // Build script error - should create this config\n    }\n    this._loadScript(typePath + \"/node/\" + typeName + \".js\",\n        function () {\n            SceneJS_sceneStatusModule.taskFailed(taskId);\n        });\n};\n\nSceneJS_NodeFactory.prototype._loadScript = function (url, error) {\n    var script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.src = url;\n    script.onerror = error;\n    document.getElementsByTagName(\"head\")[0].appendChild(script);\n};\n\n/**\n * Releases a node back to this factory\n */\nSceneJS_NodeFactory.prototype.putNode = function (node) {\n    this.nodes.removeItem(node.id);\n};\n(function () {\n\n    var defaultMatrix = SceneJS_math_perspectiveMatrix4(\n        45, // fovy\n        1, // aspect\n        0.1, // near\n        10000); // far\n\n    var defaultMat = new Float32Array(defaultMatrix);\n\n    // The default state core singleton for {@link SceneJS.Camera} nodes\n    var defaultCore = {\n        type:\"camera\",\n        stateId:SceneJS._baseStateId++,\n        matrix:defaultMatrix,\n        mat:defaultMat,\n        optics:{\n            type:\"perspective\",\n            fovy:45.0,\n            aspect:1.0,\n            near:0.1,\n            far:10000.0\n        }\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    // Set default core on the display at the start of each new scene compilation\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.projTransform = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which defines the projection transform to apply to the {@link SceneJS.Geometry} nodes in its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.Camera = SceneJS_NodeFactory.createNodeType(\"camera\");\n\n    SceneJS.Camera.prototype._init = function (params) {\n        if (this._core.useCount == 1) {\n            this.setOptics(params.optics); // Can be undefined\n\n//            // Rebuild on every scene tick\n//            // https://github.com/xeolabs/scenejs/issues/277\n//            var self = this;\n//            this._tick = this.getScene().on(\"tick\", function () {\n//                if (self._core.dirty) {\n//                    self._core.rebuild();\n//                }\n//            });\n        }\n    };\n\n    /**\n     * Returns the default camera projection matrix\n     * @return {Float32Array}\n     */\n    SceneJS.Camera.getDefaultMatrix = function () {\n        return defaultMat;\n    };\n\n    SceneJS.Camera.prototype.setOptics = function (optics) {\n        var core = this._core;\n        if (!optics) {\n            core.optics = {\n                type:\"perspective\",\n                fovy:60.0,\n                aspect:1.0,\n                near:0.1,\n                far:10000.0\n            };\n        } else {\n            var type = optics.type || core.optics.type;\n            if (type == \"ortho\") {\n                core.optics = SceneJS._applyIf(SceneJS_math_ORTHO_OBJ, {\n                    type:type,\n                    left:optics.left,\n                    bottom:optics.bottom,\n                    near:optics.near,\n                    right:optics.right,\n                    top:optics.top,\n                    far:optics.far\n                });\n            } else if (type == \"frustum\") {\n                core.optics = {\n                    type:type,\n                    left:optics.left || -1.0,\n                    bottom:optics.bottom || -1.0,\n                    near:optics.near || 0.1,\n                    right:optics.right || 1.00,\n                    top:optics.top || 1.0,\n                    far:optics.far || 10000.0\n                };\n            } else if (type == \"perspective\") {\n                core.optics = {\n                    type:type,\n                    fovy:optics.fovy || 60.0,\n                    aspect:optics.aspect == undefined ? 1.0 : optics.aspect,\n                    near:optics.near || 0.1,\n                    far:optics.far || 10000.0\n                };\n            } else if (!optics.type) {\n                throw SceneJS_error.fatalError(\n                    SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                    \"SceneJS.Camera configuration invalid: optics type not specified - \" +\n                        \"supported types are 'perspective', 'frustum' and 'ortho'\");\n            } else {\n                throw SceneJS_error.fatalError(\n                    SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                    \"SceneJS.Camera configuration invalid: optics type not supported - \" +\n                        \"supported types are 'perspective', 'frustum' and 'ortho'\");\n            }\n        }\n        this._rebuild();\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Camera.prototype._rebuild = function () {\n        var optics = this._core.optics;\n        if (optics.type == \"ortho\") {\n            this._core.matrix = SceneJS_math_orthoMat4c(\n                optics.left,\n                optics.right,\n                optics.bottom,\n                optics.top,\n                optics.near,\n                optics.far);\n\n        } else if (optics.type == \"frustum\") {\n            this._core.matrix = SceneJS_math_frustumMatrix4(\n                optics.left,\n                optics.right,\n                optics.bottom,\n                optics.top,\n                optics.near,\n                optics.far);\n\n        } else if (optics.type == \"perspective\") {\n            this._core.matrix = SceneJS_math_perspectiveMatrix4(\n                optics.fovy * Math.PI / 180.0,\n                optics.aspect,\n                optics.near,\n                optics.far);\n        }\n        if (!this._core.mat) {\n            this._core.mat = new Float32Array(this._core.matrix);\n        } else {\n            this._core.mat.set(this._core.matrix);\n        }\n        this.publish(\"matrix\", this._core.matrix);\n    };\n\n    SceneJS.Camera.prototype.getOptics = function () {\n        var optics = {};\n        for (var key in this._core.optics) {\n            if (this._core.optics.hasOwnProperty(key)) {\n                optics[key] = this._core.optics[key];\n            }\n        }\n        return optics;\n    };\n\n    SceneJS.Camera.prototype.getMatrix = function () {\n        return this._core.matrix.slice(0);\n    };\n\n    /**\n     * Compiles this camera node, setting this node's state core on the display, compiling sub-nodes,\n     * then restoring the previous camera state core back onto the display on exit.\n     */\n    SceneJS.Camera.prototype._compile = function (ctx) {\n        this._engine.display.projTransform = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.projTransform = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n    SceneJS.Camera.prototype._destroy = function () {\n        // Stop publishing matrix on each tick\n        this.getScene().off(this._tick);\n    };\n})();(function() {\n\n    /**\n     * The default state core singleton for {@link SceneJS.Clips} nodes\n     */\n    var defaultCore = {\n        type: \"clips\",\n        stateId: SceneJS._baseStateId++,\n        empty: true,        \n        hash: \"\",\n        clips : []\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n            SceneJS_events.SCENE_COMPILING,\n            function(params) {\n                params.engine.display.clips = defaultCore;\n                stackLen = 0;\n            });\n\n    /**\n     * @class Scene graph node which defines one or more arbitrarily-aligned clip planes to clip the {@link SceneJS.Geometry} nodes in its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.Clips = SceneJS_NodeFactory.createNodeType(\"clips\");\n\n    SceneJS.Clips.prototype._init = function(params) {\n\n        if (this._core.useCount == 1) { // This node defines the resource\n\n            var clips = params.clips;\n\n            if (!clips) {\n                throw SceneJS_error.fatalError(\n                        SceneJS.errors.NODE_CONFIG_EXPECTED,\n                        \"clips node attribute missing : 'clips'\");\n            }\n\n            this._core.clips = this._core.clips || [];\n\n            for (var i = 0, len = clips.length; i < len; i++) {\n                this._setClip(i, clips[i]);\n            }\n        }\n    };\n\n    SceneJS.Clips.prototype.setClips = function(clips) {\n        var indexNum;\n        for (var index in clips) {\n            if (clips.hasOwnProperty(index)) {\n                if (index != undefined || index != null) {\n                    indexNum = parseInt(index);\n                    if (indexNum < 0 || indexNum >= this._core.clips.length) {\n                        throw SceneJS_error.fatalError(\n                                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                                \"Invalid argument to set 'clips': index out of range (\" + this._core.clips.length + \" clips defined)\");\n                    }\n                    this._setClip(indexNum, clips[index] || {});\n                }\n            }\n        }\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Clips.prototype._setClip = function(index, cfg) {\n\n        var clip = this._core.clips[index] || (this._core.clips[index] = {});\n\n        clip.normalAndDist = [cfg.x || 0,  cfg.y || 0, cfg.z || 0, cfg.dist || 0];\n\n        var mode = cfg.mode || clip.mode || \"disabled\";\n\n        if (mode != \"inside\" && mode != \"outside\" && mode != \"disabled\") {\n            throw SceneJS_error.fatalError(\n                    SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                    \"clips node invalid value for property 'mode': should be 'inside' or 'outside' or 'disabled'\");\n        }\n        clip.mode = mode;\n\n        this._core.hash = null;\n    };\n\n    SceneJS.Clips.prototype._compile = function(ctx) {\n\n        if (!this._core.hash) {\n            this._core.hash = this._core.clips.length;\n        }\n\n        this._engine.display.clips = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.clips = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n\n})();(function () {\n\n    // The default state core singleton for {@link SceneJS.Enable} nodes\n    var defaultCore = {\n        stateId:SceneJS._baseStateId++,\n        type:\"enable\",\n        enabled:true\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.enable = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which enables or disables rendering for its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.Enable = SceneJS_NodeFactory.createNodeType(\"enable\");\n\n    SceneJS.Enable.prototype._init = function (params) {\n        if (this._core.useCount == 1) {   // This node is first to reference the state core, so sets it up\n            this._core.enabled = true;\n            if (params.enabled != undefined) {\n                this.setEnabled(params.enabled);\n            }\n        }\n    };\n\n    SceneJS.Enable.prototype.setEnabled = function (enabled) {\n        if (enabled !== this._core.enabled) {\n            this._core.enabled = enabled;\n            this._engine.display.drawListDirty = true;\n            this.publish(\"enabled\", enabled);\n        }\n        return this;\n    };\n\n    SceneJS.Enable.prototype.getEnabled = function () {\n        return this._core.enabled;\n    };\n\n    SceneJS.Enable.prototype._compile = function (ctx) {\n        this._engine.display.enable = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.enable = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n})();(function() {\n\n    /**\n     * The default state core singleton for {@link SceneJS.Flags} nodes\n     */\n    var defaultCore = {\n\n        stateId: SceneJS._baseStateId++,\n        type: \"flags\",\n\n        picking : true,             // Picking enabled\n        clipping : true,            // User-defined clipping enabled\n        enabled : true,             // Node not culled from traversal\n        transparent: false,         // Node transparent - works in conjunction with matarial alpha properties\n        backfaces: true,            // Show backfaces\n        frontface: \"ccw\",           // Default vertex winding for front face\n        backfaceLighting: true,     // Shading enabled for backfaces\n        backfaceTexturing: true,    // Texturing enabled for backfaces\n        diffuse: true,              // Diffuse lighting enabled\n        specular: true,             // Specular lighting enabled\n        ambient: true,              // Ambient lighting enabled\n        reflection : true           // Reflection enabled by default\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n            SceneJS_events.SCENE_COMPILING,\n            function(params) {\n                params.engine.display.flags = defaultCore;\n                stackLen = 0;\n            });\n\n    /**\n     * @class Scene graph node which sets rendering mode flags for its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.Flags = SceneJS_NodeFactory.createNodeType(\"flags\");\n\n    SceneJS.Flags.prototype._init = function(params) {\n\n        if (this._core.useCount == 1) {         // This node is first to reference the state core, so sets it up\n\n            this._core.picking = true;           // Picking enabled\n            this._core.clipping = true;          // User-defined clipping enabled\n            this._core.enabled = true;           // Node not culled from traversal\n            this._core.transparent = false;      // Node transparent - works in conjunction with matarial alpha properties\n            this._core.backfaces = true;         // Show backfaces\n            this._core.frontface = \"ccw\";        // Default vertex winding for front face\n            this._core.backfaceLighting = true;  // Shading enabled for backfaces\n            this._core.backfaceTexturing = true; // Texturing enabled for backfaces\n            this._core.diffuse = true;           // Diffuse lighting enabled by default\n            this._core.specular = true;          // Specular lighting enabled by default\n            this._core.ambient = true;           // Ambient lighting enabled by default\n            this._core.reflection = true;           // Reflection enabled by default\n\n            if (params.flags) {                 // 'flags' property is actually optional in the node definition\n                this.setFlags(params.flags);\n            }\n        }\n    };\n\n    SceneJS.Flags.prototype.setFlags = function(flags) {\n\n        var core = this._core;\n\n        if (flags.picking != undefined) {\n            core.picking = !!flags.picking;\n            this._engine.display.drawListDirty = true;\n        }\n\n        if (flags.clipping != undefined) {\n            core.clipping = !!flags.clipping;\n            this._engine.display.imageDirty = true;\n        }\n\n        if (flags.enabled != undefined) {\n            core.enabled = !!flags.enabled;\n            this._engine.display.drawListDirty = true;\n        }\n\n        if (flags.transparent != undefined) {\n            core.transparent = !!flags.transparent;\n            this._engine.display.stateSortDirty = true;\n        }\n\n        if (flags.backfaces != undefined) {\n            core.backfaces = !!flags.backfaces;\n            this._engine.display.imageDirty = true;\n        }\n\n        if (flags.frontface != undefined) {\n            core.frontface = flags.frontface;\n            this._engine.display.imageDirty = true;\n        }\n\n        if (flags.backfaceLighting != undefined) {\n            core.backfaceLighting = !!flags.backfaceLighting;\n            this._engine.display.imageDirty = true;\n        }\n\n        if (flags.backfaceTexturing != undefined) {\n            core.backfaceTexturing = !!flags.backfaceTexturing;\n            this._engine.display.imageDirty = true;\n        }\n\n        if (flags.diffuse != undefined) {\n            core.diffuse = !!flags.diffuse;\n            this._engine.display.imageDirty = true;\n        }\n\n        if (flags.specular != undefined) {\n            core.specular = !!flags.specular;\n            this._engine.display.imageDirty = true;\n        }\n\n        if (flags.ambient != undefined) {\n            core.ambient = !!flags.ambient;\n            this._engine.display.imageDirty = true;\n        }\n        \n        if (flags.reflection != undefined) {\n            core.reflection = !!flags.reflection;\n            this._engine.display.imageDirty = true;\n        }\n\n        return this;\n    };\n\n    SceneJS.Flags.prototype.addFlags = function(flags) {\n        return this.setFlags(flags);\n        //        var core = this._core;\n        //        if (flags.picking != undefined) core.picking = flags.picking;\n        //        if (flags.clipping != undefined) core.clipping = flags.clipping;\n        //        if (flags.enabled != undefined) core.enabled = flags.enabled;\n        //        if (flags.transparent != undefined) core.transparent = flags.transparent;\n        //        if (flags.backfaces != undefined) core.backfaces = flags.backfaces;\n        //        if (flags.frontface != undefined) core.frontface = flags.frontface;\n        //        if (flags.backfaceLighting != undefined) core.backfaceLighting = flags.backfaceLighting;\n        //        if (flags.backfaceTexturing != undefined) core.backfaceTexturing = flags.backfaceTexturing;\n        //        return this;\n    };\n\n    SceneJS.Flags.prototype.getFlags = function() {\n        var core = this._core;\n        return {\n            picking : core.picking,\n            clipping : core.clipping,\n            enabled : core.enabled,\n            transparent: core.transparent,\n            backfaces: core.backfaces,\n            frontface: core.frontface,\n            diffuse: core.diffuse,\n            specular: core.specular,\n            ambient: core.ambient,\n            backfaceLighting: core.backfaceLighting,\n            backfaceTexturing: core.backfaceTexturing,\n            reflection: core.reflection\n        };\n    };\n\n    SceneJS.Flags.prototype.setPicking = function(picking) {\n        picking = !!picking;\n        if (this._core.picking != picking) {\n            this._core.picking = picking;\n            this._engine.display.drawListDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getPicking = function() {\n        return this._core.picking;\n    };\n\n    SceneJS.Flags.prototype.setClipping = function(clipping) {\n        clipping = !!clipping;\n        if (this._core.clipping != clipping) {\n            this._core.clipping = clipping;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getClipping = function() {\n        return this._core.clipping;\n    };\n\n    SceneJS.Flags.prototype.setEnabled = function(enabled) {\n        enabled = !!enabled;\n        if (this._core.enabled != enabled) {\n            this._core.enabled = enabled;\n            this._engine.display.drawListDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getEnabled = function() {\n        return this._core.enabled;\n    };\n\n    SceneJS.Flags.prototype.setTransparent = function(transparent) {\n        transparent = !!transparent;\n        if (this._core.transparent != transparent) {\n            this._core.transparent = transparent;\n            this._engine.display.stateOrderDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getTransparent = function() {\n        return this._core.transparent;\n    };\n\n    SceneJS.Flags.prototype.setBackfaces = function(backfaces) {\n        backfaces = !!backfaces;\n        if (this._core.backfaces != backfaces) {\n            this._core.backfaces = backfaces;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getBackfaces = function() {\n        return this._core.backfaces;\n    };\n\n    SceneJS.Flags.prototype.setFrontface = function(frontface) {\n        if (this._core.frontface != frontface) {\n            this._core.frontface = frontface;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getFrontface = function() {\n        return this._core.frontface;\n    };\n\n    SceneJS.Flags.prototype.setBackfaceLighting = function(backfaceLighting) {\n        backfaceLighting = !!backfaceLighting;\n        if (this._core.backfaceLighting != backfaceLighting) {\n            this._core.backfaceLighting = backfaceLighting;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getBackfaceLighting = function() {\n        return this._core.backfaceLighting;\n    };\n\n    SceneJS.Flags.prototype.setBackfaceTexturing = function(backfaceTexturing) {\n        backfaceTexturing = !!backfaceTexturing;\n        if (this._core.backfaceTexturing != backfaceTexturing) {\n            this._core.backfaceTexturing = backfaceTexturing;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getBackfaceTexturing = function() {\n        return this._core.backfaceTexturing;\n    };\n\n    SceneJS.Flags.prototype.setDiffuse = function(diffuse) {\n        diffuse = !!diffuse;\n        if (this._core.diffuse != diffuse) {\n            this._core.diffuse = diffuse;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getDiffuse = function() {\n        return this._core.diffuse;\n    };\n\n    SceneJS.Flags.prototype.setSpecular = function(specular) {\n        specular = !!specular;\n        if (this._core.specular != specular) {\n            this._core.specular = specular;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getSpecular = function() {\n        return this._core.specular;\n    };\n\n    SceneJS.Flags.prototype.setAmbient = function(ambient) {\n        ambient = !!ambient;\n        if (this._core.ambient != ambient) {\n            this._core.ambient = ambient;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getAmbient = function() {\n        return this._core.ambient;\n    };\n\n    SceneJS.Flags.prototype.setReflection = function(reflection) {\n        reflection = !!reflection;\n        if (this._core.reflection != reflection) {\n            this._core.reflection = reflection;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    SceneJS.Flags.prototype.getReflection = function() {\n        return this._core.reflection;\n    };\n\n    SceneJS.Flags.prototype._compile = function(ctx) {\n        this._engine.display.flags = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.flags = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n})();\nnew (function () {\n\n    var defaultCore = {\n        type: \"renderTarget\",\n        stateId: SceneJS._baseStateId++,\n        targets: null\n    };\n\n    // Map of  nodes to cores, for reallocation on WebGL context restore\n    var nodeCoreMap = {};\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.renderTarget = defaultCore;\n            stackLen = 0;\n        });\n\n    // Reallocate VBOs when context restored after loss\n    SceneJS_events.addListener(\n        SceneJS_events.WEBGL_CONTEXT_RESTORED,\n        function () {\n            for (var nodeId in nodeCoreMap) {\n                if (nodeCoreMap.hasOwnProperty(nodeId)) {\n                    nodeCoreMap[nodeId]._buildNodeCore();\n                }\n            }\n        });\n\n    SceneJS.ColorTarget = SceneJS_NodeFactory.createNodeType(\"colorTarget\");\n\n    SceneJS.ColorTarget.prototype._init = function (params) {\n        nodeCoreMap[this._core.coreId] = this;\n        this._core.bufType = \"color\";\n        this._core.renderBuf = new SceneJS._webgl.RenderBuffer({ canvas: this._engine.canvas });\n    };\n\n    SceneJS.ColorTarget.prototype._compile = function (ctx) {\n        if (!this.__core) {\n            this.__core = this._engine._coreFactory.getCore(\"renderTarget\");\n        }\n        var parentCore = this._engine.display.renderTarget;\n        if (!this._core.empty) {\n            this.__core.targets = (parentCore && parentCore.targets) ? parentCore.targets.concat([this._core]) : [this._core];\n        }\n        coreStack[stackLen++] = this.__core;\n        this._engine.display.renderTarget = this.__core;\n        this._compileNodes(ctx);\n        this._engine.display.renderTarget = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n\n    SceneJS.ColorTarget.prototype._destroy = function () {\n        if (this._core) {\n            delete nodeCoreMap[this._core.coreId];\n        }\n    };\n})();new (function () {\n\n    var defaultCore = {\n        type: \"renderTarget\",\n        stateId: SceneJS._baseStateId++,\n        targets: null\n    };\n\n    // Map of  nodes to cores, for reallocation on WebGL context restore\n    var nodeCoreMap = {};\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.renderTarget = defaultCore;\n            stackLen = 0;\n        });\n\n    // Reallocate VBOs when context restored after loss\n    SceneJS_events.addListener(\n        SceneJS_events.WEBGL_CONTEXT_RESTORED,\n        function () {\n            for (var nodeId in nodeCoreMap) {\n                if (nodeCoreMap.hasOwnProperty(nodeId)) {\n                    nodeCoreMap[nodeId]._buildNodeCore();\n                }\n            }\n        });\n\n    SceneJS.DepthTarget = SceneJS_NodeFactory.createNodeType(\"depthTarget\");\n\n    SceneJS.DepthTarget.prototype._init = function (params) {\n        nodeCoreMap[this._core.coreId] = this;\n        this._core.bufType = \"depth\";\n        this._core.renderBuf = new SceneJS._webgl.RenderBuffer({ canvas: this._engine.canvas });\n    };\n\n    SceneJS.DepthTarget.prototype._compile = function (ctx) {\n        if (!this.__core) {\n            this.__core = this._engine._coreFactory.getCore(\"renderTarget\");\n        }\n        var parentCore = this._engine.display.renderTarget;\n        if (!this._core.empty) {\n            this.__core.targets = (parentCore && parentCore.targets) ? parentCore.targets.concat([this._core]) : [this._core];\n        }\n        coreStack[stackLen++] = this.__core;\n        this._engine.display.renderTarget = this.__core;\n        this._compileNodes(ctx);\n        this._engine.display.renderTarget = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n\n    SceneJS.DepthTarget.prototype._destroy = function () {\n        if (this._core) {\n            delete nodeCoreMap[this._core.coreId];\n        }\n    };\n})();new (function () {\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function () {\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node that defines geometry.\n     * @extends SceneJS.Node\n     * When this node is at a leaf, it defines a scene object which inherits the state set up by all the nodes above it\n     * on the path up to the root. These nodes can be nested, so that child geometries inherit arrays\n     * defined by parent geometries.\n     */\n    SceneJS.Geometry = SceneJS_NodeFactory.createNodeType(\"geometry\");\n\n    SceneJS.Geometry.prototype._init = function (params) {\n\n        if (this._core.useCount == 1) { // This node defines the core\n\n            this._initNodeCore(params, {\n                origin: params.origin,\n                scale: params.scale,\n                autoNormals: params.normals == \"auto\"\n            });\n\n            this._buildNodeCore(this._engine.canvas.gl, this._core);\n\n            var self = this;\n\n            this._core.webglRestored = function () {\n                self._buildNodeCore(self._engine.canvas.gl, self._core);\n            };\n\n        }\n    };\n\n    /**\n     * Convert JSON arrays into typed arrays,\n     * apply optional baked Model-space transforms to positions\n     */\n    SceneJS.Geometry.prototype._initNodeCore = function (data, options) {\n\n        options = options || {};\n\n        var primitive = data.primitive || \"triangles\";\n        this._core.primitive = this._getPrimitiveType(primitive);\n\n        var normals;\n\n        if (data.normals) {\n            if (data.normals == \"auto\" && primitive == \"triangles\") {\n                if (data.positions && data.indices) {\n                    // Auto normal generation\n                    normals = this._buildNormals(data.positions, data.indices);\n                } else {\n                    // TODO: log warning?\n                }\n            } else {\n                normals = data.normals;\n            }\n        }\n\n        this._core.arrays = {\n            positions: data.positions\n                ? new Float32Array((options.scale || options.origin)\n                ? this._applyOptions(data.positions, options)\n                : data.positions) : undefined,\n\n            normals: normals ? new Float32Array(normals) : undefined,\n            uv: data.uv ? new Float32Array(data.uv) : undefined,\n            uv2: data.uv2 ? new Float32Array(data.uv2) : undefined,\n            colors: data.colors ? new Float32Array(data.colors) : undefined,\n            indices: data.indices ? new Uint16Array(data.indices) : undefined\n        };\n    };\n\n    /**\n     * Returns WebGL constant for primitive name\n     */\n    SceneJS.Geometry.prototype._getPrimitiveType = function (primitive) {\n\n        var gl = this._engine.canvas.gl;\n\n        switch (primitive) {\n\n            case \"points\":\n                return gl.POINTS;\n\n            case \"lines\":\n                return gl.LINES;\n\n            case \"line-loop\":\n                return gl.LINE_LOOP;\n\n            case \"line-strip\":\n                return gl.LINE_STRIP;\n\n            case \"triangles\":\n                return gl.TRIANGLES;\n\n            case \"triangle-strip\":\n                return gl.TRIANGLE_STRIP;\n\n            case \"triangle-fan\":\n                return gl.TRIANGLE_FAN;\n\n            default:\n                throw SceneJS_error.fatalError(\n                    SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                    \"geometry primitive unsupported: '\" +\n                        primitive +\n                        \"' - supported types are: 'points', 'lines', 'line-loop', \" +\n                        \"'line-strip', 'triangles', 'triangle-strip' and 'triangle-fan'\");\n        }\n    };\n\n    /**\n     * Apply baked Model-space transformations to give position array\n     */\n    SceneJS.Geometry.prototype._applyOptions = function (positions, options) {\n\n        var positions2 = positions.slice ? positions.slice(0) : new Float32Array(positions);  // HACK\n\n        if (options.scale) {\n\n            var scaleX = options.scale.x != undefined ? options.scale.x : 1.0;\n            var scaleY = options.scale.y != undefined ? options.scale.y : 1.0;\n            var scaleZ = options.scale.z != undefined ? options.scale.z : 1.0;\n\n            for (var i = 0, len = positions2.length; i < len; i += 3) {\n                positions2[i    ] *= scaleX;\n                positions2[i + 1] *= scaleY;\n                positions2[i + 2] *= scaleZ;\n            }\n        }\n\n        if (options.origin) {\n\n            var originX = options.origin.x != undefined ? options.origin.x : 0.0;\n            var originY = options.origin.y != undefined ? options.origin.y : 0.0;\n            var originZ = options.origin.z != undefined ? options.origin.z : 0.0;\n\n            for (var i = 0, len = positions2.length; i < len; i += 3) {\n                positions2[i    ] -= originX;\n                positions2[i + 1] -= originY;\n                positions2[i + 2] -= originZ;\n            }\n        }\n\n        return positions2;\n    };\n\n    /**\n     * Destroy vertex buffers associated with given core\n     */\n    var destroyBuffers = function (core) {\n        if (core.vertexBuf) {\n            core.vertexBuf.destroy();\n            core.vertexBuf = null;\n        }\n\n        if (core.normalBuf) {\n            core.normalBuf.destroy();\n            core.normalBuf = null;\n        }\n\n        if (core.uvBuf) {\n            core.uvBuf.destroy();\n            core.uvBuf = null;\n        }\n\n        if (core.uvBuf2) {\n            core.uvBuf2.destroy();\n            core.uvBuf2 = null;\n        }\n\n        if (core.colorBuf) {\n            core.colorBuf.destroy();\n            core.colorBuf = null;\n        }\n\n        if (core.indexBuf) {\n            core.indexBuf.destroy();\n            core.indexBuf = null;\n        }\n\n        if (core.interleavedBuf) {\n            core.interleavedBuf.destroy();\n            core.interleavedBuf = null;\n        }\n    };\n\n    /**\n     * Allocates WebGL buffers for geometry arrays\n     *\n     * In addition to initially allocating those, this is called to reallocate them after\n     * WebGL context is regained after being lost.\n     */\n    SceneJS.Geometry.prototype._buildNodeCore = function (gl, core) {\n\n        var usage = gl.STATIC_DRAW; //var usage = (!arrays.fixed) ? gl.STREAM_DRAW : gl.STATIC_DRAW;\n\n        try { // TODO: Modify usage flags in accordance with how often geometry is evicted\n\n            var arrays = core.arrays;\n            var canInterleave = (SceneJS.getConfigs(\"enableInterleaving\") !== false);\n            var dataLength = 0;\n            var interleavedValues = 0;\n            var interleavedArrays = [];\n            var interleavedArrayStrides = [];\n\n            var prepareInterleaveBuffer = function(array, strideInElements) {\n                if (dataLength == 0) {\n                    dataLength = array.length / strideInElements;\n                } else if (array.length / strideInElements != dataLength) {\n                    canInterleave = false;\n                }\n                interleavedArrays.push(array);\n                interleavedArrayStrides.push(strideInElements);\n                interleavedValues += strideInElements;\n                return (interleavedValues - strideInElements) * 4;\n            };\n\n            if (arrays.positions) {\n                if (canInterleave) {\n                    core.interleavedPositionOffset = prepareInterleaveBuffer(arrays.positions, 3);\n                }\n                core.vertexBuf = new SceneJS._webgl.ArrayBuffer(gl, gl.ARRAY_BUFFER, arrays.positions, arrays.positions.length, 3, usage);\n            }\n\n            if (arrays.normals) {\n                if (canInterleave) {\n                    core.interleavedNormalOffset = prepareInterleaveBuffer(arrays.normals, 3);\n                }\n                core.normalBuf = new SceneJS._webgl.ArrayBuffer(gl, gl.ARRAY_BUFFER, arrays.normals, arrays.normals.length, 3, usage);\n            }\n\n            if (arrays.uv) {\n                if (canInterleave) {\n                    core.interleavedUVOffset = prepareInterleaveBuffer(arrays.uv, 2);\n                }\n                core.uvBuf = new SceneJS._webgl.ArrayBuffer(gl, gl.ARRAY_BUFFER, arrays.uv, arrays.uv.length, 2, usage);\n            }\n\n            if (arrays.uv2) {\n                if (canInterleave) {\n                    core.interleavedUV2Offset = prepareInterleaveBuffer(arrays.uv2, 2);\n                }\n                core.uvBuf2 = new SceneJS._webgl.ArrayBuffer(gl, gl.ARRAY_BUFFER, arrays.uv2, arrays.uv2.length, 2, usage);\n            }\n\n            if (arrays.colors) {\n                if (canInterleave) {\n                    core.interleavedColorOffset = prepareInterleaveBuffer(arrays.colors, 4);\n                }\n                core.colorBuf = new SceneJS._webgl.ArrayBuffer(gl, gl.ARRAY_BUFFER, arrays.colors, arrays.colors.length, 4, usage);\n            }\n\n            if (arrays.indices) {\n                core.indexBuf = new SceneJS._webgl.ArrayBuffer(gl, gl.ELEMENT_ARRAY_BUFFER, arrays.indices, arrays.indices.length, 1, usage);\n            }\n\n            if (interleavedValues > 0 && canInterleave) {\n                // We'll place the vertex attribute data interleaved in this array.\n                // This will enable us to use less bindBuffer calls and make the data\n                // efficient to address on the GPU.\n                var interleaved = [];\n\n                var arrayCount = interleavedArrays.length;\n                for (var i = 0; i < dataLength; ++i) {\n                    for (var j = 0; j < arrayCount; ++j) {\n                        var stride = interleavedArrayStrides[j];\n                        for (var k = 0; k < stride; ++k) {\n                            interleaved.push(interleavedArrays[j][i * stride + k]);\n                        }\n                    }\n                }\n                core.interleavedStride = interleavedValues * 4; // in bytes\n                core.interleavedBuf = new SceneJS._webgl.ArrayBuffer(gl, gl.ARRAY_BUFFER, new Float32Array(interleaved), interleaved.length, interleavedValues, usage);\n                core.interleavedBuf.dirty = false;\n            }\n\n        } catch (e) { // Allocation failure - delete whatever buffers got allocated\n            destroyBuffers(core);\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ERROR,\n                \"Failed to allocate geometry: \" + e);\n        }\n    };\n\n    SceneJS.Geometry.prototype._updateArray = function (array, items, offset) {\n\n        var arrayLen = array.length;\n        var itemsLen = items.length;\n\n        if (itemsLen + offset > arrayLen) {\n            itemsLen -= (itemsLen + offset) - arrayLen;\n        }\n\n        for (var i = offset, j = 0; j < itemsLen; i++, j++) {\n            array[i] = items[j];\n        }\n\n    };\n\n    /** (re)builds normal vectors from vertices\n     * @private\n     */\n    SceneJS.Geometry.prototype._buildNormals = function (positions, indices) {\n\n        var nvecs = new Array(positions.length / 3);\n        var j0;\n        var j1;\n        var j2;\n        var v1;\n        var v2;\n        var v3;\n\n        for (var i = 0, len = indices.length - 3; i < len; i += 3) {\n            j0 = indices[i + 0];\n            j1 = indices[i + 1];\n            j2 = indices[i + 2];\n\n            v1 = [positions[j0 * 3 + 0], positions[j0 * 3 + 1], positions[j0 * 3 + 2]];\n            v2 = [positions[j1 * 3 + 0], positions[j1 * 3 + 1], positions[j1 * 3 + 2]];\n            v3 = [positions[j2 * 3 + 0], positions[j2 * 3 + 1], positions[j2 * 3 + 2]];\n\n            v2 = SceneJS_math_subVec4(v2, v1, [0, 0, 0, 0]);\n            v3 = SceneJS_math_subVec4(v3, v1, [0, 0, 0, 0]);\n\n            var n = SceneJS_math_normalizeVec4(SceneJS_math_cross3Vec4(v2, v3, [0, 0, 0, 0]), [0, 0, 0, 0]);\n\n            if (!nvecs[j0]) nvecs[j0] = [];\n            if (!nvecs[j1]) nvecs[j1] = [];\n            if (!nvecs[j2]) nvecs[j2] = [];\n\n            nvecs[j0].push(n);\n            nvecs[j1].push(n);\n            nvecs[j2].push(n);\n        }\n\n        var normals = new Array(positions.length);\n\n        // now go through and average out everything\n        for (var i = 0, len = nvecs.length; i < len; i++) {\n            var count = nvecs[i].length;\n            var x = 0;\n            var y = 0;\n            var z = 0;\n            for (var j = 0; j < count; j++) {\n                x += nvecs[i][j][0];\n                y += nvecs[i][j][1];\n                z += nvecs[i][j][2];\n            }\n            normals[i * 3 + 0] = (x / count);\n            normals[i * 3 + 1] = (y / count);\n            normals[i * 3 + 2] = (z / count);\n        }\n        return normals;\n    };\n\n    SceneJS.Geometry.prototype.setSource = function (sourceConfigs) {\n        this._sourceConfigs = sourceConfigs;\n        var source = this._source;\n        if (source && source.configure) {\n            source.configure(sourceConfigs);\n        }\n    };\n\n    SceneJS.Geometry.prototype.getSource = function () {\n        return this._sourceConfigs || {};\n    };\n\n    SceneJS.Geometry.prototype.setPositions = function (data) {\n        if (data.positions && this._core.vertexBuf) {\n            this._boundary = null;\n            var core = this._core;\n            core.vertexBuf.bind();\n            core.vertexBuf.setData(new Float32Array(data.positions), data.positionsOffset || 0);\n            core.arrays.positions.set(data.positions, data.positionsOffset || 0);\n            this._engine.display.imageDirty = true;\n            if (core.interleavedBuf) {\n                core.interleavedBuf.dirty = true;\n            }\n        }\n    };\n\n    SceneJS.Geometry.prototype.getPositions = function () {\n        return this._core.arrays ? this._core.arrays.positions : null;\n    };\n\n    SceneJS.Geometry.prototype.setNormals = function (data) {\n        if (data.normals && this._core.normalBuf) {\n            var core = this._core;\n            core.normalBuf.bind();\n            core.normalBuf.setData(new Float32Array(data.normals), data.normalsOffset || 0);\n            core.arrays.normals.set(data.normals, data.normalsOffset || 0);\n            this._engine.display.imageDirty = true;\n            if (core.interleavedBuf) {\n                core.interleavedBuf.dirty = true;\n            }\n        }\n    };\n\n    SceneJS.Geometry.prototype.getNormals = function () {\n        return this._core.arrays ? this._core.arrays.normals : null;\n    };\n\n    SceneJS.Geometry.prototype.setColors = function (data) {\n        if (data.colors && this._core.colorBuf) {\n            var core = this._core;\n            core.colorBuf.bind();\n            core.colorBuf.setData(new Float32Array(data.colors), data.colorsOffset || 0);\n            core.arrays.colors.set(data.colors, data.colorsOffset || 0);\n            this._engine.display.imageDirty = true;\n            if (core.interleavedBuf) {\n                core.interleavedBuf.dirty = true;\n            }\n        }\n    };\n\n    SceneJS.Geometry.prototype.getColors = function () {\n        return this._core.arrays ? this._core.arrays.colors : null;\n    };\n\n    SceneJS.Geometry.prototype.getIndices = function () {\n        return this._core.arrays ? this._core.arrays.indices : null;\n    };\n\n    SceneJS.Geometry.prototype.setUV = function (data) {\n        if (data.uv && this._core.uvBuf) {\n            var core = this._core;\n            core.uvBuf.bind();\n            core.uvBuf.setData(new Float32Array(data.uv), data.uvOffset || 0);\n            core.arrays.uv.set(data.uv, data.uvOffset || 0);\n            this._engine.display.imageDirty = true;\n            if (core.interleavedBuf) {\n                core.interleavedBuf.dirty = true;\n            }\n        }\n    };\n\n    SceneJS.Geometry.prototype.getUV = function () {\n        return this._core.arrays ? this._core.arrays.uv : null;\n    };\n\n    SceneJS.Geometry.prototype.setUV2 = function (data) {\n        if (data.uv2 && this._core.uv2Buf) {\n            var core = this._core;\n            core.uv2Buf.bind();\n            core.uv2Buf.setData(new Float32Array(data.uv2), data.uv2Offset || 0);\n            core.arrays.uv2.set(data.uv2, data.uv2Offset || 0);\n            this._engine.display.imageDirty = true;\n            if (core.interleavedBuf) {\n                core.interleavedBuf.dirty = true;\n            }\n        }\n    };\n\n    SceneJS.Geometry.prototype.getUV2 = function () {\n        return this._core.arrays ? this._core.arrays.uv2 : null;\n    };\n\n    SceneJS.Geometry.prototype.getPrimitive = function () {\n        return this.primitive;\n    };\n\n    /** Returns the Model-space boundary of this geometry\n     *\n      * @returns {*}\n     */\n    SceneJS.Geometry.prototype.getBoundary = function () {\n        if (this._boundary) {\n            return this._boundary;\n        }\n\n        var arrays = this._core.arrays;\n\n        if (!arrays) {\n            return null;\n        }\n\n        var positions = arrays.positions;\n\n        if (!positions) {\n            return null;\n        }\n\n        this._boundary = {\n            xmin: SceneJS_math_MAX_DOUBLE,\n            ymin: SceneJS_math_MAX_DOUBLE,\n            zmin: SceneJS_math_MAX_DOUBLE,\n            xmax: SceneJS_math_MIN_DOUBLE,\n            ymax: SceneJS_math_MIN_DOUBLE,\n            zmax: SceneJS_math_MIN_DOUBLE\n        };\n\n        var x, y, z;\n\n        for (var i = 0, len = positions.length - 2; i < len; i += 3) {\n\n            x = positions[i];\n            y = positions[i + 1];\n            z = positions[i + 2];\n\n            if (x < this._boundary.xmin) {\n                this._boundary.xmin = x;\n            }\n            if (y < this._boundary.ymin) {\n                this._boundary.ymin = y;\n            }\n            if (z < this._boundary.zmin) {\n                this._boundary.zmin = z;\n            }\n            if (x > this._boundary.xmax) {\n                this._boundary.xmax = x;\n            }\n            if (y > this._boundary.ymax) {\n                this._boundary.ymax = y;\n            }\n            if (z > this._boundary.zmax) {\n                this._boundary.zmax = z;\n            }\n        }\n\n        return this._boundary;\n    };\n\n    SceneJS.Geometry.prototype._compile = function (ctx) {\n\n        if (this._core._loading) { // TODO: Breaks with asynch loaded cores - this node needs to recompile when target core is loaded\n            this._compileNodes(ctx);\n            return;\n        }\n\n        var core = this._core;\n\n        if (!core.vertexBuf) {\n\n            /* SceneJS.Geometry has no vertex buffer - it must be therefore be indexing a vertex/uv buffers defined\n             * by a higher Geometry, as part of a composite geometry:\n             *\n             * It must therefore inherit the vertex buffer, along with UV coord buffers.\n             *\n             * We'll leave it to the render state graph traversal to ensure that the\n             * vertex and UV buffers are not needlessly rebound for this geometry.\n             */\n            core = this._inheritVBOs(core);\n        }\n\n        if (core.indexBuf) { // Can only render when we have indices\n\n            core.hash = ([                           // Safe to build geometry hash here - geometry is immutable\n                core.normalBuf ? \"t\" : \"f\",\n                core.uvBuf ? \"t\" : \"f\",\n                core.uvBuf2 ? \"t\" : \"f\",\n                core.colorBuf ? \"t\" : \"f\",\n                core.primitive\n            ]).join(\"\");\n\n            core.stateId = this._core.stateId;\n            core.type = \"geometry\";\n\n            this._engine.display.geometry = coreStack[stackLen++] = core;\n\n            SceneJS_events.fireEvent(SceneJS_events.OBJECT_COMPILING, { // Pull in state updates from scenes nodes\n                display: this._engine.display\n            });\n\n            this._engine.display.buildObject(this.id); // Use node ID since we may inherit from many cores\n\n        } else {\n            coreStack[stackLen++] = this._core;\n        }\n\n        this._compileNodes(ctx);\n\n        stackLen--;\n    };\n\n    SceneJS.Geometry.prototype._inheritVBOs = function (core) {\n\n        var core2 = {\n            primitive: core.primitive,\n            boundary: core.boundary,\n            normalBuf: core.normalBuf,\n            uvBuf: core.uvBuf,\n            uvBuf2: core.uvBuf2,\n            colorBuf: core.colorBuf,\n            interleavedBuf: core.interleavedBuf,\n            indexBuf: core.indexBuf,\n            interleavedStride: core.interleavedStride,\n            interleavedPositionOffset: core.interleavedPositionOffset,\n            interleavedNormalOffset: core.interleavedNormalOffset,\n            interleavedUVOffset: core.interleavedUVOffset,\n            interleavedUV2Offset: core.interleavedUV2Offset,\n            interleavedColorOffset: core.interleavedColorOffset\n        };\n\n        for (var i = stackLen - 1; i >= 0; i--) {\n            if (coreStack[i].vertexBuf) {\n                core2.vertexBuf = coreStack[i].vertexBuf;\n                core2.boundary = coreStack[i].boundary;\n                core2.normalBuf = coreStack[i].normalBuf;\n                core2.uvBuf = coreStack[i].uvBuf;           // Vertex and UVs are a package\n                core2.uvBuf2 = coreStack[i].uvBuf2;\n                core2.colorBuf = coreStack[i].colorBuf;\n                core2.interleavedBuf = coreStack[i].interleavedBuf;\n                core2.interleavedStride = coreStack[i].interleavedStride;\n                core2.interleavedPositionOffset = coreStack[i].interleavedPositionOffset;\n                core2.interleavedNormalOffset = coreStack[i].interleavedNormalOffset;\n                core2.interleavedUVOffset = coreStack[i].interleavedUVOffset;\n                core2.interleavedUV2Offset = coreStack[i].interleavedUV2Offset;\n                core2.interleavedColorOffset = coreStack[i].interleavedColorOffset;\n                return core2;\n            }\n        }\n\n        return core2;\n    };\n\n    SceneJS.Geometry.prototype._destroy = function () {\n\n        this._engine.display.removeObject(this.id);\n\n        /* Destroy core if no other references\n         */\n        if (this._core.useCount == 1) {\n\n            this._destroyNodeCore();\n\n            if (this._source && this._source.destroy) {\n                this._source.destroy();\n            }\n        }\n    };\n\n    SceneJS.Geometry.prototype._destroyNodeCore = function () {\n\n        if (document.getElementById(this._engine.canvas.canvasId)) { // Context won't exist if canvas has disappeared\n            destroyBuffers(this._core);\n        }\n    };\n\n})();\n(function() {\n\n    /**\n     * The default state core singleton for {@link SceneJS.Stage} nodes\n     */\n    var defaultCore = {\n        type: \"stage\",\n        stateId: SceneJS._baseStateId++,\n        priority: 0,\n        pickable: true,\n        enabled: true\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n            SceneJS_events.SCENE_COMPILING,\n            function(params) {\n                params.engine.display.stage = defaultCore;\n                stackLen = 0;\n            });\n\n    /**\n     * @class Scene graph node which assigns the {@link SceneJS.Geometry}s within its subgraph to a prioritised render bin\n     * @extends SceneJS.Node\n     */\n    SceneJS.Stage = SceneJS_NodeFactory.createNodeType(\"stage\");\n\n    SceneJS.Stage.prototype._init = function(params) {\n        if (this._core.useCount == 1) { // This node defines the resource\n            this._core.priority = params.priority || 0;\n            this._core.enabled = params.enabled !== false;\n            this._core.pickable = !!params.pickable;\n        }\n    };\n\n    SceneJS.Stage.prototype.setPriority = function(priority) {\n        priority = priority || 0;\n        if (this._core.priority != priority) {\n            this._core.priority = priority;\n            this._engine.display.stateOrderDirty = true;\n        }\n    };\n\n    SceneJS.Stage.prototype.getPriority = function() {\n        return this._core.priority;\n    };\n\n    SceneJS.Stage.prototype.setEnabled = function(enabled) {\n        enabled = !!enabled;\n        if (this._core.enabled != enabled) {\n            this._core.enabled = enabled;\n            this._engine.display.drawListDirty = true;\n        }\n    };\n\n    SceneJS.Stage.prototype.getEnabled = function() {\n        return this._core.enabled;\n    };\n\n    SceneJS.Stage.prototype.getEnabled = function() {\n        return this._core.enabled;\n    };\n\n    SceneJS.Stage.prototype._compile = function(ctx) {\n        this._engine.display.stage = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.stage = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n})();\n\n(function () {\n\n    /**\n     * The default state core singleton for {@link SceneJS.Layer} nodes\n     */\n    var defaultCore = {\n        type: \"layer\",\n        stateId: SceneJS._baseStateId++,\n        priority: 0,\n        enabled: true\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.layer = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which assigns the {@link SceneJS.Geometry}s within its subgraph to a prioritised render bin\n     * @extends SceneJS.Node\n     */\n    SceneJS.Layer = SceneJS_NodeFactory.createNodeType(\"layer\");\n\n    SceneJS.Layer.prototype._init = function (params) {\n        if (this._core.useCount == 1) { // This node defines the resource\n            this._core.priority = params.priority || 0;\n            this._core.enabled = params.enabled !== false;\n        }\n    };\n\n    SceneJS.Layer.prototype.setPriority = function (priority) {\n        priority = priority || 0;\n        if (this._core.priority != priority) {\n            this._core.priority = priority;\n            this._engine.display.stateOrderDirty = true;\n        }\n    };\n\n    SceneJS.Layer.prototype.getPriority = function () {\n        return this._core.priority;\n    };\n\n    SceneJS.Layer.prototype.setEnabled = function (enabled) {\n        enabled = !!enabled;\n        if (this._core.enabled != enabled) {\n            this._core.enabled = enabled;\n            this._engine.display.drawListDirty = true;\n        }\n    };\n\n    SceneJS.Layer.prototype.getEnabled = function () {\n        return this._core.enabled;\n    };\n\n    SceneJS.Layer.prototype.getEnabled = function () {\n        return this._core.enabled;\n    };\n\n    SceneJS.Layer.prototype.setClearDepth = function (clearDepth) {\n        clearDepth = clearDepth || 0;\n        if (this._core.clearDepth != clearDepth) {\n            this._core.clearDepth = clearDepth;\n            this._engine.display.drawListDirty = true;\n        }\n    };\n\n    SceneJS.Layer.prototype.getClearDepth = function () {\n        return this._core.clearDepth;\n    };\n\n    SceneJS.Layer.prototype._compile = function(ctx) {\n        this._engine.display.layer = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.layer = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n})();\n\n/**\n * @class Scene graph node which assigns nodes in its subgraph to a library\n * @extends SceneJS.Node\n */\nSceneJS.Library = SceneJS_NodeFactory.createNodeType(\"library\");\nSceneJS.Library.prototype._compile = function(ctx) { // Bypass child nodes\n};\n\n(function () {\n\n    /**\n     * The default state core singleton for {@link SceneJS.Lights} nodes\n     */\n    var defaultCore = {\n        type:\"lights\",\n        stateId:SceneJS._baseStateId++,\n        hash:null,\n        empty:false,\n        lights:[\n            {\n                mode:\"ambient\",\n                color:[0.7, 0.7, 0.8 ],\n                diffuse:true,\n                specular:false\n            },\n            {\n                mode:\"dir\",\n                color:[1.0, 1.0, 1.0 ],\n                diffuse:true,\n                specular:true,\n                dir:[-0.5, -0.5, -1.0 ],\n                space:\"view\"\n            },\n            {\n                mode:\"dir\",\n                color:[1.0, 1.0, 1.0 ],\n                diffuse:false,\n                specular:true,\n                dir:[1.0, -0.9, -0.7 ],\n                space:\"view\"\n            }\n        ]\n    };\n\n    makeHash(defaultCore);\n\n    function makeHash(core) {\n        if (core.lights && core.lights.length > 0) {\n            var lights = core.lights;\n            var parts = [];\n            var light;\n            for (var i = 0, len = lights.length; i < len; i++) {\n                light = lights[i];\n                parts.push(light.mode);\n                if (light.specular) {\n                    parts.push(\"s\");\n                }\n                if (light.diffuse) {\n                    parts.push(\"d\");\n                }\n                parts.push((light.space == \"world\") ? \"w\" : \"v\");\n            }\n            core.hash = parts.join(\"\");\n\n        } else {\n            core.hash = \"\";\n        }\n    }\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.lights = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which defines light sources to illuminate the {@link SceneJS.Geometry}s within its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.Lights = SceneJS_NodeFactory.createNodeType(\"lights\");\n\n    SceneJS.Lights.prototype._init = function (params) {\n\n        if (this._core.useCount == 1) { // This node defines the resource\n\n            var lights = params.lights;\n\n            if (!lights) {\n                throw SceneJS_error.fatalError(\n                    SceneJS.errors.NODE_CONFIG_EXPECTED,\n                    \"lights node attribute missing : 'lights'\");\n            }\n\n            this._core.lights = this._core.lights || [];\n\n            for (var i = 0, len = lights.length; i < len; i++) {\n                this._initLight(i, lights[i]);\n            }\n        }\n    };\n\n    SceneJS.Lights.prototype._initLight = function (index, cfg) {\n\n        var light = [];\n        this._core.lights[index] = light;\n\n        var mode = cfg.mode || \"dir\";\n        if (mode != \"dir\" && mode != \"point\" && mode != \"ambient\") {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"Light mode not supported - should be 'dir' or 'point' or 'ambient'\");\n        }\n\n        var pos = cfg.pos;\n        var dir = cfg.dir;\n\n        var color = cfg.color;\n        light.color = [\n            color.r != undefined ? color.r : 1.0,\n            color.g != undefined ? color.g : 1.0,\n            color.b != undefined ? color.b : 1.0\n        ];\n\n        // Ambient lights hardwired to contribute to diffuse lighting\n        light.mode = mode;\n        light.diffuse = (mode == \"ambient\") ? true : ((cfg.diffuse != undefined) ? cfg.diffuse : true);\n        light.specular = (mode == \"ambient\") ? false : ((cfg.specular != undefined) ? cfg.specular : true);\n        light.pos = cfg.pos ? [ pos.x || 0, pos.y || 0, pos.z || 0 ] : undefined;\n        light.dir = cfg.dir ? [dir.x || 0, dir.y || 0, dir.z || 0] : undefined;\n        light.attenuation = [\n            cfg.constantAttenuation != undefined ? cfg.constantAttenuation : 0.0,\n            cfg.linearAttenuation || 0.0,\n            cfg.quadraticAttenuation || 0.0\n        ];\n\n        var space = cfg.space;\n\n        if (!space) {\n\n            space = \"world\";\n\n        } else if (space != \"view\" && space != \"world\") {\n\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"lights node invalid value for property 'space': '\" + space + \"' - should be 'view' or 'world'\");\n        }\n\n        light.space = space;\n\n        this._core.hash = null;\n    };\n\n\n    SceneJS.Lights.prototype.setLights = function (lights) {\n        var indexNum;\n        for (var index in lights) {\n            if (lights.hasOwnProperty(index)) {\n                if (index != undefined || index != null) {\n                    indexNum = parseInt(index);\n                    if (indexNum < 0 || indexNum >= this._core.lights.length) {\n                        throw SceneJS_error.fatalError(\n                            SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                            \"Invalid argument to set 'lights': index out of range (\" + this._core.lights.length + \" lights defined)\");\n                    }\n                    this._setLight(indexNum, lights[index] || {});\n                }\n            }\n        }\n        this._engine.branchDirty(this); // Schedule recompilation of this subgraph\n    };\n\n    SceneJS.Lights.prototype._setLight = function (index, cfg) {\n\n        var light = this._core.lights[index];\n\n        // Impact of light update\n        var imageDirty = false; // Redraw display list?\n        var branchDirty = false; // Recompile scene branch?\n\n        if (cfg.mode && cfg.mode != light.mode) {\n            var mode = cfg.mode;\n            if (mode != \"dir\" && mode != \"point\" && mode != \"ambient\") {\n                throw SceneJS_error.fatalError(\n                    SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                    \"Light mode not supported - should be 'dir' or 'point' or 'ambient'\");\n            }\n            light.mode = mode;\n            light.diffuse = (mode == \"ambient\") ? true : ((cfg.diffuse != undefined) ? cfg.diffuse : true);\n            light.specular = (mode == \"ambient\") ? false : ((cfg.specular != undefined) ? cfg.specular : true);\n            branchDirty = true;\n        }\n\n        if (cfg.color) {\n            var color = cfg.color;\n            light.color = [\n                color.r != undefined ? color.r : 1.0,\n                color.g != undefined ? color.g : 1.0,\n                color.b != undefined ? color.b : 1.0\n            ];\n            imageDirty = true;\n        }\n\n        var pos = cfg.pos;\n        if (pos) {\n            light.pos = [ pos.x || 0, pos.y || 0, pos.z || 0 ];\n            imageDirty = true;\n        }\n\n        var dir = cfg.dir;\n        if (dir) {\n            light.dir = [dir.x || 0, dir.y || 0, dir.z || 0];\n            imageDirty = true;\n        }\n\n        if (cfg.constantAttenuation != undefined) {\n            light.attenuation[0] = cfg.constantAttenuation;\n            imageDirty = true;\n        }\n        if (cfg.linearAttenuation != undefined) {\n            light.attenuation[1] = cfg.linearAttenuation;\n            imageDirty = true;\n        }\n        if (cfg.quadraticAttenuation != undefined) {\n            light.attenuation[2] = cfg.quadraticAttenuation;\n            imageDirty = true;\n        }\n\n        if (cfg.space && cfg.space != light.space) {\n            var space = cfg.space;\n            if (space != \"view\" && space != \"world\") {\n                throw SceneJS_error.fatalError(\n                    SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                    \"lights node invalid value for property 'space': '\" + space + \"' - should be 'view' or 'world'\");\n            }\n            light.space = space;\n            this._core.hash = null;\n            branchDirty = true;\n        }\n\n        if (cfg.specular != undefined && cfg.specular != light.specular) {\n            light.specular = cfg.specular;\n            branchDirty = true;\n        }\n        if (cfg.diffuse != undefined && cfg.diffuse != light.diffuse) {\n            light.diffuse = cfg.diffuse;\n            branchDirty = true;\n        }\n\n        if (branchDirty) {\n            this._engine.branchDirty(this); // Schedule recompilation of this subgraph\n        } else if (imageDirty) {\n            this._engine.display.imageDirty = true;\n        }\n\n        this._core.hash = null;\n    };\n\n    SceneJS.Lights.prototype._compile = function (ctx) {\n\n        if (!this._core.hash) {\n            makeHash(this._core);\n        }\n\n        this._engine.display.lights = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.lights = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n})();(function () {\n\n    var defaultMatrix = SceneJS_math_lookAtMat4c(0, 0, 10, 0, 0, 0, 0, 1, 0);\n    var defaultMat = new Float32Array(defaultMatrix);\n    var normalMat = SceneJS_math_transposeMat4(SceneJS_math_inverseMat4(defaultMat, SceneJS_math_mat4()));\n    var defaultNormalMat = new Float32Array(normalMat);\n\n    /**\n     * The default state core singleton for {@link SceneJS.Lookat} nodes\n     */\n    var defaultCore = {\n        type:\"lookAt\",\n        stateId:SceneJS._baseStateId++,\n        matrix:defaultMatrix,\n        mat:defaultMat,\n        normalMatrix:normalMat,\n        normalMat:defaultNormalMat,\n        lookAt:SceneJS_math_LOOKAT_ARRAYS\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.viewTransform = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which defines the viewing transform for the {@link SceneJS.Geometry}s within its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.Lookat = SceneJS_NodeFactory.createNodeType(\"lookAt\");\n\n    SceneJS.Lookat.prototype._init = function (params) {\n\n        this._mat = null;\n\n        this._xf = {\n            type:\"lookat\"\n        };\n\n        if (this._core.useCount == 1) { // This node is the resource definer\n\n            this._core.eyeX = 0;\n            this._core.eyeY = 0;\n            this._core.eyeZ = 10.0;\n\n            this._core.lookX = 0;\n            this._core.lookY = 0;\n            this._core.lookZ = 0;\n\n            this._core.upX = 0;\n            this._core.upY = 1;\n            this._core.upZ = 0;\n\n            if (!params.eye && !params.look && !params.up) {\n                this.setEye({x:0, y:0, z:10.0 });\n                this.setLook({x:0, y:0, z:0 });\n                this.setUp({x:0, y:1.0, z:0 });\n            } else {\n                this.setEye(params.eye);\n                this.setLook(params.look);\n                this.setUp(params.up);\n            }\n\n            var core = this._core;\n\n            var self = this;\n\n            this._core.rebuild = function () {\n\n                core.matrix = SceneJS_math_lookAtMat4c(\n                    core.eyeX, core.eyeY, core.eyeZ,\n                    core.lookX, core.lookY, core.lookZ,\n                    core.upX, core.upY, core.upZ);\n\n                core.lookAt = {\n                    eye:[core.eyeX, core.eyeY, core.eyeZ ],\n                    look:[core.lookX, core.lookY, core.lookZ ],\n                    up:[core.upX, core.upY, core.upZ ]\n                };\n\n                if (!core.mat) { // Lazy-create arrays\n                    core.mat = new Float32Array(core.matrix);\n                    core.normalMat = new Float32Array(\n                        SceneJS_math_transposeMat4(SceneJS_math_inverseMat4(core.matrix, SceneJS_math_mat4())));\n\n                } else { // Insert into arrays\n                    core.mat.set(core.matrix);\n                    core.normalMat.set(SceneJS_math_transposeMat4(SceneJS_math_inverseMat4(core.matrix, SceneJS_math_mat4())));\n                }\n\n                self.publish(\"matrix\", core.matrix);\n\n                core.dirty = false;\n            };\n\n            this._core.dirty = true;\n\n            // Rebuild on every scene tick\n            // https://github.com/xeolabs/scenejs/issues/277\n            this._tick = this.getScene().on(\"tick\", function () {\n                if (self._core.dirty) {\n                    self._core.rebuild();\n                }\n            });\n        }\n    };\n\n    /**\n     * Returns the default view transformation matrix\n     * @return {Float32Array}\n     */\n    SceneJS.Lookat.getDefaultMatrix = function () {\n        return defaultMat;\n    };\n\n    SceneJS.Lookat.prototype.setEye = function (eye) {\n\n        eye = eye || {};\n\n        if (eye.x != undefined && eye.x != null) {\n            this._core.eyeX = eye.x;\n        }\n\n        if (eye.y != undefined && eye.y != null) {\n            this._core.eyeY = eye.y;\n        }\n\n        if (eye.z != undefined && eye.z != null) {\n            this._core.eyeZ = eye.z;\n        }\n\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incEye = function (eye) {\n        eye = eye || {};\n        this._core.eyeX += (eye.x != undefined && eye.x != null) ? eye.x : 0;\n        this._core.eyeY += (eye.y != undefined && eye.y != null) ? eye.y : 0;\n        this._core.eyeZ += (eye.z != undefined && eye.z != null) ? eye.z : 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.setEyeX = function (x) {\n        this._core.eyeX = x || 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.setEyeY = function (y) {\n        this._core.eyeY = y || 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.setEyeZ = function (z) {\n        this._core.eyeZ = z || 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incEyeX = function (x) {\n        this._core.eyeX += x;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incEyeY = function (y) {\n        this._core.eyeY += y;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incEyeZ = function (z) {\n        this._core.eyeZ += z;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.getEye = function () {\n        return {\n            x:this._core.eyeX,\n            y:this._core.eyeY,\n            z:this._core.eyeZ\n        };\n    };\n\n    SceneJS.Lookat.prototype.setLook = function (look) {\n        look = look || {};\n\n        if (look.x != undefined && look.x != null) {\n            this._core.lookX = look.x;\n        }\n\n        if (look.y != undefined && look.y != null) {\n            this._core.lookY = look.y;\n        }\n\n        if (look.z != undefined && look.z != null) {\n            this._core.lookZ = look.z;\n        }\n\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incLook = function (look) {\n        look = look || {};\n        this._core.lookX += (look.x != undefined && look.x != null) ? look.x : 0;\n        this._core.lookY += (look.y != undefined && look.y != null) ? look.y : 0;\n        this._core.lookZ += (look.z != undefined && look.z != null) ? look.z : 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.setLookX = function (x) {\n        this._core.lookX = x || 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.setLookY = function (y) {\n        this._core.lookY = y || 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.setLookZ = function (z) {\n        this._core.lookZ = z || 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incLookX = function (x) {\n        this._core.lookX += x;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incLookY = function (y) {\n        this._core.lookY += y;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incLookZ = function (z) {\n        this._core.lookZ += z;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.getLook = function () {\n        return {\n            x:this._core.lookX,\n            y:this._core.lookY,\n            z:this._core.lookZ\n        };\n    };\n\n    SceneJS.Lookat.prototype.setUp = function (up) {\n        up = up || {};\n\n        if (up.x != undefined && up.x != null) {\n            this._core.upX = up.x;\n        }\n\n        if (up.y != undefined && up.y != null) {\n            this._core.upY = up.y;\n        }\n\n        if (up.z != undefined && up.z != null) {\n            this._core.upZ = up.z;\n        }\n\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incUp = function (up) {\n        up = up || {};\n        this._core.upX += (up.x != undefined && up.x != null) ? up.x : 0;\n        this._core.upY += (up.y != undefined && up.y != null) ? up.y : 0;\n        this._core.upZ += (up.z != undefined && up.z != null) ? up.z : 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.setUpX = function (x) {\n        this._core.upX = x || 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.setUpY = function (y) {\n        this._core.upY = y || 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.setUpZ = function (z) {\n        this._core.upZ = z || 0;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incUpX = function (x) {\n        this._core.upX += x;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incUpY = function (y) {\n        this._core.upY += y;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.incUpZ = function (z) {\n        this._core.upZ += z;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Lookat.prototype.getUp = function () {\n        return {\n            x:this._core.upX,\n            y:this._core.upY,\n            z:this._core.upZ\n        };\n    };\n\n    /**\n     * Returns a copy of the matrix as a 1D array of 16 elements\n     * @returns {Number[16]}\n     */\n    SceneJS.Lookat.prototype.getMatrix = function () {\n\n        if (this._core.dirty) {\n            this._core.rebuild();\n        }\n\n        return  this._core.matrix.slice(0);\n    };\n\n    SceneJS.Lookat.prototype.getAttributes = function () {\n        return {\n            look:{\n                x:this._core.lookX,\n                y:this._core.lookY,\n                z:this._core.lookZ\n            },\n            eye:{\n                x:this._core.eyeX,\n                y:this._core.eyeY,\n                z:this._core.eyeZ\n            },\n            up:{\n                x:this._core.upX,\n                y:this._core.upY,\n                z:this._core.upZ\n            }\n        };\n    };\n\n    SceneJS.Lookat.prototype._compile = function (ctx) {\n        this._engine.display.viewTransform = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.viewTransform = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n    SceneJS.Lookat.prototype._destroy = function () {\n        // Stop publishing matrix on each tick\n        this.getScene().off(this._tick);\n    };\n\n})();/*\n\n TODO: material system from virtualworldframework:\n\n \"color\":\n \"ambient\":\n \"specColor\":\n \"shininess\":\n \"reflect\":\n \"specular\":\n \"emit\":\n \"alpha\":\n \"binaryAlpha\":\n */\nnew (function () {\n\n    /**\n     * The default state core singleton for {@link SceneJS.Material} nodes\n     */\n    var defaultCore = {\n        type:\"material\",\n        stateId:SceneJS._baseStateId++,\n        baseColor:[ 1.0, 1.0, 1.0 ],\n        specularColor:[ 1.0, 1.0, 1.0 ],\n        specular:1.0,\n        shine:70.0,\n        alpha:1.0,\n        emit:0.0\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.material = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which defines surface material properties for the {@link SceneJS.Geometry}s within its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.Material = SceneJS_NodeFactory.createNodeType(\"material\");\n\n    SceneJS.Material.prototype._init = function (params) {\n        if (this._core.useCount == 1) {\n            this.setBaseColor(params.color || params.baseColor);\n            this.setSpecularColor(params.specularColor);\n            this.setSpecular(params.specular);\n            this.setShine(params.shine);\n            this.setEmit(params.emit);\n            this.setAlpha(params.alpha);\n        }\n    };\n\n    /**\n     * @deprecated\n     * @param color\n     * @return {*}\n     */\n    SceneJS.Material.prototype.setBaseColor = function (color) {\n        var defaultBaseColor = defaultCore.baseColor;\n        this._core.baseColor = color ? [\n            color.r != undefined && color.r != null ? color.r : defaultBaseColor[0],\n            color.g != undefined && color.g != null ? color.g : defaultBaseColor[1],\n            color.b != undefined && color.b != null ? color.b : defaultBaseColor[2]\n        ] : defaultCore.baseColor;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Material.prototype.setColor = SceneJS.Material.prototype.setBaseColor;\n\n    /**\n     * @deprecated\n     * @return {Object}\n     */\n    SceneJS.Material.prototype.getBaseColor = function () {\n        return {\n            r:this._core.baseColor[0],\n            g:this._core.baseColor[1],\n            b:this._core.baseColor[2]\n        };\n    };\n\n    SceneJS.Material.prototype.getColor = SceneJS.Material.prototype.getBaseColor;\n\n    SceneJS.Material.prototype.setSpecularColor = function (color) {\n        var defaultSpecularColor = defaultCore.specularColor;\n        this._core.specularColor = color ? [\n            color.r != undefined && color.r != null ? color.r : defaultSpecularColor[0],\n            color.g != undefined && color.g != null ? color.g : defaultSpecularColor[1],\n            color.b != undefined && color.b != null ? color.b : defaultSpecularColor[2]\n        ] : defaultCore.specularColor;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Material.prototype.getSpecularColor = function () {\n        return {\n            r:this._core.specularColor[0],\n            g:this._core.specularColor[1],\n            b:this._core.specularColor[2]\n        };\n    };\n\n    SceneJS.Material.prototype.setSpecular = function (specular) {\n        this._core.specular = (specular != undefined && specular != null) ? specular : defaultCore.specular;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Material.prototype.getSpecular = function () {\n        return this._core.specular;\n    };\n\n    SceneJS.Material.prototype.setShine = function (shine) {\n        this._core.shine = (shine != undefined && shine != null) ? shine : defaultCore.shine;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Material.prototype.getShine = function () {\n        return this._core.shine;\n    };\n\n    SceneJS.Material.prototype.setEmit = function (emit) {\n        this._core.emit = (emit != undefined && emit != null) ? emit : defaultCore.emit;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Material.prototype.getEmit = function () {\n        return this._core.emit;\n    };\n\n    SceneJS.Material.prototype.setAlpha = function (alpha) {\n        this._core.alpha = (alpha != undefined && alpha != null) ? alpha : defaultCore.alpha;\n        this._engine.display.imageDirty = true;\n        return this;\n    };\n\n    SceneJS.Material.prototype.getAlpha = function () {\n        return this._core.alpha;\n    };\n\n    SceneJS.Material.prototype._compile = function (ctx) {\n        this._engine.display.material = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.material = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n})();new (function () {\n\n    /**\n     * The default state core singleton for {@link SceneJS.MorphGeometry} nodes\n     */\n    var defaultCore = {\n        type:\"morphGeometry\",\n        stateId:SceneJS._baseStateId++,\n        hash:\"\",\n        //         empty: true,\n        morph:null\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.morphGeometry = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which defines morphing behaviour for the {@link SceneJS.Geometry}s within its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.MorphGeometry = SceneJS_NodeFactory.createNodeType(\"morphGeometry\");\n\n    SceneJS.MorphGeometry.prototype._init = function (params) {\n\n        if (this._core.useCount == 1) { // This node defines the resource\n\n            this._sourceConfigs = params.source;\n            this._source = null;\n\n            if (params.source) {\n\n                /*---------------------------------------------------------------------------------------------------\n                 * Build node core (possibly asynchronously) using a factory object\n                 *--------------------------------------------------------------------------------------------------*/\n\n                if (!params.source.type) {\n                    throw SceneJS_error.fatalError(\n                        SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                        \"morphGeometry config expected: source.type\");\n                }\n\n                var self = this;\n\n                SceneJS.Plugins.getPlugin(\n                    \"morphGeometry\",\n                    this._sourceConfigs.type,\n                    function (sourceService) {\n\n                        if (!sourceService) {\n                            throw SceneJS_error.fatalError(\n                                SceneJS.errors.PLUGIN_INVALID,\n                                \"morphGeometry: no support for source type '\" + self._sourceConfigs.type + \"' - need to include plugin for self source type, \" +\n                                    \"or install a custom source service with SceneJS.Plugins.addPlugin(SceneJS.Plugins.MORPH_GEO_SOURCE_PLUGIN, '\" + self._sourceConfigs.type + \"', <your service>).\");\n                        }\n\n                        if (!sourceService.getSource) {\n                            throw SceneJS_error.fatalError(\n                                SceneJS.errors.PLUGIN_INVALID,\n                                \"morphGeometry: 'getSource' method not found on MorphGeoFactoryService (SceneJS.Plugins.MORPH_GEO_SOURCE_PLUGIN)\");\n                        }\n\n                        self._source = sourceService.getSource();\n\n                        if (!self._source.subscribe) {\n                            throw SceneJS_error.fatalError(\n                                SceneJS.errors.PLUGIN_INVALID,\n                                \"morphGeometry: 'subscribe' method not found on source provided by plugin type '\" + params.source.type + \"'\");\n                        }\n\n                        var created = false;\n\n                        self._source.subscribe(// Get notification when factory creates the morph\n                            function (data) {\n\n                                if (!created) {\n                                    self._buildNodeCore(data);\n\n                                    self._core._loading = false;\n                                    self._fireEvent(\"loaded\");\n\n                                    self._engine.branchDirty(self); // TODO\n\n                                    created = true;\n\n                                } else {\n\n                                    if (data.targets) {\n\n                                        var dataTargets = data.targets;\n                                        var dataTarget;\n                                        var index;\n                                        var morphTargets = self._core.targets;\n                                        var morphTarget;\n\n                                        for (var i = 0, len = dataTargets.length; i < len; i++) {\n                                            dataTarget = dataTargets[i];\n                                            index = dataTarget.targetIndex;\n                                            morphTarget = morphTargets[index];\n\n                                            if (dataTarget.positions && morphTarget.vertexBuf) {\n                                                morphTarget.vertexBuf.bind();\n                                                morphTarget.vertexBuf.setData(dataTarget.positions, 0);\n                                            }\n                                        }\n                                    }\n\n                                    // TODO: factory can update factor?\n                                    // self.setFactor(params.factor);\n\n                                    self._display.imageDirty = true;\n                                }\n                            });\n\n                        self._core._loading = true;\n\n                        self._fireEvent(\"loading\");\n\n                        self._source.configure(self._sourceConfigs);\n                    });\n\n            } else if (params.create instanceof Function) {\n\n                /*---------------------------------------------------------------------------------------------------\n                 * Build node core from JSON arrays and primitive name returned by factory function\n                 *--------------------------------------------------------------------------------------------------*/\n\n                this._buildNodeCore(params.create());\n\n            } else {\n\n                /*---------------------------------------------------------------------------------------------------\n                 * Build node core from JSON arrays and primitive name given in node properties\n                 *--------------------------------------------------------------------------------------------------*/\n\n                this._buildNodeCore(params);\n            }\n\n            this._core.webglRestored = function () {\n                //self._buildNodeCore(self._engine.canvas.gl, self._core);\n            };\n\n            this.setFactor(params.factor);\n        }\n\n        // TODO: factor shared on cores?\n        this._core.factor = params.factor || 0;\n        this._core.clamp = !!params.clamp;\n    };\n\n    SceneJS.MorphGeometry.prototype._buildNodeCore = function (data) {\n\n        var targetsData = data.targets || [];\n        if (targetsData.length < 2) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"morphGeometry node should have at least two targets\");\n        }\n\n        var keysData = data.keys || [];\n        if (keysData.length != targetsData.length) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"morphGeometry node mismatch in number of keys and targets\");\n        }\n\n        var core = this._core;\n        var gl = this._engine.canvas.gl;\n        var usage = gl.STATIC_DRAW; //var usage = (!arrays.fixed) ? gl.STREAM_DRAW : gl.STATIC_DRAW;\n\n        core.keys = keysData;\n        core.targets = [];\n        core.key1 = 0;\n        core.key2 = 1;\n\n        /* First target's arrays are defaults for where not given on previous and subsequent targets.\n         * When target does have array, subsequent targets without array inherit it.\n         */\n\n        var positions;\n        var normals;\n        var uv;\n        var uv2;\n\n        var targetData;\n\n        for (var i = 0, len = targetsData.length; i < len; i++) {\n            targetData = targetsData[i];\n            if (!positions && targetData.positions) {\n                positions = targetData.positions;\n            }\n            if (!normals && targetData.normals) {\n                normals = targetData.normals;\n            }\n            if (!uv && targetData.uv) {\n                uv = targetData.uv;\n            }\n            if (!uv2 && targetData.uv2) {\n                uv2 = targetData.uv2;\n            }\n        }\n\n        try {\n            var target;\n            var arry;\n\n            for (var i = 0, len = targetsData.length; i < len; i++) {\n                targetData = targetsData[i];\n                target = {};\n\n                arry = targetData.positions || positions;\n                if (arry) {\n                    target.positions = (typeof arry == \"Float32Array\") ? arry : new Float32Array(arry);\n                    target.vertexBuf = new SceneJS._webgl.ArrayBuffer(gl, gl.ARRAY_BUFFER, target.positions, arry.length, 3, usage);\n                    positions = arry;\n                }\n\n                arry = targetData.normals || normals;\n                if (arry) {\n                    target.normals = (typeof arry == \"Float32Array\") ? arry : new Float32Array(arry);\n                    target.normalBuf = new SceneJS._webgl.ArrayBuffer(gl, gl.ARRAY_BUFFER, target.normals, arry.length, 3, usage);\n                    normals = arry;\n                }\n\n                arry = targetData.uv || uv;\n                if (arry) {\n                    target.uv = (typeof arry == \"Float32Array\") ? arry : new Float32Array(arry);\n                    target.uvBuf = new SceneJS._webgl.ArrayBuffer(gl, gl.ARRAY_BUFFER, target.uv, arry.length, 2, usage);\n                    uv = arry;\n                }\n\n                arry = targetData.uv2 || uv2;\n                if (arry) {\n                    target.uv2 = (typeof arry == \"Float32Array\") ? arry : new Float32Array(arry);\n                    target.uvBuf2 = new SceneJS._webgl.ArrayBuffer(gl, gl.ARRAY_BUFFER, target.uv2, arry.length, 2, usage);\n                    uv2 = arry;\n                }\n\n                core.targets.push(target);  // We'll iterate this to destroy targets when we recover from error\n            }\n\n        } catch (e) {\n\n            /* Allocation failure - deallocate target VBOs\n             */\n            for (var i = 0, len = core.targets.length; i < len; i++) {\n\n                target = core.targets[i];\n\n                if (target.vertexBuf) {\n                    target.vertexBuf.destroy();\n                }\n                if (target.normalBuf) {\n                    target.normalBuf.destroy();\n                }\n                if (target.uvBuf) {\n                    target.uvBuf.destroy();\n                }\n                if (target.uvBuf2) {\n                    target.uvBuf2.destroy();\n                }\n            }\n\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ERROR,\n                \"Failed to allocate VBO(s) for morphGeometry: \" + e);\n        }\n    };\n\n    SceneJS.MorphGeometry.prototype.setSource = function (sourceConfigs) {\n        this._sourceConfigs = sourceConfigs;\n        var source = this._source;\n        if (source) {\n            source.configure(sourceConfigs);\n        }\n    };\n\n    SceneJS.MorphGeometry.prototype.getSource = function () {\n        return this._sourceConfigs;\n    };\n\n    SceneJS.MorphGeometry.prototype.setFactor = function (factor) {\n        factor = factor || 0.0;\n\n        var core = this._core;\n\n        var keys = core.keys;\n        var key1 = core.key1;\n        var key2 = core.key2;\n\n        if (factor < keys[0]) {\n            key1 = 0;\n            key2 = 1;\n\n        } else if (factor > keys[keys.length - 1]) {\n            key1 = keys.length - 2;\n            key2 = key1 + 1;\n\n        } else {\n            while (keys[key1] > factor) {\n                key1--;\n                key2--;\n            }\n            while (keys[key2] < factor) {\n                key1++;\n                key2++;\n            }\n        }\n\n        /* Normalise factor to range [0.0..1.0] for the target frame\n         */\n        core.factor = (factor - keys[key1]) / (keys[key2] - keys[key1]);\n        core.key1 = key1;\n        core.key2 = key2;\n\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.MorphGeometry.prototype.getFactor = function () {\n        return this._core.factor;\n    };\n\n    SceneJS.MorphGeometry.prototype.getKeys = function () {\n        return this._core.keys;\n    };\n\n    SceneJS.MorphGeometry.prototype.getTargets = function () {\n        return this._core.targets;\n    };\n\n    SceneJS.MorphGeometry.prototype._compile = function (ctx) {\n\n        if (!this._core.hash) {\n            this._makeHash();\n        }\n\n        this._engine.display.morphGeometry = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.morphGeometry = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n    SceneJS.MorphGeometry.prototype._makeHash = function () {\n        var core = this._core;\n        if (core.targets.length > 0) {\n            var target0 = core.targets[0];  // All targets have same arrays\n            var t = \"t\";\n            var f = \"f\";\n            core.hash = ([\n                target0.vertexBuf ? t : f,\n                target0.normalBuf ? t : f,\n                target0.uvBuf ? t : f,\n                target0.uvBuf2 ? t : f\n            ]).join(\"\");\n        } else {\n            core.hash = \"\";\n        }\n    };\n\n    SceneJS.MorphGeometry.prototype._destroy = function () {\n        if (this._core.useCount == 1) { // Destroy core if no other references\n            if (document.getElementById(this._engine.canvas.canvasId)) { // Context won't exist if canvas has disappeared\n                var core = this._core;\n                var target;\n                for (var i = 0, len = core.targets.length; i < len; i++) {\n                    target = core.targets[i];\n                    if (target.vertexBuf) {\n                        target.vertexBuf.destroy();\n                    }\n                    if (target.normalBuf) {\n                        target.normalBuf.destroy();\n                    }\n                    if (target.uvBuf) {\n                        target.uvBuf.destroy();\n                    }\n                    if (target.uvBuf2) {\n                        target.uvBuf2.destroy();\n                    }\n                }\n            }\n            if (this._source && this._source.destroy) {\n                this._source.destroy();\n            }\n        }\n    };\n\n})();(function () {\n\n    /**\n     * The default state core singleton for {@link SceneJS.Name} nodes\n     */\n    var defaultCore = {\n        type:\"name\",\n        stateId:SceneJS._baseStateId++,\n        name:null\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.name = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which assigns a pick name to the {@link SceneJS.Geometry} nodes in its subgraph.\n     * @extends SceneJS.Node\n     */\n    SceneJS.Name = SceneJS_NodeFactory.createNodeType(\"name\");\n\n    SceneJS.Name.prototype._init = function (params) {\n        this.setName(params.name);\n        this._core.nodeId = this.id;\n    };\n\n    SceneJS.Name.prototype.setName = function (name) {\n        this._core.name = name || \"unnamed\";\n        this._engine.branchDirty(this); // Need to recompile name path\n    };\n\n    SceneJS.Name.prototype.getName = function () {\n        return this._core.name;\n    };\n\n    SceneJS.Name.prototype._compile = function (ctx) {\n\n        this._engine.display.name = coreStack[stackLen++] = this._core;\n\n        // (Re)build name path\n        var path = [];\n        var name;\n        for (var i = 0; i < stackLen; i++) {\n            name = coreStack[i].name;\n            if (name) {\n                path.push(name);\n            }\n        }\n        this._core.path = path.join(\".\");\n\n        this._compileNodes(ctx);\n        this._engine.display.name = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n})();new (function () {\n\n    /**\n     * The default state core singleton for {@link SceneJS.Renderer} nodes\n     */\n    var defaultCore = {\n        type: \"renderer\",\n        stateId: SceneJS._baseStateId++,\n        props: null\n    };\n\n    var canvas;         // Currently active canvas\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n\n            canvas = params.engine.canvas;\n\n//                // TODO: Below is a HACK\n//\n//                defaultCore.props = createProps({  // Dont set props - just define for restoring to on props pop\n//                    clear: {\n//                        depth : true,\n//                        color : true\n//                    },\n//                    // clearColor: {r: 0, g : 0, b : 0 },\n//                    clearDepth: 1.0,\n//                    enableDepthTest:true,\n//                    enableCullFace: false,\n//                    frontFace: \"ccw\",\n//                    cullFace: \"back\",\n//                    depthFunc: \"less\",\n//                    depthRange: {\n//                        zNear: 0,\n//                        zFar: 1\n//                    },\n//                    enableScissorTest: false,\n//                    viewport:{\n//                        x : 1,\n//                        y : 1,\n//                        width: canvas.canvas.width,\n//                        height: canvas.canvas.height\n//                    },\n//                    enableClip: undefined,\n//                    enableBlend: false,\n//                    blendFunc: {\n//                        sfactor: \"srcAlpha\",\n//                        dfactor: \"one\"\n//                    }\n//                });\n\n            stackLen = 0;\n\n            params.engine.display.renderer = coreStack[stackLen++] = defaultCore;\n        });\n\n    function createProps(props) {\n\n        var restore;\n        if (stackLen > 0) {  // can't restore when no previous props set\n            restore = {};\n            for (var name in props) {\n                if (props.hasOwnProperty(name)) {\n                    if (!(props[name] == undefined)) {\n                        restore[name] = getSuperProperty(name);\n                    }\n                }\n            }\n        }\n\n        processProps(props.props);\n\n        return {\n\n            props: props,\n\n            setProps: function (gl) {\n                setProperties(gl, props);\n            },\n\n            restoreProps: function (gl) {\n                if (restore) {\n                    restoreProperties(gl, restore);\n                }\n            }\n        };\n    }\n\n    var getSuperProperty = function (name) {\n        var props;\n        var prop;\n        for (var i = stackLen - 1; i >= 0; i--) {\n            props = coreStack[i].props;\n            if (props) {\n                prop = props[name];\n                if (prop != undefined && prop != null) {\n                    return props[name];\n                }\n            }\n        }\n        return null; // Cause default to be set\n    };\n\n    function processProps(props) {\n        var prop;\n        for (var name in props) {\n            if (props.hasOwnProperty(name)) {\n                prop = props[name];\n                if (prop != undefined && prop != null) {\n                    if (glModeSetters[name]) {\n                        props[name] = glModeSetters[name](null, prop);\n                    } else if (glStateSetters[name]) {\n                        props[name] = glStateSetters[name](null, prop);\n                    }\n                }\n            }\n        }\n    }\n\n    var setProperties = function (gl, props) {\n\n        for (var key in props) {        // Set order-insensitive properties (modes)\n            if (props.hasOwnProperty(key)) {\n                var setter = glModeSetters[key];\n                if (setter) {\n                    setter(gl, props[key]);\n                }\n            }\n        }\n\n        if (props.viewport) {           // Set order-sensitive properties (states)\n            glStateSetters.viewport(gl, props.viewport);\n        }\n\n        if (props.scissor) {\n            glStateSetters.clear(gl, props.scissor);\n        }\n\n        if (props.clear) {\n            glStateSetters.clear(gl, props.clear);\n        }\n    };\n\n    /**\n     * Restores previous renderer properties, except for clear - that's the reason we\n     * have a seperate set and restore semantic - we don't want to keep clearing the buffer.\n     */\n    var restoreProperties = function (gl, props) {\n\n        var value;\n\n        for (var key in props) {            // Set order-insensitive properties (modes)\n            if (props.hasOwnProperty(key)) {\n                value = props[key];\n                if (value != undefined && value != null) {\n                    var setter = glModeSetters[key];\n                    if (setter) {\n                        setter(gl, value);\n                    }\n                }\n            }\n        }\n\n        if (props.viewport) {               //  Set order-sensitive properties (states)\n            glStateSetters.viewport(gl, props.viewport);\n        }\n\n        if (props.scissor) {\n            glStateSetters.clear(gl, props.scissor);\n        }\n    };\n\n\n    /**\n     * Maps renderer node properties to WebGL gl enums\n     * @private\n     */\n    var glEnum = function (gl, name) {\n        if (!name) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"Null SceneJS.State node config: \\\"\" + name + \"\\\"\");\n        }\n        var result = SceneJS._webgl.enumMap[name];\n        if (!result) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"Unrecognised SceneJS.State node config value: \\\"\" + name + \"\\\"\");\n        }\n        var value = gl[result];\n        if (!value) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"This browser's WebGL does not support renderer node config value: \\\"\" + name + \"\\\"\");\n        }\n        return value;\n    };\n\n\n    /**\n     * Order-insensitive functions that set WebGL modes ie. not actually causing an\n     * immediate change.\n     *\n     * These map to renderer properties and are called in whatever order their\n     * property is found on the renderer config.\n     *\n     * Each of these wrap a state-setter function on the WebGL gl. Each function\n     * also uses the glEnum map to convert its renderer node property argument to the\n     * WebGL enum constant required by its wrapped function.\n     *\n     * When called with undefined/null gl, will condition and return the value given\n     * ie. set it to default if value is undefined. When called with a gl, will\n     * set the value on the gl using the wrapped function.\n     *\n     * @private\n     */\n    var glModeSetters = {\n\n        enableBlend: function (gl, flag) {\n            if (!gl) {\n                if (flag == null || flag == undefined) {\n                    flag = false;\n                }\n                return flag;\n            }\n            if (flag) {\n                gl.enable(gl.BLEND);\n            } else {\n                gl.disable(gl.BLEND);\n            }\n        },\n\n        blendColor: function (gl, color) {\n            if (!gl) {\n                color = color || {};\n                return {\n                    r: color.r || 0,\n                    g: color.g || 0,\n                    b: color.b || 0,\n                    a: (color.a == undefined || color.a == null) ? 1 : color.a\n                };\n            }\n            gl.blendColor(color.r, color.g, color.b, color.a);\n        },\n\n        blendEquation: function (gl, eqn) {\n            if (!gl) {\n                return eqn || \"funcAdd\";\n            }\n            gl.blendEquation(gl, glEnum(gl, eqn));\n        },\n\n        /** Sets the RGB blend equation and the alpha blend equation separately\n         */\n        blendEquationSeparate: function (gl, eqn) {\n            if (!gl) {\n                eqn = eqn || {};\n                return {\n                    rgb: eqn.rgb || \"funcAdd\",\n                    alpha: eqn.alpha || \"funcAdd\"\n                };\n            }\n            gl.blendEquation(glEnum(gl, eqn.rgb), glEnum(gl, eqn.alpha));\n        },\n\n        blendFunc: function (gl, funcs) {\n            if (!gl) {\n                funcs = funcs || {};\n                return  {\n                    sfactor: funcs.sfactor || \"srcAlpha\",\n                    dfactor: funcs.dfactor || \"oneMinusSrcAlpha\"\n                };\n            }\n            gl.blendFunc(glEnum(gl, funcs.sfactor || \"srcAlpha\"), glEnum(gl, funcs.dfactor || \"oneMinusSrcAlpha\"));\n        },\n\n        blendFuncSeparate: function (gl, func) {\n            if (!gl) {\n                func = func || {};\n                return {\n                    srcRGB: func.srcRGB || \"zero\",\n                    dstRGB: func.dstRGB || \"zero\",\n                    srcAlpha: func.srcAlpha || \"zero\",\n                    dstAlpha: func.dstAlpha || \"zero\"\n                };\n            }\n            gl.blendFuncSeparate(\n                glEnum(gl, func.srcRGB || \"zero\"),\n                glEnum(gl, func.dstRGB || \"zero\"),\n                glEnum(gl, func.srcAlpha || \"zero\"),\n                glEnum(gl, func.dstAlpha || \"zero\"));\n        },\n\n        clearColor: function (gl, color) {\n            if (!gl) {\n                color = color || {};\n                return {\n                    r: color.r || 0,\n                    g: color.g || 0,\n                    b: color.b || 0,\n                    a: (color.a == undefined || color.a == null) ? 1 : color.a\n                };\n            }\n            gl.clearColor(color.r, color.g, color.b, color.a);\n        },\n\n        clearDepth: function (gl, depth) {\n            if (!gl) {\n                return (depth == null || depth == undefined) ? 1 : depth;\n            }\n            gl.clearDepth(depth);\n        },\n\n        clearStencil: function (gl, clearValue) {\n            if (!gl) {\n                return  clearValue || 0;\n            }\n            gl.clearStencil(clearValue);\n        },\n\n        colorMask: function (gl, color) {\n            if (!gl) {\n                color = color || {};\n                return {\n                    r: color.r || 0,\n                    g: color.g || 0,\n                    b: color.b || 0,\n                    a: (color.a == undefined || color.a == null) ? 1 : color.a\n                };\n\n            }\n            gl.colorMask(color.r, color.g, color.b, color.a);\n        },\n\n        enableCullFace: function (gl, flag) {\n            if (!gl) {\n                return flag;\n            }\n            if (flag) {\n                gl.enable(gl.CULL_FACE);\n            } else {\n                gl.disable(gl.CULL_FACE);\n            }\n        },\n\n        cullFace: function (gl, mode) {\n            if (!gl) {\n                return mode || \"back\";\n            }\n            gl.cullFace(glEnum(gl, mode));\n        },\n\n        enableDepthTest: function (gl, flag) {\n            if (!gl) {\n                if (flag == null || flag == undefined) {\n                    flag = true;\n                }\n                return flag;\n            }\n            if (flag) {\n                gl.enable(gl.DEPTH_TEST);\n            } else {\n                gl.disable(gl.DEPTH_TEST);\n            }\n        },\n\n        depthFunc: function (gl, func) {\n            if (!gl) {\n                return func || \"less\";\n            }\n            gl.depthFunc(glEnum(gl, func));\n        },\n\n        enableDepthMask: function (gl, flag) {\n            if (!gl) {\n                if (flag == null || flag == undefined) {\n                    flag = true;\n                }\n                return flag;\n            }\n            gl.depthMask(flag);\n        },\n\n        depthRange: function (gl, range) {\n            if (!gl) {\n                range = range || {};\n                return {\n                    zNear: (range.zNear == undefined || range.zNear == null) ? 0 : range.zNear,\n                    zFar: (range.zFar == undefined || range.zFar == null) ? 1 : range.zFar\n                };\n            }\n            gl.depthRange(range.zNear, range.zFar);\n        },\n\n        frontFace: function (gl, mode) {\n            if (!gl) {\n                return mode || \"ccw\";\n            }\n            gl.frontFace(glEnum(gl, mode));\n        },\n\n        lineWidth: function (gl, width) {\n            if (!gl) {\n                return width || 1;\n            }\n            gl.lineWidth(width);\n        },\n\n        enableScissorTest: function (gl, flag) {\n            if (!gl) {\n                return flag;\n            }\n            if (flag) {\n                gl.enable(gl.SCISSOR_TEST);\n            } else {\n                flag = false;\n                gl.disable(gl.SCISSOR_TEST);\n            }\n        }\n    };\n\n    /**\n     * Order-sensitive functions that immediately effect WebGL state change.\n     *\n     * These map to renderer properties and are called in a particular order since they\n     * affect one another.\n     *\n     * Each of these wrap a state-setter function on the WebGL gl. Each function\n     * also uses the glEnum map to convert its renderer node property argument to the\n     * WebGL enum constant required by its wrapped function.\n     *\n     * @private\n     */\n    var glStateSetters = {\n\n        /** Set viewport on the given gl\n         */\n        viewport: function (gl, v) {\n            if (!gl) {\n                v = v || {};\n                return {\n                    x: v.x || 1,\n                    y: v.y || 1,\n                    width: v.width || canvas.canvas.width,\n                    height: v.height || canvas.canvas.height\n                };\n            }\n            gl.viewport(v.x, v.y, v.width, v.height);\n        },\n\n        /** Sets scissor region on the given gl\n         */\n        scissor: function (gl, s) {\n            if (!gl) {\n                s = s || {};\n                return {\n                    x: s.x || 0,\n                    y: s.y || 0,\n                    width: s.width || 1.0,\n                    height: s.height || 1.0\n                };\n            }\n            gl.scissor(s.x, s.y, s.width, s.height);\n        },\n\n        /** Clears buffers on the given gl as specified in mask\n         */\n        clear: function (gl, mask) {\n            if (!gl) {\n                mask = mask || {};\n                return mask;\n            }\n            var m;\n            if (mask.color) {\n                m = gl.COLOR_BUFFER_BIT;\n            }\n            if (mask.depth) {\n                m = m | gl.DEPTH_BUFFER_BIT;\n            }\n            if (mask.stencil) {\n                m = m | gl.STENCIL_BUFFER_BIT;\n            }\n            if (m) {\n               //     gl.clear(m);\n            }\n        }\n    };\n\n    SceneJS.Renderer = SceneJS_NodeFactory.createNodeType(\"renderer\");\n\n    SceneJS.Renderer.prototype._init = function (params) {\n        if (this._core.useCount == 1) { // This node defines the resource\n            for (var key in params) {\n                if (params.hasOwnProperty(key)) {\n                    this._core[key] = params[key];\n                }\n            }\n            this._core.dirty = true;\n        }\n    };\n\n    SceneJS.Renderer.prototype.setViewport = function (viewport) {\n        this._core.viewport = viewport ? {\n            x: viewport.x || 1,\n            y: viewport.y || 1,\n            width: viewport.width || 1000,\n            height: viewport.height || 1000\n        } : undefined;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getViewport = function () {\n        return this._core.viewport ? {\n            x: this._core.viewport.x,\n            y: this._core.viewport.y,\n            width: this._core.viewport.width,\n            height: this._core.viewport.height\n        } : undefined;\n    };\n\n    SceneJS.Renderer.prototype.setScissor = function (scissor) {\n        this._core.scissor = scissor ? {\n            x: scissor.x || 1,\n            y: scissor.y || 1,\n            width: scissor.width || 1000,\n            height: scissor.height || 1000\n        } : undefined;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getScissor = function () {\n        return this._core.scissor ? {\n            x: this._core.scissor.x,\n            y: this._core.scissor.y,\n            width: this._core.scissor.width,\n            height: this._core.scissor.height\n        } : undefined;\n    };\n\n    SceneJS.Renderer.prototype.setClear = function (clear) {\n        this._core.clear = clear ? {\n            r: clear.r || 0,\n            g: clear.g || 0,\n            b: clear.b || 0\n        } : undefined;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getClear = function () {\n        return this._core.clear ? {\n            r: this._core.clear.r,\n            g: this._core.clear.g,\n            b: this._core.clear.b\n        } : null;\n    };\n\n    SceneJS.Renderer.prototype.setEnableBlend = function (enableBlend) {\n        this._core.enableBlend = enableBlend;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getEnableBlend = function () {\n        return this._core.enableBlend;\n    };\n\n    SceneJS.Renderer.prototype.setBlendColor = function (color) {\n        this._core.blendColor = color ? {\n            r: color.r || 0,\n            g: color.g || 0,\n            b: color.b || 0,\n            a: (color.a == undefined || color.a == null) ? 1 : color.a\n        } : undefined;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getBlendColor = function () {\n        return this._core.blendColor ? {\n            r: this._core.blendColor.r,\n            g: this._core.blendColor.g,\n            b: this._core.blendColor.b,\n            a: this._core.blendColor.a\n        } : undefined;\n    };\n\n    SceneJS.Renderer.prototype.setBlendEquation = function (eqn) {\n        this._core.blendEquation = eqn;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getBlendEquation = function () {\n        return this._core.blendEquation;\n    };\n\n    SceneJS.Renderer.prototype.setBlendEquationSeparate = function (eqn) {\n        this._core.blendEquationSeparate = eqn ? {\n            rgb: eqn.rgb || \"funcAdd\",\n            alpha: eqn.alpha || \"funcAdd\"\n        } : undefined;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getBlendEquationSeparate = function () {\n        return this._core.blendEquationSeparate ? {\n            rgb: this._core.rgb,\n            alpha: this._core.alpha\n        } : undefined;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Renderer.prototype.setBlendFunc = function (funcs) {\n        this._core.blendFunc = funcs ? {\n            sfactor: funcs.sfactor || \"srcAlpha\",\n            dfactor: funcs.dfactor || \"one\"\n        } : undefined;\n        this._core.dirty = true;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getBlendFunc = function () {\n        return this._core.blendFunc ? {\n            sfactor: this._core.sfactor,\n            dfactor: this._core.dfactor\n        } : undefined;\n    };\n\n    SceneJS.Renderer.prototype.setBlendFuncSeparate = function (eqn) {\n        this._core.blendFuncSeparate = eqn ? {\n            srcRGB: eqn.srcRGB || \"zero\",\n            dstRGB: eqn.dstRGB || \"zero\",\n            srcAlpha: eqn.srcAlpha || \"zero\",\n            dstAlpha: eqn.dstAlpha || \"zero\"\n        } : undefined;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getBlendFuncSeparate = function () {\n        return this._core.blendFuncSeparate ? {\n            srcRGB: this._core.blendFuncSeparate.srcRGB,\n            dstRGB: this._core.blendFuncSeparate.dstRGB,\n            srcAlpha: this._core.blendFuncSeparate.srcAlpha,\n            dstAlpha: this._core.blendFuncSeparate.dstAlpha\n        } : undefined;\n    };\n\n    SceneJS.Renderer.prototype.setEnableCullFace = function (enableCullFace) {\n        this._core.enableCullFace = enableCullFace;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getEnableCullFace = function () {\n        return this._core.enableCullFace;\n    };\n\n\n    SceneJS.Renderer.prototype.setCullFace = function (cullFace) {\n        this._core.cullFace = cullFace;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getCullFace = function () {\n        return this._core.cullFace;\n    };\n\n    SceneJS.Renderer.prototype.setEnableDepthTest = function (enableDepthTest) {\n        this._core.enableDepthTest = enableDepthTest;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getEnableDepthTest = function () {\n        return this._core.enableDepthTest;\n    };\n\n    SceneJS.Renderer.prototype.setDepthFunc = function (depthFunc) {\n        this._core.depthFunc = depthFunc;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getDepthFunc = function () {\n        return this._core.depthFunc;\n    };\n\n    SceneJS.Renderer.prototype.setEnableDepthMask = function (enableDepthMask) {\n        this._core.enableDepthMask = enableDepthMask;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getEnableDepthMask = function () {\n        return this._core.enableDepthMask;\n    };\n\n    SceneJS.Renderer.prototype.setClearDepth = function (clearDepth) {\n        this._core.clearDepth = clearDepth;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getClearDepth = function () {\n        return this._core.clearDepth;\n    };\n\n    SceneJS.Renderer.prototype.setDepthRange = function (range) {\n        this._core.depthRange = range ? {\n            zNear: (range.zNear == undefined || range.zNear == null) ? 0 : range.zNear,\n            zFar: (range.zFar == undefined || range.zFar == null) ? 1 : range.zFar\n        } : undefined;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getDepthRange = function () {\n        return this._core.depthRange ? {\n            zNear: this._core.depthRange.zNear,\n            zFar: this._core.depthRange.zFar\n        } : undefined;\n    };\n\n    SceneJS.Renderer.prototype.setFrontFace = function (frontFace) {\n        this._core.frontFace = frontFace;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getFrontFace = function () {\n        return this._core.frontFace;\n    };\n\n    SceneJS.Renderer.prototype.setLineWidth = function (lineWidth) {\n        this._core.lineWidth = lineWidth;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getLineWidth = function () {\n        return this._core.lineWidth;\n    };\n\n    SceneJS.Renderer.prototype.setEnableScissorTest = function (enableScissorTest) {\n        this._core.enableScissorTest = enableScissorTest;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getEnableScissorTest = function () {\n        return this._core.enableScissorTest;\n    };\n\n    SceneJS.Renderer.prototype.setClearStencil = function (clearStencil) {\n        this._core.clearStencil = clearStencil;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getClearStencil = function () {\n        return this._core.clearStencil;\n    };\n\n    SceneJS.Renderer.prototype.setColorMask = function (color) {\n        this._core.colorMask = color ? {\n            r: color.r || 0,\n            g: color.g || 0,\n            b: color.b || 0,\n            a: (color.a == undefined || color.a == null) ? 1 : color.a\n        } : undefined;\n        this._core.dirty = true;\n    };\n\n    SceneJS.Renderer.prototype.getColorMask = function () {\n        return this._core.colorMask ? {\n            r: this._core.colorMask.r,\n            g: this._core.colorMask.g,\n            b: this._core.colorMask.b,\n            a: this._core.colorMask.a\n        } : undefined;\n    };\n\n    SceneJS.Renderer.prototype._compile = function (ctx) {\n        if (this._core.dirty) {\n            this._core.props = createProps(this._core);\n            this._core.dirty = false;\n        }\n        this._engine.display.renderer = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.renderer = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n})();(function () {\n\n    var lookup = {\n        less:\"LESS\",\n        equal:\"EQUAL\",\n        lequal:\"LEQUAL\",\n        greater:\"GREATER\",\n        notequal:\"NOTEQUAL\",\n        gequal:\"GEQUAL\"\n    };\n\n    // The default state core singleton for {@link SceneJS.DepthBuf} nodes\n    var defaultCore = {\n        type:\"depthBuffer\",\n        stateId:SceneJS._baseStateId++,\n        enabled:true,\n        clearDepth:1,\n        depthFunc:null, // Lazy init depthFunc when we can get a context\n        _depthFuncName:\"less\"\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            if (defaultCore.depthFunc === null) { // Lazy-init depthFunc now we can get a context\n                defaultCore.depthFunc = params.engine.canvas.gl.LESS;\n            }\n            params.engine.display.depthBuffer = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which configures the depth buffer for its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.DepthBuf = SceneJS_NodeFactory.createNodeType(\"depthBuffer\");\n\n    SceneJS.DepthBuf.prototype._init = function (params) {\n\n        if (params.enabled != undefined) {\n            this.setEnabled(params.enabled);\n        } else if (this._core.useCount == 1) { // This node defines the core\n            this.setEnabled(true);\n        }\n\n        if (params.clearDepth != undefined) {\n            this.setClearDepth(params.clearDepth);\n        } else if (this._core.useCount == 1) {\n            this.setClearDepth(1);\n        }\n\n        if (params.depthFunc != undefined) {\n            this.setDepthFunc(params.depthFunc);\n        } else if (this._core.useCount == 1) {\n            this.setDepthFunc(\"less\");\n        }\n\n        if (params.clear != undefined) {\n            this.setClear(params.clear);\n        } else if (this._core.useCount == 1) {\n            this.setClear(true);\n        }\n    };\n\n    /**\n     * Enable or disable the depth buffer\n     *\n     * @param enabled Specifies whether depth buffer is enabled or not\n     * @return {*}\n     */\n    SceneJS.DepthBuf.prototype.setEnabled = function (enabled) {\n        if (this._core.enabled != enabled) {\n            this._core.enabled = enabled;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Get whether or not the depth buffer is enabled\n     *\n     * @return Boolean\n     */\n    SceneJS.DepthBuf.prototype.getEnabled = function () {\n        return this._core.enabled;\n    };\n\n    /**\n     * Sets whether or not to clear the depth buffer before each render\n     *\n     * @param clear\n     * @return {*}\n     */\n    SceneJS.DepthBuf.prototype.setClear = function (clear) {\n        if (this._core.clear != clear) {\n            this._core.clear = clear;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Get whether or not the depth buffer is cleared before each render\n     *\n     * @return Boolean\n     */\n    SceneJS.DepthBuf.prototype.getClear = function () {\n        return this._core.clear;\n    };\n    \n    /**\n     * Specify the clear value for the depth buffer.\n     * Initial value is 1, and the given value will be clamped to [0..1].\n     * @param clearDepth\n     * @return {*}\n     */\n    SceneJS.DepthBuf.prototype.setClearDepth = function (clearDepth) {\n        if (this._core.clearDepth != clearDepth) {\n            this._core.clearDepth = clearDepth;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Get the clear value for the depth buffer\n     *\n     * @return Number\n     */\n    SceneJS.DepthBuf.prototype.getClearDepth = function () {\n        return this._core.clearDepth;\n    };\n\n    /**\n     * Sets the depth comparison function.\n     * Supported values are 'less', 'equal', 'lequal', 'greater', 'notequal' and 'gequal'\n     * @param {String} depthFunc The depth comparison function\n     * @return {*}\n     */\n    SceneJS.DepthBuf.prototype.setDepthFunc = function (depthFunc) {\n        if (this._core._depthFuncName != depthFunc) {\n            var enumName = lookup[depthFunc];\n            if (enumName == undefined) {\n                throw \"unsupported value for 'clearFunc' attribute on depthBuffer node: '\" + depthFunc\n                    + \"' - supported values are 'less', 'equal', 'lequal', 'greater', 'notequal' and 'gequal'\";\n            }\n            this._core.depthFunc = this._engine.canvas.gl[enumName];\n            this._core._depthFuncName = depthFunc;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Returns the depth comparison function\n     * @return {*}\n     */\n    SceneJS.DepthBuf.prototype.getDepthFunc = function () {\n        return this._core._depthFuncName;\n    };\n\n    SceneJS.DepthBuf.prototype._compile = function (ctx) {\n        this._engine.display.depthBuffer = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.depthBuffer = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n})();(function () {\n\n    // The default state core singleton for {@link SceneJS.ColorBuffer} nodes\n    var defaultCore = {\n        type: \"colorBuffer\",\n        stateId: SceneJS._baseStateId++,\n        blendEnabled: false,\n        colorMask: { r: true, g: true, b: true, a: true }\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.colorBuffer = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which configures the color buffer for its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.ColorBuffer = SceneJS_NodeFactory.createNodeType(\"colorBuffer\");\n\n    SceneJS.ColorBuffer.prototype._init = function (params) {\n        if (params.blendEnabled != undefined) {\n            this.setBlendEnabled(params.blendEnabled);\n        } else if (this._core.useCount == 1) { // This node defines the core\n            this.setBlendEnabled(false);\n        }\n        this.setColorMask(params);\n    };\n\n    /**\n     * Enable or disable blending\n     *\n     * @param blendEnabled Specifies whether depth buffer is blendEnabled or not\n     */\n    SceneJS.ColorBuffer.prototype.setBlendEnabled = function (blendEnabled) {\n        if (this._core.blendEnabled != blendEnabled) {\n            this._core.blendEnabled = blendEnabled;\n            this._engine.display.imageDirty = true;\n        }\n        this._engine.display.imageDirty = true;\n    };\n\n    /**\n     * Get whether or not blending is enabled\n     * @return Boolean\n     */\n    SceneJS.ColorBuffer.prototype.getBlendEnabled = function () {\n        return this._core.blendEnabled;\n    };\n\n    /**\n     * Enable and disable writing of buffer's color components.\n     * Components default to true where not given.\n     * @param mask The mask\n     */\n    SceneJS.ColorBuffer.prototype.setColorMask = function (mask) {\n        this._core.colorMask =  {\n            r: mask.r != undefined && mask.r != null ? mask.r : true,\n            g: mask.g != undefined && mask.g != null ? mask.g : true,\n            b: mask.b != undefined && mask.b != null ? mask.b : true,\n            a: mask.a != undefined && mask.a != null ? mask.a : true\n        };\n        this._engine.display.imageDirty = true;\n    };\n\n    /**\n     * Gets the color mask\n     * @return {{}}\n     */\n    SceneJS.ColorBuffer.prototype.getColorMask = function () {\n        return this._core.colorMask;\n    };\n\n    SceneJS.ColorBuffer.prototype._compile = function (ctx) {\n        this._engine.display.colorBuffer = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.colorBuffer = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n        this._engine.display.imageDirty = true;\n    };\n\n})();(function () {\n\n    // The default state core singleton for {@link SceneJS.View} nodes\n    var defaultCore = {\n        type:\"view\",\n        stateId:SceneJS._baseStateId++,\n        scissorTestEnabled:false\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.view = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which configures view parameters such as depth range, scissor test and viewport\n     * @extends SceneJS.Node\n     * void depthRange(floatzNear, floatzFar)\n     zNear: Clamped to the range 0 to 1 Must be <= zFar\n     zFar: Clamped to the range 0 to 1.\n     void scissor(int x, int y, long width, long height)\n     void viewport(int x, int y, long width, long height)\n     */\n    SceneJS.View = SceneJS_NodeFactory.createNodeType(\"view\");\n\n    SceneJS.View.prototype._init = function (params) {\n\n        if (params.scissorTestEnabled != undefined) {\n            this.setScissorTestEnabled(params.scissorTestEnabled);\n        } else if (this._core.useCount == 1) { // This node defines the core\n            this.setScissorTestEnabled(false);\n        }\n    };\n\n    /**\n     * Enable or disables scissor test.\n     *\n     * When enabled, the scissor test will discards fragments that are outside the scissor box.\n     *\n     * Scissor test is initially disabled.\n     *\n     * @param scissorTestEnabled Specifies whether scissor test is enabled or not\n     * @return {*}\n     */\n    SceneJS.View.prototype.setScissorTestEnabled = function (scissorTestEnabled) {\n        if (this._core.scissorTestEnabled != scissorTestEnabled) {\n            this._core.scissorTestEnabled = scissorTestEnabled;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Get whether or not scissor test is enabled.\n     * Initial value will be false.\n     *\n     * @return Boolean\n     */\n    SceneJS.View.prototype.getScissorTestEnabled = function () {\n        return this._core.scissorTestEnabled;\n    };\n\n    SceneJS.View.prototype._compile = function (ctx) {\n        this._engine.display.view = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.view = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n})();/**\n * @class The root node of a scenegraph\n * @extends SceneJS.Node\n *\n */\n\nSceneJS.Scene = SceneJS_NodeFactory.createNodeType(\"scene\");\n\nSceneJS.Scene.prototype._init = function (params) {\n\n    if (params.tagMask) {\n        this.setTagMask(params.tagMask);\n    }\n\n    this._tagSelector = null;\n\n    /**\n     * Set false when canvas is to be transparent.\n     * @type {boolean}\n     */\n    this.transparent = (params.transparent === true);\n};\n\n\n/**\n * Simulate a lost WebGL context for testing purposes.\n * Only works if the simulateWebGLLost was given as an option to {@link SceneJS.createScene}.\n */\nSceneJS.Scene.prototype.loseWebGLContext = function () {\n    this._engine.loseWebGLContext();\n};\n\n\n/**\n * Returns the HTML canvas for this scene\n * @return {HTMLCanvas} The canvas\n */\nSceneJS.Scene.prototype.getCanvas = function () {\n    return this._engine.canvas.canvas;\n};\n\n/**\n * Returns the WebGL context for this scene\n */\nSceneJS.Scene.prototype.getGL = function () {\n    return this._engine.canvas.gl;\n};\n\n/** Returns the Z-buffer depth in bits of the webgl context that this scene is to bound to.\n */\nSceneJS.Scene.prototype.getZBufferDepth = function () {\n    var gl = this._engine.canvas.gl;\n    return gl.getParameter(gl.DEPTH_BITS);\n};\n\n/**\n * Sets a regular expression to select which of the scene subgraphs that are rooted by {@link SceneJS.Tag} nodes are included in scene renders\n * @param {String} [tagMask] Regular expression string to match on the tag attributes of {@link SceneJS.Tag} nodes. Nothing is selected when this is omitted.\n * @see #getTagMask\n * @see SceneJS.Tag\n */\nSceneJS.Scene.prototype.setTagMask = function (tagMask) {\n    tagMask = tagMask || \"XXXXXXXXXXXXXXXXXXXXXXXXXX\"; // HACK to select nothing by default\n    if (!this._tagSelector) {\n        this._tagSelector = {};\n    }\n    this._tagSelector.mask = tagMask;\n    this._tagSelector.regex = tagMask ? new RegExp(tagMask) : null;\n    this._engine.display.selectTags(this._tagSelector);\n};\n\n/**\n * Gets the regular expression which will select which of the scene subgraphs that are rooted by {@link SceneJS.Tag} nodes are included in scene renders\n * @see #setTagMask\n * @see SceneJS.Tag\n * @returns {String} Regular expression string that will be matched on the tag attributes of {@link SceneJS.Tag} nodes\n */\nSceneJS.Scene.prototype.getTagMask = function () {\n    return this._tagSelector ? this._tagSelector.mask : null;\n};\n\n/**\n * Sets the number of times this scene is drawn on each render.\n * <p>This is useful for when we need to do things like render for left and right eyes.\n * @param {Number} numPasses The number of times the scene is drawn on each frame.\n * @see #getTagMask\n * @see SceneJS.Tag\n */\nSceneJS.Scene.prototype.setNumPasses = function (numPasses) {\n    this._engine.setNumPasses(numPasses);\n};\n\n/**\n * Render a single frame if new frame pending, or force a new frame\n * Returns true if frame rendered\n */\nSceneJS.Scene.prototype.renderFrame = function (params) {\n    return this._engine.renderFrame(params);\n};\n\n/**\n * Signals that a new frame will be needed\n * @param params\n */\nSceneJS.Scene.prototype.needFrame = function () {\n    this._engine.display.imageDirty = true;\n};\n\n/**\n * Starts the render loop for this scene\n */\nSceneJS.Scene.prototype.start = function (params) {\n    this._engine.start(params);\n};\n\n/**\n * Pauses/unpauses current render loop that was started with {@link #start}. After this, {@link #isRunning} will return false.\n * @param {Boolean} doPause Indicates whether to pause or unpause the render loop\n */\nSceneJS.Scene.prototype.pause = function (doPause) {\n    this._engine.pause(doPause);\n};\n\n/**\n * Returns true if the scene's render loop is currently running.\n * @returns {Boolean} True when scene render loop is running\n */\nSceneJS.Scene.prototype.isRunning = function () {\n    return this._engine.running;\n};\n\n/**\n * Picks whatever geometry will be rendered at the given canvas coordinates.\n */\nSceneJS.Scene.prototype.pick = function (canvasX, canvasY, options) {\n    var result = this._engine.pick(canvasX, canvasY, options);\n    this.renderFrame({force: true }); // HACK: canvas blanks after picking\n    if (result) {\n        this.publish(\"pick\", result);\n        return result;\n    } else {\n        this.publish(\"nopick\");\n    }\n};\n\n/**\n * Scene node's destroy handler, called by {@link SceneJS_node#destroy}\n * @private\n */\nSceneJS.Scene.prototype._destroy = function () {\n    if (!this.destroyed) {\n        delete SceneJS._engines[this.id];  // HACK: circular dependency\n        SceneJS._engineIds.removeItem(this.id); // HACK: circular dependency\n        this.destroyed = true;\n    }\n};\n\n/**\n * Returns true if scene active, ie. not destroyed. A destroyed scene becomes active again\n * when you render it.\n */\nSceneJS.Scene.prototype.isActive = function () {\n    return !this._engine.destroyed;\n};\n\n/**\n * Stops current render loop that was started with {@link #start}. After this, {@link #isRunning} will return false.\n */\nSceneJS.Scene.prototype.stop = function () {\n    this._engine.stop();\n};\n\n/** Determines if node exists in this scene\n * @deprecated\n */\nSceneJS.Scene.prototype.containsNode = function (nodeId) {\n    return !!this._engine.findNode(nodeId);\n};\n\n/**\n * Finds nodes in this scene that have nodes IDs matching the given regular expression\n *\n * @param {String} nodeIdRegex Regular expression to match on node IDs\n * @return {[SceneJS.Node]} Array of nodes whose IDs match the given regex\n */\nSceneJS.Scene.prototype.findNodes = function (nodeIdRegex) {\n    return this._engine.findNodes(nodeIdRegex);\n};\n\n/**\n * Finds the node with the given ID in this scene\n * @deprecated\n * @param {String} nodeId Node ID\n * @param {Function} callback Callback through which we'll get the node asynchronously if it's being instantiated on-demand from a node type plugin\n * @return {SceneJS.Node} The node if found, else null\n */\nSceneJS.Scene.prototype.findNode = function (nodeId, callback) {\n    return this.getNode(nodeId, callback);\n};\n\n/**\n * @function Finds the node with the given ID in this scene\n * @param {String} nodeId Node ID\n * @param {Function} callback Callback through which we'll get the node asynchronously if it's being instantiated on-demand from a node type plugin\n * @return {SceneJS.Node} The node if found, else null\n */\nSceneJS.Scene.prototype.getNode = function (nodeId, callback) {\n    var node = this._engine.findNode(nodeId);\n    if (node) {\n        if (callback) {\n            callback(node);\n        }\n        return node;\n    } else {\n        if (!callback) {\n            return null;\n        }\n        // Subscribe to instantiation of node from plugin\n        this.once(\"nodes/\" + nodeId, callback);\n    }\n};\n\n/**\n * Tests whether a node core of the given ID exists for the given node type\n * @param {String} type Node type\n * @param {String} coreId\n * @returns Boolean\n */\nSceneJS.Scene.prototype.hasCore = function (type, coreId) {\n    return this._engine.hasCore(type, coreId);\n};\n\n/**\n * Returns the current status of this scene.\n *\n * When the scene has been destroyed, the returned status will be a map like this:\n *\n * {\n *      destroyed: true\n * }\n *\n * Otherwise, the status will be:\n *\n * {\n *      numTasks: Total number of asset loads (eg. texture, geometry stream etc.) currently in progress for this scene\n * }\n *\n */\nSceneJS.Scene.prototype.getStatus = function () {\n    var sceneStatus = SceneJS_sceneStatusModule.sceneStatus[this.id];\n    if (!sceneStatus) {\n        return {\n            destroyed: true\n        };\n    }\n    return SceneJS._shallowClone(sceneStatus);\n};\nnew (function() {\n\n    /**\n     * The default state core singleton for {@link SceneJS.Shader} nodes\n     */\n    var defaultCore = {\n        type: \"shader\",\n        stateId: SceneJS._baseStateId++,\n        hash: \"\",\n        empty: true,\n        shader : {}\n    };\n\n    var idStack = [];\n    var shaderVertexCodeStack = [];\n    var shaderVertexHooksStack = [];\n    var shaderFragmentCodeStack = [];\n    var shaderFragmentHooksStack = [];\n    var shaderParamsStack = [];\n\n    var stackLen = 0;\n\n    var dirty = true;\n\n    SceneJS_events.addListener(\n            SceneJS_events.SCENE_COMPILING,\n            function(params) {\n\n                params.engine.display.shader = defaultCore;\n\n                stackLen = 0;\n\n                dirty = true;\n            });\n\n    SceneJS_events.addListener(\n            SceneJS_events.OBJECT_COMPILING,\n            function(params) {\n                if (dirty) {\n\n                    if (stackLen > 0) {\n\n                        var core = {\n                            type: \"shader\",\n                            stateId: idStack[stackLen - 1],\n                            hash: idStack.slice(0, stackLen).join(\".\"),\n\n                            shaders: {\n                                fragment: {\n                                    code: shaderFragmentCodeStack.slice(0, stackLen).join(\"\"),\n                                    hooks: combineMapStack(shaderFragmentHooksStack)\n                                },\n                                vertex: {\n                                    code: shaderVertexCodeStack.slice(0, stackLen).join(\"\"),\n                                    hooks: combineMapStack(shaderVertexHooksStack)\n                                }\n                            },\n\n                            paramsStack: shaderParamsStack.slice(0, stackLen)\n                        };\n\n                        params.display.shader = core;\n\n                    } else {\n\n                        params.display.shader = defaultCore;\n                    }\n\n                    dirty = false;\n                }\n            });\n\n    function combineMapStack(maps) {\n        var map1;\n        var map2 = {};\n        var name;\n        for (var i = 0; i < stackLen; i++) {\n            map1 = maps[i];\n            for (name in map1) {\n                if (map1.hasOwnProperty(name)) {\n                    map2[name] = map1[name];\n                }\n            }\n        }\n        return map2;\n    }\n\n    function pushHooks(hooks, hookStacks) {\n        var stack;\n        for (var key in hooks) {\n            if (hooks.hasOwnProperty(key)) {\n                stack = hookStacks[key];\n                if (!stack) {\n                    stack = hookStacks[key] = [];\n                }\n                stack.push(hooks[key]);\n            }\n        }\n    }\n\n    SceneJS.Shader = SceneJS_NodeFactory.createNodeType(\"shader\");\n\n    SceneJS.Shader.prototype._init = function(params) {\n        if (this._core.useCount == 1) { // This node is the resource definer\n            this._setShaders(params.shaders);\n            this.setParams(params.params);\n        }\n    };\n\n    SceneJS.Shader.prototype._setShaders = function(shaders) {\n        shaders = shaders || [];\n        this._core.shaders = {};\n        var shader;\n\n        for (var i = 0, len = shaders.length; i < len; i++) {\n            shader = shaders[i];\n\n            if (!shader.stage) {\n                throw SceneJS_error.fatalError(\n                        SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                        \"shader 'stage' attribute expected\");\n            }\n\n            var code;\n            if (shader.code) {\n                if (SceneJS._isArray(shader.code)) {\n                    code = shader.code.join(\"\");\n                } else {\n                    code = shader.code;\n                }\n            }\n\n            this._core.shaders[shader.stage] = {\n                code: code,\n                hooks: shader.hooks\n            };\n        }\n    };\n\n    SceneJS.Shader.prototype.setParams = function(params) {\n        params = params || {};\n        var coreParams = this._core.params;\n        if (!coreParams) {\n            coreParams = this._core.params = {};\n        }\n        for (var name in params) {\n            if (params.hasOwnProperty(name)) {\n                coreParams[name] = params[name];\n            }\n        }\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Shader.prototype.getParams = function() {\n        var coreParams = this._core.params;\n        if (!coreParams) {\n            return {};\n        }\n        var params = {};\n        for (var name in coreParams) {\n            if (coreParams.hasOwnProperty(name)) {\n                params[name] = coreParams[name];\n            }\n        }\n        return params;\n    };\n\n    SceneJS.Shader.prototype._compile = function(ctx) {\n\n        idStack[stackLen] = this._core.coreId; // Draw list node tied to core, not node\n\n        var shaders = this._core.shaders;\n\n        var fragment = shaders.fragment || {};\n        var vertex = shaders.vertex || {};\n\n        shaderFragmentCodeStack[stackLen] = fragment.code || \"\";\n        shaderFragmentHooksStack[stackLen] = fragment.hooks || {};\n\n        shaderVertexCodeStack[stackLen] = vertex.code || \"\";\n        shaderVertexHooksStack[stackLen] = vertex.hooks || {};\n\n        shaderParamsStack[stackLen] = this._core.params || {};\n\n        stackLen++;\n        dirty = true;\n\n        this._compileNodes(ctx);\n\n        stackLen--;\n        dirty = true;\n    };\n\n})();new (function() {\n\n    /**\n     * The default state core singleton for {@link SceneJS.ShaderParams} nodes\n     */\n    var defaultCore = {\n        type: \"shaderParams\",\n        stateId: SceneJS._baseStateId++,\n        empty: true\n    };\n\n    var idStack = [];\n    var shaderParamsStack = [];\n    var stackLen = 0;\n    var dirty;\n\n    SceneJS_events.addListener(\n            SceneJS_events.SCENE_COMPILING,\n            function(params) {\n\n                params.engine.display.shaderParams = defaultCore;\n\n                stackLen = 0;\n                dirty = true;\n            });\n\n    SceneJS_events.addListener(\n            SceneJS_events.OBJECT_COMPILING,\n            function(params) {\n                if (dirty) {\n\n                    if (stackLen > 0) {\n                        var core = {\n                            type: \"shaderParams\",\n                            stateId: idStack[stackLen - 1],\n                            paramsStack: shaderParamsStack.slice(0, stackLen)\n                        };\n                        params.display.shaderParams = core;\n\n                    } else {\n                        params.display.shaderParams = defaultCore;\n                    }\n\n                    dirty = false;\n                }\n            });\n\n    SceneJS.ShaderParams = SceneJS_NodeFactory.createNodeType(\"shaderParams\");\n\n    SceneJS.ShaderParams.prototype._init = function(params) {\n        if (this._core.useCount == 1) { // This node is the resource definer\n            this.setParams(params.params);\n        }\n    };\n\n    SceneJS.ShaderParams.prototype.setParams = function(params) {\n        params = params || {};\n        var core = this._core;\n        if (!core.params) {\n            core.params = {};\n        }\n        for (var name in params) {\n            if (params.hasOwnProperty(name)) {\n                core.params[name] = params[name];\n            }\n        }\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.ShaderParams.prototype.getParams = function() {\n        var coreParams = this._core.params;\n        if (!coreParams) {\n            return {};\n        }\n        var params = {};\n        for (var name in coreParams) {\n            if (coreParams.hasOwnProperty(name)) {\n                params[name] = coreParams[name];\n            }\n        }\n        return params;\n    };\n\n    SceneJS.ShaderParams.prototype._compile = function(ctx) {\n\n        idStack[stackLen] = this._core.coreId; // Tie draw list state to core, not to scene node\n        shaderParamsStack[stackLen] = this._core.params;\n        stackLen++;\n        dirty = true;\n\n        this._compileNodes(ctx);\n\n        stackLen--;\n        dirty = true;\n    };\n\n})();(function () {\n\n    // The default state core singleton for {@link SceneJS.Line} nodes\n    var defaultCore = {\n        type:\"style\",\n        stateId:SceneJS._baseStateId++,\n        lineWidth:1.0\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.style = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which configures style parameters such as line width for subnodes\n     * @extends SceneJS.Node\n     */\n    SceneJS.Style = SceneJS_NodeFactory.createNodeType(\"style\");\n\n    SceneJS.Style.prototype._init = function (params) {\n        if (params.lineWidth != undefined) {\n            this.setLineWidth(params.lineWidth);\n        }\n    };\n\n    /**\n     * Sets the line width\n     *\n     * Line width is initially 1.\n     *\n     * @param lineWidth The line width\n     * @return {*}\n     */\n    SceneJS.Style.prototype.setLineWidth = function (lineWidth) {\n        if (this._core.lineWidth != lineWidth) {\n            this._core.lineWidth = lineWidth;\n            this._engine.display.imageDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Gets the line width\n     * Initial value will be 1.\n     *\n     * @return Boolean\n     */\n    SceneJS.Style.prototype.getLineWidth = function () {\n        return this._core.lineWidth;\n    };\n\n    SceneJS.Style.prototype._compile = function (ctx) {\n        this._engine.display.style = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.style = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n})();(function() {\n\n    /**\n     * The default state core singleton for {@link SceneJS.Tag} nodes\n     */\n    var defaultCore = {\n        type: \"tag\",\n        stateId: SceneJS._baseStateId++,\n        tag : null\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n            SceneJS_events.SCENE_COMPILING,\n            function(params) {\n                params.engine.display.tag = defaultCore;\n                stackLen = 0;\n            });\n\n    /**\n     * @class Scene graph node which assigns a symbolic tag name to the {@link SceneJS.Geometry} nodes in its subgraph.\n     * The subgraph can then be included or excluded from scene rendering using {@link SceneJS.Scene#setTagMask}.\n     * @extends SceneJS.Node\n     */\n    SceneJS.Tag = SceneJS_NodeFactory.createNodeType(\"tag\");\n\n    SceneJS.Tag.prototype._init = function(params) {\n        if (this._core.useCount == 1) { // This node defines the resource\n            if (!params.tag) {\n                throw SceneJS_error.fatalError(\n                        SceneJS.errors.NODE_CONFIG_EXPECTED,\n                        \"tag node attribute missing : 'tag'\");\n            }\n            this.setTag(params.tag);\n        }\n    };\n\n    SceneJS.Tag.prototype.setTag = function(tag) {\n\n        var core = this._core;\n\n        core.tag = tag;\n        core.pattern = null;    // To be recomputed\n        core.matched = false;   // To be rematched\n\n        this._engine.display.drawListDirty = true;\n    };\n\n    SceneJS.Tag.prototype.getTag = function() {\n        return this._core.tag;\n    };\n\n    SceneJS.Tag.prototype._compile = function(ctx) {\n        this._engine.display.tag = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.tag = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n})();/**\n * @class Scene graph node which defines textures to apply to the objects in its subgraph\n * <p>This is the deprecated node type from SceneJS v3.2, which has been replaced by the \"texture\" node in ./texture.js</p>\n * @extends SceneJS.Node\n */\nnew (function () {\n\n    // The default state core singleton for {@link SceneJS.Texture} nodes\n    var defaultCore = {\n        type:\"texture\",\n        stateId:SceneJS._baseStateId++,\n        empty:true,\n        hash:\"\"\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.texture = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which defines one or more textures to apply to the {@link SceneJS.Geometry} nodes in its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.Texture = SceneJS_NodeFactory.createNodeType(\"_texture\");\n\n    SceneJS.Texture.prototype._init = function (params) {\n\n        if (this._core.useCount == 1) { // This node is the resource definer\n\n            this._core.layers = [];\n            this._core.params = {};\n\n            // By default, wait for texture to load before building subgraph\n            var waitForLoad = params.waitForLoad == undefined ? true : params.waitForLoad;\n\n            if (!params.layers) {\n                throw SceneJS_error.fatalError(\n                    SceneJS.errors.NODE_CONFIG_EXPECTED,\n                    \"texture layers missing\");\n            }\n\n            if (!SceneJS._isArray(params.layers)) {\n                throw SceneJS_error.fatalError(\n                    SceneJS.errors.NODE_CONFIG_EXPECTED,\n                    \"texture layers should be an array\");\n            }\n\n            var layerParams;\n            var gl = this._engine.canvas.gl;\n\n            for (var i = 0; i < params.layers.length; i++) {\n\n                layerParams = params.layers[i];\n\n                if (!layerParams.source && !layerParams.uri && !layerParams.src && !layerParams.colorTarget && !layerParams.video) {\n\n                    throw SceneJS_error.fatalError(\n                        SceneJS.errors.NODE_CONFIG_EXPECTED,\n                        \"texture layer \" + i + \"  has no uri, src, source, colorTarget, video or canvasId specified\");\n                }\n\n                if (layerParams.applyFrom) {\n                    if (layerParams.applyFrom != \"uv\" &&\n                        layerParams.applyFrom != \"uv2\" &&\n                        layerParams.applyFrom != \"normal\" &&\n                        layerParams.applyFrom != \"geometry\") {\n                        throw SceneJS_error.fatalError(\n                            SceneJS.errors.NODE_CONFIG_EXPECTED,\n                            \"texture layer \" + i + \"  applyFrom value is unsupported - \" +\n                                \"should be either 'uv', 'uv2', 'normal' or 'geometry'\");\n                    }\n                }\n\n                if (layerParams.applyTo) {\n                    if (layerParams.applyTo != \"baseColor\" && // Colour map (deprecated)\n                        layerParams.applyTo != \"color\" && // Colour map\n                        layerParams.applyTo != \"specular\" && // Specular map\n                        layerParams.applyTo != \"emit\" && // Emission map\n                        layerParams.applyTo != \"alpha\" && // Alpha map\n                        layerParams.applyTo != \"normals\" && // Normal map\n                        layerParams.applyTo != \"shine\") { // Shininess map\n                        throw SceneJS_error.fatalError(\n                            SceneJS.errors.NODE_CONFIG_EXPECTED,\n                            \"texture layer \" + i + \" applyTo value is unsupported - \" +\n                                \"should be either 'color', 'baseColor', 'specular' or 'normals'\");\n                    }\n                }\n\n                if (layerParams.blendMode) {\n                    if (layerParams.blendMode != \"add\" && layerParams.blendMode != \"multiply\" && layerParams.blendMode != \"mix\") {\n                        throw SceneJS_error.fatalError(\n                            SceneJS.errors.NODE_CONFIG_EXPECTED,\n                            \"texture layer \" + i + \" blendMode value is unsupported - \" +\n                                \"should be either 'add', 'multiply' or 'mix'\");\n                    }\n                }\n\n                if (layerParams.applyTo == \"color\") {\n                    layerParams.applyTo = \"baseColor\";\n                }\n\n                var layer = SceneJS._apply(layerParams, {\n                    waitForLoad:waitForLoad,\n                    texture:null,\n                    applyFrom:layerParams.applyFrom || \"uv\",\n                    applyTo:layerParams.applyTo || \"baseColor\",\n                    blendMode:layerParams.blendMode || \"multiply\",\n                    blendFactor:(layerParams.blendFactor != undefined && layerParams.blendFactor != null) ? layerParams.blendFactor : 1.0,\n                    translate:{ x:0, y:0},\n                    scale:{ x:1, y:1 },\n                    rotate:{ z:0.0 }\n                });\n\n                this._core.layers.push(layer);\n\n                this._setLayerTransform(layerParams, layer);\n\n                if (layer.colorTarget) { // Create from a colorTarget node preceeding this texture in the scene graph\n                    var targetNode = this._engine.findNode(layer.colorTarget);\n                    if (targetNode && targetNode.type == \"colorTarget\") {\n                        layer.texture = targetNode._core.colorTarget.getTexture(); // TODO: what happens when the colorTarget is destroyed?\n                    }\n                } else { // Create from texture node's layer configs\n                    this._loadLayerTexture(gl, layer);\n                }\n            }\n\n            var self = this;\n\n            // WebGL restored handler - rebuilds the texture layers\n            this._core.webglRestored = function () {\n\n                var layers = self._core.layers;\n                var gl = self._engine.canvas.gl;\n\n                for (var i = 0, len = layers.length; i < len; i++) {\n                    self._loadLayerTexture(gl, layers[i]);\n                }\n            };\n        }\n    };\n\n    SceneJS.Texture.prototype._loadLayerTexture = function (gl, layer) {\n\n        var self = this;\n\n        var sourceConfigs = layer.source;\n\n        if (sourceConfigs) {\n\n            if (!sourceConfigs.type) {\n                throw SceneJS_error.fatalError(\n                    SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                    \"texture layer config expected: source.type\");\n            }\n\n            SceneJS.Plugins.getPlugin(\n                \"texture\",\n                sourceConfigs.type,\n                function (plugin) {\n\n                    if (!plugin.getSource) {\n                        throw SceneJS_error.fatalError(\n                            SceneJS.errors.PLUGIN_INVALID,\n                            \"texture: 'getSource' method missing on plugin for texture source type '\" + sourceConfigs.type + \"'.\");\n                    }\n\n                    var source = plugin.getSource({ gl:gl });\n\n                    if (!source.subscribe) {\n                        throw SceneJS_error.fatalError(\n                            SceneJS.errors.PLUGIN_INVALID,\n                            \"texture: 'subscribe' method missing on plugin for texture source type '\" + sourceConfigs.type + \"'\");\n                    }\n\n                    var taskId = SceneJS_sceneStatusModule.taskStarted(self, \"Loading texture\");\n\n                    source.subscribe(// Get notification whenever source updates the texture\n                        (function () {\n                            var loaded = false;\n                            return function (texture) {\n                                if (!loaded) { // Texture first initialised - create layer\n                                    loaded = true;\n                                    self._setLayerTexture(gl, layer, texture);\n                                    SceneJS_sceneStatusModule.taskFinished(taskId);\n                                } else { // Texture updated - layer already has the handle to it, so just signal a redraw\n                                    self._engine.display.imageDirty = true;\n                                }\n                            };\n                        })());\n\n                    if (source.configure) {\n                        source.configure(sourceConfigs); // Configure the source, which may cause it to update the texture\n                    }\n\n                    layer._source = source;\n                });\n\n        } else {\n\n            /* Load from URL\n             */\n\n            var src = layer.uri || layer.src;\n\n            var taskId = SceneJS_sceneStatusModule.taskStarted(this, \"Loading texture\");\n\n            var image = new Image();\n\n            image.onload = function () {\n                var texture = gl.createTexture();\n                gl.bindTexture(gl.TEXTURE_2D, texture);\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, self._ensureImageSizePowerOfTwo(image));\n                self._setLayerTexture(gl, layer, texture);\n                SceneJS_sceneStatusModule.taskFinished(taskId);\n                self._engine.display.imageDirty = true;\n            };\n\n            image.onerror = function () {\n                SceneJS_sceneStatusModule.taskFailed(taskId);\n            };\n\n            if (src.indexOf(\"data\") == 0) {  // Image data\n                image.src = src;\n            } else { // Image file\n                image.crossOrigin = \"Anonymous\";\n                image.src = src;\n            }\n        }\n    };\n\n    SceneJS.Texture.prototype._ensureImageSizePowerOfTwo = function (image) {\n\n        if (!this._isPowerOfTwo(image.width) || !this._isPowerOfTwo(image.height)) {\n\n            var canvas = document.createElement(\"canvas\");\n            canvas.width = this._nextHighestPowerOfTwo(image.width);\n            canvas.height = this._nextHighestPowerOfTwo(image.height);\n\n            var ctx = canvas.getContext(\"2d\");\n\n            ctx.drawImage(image,\n                0, 0, image.width, image.height,\n                0, 0, canvas.width, canvas.height);\n\n            image = canvas;\n            image.crossOrigin = \"\";\n        }\n        return image;\n    };\n\n    SceneJS.Texture.prototype._isPowerOfTwo = function (x) {\n        return (x & (x - 1)) == 0;\n    };\n\n    SceneJS.Texture.prototype._nextHighestPowerOfTwo = function (x) {\n        --x;\n        for (var i = 1; i < 32; i <<= 1) {\n            x = x | x >> i;\n        }\n        return x + 1;\n    };\n\n    SceneJS.Texture.prototype._setLayerTexture = function (gl, layer, texture) {\n\n        layer.texture = new SceneJS._webgl.Texture2D(gl, {\n            texture:texture, // WebGL texture object\n            minFilter:this._getGLOption(\"minFilter\", gl, layer, gl.LINEAR_MIPMAP_NEAREST),\n            magFilter:this._getGLOption(\"magFilter\", gl, layer, gl.LINEAR),\n            wrapS:this._getGLOption(\"wrapS\", gl, layer, gl.REPEAT),\n            wrapT:this._getGLOption(\"wrapT\", gl, layer, gl.REPEAT),\n            isDepth:this._getOption(layer.isDepth, false),\n            depthMode:this._getGLOption(\"depthMode\", gl, layer, gl.LUMINANCE),\n            depthCompareMode:this._getGLOption(\"depthCompareMode\", gl, layer, gl.COMPARE_R_TO_TEXTURE),\n            depthCompareFunc:this._getGLOption(\"depthCompareFunc\", gl, layer, gl.LEQUAL),\n            flipY:this._getOption(layer.flipY, true),\n            width:this._getOption(layer.width, 1),\n            height:this._getOption(layer.height, 1),\n            internalFormat:this._getGLOption(\"internalFormat\", gl, layer, gl.LEQUAL),\n            sourceFormat:this._getGLOption(\"sourceType\", gl, layer, gl.ALPHA),\n            sourceType:this._getGLOption(\"sourceType\", gl, layer, gl.UNSIGNED_BYTE),\n            update:null\n        });\n\n        if (this.destroyed) { // Node was destroyed while loading\n            layer.texture.destroy();\n        }\n\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Texture.prototype._getGLOption = function (name, gl, layer, defaultVal) {\n        var value = layer[name];\n        if (value == undefined) {\n            return defaultVal;\n        }\n        var glName = SceneJS._webgl.enumMap[value];\n        if (glName == undefined) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"Unrecognised value for texture node property '\" + name + \"' value: '\" + value + \"'\");\n        }\n        var glValue = gl[glName];\n        //                if (!glValue) {\n        //                    throw new SceneJS.errors.WebGLUnsupportedNodeConfigException(\n        //                            \"This browser's WebGL does not support value of SceneJS.texture node property '\" + name + \"' value: '\" + value + \"'\");\n        //                }\n        return glValue;\n    };\n\n    SceneJS.Texture.prototype._getOption = function (value, defaultVal) {\n        return (value == undefined) ? defaultVal : value;\n    };\n\n    /**\n     * Set some writeable properties on a layer\n     */\n    SceneJS.Texture.prototype.setLayer = function (cfg) {\n\n        if (cfg.index == undefined || cfg.index == null) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"Invalid texture set layer argument: index null or undefined\");\n        }\n\n        if (cfg.index < 0 || cfg.index >= this._core.layers.length) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"Invalid texture set layer argument: index out of range (\" + this._core.layers.length + \" layers defined)\");\n        }\n\n        this._setLayer(parseInt(cfg.index), cfg);\n\n        this._engine.display.imageDirty = true;\n    };\n\n    /**\n     * Set some writeable properties on multiple layers\n     */\n    SceneJS.Texture.prototype.setLayers = function (layers) {\n        var indexNum;\n        for (var index in layers) {\n            if (layers.hasOwnProperty(index)) {\n                if (index != undefined || index != null) {\n                    indexNum = parseInt(index);\n                    if (indexNum < 0 || indexNum >= this._core.layers.length) {\n                        throw SceneJS_error.fatalError(\n                            SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                            \"Invalid texture set layer argument: index out of range (\" + this._core.layers.length + \" layers defined)\");\n                    }\n                    this._setLayer(indexNum, layers[index] || {});\n                }\n            }\n        }\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.Texture.prototype._setLayer = function (index, cfg) {\n\n        cfg = cfg || {};\n\n        var layer = this._core.layers[index];\n\n        if (cfg.blendFactor != undefined && cfg.blendFactor != null) {\n            layer.blendFactor = cfg.blendFactor;\n        }\n\n        if (cfg.source) {\n            var source = layer._source;\n            if (source && source.configure) {\n                source.configure(cfg.source);\n            }\n        }\n\n        if (cfg.translate || cfg.rotate || cfg.scale) {\n            this._setLayerTransform(cfg, layer);\n        }\n    };\n\n    SceneJS.Texture.prototype._setLayerTransform = function (cfg, layer) {\n\n        var matrix;\n        var t;\n\n        if (cfg.translate) {\n            var translate = cfg.translate;\n            if (translate.x != undefined) {\n                layer.translate.x = translate.x;\n            }\n            if (translate.y != undefined) {\n                layer.translate.y = translate.y;\n            }\n            matrix = SceneJS_math_translationMat4v([ translate.x || 0, translate.y || 0, 0]);\n        }\n\n        if (cfg.scale) {\n            var scale = cfg.scale;\n            if (scale.x != undefined) {\n                layer.scale.x = scale.x;\n            }\n            if (scale.y != undefined) {\n                layer.scale.y = scale.y;\n            }\n            t = SceneJS_math_scalingMat4v([ scale.x || 1, scale.y || 1, 1]);\n            matrix = matrix ? SceneJS_math_mulMat4(matrix, t) : t;\n        }\n\n        if (cfg.rotate) {\n            var rotate = cfg.rotate;\n            if (rotate.z != undefined) {\n                layer.rotate.z = rotate.z || 0;\n            }\n            t = SceneJS_math_rotationMat4v(rotate.z * 0.0174532925, [0, 0, 1]);\n            matrix = matrix ? SceneJS_math_mulMat4(matrix, t) : t;\n        }\n\n        if (matrix) {\n            layer.matrix = matrix;\n            if (!layer.matrixAsArray) {\n                layer.matrixAsArray = new Float32Array(layer.matrix);\n            } else {\n                layer.matrixAsArray.set(layer.matrix);\n            }\n\n            layer.matrixAsArray = new Float32Array(layer.matrix); // TODO - reinsert into array\n        }\n    };\n\n    SceneJS.Texture.prototype._compile = function (ctx) {\n        if (!this._core.hash) {\n            this._makeHash();\n        }\n        this._engine.display.texture = coreStack[stackLen++] = this._core;\n        this._compileNodes(ctx);\n        this._engine.display.texture = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n    SceneJS.Texture.prototype._makeHash = function () {\n        var core = this._core;\n        var hash;\n        if (core.layers && core.layers.length > 0) {\n            var layers = core.layers;\n            var hashParts = [];\n            var texLayer;\n            for (var i = 0, len = layers.length; i < len; i++) {\n                texLayer = layers[i];\n                hashParts.push(\"/\");\n                hashParts.push(texLayer.applyFrom);\n                hashParts.push(\"/\");\n                hashParts.push(texLayer.applyTo);\n                hashParts.push(\"/\");\n                hashParts.push(texLayer.blendMode);\n                if (texLayer.matrix) {\n                    hashParts.push(\"/anim\");\n                }\n            }\n            hash = hashParts.join(\"\");\n        } else {\n            hash = \"\";\n        }\n        if (core.hash != hash) {\n            core.hash = hash;\n        }\n    };\n\n    SceneJS.Texture.prototype._destroy = function () {\n        if (this._core.useCount == 1) { // Last resource user\n            var layers = this._core.layers;\n            var layer;\n            var source;\n            for (var i = 0, len = layers.length; i < len; i++) {\n                layer = layers[i];\n                if (layer.texture) {\n                    layer.texture.destroy();\n                }\n                source = layer._source;\n                if (source && source.destroy) {\n                    source.destroy();\n                }\n            }\n        }\n    };\n\n})();/**\n * @class Scene graph node which defines textures to apply to the objects in its subgraph\n * @extends SceneJS.Node\n */\nnew (function () {\n\n    // The default state core singleton for {@link SceneJS.Texture} nodes\n    var defaultCore = {\n        type: \"texture\",\n        stateId: SceneJS._baseStateId++,\n        empty: true,\n        hash: \"\"\n    };\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.texture = defaultCore;\n            stackLen = 0;\n        });\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    /**\n     * @class Scene graph node which defines one or more textures to apply to the {@link SceneJS.Geometry} nodes in its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.TextureMap = SceneJS_NodeFactory.createNodeType(\"texture\");\n\n    SceneJS.TextureMap.prototype._init = function (params) {\n\n        var self = this;\n\n        if (this._core.useCount == 1) { // This node is the resource definer\n\n            if (params.applyFrom) {\n                if (params.applyFrom != \"uv\" &&\n                    params.applyFrom != \"uv2\" &&\n                    params.applyFrom != \"normal\" &&\n                    params.applyFrom != \"geometry\") {\n                    throw SceneJS_error.fatalError(\n                        SceneJS.errors.NODE_CONFIG_EXPECTED,\n                        \"texture applyFrom value is unsupported - \" +\n                            \"should be either 'uv', 'uv2', 'normal' or 'geometry'\");\n                }\n            }\n\n            if (params.applyTo) {\n                if (params.applyTo != \"baseColor\" && // Colour map (deprecated)\n                    params.applyTo != \"color\" && // Colour map\n                    params.applyTo != \"specular\" && // Specular map\n                    params.applyTo != \"emit\" && // Emission map\n                    params.applyTo != \"alpha\" && // Alpha map\n                    params.applyTo != \"normals\" && // Normal map\n                    params.applyTo != \"shine\") { // Shininess map\n                    throw SceneJS_error.fatalError(\n                        SceneJS.errors.NODE_CONFIG_EXPECTED,\n                        \"texture applyTo value is unsupported - \" +\n                            \"should be either 'color', 'baseColor', 'specular' or 'normals'\");\n                }\n            }\n\n            if (params.blendMode) {\n                if (params.blendMode != \"add\" && params.blendMode != \"multiply\") {\n                    throw SceneJS_error.fatalError(\n                        SceneJS.errors.NODE_CONFIG_EXPECTED,\n                        \"texture layer blendMode value is unsupported - \" +\n                            \"should be either 'add' or 'multiply'\");\n                }\n            }\n\n            if (params.applyTo == \"color\") {\n                params.applyTo = \"baseColor\";\n            }\n\n            this._core = SceneJS._apply(params, {\n                waitForLoad: params.waitForLoad == undefined ? true : params.waitForLoad,\n                texture: null,\n                applyFrom: !!params.applyFrom ? params.applyFrom : \"uv\",\n                applyTo: !!params.applyTo ? params.applyTo : \"baseColor\",\n                blendMode: !!params.blendMode ? params.blendMode : \"multiply\",\n                blendFactor: (params.blendFactor != undefined && params.blendFactor != null) ? params.blendFactor : 1.0,\n                translate: params.translate ? SceneJS._apply(params.translate, { x: 0, y: 0}) : {x: 0, y: 0},\n                scale: params.scale ? SceneJS._apply(params.scale, { x: 1, y: 1}) : {x: 1, y: 1},\n                rotate: params.rotate || 0,\n                matrix: null,\n                _matrixDirty: true,\n                buildMatrix: buildMatrix\n            });\n\n            this._core.buildMatrix.call(this._core);\n\n            if (params.src) { // Load from URL\n                this._core.src = params.src;\n                this._loadTexture(params.src);\n\n            } else if (params.image) { // Create from image\n                this._core.image = params.image;\n                this._initTexture(params.image);\n\n            } else if (params.target) { // Render to this texture\n                this.getScene().getNode(params.target,\n                    function (target) {\n                        self.setTarget(target);\n                    });\n            }\n\n            this._core.webglRestored = function () {\n                if (self._core.src) {\n                    self._loadTexture(self._core.src);\n\n                } else if (self._core.image) {\n                    self._initTexture(self._core.image);\n\n                } else if (self._core.target) {\n//                    self.getScene().getNode(params.target,\n//                        function (target) {\n//                            self.setTarget(self._core.target);\n//                        });\n                }\n            };\n        }\n    };\n\n    function buildMatrix() {\n        var matrix;\n        var t;\n        if (this.translate.x != 0 || this.translate.y != 0) {\n            matrix = SceneJS_math_translationMat4v([ this.translate.x || 0, this.translate.y || 0, 0]);\n        }\n        if (this.scale.x != 1 || this.scale.y != 1) {\n            t = SceneJS_math_scalingMat4v([ this.scale.x || 1, this.scale.y || 1, 1]);\n            matrix = matrix ? SceneJS_math_mulMat4(matrix, t) : t;\n        }\n        if (this.rotate != 0) {\n            t = SceneJS_math_rotationMat4v(this.rotate * 0.0174532925, [0, 0, 1]);\n            matrix = matrix ? SceneJS_math_mulMat4(matrix, t) : t;\n        }\n        if (matrix) {\n            this.matrix = matrix;\n            if (!this.matrixAsArray) {\n                this.matrixAsArray = new Float32Array(this.matrix);\n            } else {\n                this.matrixAsArray.set(this.matrix);\n            }\n        }\n        this._matrixDirty = false;\n    }\n\n    SceneJS.TextureMap.prototype._loadTexture = function (src) {\n        var self = this;\n        var taskId = SceneJS_sceneStatusModule.taskStarted(this, \"Loading texture\");\n        var image = new Image();\n        image.onload = function () {\n            self._initTexture(image);\n            SceneJS_sceneStatusModule.taskFinished(taskId);\n            self._engine.display.imageDirty = true;\n        };\n        image.onerror = function () {\n            SceneJS_sceneStatusModule.taskFailed(taskId);\n        };\n        if (src.indexOf(\"data\") == 0) {  // Image data\n            image.src = src;\n        } else { // Image file\n            image.crossOrigin = \"Anonymous\";\n            image.src = src;\n        }\n    };\n\n    SceneJS.TextureMap.prototype._initTexture = function (image) {\n        var exists = !!this._core.texture;\n        var gl = this._engine.canvas.gl;\n        var texture = exists ? this._core.texture.texture : gl.createTexture();\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this._ensureImageSizePowerOfTwo(image));\n        if (!exists) {\n            this._core.texture = new SceneJS._webgl.Texture2D(gl, {\n                texture: texture, // WebGL texture object\n                minFilter: this._getGLOption(\"minFilter\", gl.LINEAR_MIPMAP_NEAREST),\n                magFilter: this._getGLOption(\"magFilter\", gl.LINEAR),\n                wrapS: this._getGLOption(\"wrapS\", gl.REPEAT),\n                wrapT: this._getGLOption(\"wrapT\", gl.REPEAT),\n                isDepth: this._getOption(this._core.isDepth, false),\n                depthMode: this._getGLOption(\"depthMode\", gl.LUMINANCE),\n                depthCompareMode: this._getGLOption(\"depthCompareMode\", gl.COMPARE_R_TO_TEXTURE),\n                depthCompareFunc: this._getGLOption(\"depthCompareFunc\", gl.LEQUAL),\n                flipY: this._getOption(this._core.flipY, true),\n                width: this._getOption(this._core.width, 1),\n                height: this._getOption(this._core.height, 1),\n                internalFormat: this._getGLOption(\"internalFormat\", gl.LEQUAL),\n                sourceFormat: this._getGLOption(\"sourceType\", gl.ALPHA),\n                sourceType: this._getGLOption(\"sourceType\", gl.UNSIGNED_BYTE),\n                update: null\n            });\n            if (this.destroyed) { // Node was destroyed while loading\n                this._core.texture.destroy();\n            }\n        }\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.TextureMap.prototype._ensureImageSizePowerOfTwo = function (image) {\n        if (!this._isPowerOfTwo(image.width) || !this._isPowerOfTwo(image.height)) {\n            var canvas = document.createElement(\"canvas\");\n            canvas.width = this._nextHighestPowerOfTwo(image.width);\n            canvas.height = this._nextHighestPowerOfTwo(image.height);\n            var ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(image,\n                0, 0, image.width, image.height,\n                0, 0, canvas.width, canvas.height);\n            image = canvas;\n            image.crossOrigin = \"\";\n        }\n        return image;\n    };\n\n    SceneJS.TextureMap.prototype._isPowerOfTwo = function (x) {\n        return (x & (x - 1)) == 0;\n    };\n\n    SceneJS.TextureMap.prototype._nextHighestPowerOfTwo = function (x) {\n        --x;\n        for (var i = 1; i < 32; i <<= 1) {\n            x = x | x >> i;\n        }\n        return x + 1;\n    };\n\n    SceneJS.TextureMap.prototype._getGLOption = function (name, defaultVal) {\n        var gl = this._engine.canvas.gl;\n        var value = this._core[name];\n        if (value == undefined) {\n            return defaultVal;\n        }\n        var glName = SceneJS._webgl.enumMap[value];\n        if (glName == undefined) {\n            throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"Unrecognised value for texture node property '\" + name + \"' value: '\" + value + \"'\");\n        }\n        return gl[glName];\n    };\n\n    SceneJS.TextureMap.prototype._getOption = function (value, defaultVal) {\n        return (value == undefined) ? defaultVal : value;\n    };\n\n    SceneJS.TextureMap.prototype.setSrc = function (src) {\n        this._core.image = null;\n        this._core.src = src;\n        this._core.target = null;\n        this._loadTexture(src);\n    };\n\n    SceneJS.TextureMap.prototype.setImage = function (image) {\n        this._core.image = image;\n        this._core.src = null;\n        this._core.target = null;\n        this._initTexture(image);\n    };\n\n    SceneJS.TextureMap.prototype.setTarget = function (target) {\n        if (target.type != \"colorTarget\" && target.type != \"depthTarget\") {\n            console.log(\"Target node type not compatible: \" + target.type);\n            return;\n        }\n        delete this._core.src;\n        this._core.target = target;\n        this._core.src = null;\n        this._core.image = null;\n        this._core.texture = target._core.renderBuf.getTexture(); // TODO: what happens when the target is destroyed?\n        this._core.texture.bufType = target._core.bufType;\n        this._engine.display.imageDirty = true;\n    };\n\n    /**\n     * Sets the texture's blend factor with respect to other active textures.\n     * @param {number} blendFactor The blend factor, in range [0..1]\n     */\n    SceneJS.TextureMap.prototype.setBlendFactor = function (blendFactor) {\n        this._core.blendFactor = blendFactor;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.TextureMap.prototype.getBlendFactor = function () {\n        return this._core.blendFactor;\n    };\n\n    SceneJS.TextureMap.prototype.setTranslate = function (t) {\n        if (!this._core.translate) {\n            this._core.translate = {x: 0, y: 0};\n        }\n        this._core.translate.x = t.x;\n        this._core.translate.y = t.y;\n        this._core._matrixDirty = true;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.TextureMap.prototype.getTranslate = function () {\n        return this._core.translate;\n    };\n\n    SceneJS.TextureMap.prototype.setScale = function (s) {\n        if (!this._core.scale) {\n            this._core.scale = {x: 0, y: 0};\n        }\n        this._core.scale.x = s.x;\n        this._core.scale.y = s.y;\n        this._core._matrixDirty = true;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.TextureMap.prototype.getScale = function () {\n        return this._core.scale;\n    };\n\n    SceneJS.TextureMap.prototype.setRotate = function (angle) {\n        this._core.rotate = angle;\n        this._core._matrixDirty = true;\n        this._engine.display.imageDirty = true;\n    };\n\n    SceneJS.TextureMap.prototype.getRotate = function () {\n        return this._core.rotate;\n    };\n\n    SceneJS.TextureMap.prototype.getMatrix = function () {\n        if (this._core._matrixDirty) {\n            this._core.buildMatrix.call(this.core)()\n        }\n        return this.core.matrix;\n    };\n\n    SceneJS.TextureMap.prototype._compile = function (ctx) {\n        if (!this.__core) {\n            this.__core = this._engine._coreFactory.getCore(\"texture\");\n        }\n        var parentCore = this._engine.display.texture;\n        if (!this._core.empty) {\n            this.__core.layers = (parentCore && parentCore.layers) ? parentCore.layers.concat([this._core]) : [this._core];\n        }\n        this._makeHash(this.__core);\n        coreStack[stackLen++] = this.__core;\n        this._engine.display.texture = this.__core;\n        this._compileNodes(ctx);\n        this._engine.display.texture = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n    SceneJS.TextureMap.prototype._makeHash = function (core) {\n        var hash;\n        if (core.layers && core.layers.length > 0) {\n            var layers = core.layers;\n            var hashParts = [];\n            var texLayer;\n            for (var i = 0, len = layers.length; i < len; i++) {\n                texLayer = layers[i];\n                hashParts.push(\"/\");\n                hashParts.push(texLayer.applyFrom);\n                hashParts.push(\"/\");\n                hashParts.push(texLayer.applyTo);\n                hashParts.push(\"/\");\n                hashParts.push(texLayer.blendMode);\n                if (texLayer.matrix) {\n                    hashParts.push(\"/anim\");\n                }\n            }\n            hash = hashParts.join(\"\");\n        } else {\n            hash = \"\";\n        }\n        if (core.hash != hash) {\n            core.hash = hash;\n        }\n    };\n\n    SceneJS.TextureMap.prototype._destroy = function () {\n        if (this._core.useCount == 1) { // Last core user\n            if (this._core.texture && !this._core.target) { // Don't wipe out target texture\n                this._core.texture.destroy();\n                this._core.texture = null;\n            }\n        }\n        if (this._core) {\n            this._engine._coreFactory.putCore(this._core);\n        }\n    };\n\n})();(function () {\n\n    // The default state core singleton for {@link SceneJS.ColorBuf} nodes\n    var defaultCore = {\n        type: \"cubemap\",\n        stateId: SceneJS._baseStateId++,\n        empty: true,\n        texture: null,\n        hash: \"\"\n    };\n\n    var coreStack = [];\n    var stackLen = 0;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function (params) {\n            params.engine.display.cubemap = defaultCore;\n            stackLen = 0;\n        });\n\n    /**\n     * @class Scene graph node which configures the color buffer for its subgraph\n     * @extends SceneJS.Node\n     */\n    SceneJS.Reflect = SceneJS_NodeFactory.createNodeType(\"reflect\");\n\n    SceneJS.Reflect.prototype._init = function (params) {\n        if (this._core.useCount == 1) { // This node is first to reference the state core, so sets it up\n            this._core.hash = \"y\";\n\n            if (params.blendMode) {\n                if (params.blendMode != \"add\" && params.blendMode != \"multiply\") {\n                    throw SceneJS_error.fatalError(\n                        SceneJS.errors.NODE_CONFIG_EXPECTED,\n                        \"reflection blendMode value is unsupported - \" +\n                            \"should be either 'add' or 'multiply'\");\n                }\n            }\n            this._core.blendMode = params.blendMode || \"multiply\";\n            this._core.intensity = (params.intensity != undefined && params.intensity != null) ? params.intensity : 1.0;\n            this._core.applyTo = \"reflect\";\n            var self = this;\n            var gl = this._engine.canvas.gl;\n            var texture = gl.createTexture();\n            var faces = [\n                gl.TEXTURE_CUBE_MAP_POSITIVE_X,\n                gl.TEXTURE_CUBE_MAP_NEGATIVE_X,\n                gl.TEXTURE_CUBE_MAP_POSITIVE_Y,\n                gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,\n                gl.TEXTURE_CUBE_MAP_POSITIVE_Z,\n                gl.TEXTURE_CUBE_MAP_NEGATIVE_Z\n            ];\n            var taskId = SceneJS_sceneStatusModule.taskStarted(this, \"Loading reflection texture\");\n            var numImagesLoaded = 0;\n            var loadFailed = false;\n            for (var i = 0; i < faces.length; i++) {\n                var face = faces[i];\n                var image = new Image();\n                image.onload = function (face, image) {\n                    return function () {\n                        if (loadFailed) {\n                            return;\n                        }\n                        gl.bindTexture(gl.TEXTURE_CUBE_MAP, texture);\n                        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n                        gl.texImage2D(face, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, ensureImageSizePowerOfTwo(image));\n                        if (++numImagesLoaded == faces.length) {\n                            self._core.texture = new SceneJS._webgl.Texture2D(gl, {\n                                texture: texture,\n                                target: gl.TEXTURE_CUBE_MAP,\n                                minFilter: gl.LINEAR,\n                                magFilter: gl.LINEAR,\n                                wrapS: gl.CLAMP_TO_EDGE,\n                                wrapT: gl.CLAMP_TO_EDGE\n                            });\n                            SceneJS_sceneStatusModule.taskFinished(taskId);\n                            self._engine.display.imageDirty = true;\n                        }\n                    }\n                }(face, image);\n                image.onerror = function () {\n                    loadFailed = true;\n                    SceneJS_sceneStatusModule.taskFailed(taskId);\n                };\n                image.src = params.src[i];\n            }\n        }\n    };\n\n    function ensureImageSizePowerOfTwo(image) {\n        if (!isPowerOfTwo(image.width) || !isPowerOfTwo(image.height)) {\n            var canvas = document.createElement(\"canvas\");\n            canvas.width = nextHighestPowerOfTwo(image.width);\n            canvas.height = nextHighestPowerOfTwo(image.height);\n            var ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(image,\n                0, 0, image.width, image.height,\n                0, 0, canvas.width, canvas.height);\n\n            image = canvas;\n            image.crossOrigin = \"\";\n        }\n        return image;\n    }\n\n    function isPowerOfTwo(x) {\n        return (x & (x - 1)) == 0;\n    }\n\n    function nextHighestPowerOfTwo(x) {\n        --x;\n        for (var i = 1; i < 32; i <<= 1) {\n            x = x | x >> i;\n        }\n        return x + 1;\n    }\n\n    SceneJS.Reflect.prototype._compile = function (ctx) {\n        if (!this.__core) {\n            this.__core = this._engine._coreFactory.getCore(\"cubemap\");\n        }\n        var parentCore = this._engine.display.cubemap;\n        if (!this._core.empty) {\n            this.__core.layers = (parentCore && parentCore.layers) ? parentCore.layers.concat([this._core]) : [this._core];\n        }\n        this._makeHash(this.__core);\n        coreStack[stackLen++] = this.__core;\n        this._engine.display.cubemap = this.__core;\n        this._compileNodes(ctx);\n        this._engine.display.cubemap = (--stackLen > 0) ? coreStack[stackLen - 1] : defaultCore;\n    };\n\n    SceneJS.Reflect.prototype._makeHash = function (core) {\n        var hash;\n        if (core.layers && core.layers.length > 0) {\n            var layers = core.layers;\n            var hashParts = [];\n            var texLayer;\n            for (var i = 0, len = layers.length; i < len; i++) {\n                texLayer = layers[i];\n                hashParts.push(\"/\");\n                hashParts.push(texLayer.applyTo);\n                hashParts.push(\"/\");\n                hashParts.push(texLayer.blendMode);\n            }\n            hash = hashParts.join(\"\");\n        } else {\n            hash = \"\";\n        }\n        if (core.hash != hash) {\n            core.hash = hash;\n        }\n    };\n\n    SceneJS.Reflect.prototype._destroy = function () {\n        if (this._core.useCount == 1) { // Last resource user\n            if (this._core.texture) {\n                this._core.texture.destroy();\n                this._core.texture = null;\n            }\n        }\n        if (this._core) {\n            this._coreFactory.putCore(this._core);\n        }\n    }\n\n})();/**\n * @class Scene graph node which defines the modelling transform to apply to the objects in its subgraph\n * @extends SceneJS.Node\n */\nSceneJS.XForm = SceneJS_NodeFactory.createNodeType(\"xform\");\n\nSceneJS.XForm.prototype._init = function (params) {\n\n    if (this._core.useCount == 1) { // This node is the resource definer\n\n        SceneJS_modelXFormStack.buildCore(this._core);\n\n        this.setElements(params.elements);\n    }\n};\n\n/**\n * Get Model matrix\n * @return {*}\n */\nSceneJS.XForm.prototype.getModelMatrix = function() {\n    if (this._core.dirty) {\n        this._core.build();\n    }\n    return this._core.matrix;\n};\n\n/**\n * Get World matrix. That's the multiplication of this node's Model matrix by the World matrix of the the next\n * tranform (scale, XForm, translate etc) node on the path to the scene root.\n * @return {*}\n */\nSceneJS.XForm.prototype.getWorldMatrix = function() {\n    if (this._core.dirty) {\n        this._core.build();\n    }\n    return Array.apply( [], this._core.mat);\n};\n\n\nSceneJS.XForm.prototype.setElements = function (elements) {\n\n    elements = elements || SceneJS_math_identityMat4();\n\n    if (elements.length != 16) {\n        throw SceneJS_error.fatalError(\n            SceneJS.errors.ILLEGAL_NODE_CONFIG,\n            \"SceneJS.XForm elements should number 16\");\n    }\n\n    var core = this._core;\n\n    if (!core.matrix) {\n        core.matrix = elements;\n\n    } else {\n\n        for (var i = 0; i < 16; i++) {\n            core.matrix[i] = elements[i];\n        }\n    }\n\n//    core.mat.set(core.matrix);\n//    core.normalMat.set(\n//        SceneJS_math_transposeMat4(\n//            SceneJS_math_inverseMat4(core.matrix, SceneJS_math_mat4())));\n\n\n    core.setDirty();\n\n    this._engine.display.imageDirty = true;\n\n    return this;\n};\n\nSceneJS.XForm.prototype._compile = function (ctx) {\n    SceneJS_modelXFormStack.push(this._core);\n    this._compileNodes(ctx);\n    SceneJS_modelXFormStack.pop();\n};\n\n/**\n * @class Scene graph node which defines a modelling transform matrix to apply to the objects in its subgraph\n * @extends SceneJS.Node\n */\nSceneJS.Matrix = SceneJS_NodeFactory.createNodeType(\"matrix\");\n\nSceneJS.Matrix.prototype._init = function(params) {\n\n    if (this._core.useCount == 1) { // This node is the resource definer\n\n        SceneJS_modelXFormStack.buildCore(this._core);\n\n        this.setElements(params.elements);\n    }\n};\n\n/**\n * Get Model matrix\n * @return {*}\n */\nSceneJS.Matrix.prototype.getModelMatrix = function() {\n    if (this._core.dirty) {\n        this._core.build();\n    }\n    return this._core.matrix;\n};\n\n/**\n * Get World matrix. That's the multiplication of this node's Model matrix by the World matrix of the the next\n * tranform (scale, matrix, translate etc) node on the path to the scene root.\n * @return {*}\n */\nSceneJS.Matrix.prototype.getWorldMatrix = function() {\n    if (this._core.dirty) {\n        this._core.build();\n    }\n    return Array.apply( [], this._core.mat);\n};\n\n/**\n * Sets the matrix elements\n * @type {Function}\n */\nSceneJS.Matrix.prototype.setMatrix = function(elements) {\n\n    elements = elements || SceneJS_math_identityMat4();\n\n    if (elements.length != 16) {\n        throw SceneJS_error.fatalError(\n                SceneJS.errors.ILLEGAL_NODE_CONFIG,\n                \"SceneJS.Matrix elements should number 16\");\n    }\n\n    var core = this._core;\n\n    if (!core.matrix) {\n        core.matrix = elements;\n\n    } else {\n\n        for (var i = 0; i < 16; i++) {\n            core.matrix[i] = elements[i];\n        }\n    }\n\n    core.setDirty();\n\n    this._engine.display.imageDirty = true;\n\n    return this;\n};\n\n/**\n * Sets the matrix elements\n * @deprecated\n * @type {Function}\n */\nSceneJS.Matrix.prototype.setElements = SceneJS.Matrix.prototype.setMatrix;\n\nSceneJS.Matrix.prototype._compile = function(ctx) {\n    SceneJS_modelXFormStack.push(this._core);\n    this._compileNodes(ctx);\n    SceneJS_modelXFormStack.pop();\n};\n/**\n * @class Scene graph node which defines a rotation modelling transform to apply to the objects in its subgraph\n * @extends SceneJS.Node\n */\nSceneJS.Rotate = SceneJS_NodeFactory.createNodeType(\"rotate\");\n\nSceneJS.Rotate.prototype._init = function(params) {\n\n    if (this._core.useCount == 1) { // This node is the resource definer\n\n        SceneJS_modelXFormStack.buildCore(this._core);\n        \n        this.setMultOrder(params.multOrder);\n\n        this.setAngle(params.angle);\n\n        this.setXYZ({\n            x: params.x,\n            y: params.y,\n            z: params.z\n        });\n\n        var core = this._core;\n\n        this._core.buildMatrix = function() {\n            core.matrix = SceneJS_math_rotationMat4v(core.angle * Math.PI / 180.0, [core.x, core.y, core.z]);\n        };\n    }\n};\n\n/**\n * Get Model matrix\n * @return {*}\n */\nSceneJS.Rotate.prototype.getModelMatrix = function() {\n    if (this._core.dirty) {\n        this._core.build();\n    }\n    return this._core.matrix;\n};\n\n/**\n * Get World matrix. That's the multiplication of this node's Model matrix by the World matrix of the the next\n * tranform (scale, rotate, translate etc) node on the path to the scene root.\n * @return {*}\n */\nSceneJS.Rotate.prototype.getWorldMatrix = function() {\n    if (this._core.dirty) {\n        this._core.build();\n    }\n    return Array.apply( [], this._core.mat);\n};\n\n/**\n * Sets the multiplication order of this node's transform matrix with respect to the parent modeling transform\n * in the scene graph.\n *\n * @param {String} multOrder Mulplication order - \"post\" and \"pre\"\n */\nSceneJS.Rotate.prototype.setMultOrder = function(multOrder) {\n\n    multOrder = multOrder || \"post\";\n\n    if (multOrder != \"post\" && multOrder != \"pre\") {\n\n        throw SceneJS_error.fatalError(\n                SceneJS.errors.NODE_CONFIG_EXPECTED,\n                \"Illegal multOrder for rotate node - '\" + multOrder + \"' should be 'pre' or 'post'\");\n    }\n\n    this._core.multOrder = multOrder;\n\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Rotate.prototype.setAngle = function(angle) {\n    this._core.angle = angle || 0;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Rotate.prototype.getAngle = function() {\n    return this._core.angle;\n};\n\nSceneJS.Rotate.prototype.setXYZ = function(xyz) {\n\n    xyz = xyz || {};\n\n    this._core.x = xyz.x || 0;\n    this._core.y = xyz.y || 0;\n    this._core.z = xyz.z || 0;\n\n    this._core.setDirty();\n\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Rotate.prototype.getXYZ = function() {\n    return {\n        x: this._core.x,\n        y: this._core.y,\n        z: this._core.z\n    };\n};\n\nSceneJS.Rotate.prototype.setX = function(x) {\n    this._core.x = x;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Rotate.prototype.getX = function() {\n    return this._core.x;\n};\n\nSceneJS.Rotate.prototype.setY = function(y) {\n    this._core.y = y;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Rotate.prototype.getY = function() {\n    return this._core.y;\n};\n\nSceneJS.Rotate.prototype.setZ = function(z) {\n    this._core.z = z;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Rotate.prototype.getZ = function() {\n    return this._core.z;\n};\n\nSceneJS.Rotate.prototype.incAngle = function(angle) {\n    this._core.angle += angle;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Rotate.prototype._compile = function(ctx) {\n    SceneJS_modelXFormStack.push(this._core);\n    this._compileNodes(ctx);\n    SceneJS_modelXFormStack.pop();\n};\n/**\n * @class Scene graph node which defines a translation modelling transform to apply to the objects in its subgraph\n * @extends SceneJS.Node\n */\nSceneJS.Translate = SceneJS_NodeFactory.createNodeType(\"translate\");\n\nSceneJS.Translate.prototype._init = function(params) {\n\n    if (this._core.useCount == 1) { // This node is the resource definer\n\n        SceneJS_modelXFormStack.buildCore(this._core);\n        \n        this.setMultOrder(params.multOrder);\n\n        this.setXYZ({\n            x: params.x,\n            y: params.y,\n            z: params.z\n        });\n\n        var core = this._core;\n\n        this._core.buildMatrix = function() {\n            core.matrix = SceneJS_math_translationMat4v([core.x, core.y, core.z], core.matrix);\n        };\n    }\n};\n\n/**\n * Get Model matrix\n * @return {*}\n */\nSceneJS.Translate.prototype.getModelMatrix = function() {\n    if (this._core.dirty) {\n        this._core.build();\n    }\n    return this._core.matrix;\n};\n\n/**\n * Get World matrix. That's the multiplication of this node's Model matrix by the World matrix of the the next\n * tranform (scale, translate, translate etc) node on the path to the scene root.\n * @return {*}\n */\nSceneJS.Translate.prototype.getWorldMatrix = function() {\n    if (this._core.dirty) {\n        this._core.build();\n    }\n    return Array.apply( [], this._core.mat);\n};\n\n\n/**\n * Sets the multiplication order of this node's transform matrix with respect to the parent modeling transform\n * in the scene graph.\n *\n * @param {String} multOrder Mulplication order - \"post\" and \"pre\"\n */\nSceneJS.Translate.prototype.setMultOrder = function(multOrder) {\n\n    multOrder = multOrder || \"post\";\n\n    if (multOrder != \"post\" && multOrder != \"pre\") {\n\n        throw SceneJS_error.fatalError(\n                SceneJS.errors.NODE_CONFIG_EXPECTED,\n                \"Illegal multOrder for translate node - '\" + multOrder + \"' should be 'pre' or 'post'\");\n    }\n\n    this._core.multOrder = multOrder;\n\n    this._core.setDirty();\n\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Translate.prototype.setXYZ = function(xyz) {\n\n    xyz = xyz || {};\n\n    this._core.x = xyz.x || 0;\n    this._core.y = xyz.y || 0;\n    this._core.z = xyz.z || 0;\n\n    this._core.setDirty();\n\n    this._engine.display.imageDirty = true;\n\n    return this;\n};\n\nSceneJS.Translate.prototype.getXYZ = function() {\n    return {\n        x: this._core.x,\n        y: this._core.y,\n        z: this._core.z\n    };\n};\n\nSceneJS.Translate.prototype.setX = function(x) {\n    this._core.x = x;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n    return this;\n};\n\nSceneJS.Translate.prototype.setY = function(y) {\n    this._core.y = y;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n    return this;\n};\n\nSceneJS.Translate.prototype.setZ = function(z) {\n    this._core.z = z;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n    return this;\n};\n\nSceneJS.Translate.prototype.incX = function(x) {\n    this._core.x += x;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n    return this;\n};\n\nSceneJS.Translate.prototype.incY = function(y) {\n    this._core.y += y;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n    return this;\n};\n\nSceneJS.Translate.prototype.incZ = function(z) {\n    this._core.z += z;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n    return this;\n};\n\nSceneJS.Translate.prototype.getX = function() {\n    return this._core.x;\n};\n\nSceneJS.Translate.prototype.getY = function() {\n    return this._core.y;\n};\n\nSceneJS.Translate.prototype.getZ = function() {\n    return this._core.z;\n};\n\nSceneJS.Translate.prototype._compile = function(ctx) {\n    SceneJS_modelXFormStack.push(this._core);\n    this._compileNodes(ctx);\n    SceneJS_modelXFormStack.pop();\n};\n/**\n * @class Scene graph node which defines a rotation modelling transform to apply to the objects in its subgraph\n * @extends SceneJS.Node\n */\nSceneJS.Scale = SceneJS_NodeFactory.createNodeType(\"scale\");\n\nSceneJS.Scale.prototype._init = function (params) {\n\n    if (this._core.useCount == 1) { // This node is the resource definer\n\n        SceneJS_modelXFormStack.buildCore(this._core);\n\n        this.setMultOrder(params.multOrder);\n\n        this.setXYZ({\n            x:params.x,\n            y:params.y,\n            z:params.z\n        });\n\n        var core = this._core;\n\n        this._core.buildMatrix = function () {\n            core.matrix = SceneJS_math_scalingMat4v([core.x, core.y, core.z]);\n        };\n    }\n};\n\n/**\n * Get Model matrix\n * @return {*}\n */\nSceneJS.Scale.prototype.getModelMatrix = function () {\n    if (this._core.dirty) {\n        this._core.build();\n    }\n    return this._core.matrix;\n};\n\n/**\n * Get World matrix. That's the multiplication of this node's Model matrix by the World matrix of the the next\n * tranform (scale, scale, translate etc) node on the path to the scene root.\n * @return {*}\n */\nSceneJS.Scale.prototype.getWorldMatrix = function () {\n    if (this._core.dirty) {\n        this._core.build();\n    }\n    return Array.apply([], this._core.mat);\n};\n\n/**\n * Sets the multiplication order of this node's transform matrix with respect to the parent modeling transform\n * in the scene graph.\n *\n * @param {String} multOrder Mulplication order - \"post\" and \"pre\"\n */\nSceneJS.Scale.prototype.setMultOrder = function (multOrder) {\n\n    multOrder = multOrder || \"post\";\n\n    if (multOrder != \"post\" && multOrder != \"pre\") {\n\n        throw SceneJS_error.fatalError(\n            SceneJS.errors.NODE_CONFIG_EXPECTED,\n            \"Illegal multOrder for scale node - '\" + multOrder + \"' should be 'pre' or 'post'\");\n    }\n\n    this._core.multOrder = multOrder;\n\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Scale.prototype.setXYZ = function (xyz) {\n\n    xyz = xyz || {};\n\n    this._core.x = xyz.x == undefined ? 1 : xyz.x;\n    this._core.y = xyz.y == undefined ? 1 : xyz.y;\n    this._core.z = xyz.z == undefined ? 1 : xyz.z;\n\n    this._core.setDirty();\n\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Scale.prototype.getXYZ = function () {\n    return {\n        x:this._core.x,\n        y:this._core.y,\n        z:this._core.z\n    };\n};\n\nSceneJS.Scale.prototype.setX = function (x) {\n    this._core.x = x;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Scale.prototype.setY = function (y) {\n    this._core.y = y;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Scale.prototype.setZ = function (z) {\n    this._core.z = z;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Scale.prototype.getX = function () {\n    return this._core.x;\n};\n\nSceneJS.Scale.prototype.getY = function () {\n    return this._core.y;\n};\n\nSceneJS.Scale.prototype.getZ = function () {\n    return this._core.z;\n};\n\nSceneJS.Scale.prototype.incX = function (x) {\n    this._core.x += x;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Scale.prototype.incY = function (y) {\n    this._core.y += y;\n    this._core.matrixDirty = true;\n};\n\nSceneJS.Scale.prototype.incZ = function (z) {\n    this._core.z += z;\n    this._core.setDirty();\n    this._engine.display.imageDirty = true;\n};\n\nSceneJS.Scale.prototype._compile = function (ctx) {\n    SceneJS_modelXFormStack.push(this._core);\n    this._compileNodes(ctx);\n    SceneJS_modelXFormStack.pop();\n};\n/**\n * Provides a model transform stack in front of the renderer.\n * Nodes peek push and pop to the stack, while the renderer peeks at\n * the transform on the top of the stack whenever it builds a renderer node.\n *\n */\nvar SceneJS_modelXFormStack = new (function () {\n\n    var defaultMatrix = SceneJS_math_identityMat4();\n    var defaultMat = new Float32Array(defaultMatrix);\n\n    var defaultNormalMatrix = SceneJS_math_transposeMat4(\n        SceneJS_math_inverseMat4(\n            SceneJS_math_identityMat4(),\n            SceneJS_math_mat4()));\n    var defaultNormalMat = new Float32Array(defaultNormalMatrix);\n\n    var defaultCore = {\n        type:\"xform\",\n        stateId:SceneJS._baseStateId++,\n\n        matrix:defaultMatrix,\n        mat:defaultMat,\n\n        normalMatrix:defaultNormalMatrix,\n        normalMat:defaultNormalMat,\n\n        parent:null, // Parent transform core\n        cores:[], // Child transform cores\n        numCores:0, // Number of child transform cores\n        dirty:false, // Does this subtree need matrices rebuilt\n        matrixDirty:false\n    };\n\n    var transformStack = [];\n    var stackLen = 0;\n\n    this.top = defaultCore;\n\n    var dirty;\n\n    var self = this;\n\n    SceneJS_events.addListener(\n        SceneJS_events.SCENE_COMPILING,\n        function () {\n            stackLen = 0;\n            self.top = defaultCore;\n            dirty = true;\n        });\n\n    SceneJS_events.addListener(\n        SceneJS_events.OBJECT_COMPILING,\n        function (params) {\n\n            if (dirty) {\n\n                if (stackLen > 0) {\n\n                    params.display.modelTransform = transformStack[stackLen - 1];\n\n                } else {\n\n                    params.display.modelTransform = defaultCore;\n                }\n\n                dirty = false;\n            }\n        });\n\n    /**\n     * Creates a fresh transformation core\n     * @param core\n     */\n    this.buildCore = function (core) {\n\n        /*\n         * Transform tree node properties\n         */\n        core.parent = null;         // Parent transform core\n        core.cores = [];            // Child transform cores\n        core.numCores = 0;          // Number of child transform cores\n        core.matrixDirty = false;\n\n        core.matrix = SceneJS_math_identityMat4();\n\n        core.mat = new Float32Array(core.matrix);\n        core.normalMat = new Float32Array(\n            SceneJS_math_transposeMat4(\n                SceneJS_math_inverseMat4(core.matrix, SceneJS_math_mat4())));\n\n        core.dirty = false;         // Does this subtree need matrices rebuilt\n\n        core.setDirty = function () {\n\n            core.matrixDirty = true;\n\n            if (core.dirty) {\n                // return;\n            }\n\n            setDirty(core);\n        };\n\n        /**\n         * Recursively flag this subtree of transforms cores as dirty,\n         * ie. needing their matrices rebuilt.\n         */\n        function setDirty(core) {\n\n            core.dirty = true;\n            core.matrixDirty = true;\n\n            for (var i = 0, len = core.numCores; i < len; i++) {\n                setDirty(core.cores[i]);\n            }\n        }\n\n        /**\n         * Pre-multiply matrices at cores on path up to root into matrix at this core\n         */\n        core.build = function () {\n\n            if (core.matrixDirty) {\n                if (core.buildMatrix) { // Matrix might be explicit property on some transform node types\n                    core.buildMatrix();\n                }\n                core.matrixDirty = false;\n            }\n\n            var parent = core.parent;\n\n            var matrix;\n\n            if (parent) {\n\n                matrix = core.matrix.slice(0);\n\n                while (parent) {\n\n                    if (parent.matrixDirty) {\n\n                        if (parent.buildMatrix) { // Matrix might be explicit property on some transform node types\n                            parent.buildMatrix();\n                        }\n                        parent.mat.set(parent.matrix);\n                        parent.normalMat.set(\n                            SceneJS_math_transposeMat4(\n                                SceneJS_math_inverseMat4(parent.matrix, SceneJS_math_mat4())));\n\n                        parent.matrixDirty = false;\n                    }\n\n                    SceneJS_math_mulMat4(parent.matrix, matrix, matrix);\n\n                    if (!parent.dirty) {\n                        //   break;\n                    }\n\n                    //  parent.dirty = false;\n\n                    parent = parent.parent;\n                }\n\n            } else {\n\n                matrix = core.matrix;\n            }\n\n            //            if (!core.mat) {\n            //\n            //                core.mat = new Float32Array(matrix);\n            //\n            //                core.normalMat = new Float32Array(\n            //                        SceneJS_math_transposeMat4(\n            //                                SceneJS_math_inverseMat4(matrix, SceneJS_math_mat4())));\n            //            } else {\n\n            core.mat.set(matrix);\n\n            core.normalMat.set(\n                SceneJS_math_transposeMat4(\n                    SceneJS_math_inverseMat4(matrix, SceneJS_math_mat4())));\n            //}\n\n           core.dirty = false;\n        };\n    };\n\n    this.push = function (core) {\n\n        transformStack[stackLen++] = core;\n\n        core.parent = this.top;\n        core.dirty = true;\n\n        if (this.top) {\n            this.top.cores[this.top.numCores++] = core;\n        }\n\n        core.numCores = 0;\n\n        this.top = core;\n\n        dirty = true;\n    };\n\n    this.pop = function () {\n\n        this.top = (--stackLen > 0) ? transformStack[stackLen - 1] : defaultCore;\n\n\n        dirty = true;\n    };\n\n})();\n/**\n * Container for custom node types\n */\nSceneJS.Types = new (function () {\n\n    /**\n     * Installs a node type\n     * @param typeName\n     * @param methods\n     */\n    this.addType = function (typeName, methods) {\n        SceneJS_NodeFactory.createNodeType(typeName, methods,\n            // Augments the basic node type with our custom type's methods\n            function (type) {\n                var method;\n                for (var methodName in methods) {\n                    if (methods.hasOwnProperty(methodName)) {\n                        method = methods[methodName];\n                        switch (methodName) {\n                            case \"init\": // Deprecated\n                            case \"construct\":\n                                (function () {\n                                    var _method = methods[methodName];\n                                    type.prototype._init = function (params) {\n                                        _method.call(this, params);\n                                    };\n\n                                    // Mark node type as a plugin\n                                    type.prototype._fromPlugin = true;\n                                })();\n                                break;\n                            case \"destroy\": // Deprecated\n                            case \"destruct\":\n                                type.prototype._destroy = method;\n                                break;\n                            default:\n                                type.prototype[methodName] = method;\n                        }\n                    }\n                }\n            });\n    };\n\n    /**\n     * Tests if given node type is installed\n     * @param typeName\n     * @param methods\n     */\n    this.hasType = function (typeName) {\n        return !!SceneJS_NodeFactory.nodeTypes[typeName];\n    };\n})();\n\n/**\n * @class Display compiled from a {@link SceneJS.Scene}, providing methods to render and pick.\n * @private\n *\n * <p>A Display is a container of {@link SceneJS_Object}s which are created (or updated) by a depth-first\n * <b>compilation traversal</b> of a {@link SceneJS.Scene}.</b>\n *\n * <h2>Rendering Pipeline</h2>\n *\n * <p>Conceptually, a Display implements a pipeline with the following stages:</p>\n *\n * <ol>\n * <li>Create or update {@link SceneJS_Object}s during scene compilation</li>\n * <li>Organise the {@link SceneJS_Object} into an <b>object list</b></li>\n * <li>Determine the GL state sort order for the object list</li>\n * <li>State sort the object list</li>\n * <li>Create a <b>draw list</b> containing {@link SceneJS_Chunk}s belonging to the {@link SceneJS_Object}s in the object list</li>\n * <li>Render the draw list to draw the image</li>\n * </ol>\n *\n * <p>An update to the scene causes the pipeline to be re-executed from one of these stages, and SceneJS is designed\n * so that the pipeline is always re-executed from the latest stage possible to avoid redoing work.</p>\n *\n * <p>For example:</p>\n *\n * <ul>\n * <li>when an object is created or updated, we need to (re)do stages 2, 3, 4, 5 and 6</li>\n * <li>when an object is made invisible, we need to redo stages 5 and 6</li>\n * <li>when an object is assigned to a different scene render layer (works like a render bin), we need to redo\n *   stages 3, 4, 5, and 6</li>\n *<li>when the colour of an object changes, or maybe when the viewpoint changes, we simplt redo stage 6</li>\n * </ul>\n *\n * <h2>Object Creation</h2>\n * <p>The object soup (stage 1) is constructed by a depth-first traversal of the scene graph, which we think of as\n * \"compiling\" the scene graph into the Display. As traversal visits each scene node, the node's state core is\n * set on the Display (such as {@link #flags}, {@link #layer}, {@link #renderer} etc), which we think of as the\n * cores that are active at that instant during compilation. Each of the scene's leaf nodes is always\n * a {@link SceneJS.Geometry}, and when traversal visits one of those it calls {@link #buildObject} to create an\n * object in the soup. For each of the currently active cores, the object is given a {@link SceneJS_Chunk}\n * containing the WebGL calls for rendering it.</p>\n *\n * <p>The object also gets a shader (implemented by {@link SceneJS_Program}), taylored to render those state cores.</p>\n *\n * <p>Limited re-compilation may also be done on portions of a scene that have been added or sufficiently modified. When\n * traversal visits a {@link SceneJS.Geometry} for which an object already exists in the display, {@link #buildObject}\n * may update the {@link SceneJS_Chunk}s on the object as required for any changes in the core soup since the\n * last time the object was built. If differences among the cores require it, then {@link #buildObject} may also replace\n * the object's {@link SceneJS_Program} in order to render the new core soup configuration.</p>\n *\n * <p>So in summary, to each {@link SceneJS_Object} it builds, {@link #buildObject} creates a list of\n * {@link SceneJS_Chunk}s to render the set of node state cores that are currently set on the {@link SceneJS_Display}.\n * When {@link #buildObject} is re-building an existing object, it may replace one or more {@link SceneJS_Chunk}s\n * for state cores that have changed from the last time the object was built or re-built.</p>\n\n * <h2>Object Destruction</h2>\n * <p>Destruction of a scene graph branch simply involves a call to {@link #removeObject} for each {@link SceneJS.Geometry}\n * in the branch.</p>\n *\n * <h2>Draw List</h2>\n * <p>The draw list is actually comprised of two lists of state chunks: a \"pick\" list to render a pick buffer\n * for colour-indexed GPU picking, along with a \"draw\" list for normal image rendering. The chunks in these lists\n * are held in the state-sorted order of their objects in #_objectList, with runs of duplicate states removed.</p>\n *\n * <p>After a scene update, we set a flag on the display to indicate the stage we will need to redo from. The pipeline is\n * then lazy-redone on the next call to #render or #pick.</p>\n */\nvar SceneJS_Display = function (cfg) {\n\n    // Display is bound to the lifetime of an HTML5 canvas\n    this._canvas = cfg.canvas;\n\n    // Factory which creates and recycles {@link SceneJS_Program} instances\n    this._programFactory = new SceneJS_ProgramFactory({\n        canvas: cfg.canvas\n    });\n\n    // Factory which creates and recycles {@link SceneJS.Chunk} instances\n    this._chunkFactory = new SceneJS_ChunkFactory();\n\n    /**\n     * True when the background is to be transparent\n     * @type {boolean}\n     */\n    this.transparent = cfg.transparent === true;\n\n    /**\n     * Node state core for the last {@link SceneJS.Enable} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.enable = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Flags} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.flags = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Layer} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.layer = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Stage} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.stage = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Renderer} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.renderer = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.DepthBuf} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.depthBuffer = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.ColorBuf} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.colorBuffer = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.View} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.view = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Lights} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.lights = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Material} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.material = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Texture} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.texture = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Reflect} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.cubemap = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.XForm} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.modelTransform = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.LookAt} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.viewTransform = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Camera} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.projTransform = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.ColorTarget} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.renderTarget = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Clips} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.clips = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.MorphGeometry} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.morphGeometry = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Name} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.name = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Tag} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.tag = null;\n\n    /**\n     * Node state core for the last render {@link SceneJS.Node} listener encountered during scene graph compilation traversal\n     * @type Object\n     */\n    this.renderListeners = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Shader} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.shader = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.ShaderParams} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.shaderParams = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Style} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.style = null;\n\n    /**\n     * Node state core for the last {@link SceneJS.Geometry} visited during scene graph compilation traversal\n     * @type Object\n     */\n    this.geometry = null;\n\n    /* Factory which creates and recycles {@link SceneJS_Object} instances\n     */\n    this._objectFactory = new SceneJS_ObjectFactory();\n\n    /**\n     * The objects in the display\n     */\n    this._objects = {};\n\n    /**\n     * Ambient color, which must be given to gl.clearColor before draw list iteration\n     */\n    this._ambientColor = [0, 0, 0, 1.0];\n\n    /**\n     * The object list, containing all elements of #_objects, kept in GL state-sorted order\n     */\n    this._objectList = [];\n    this._objectListLen = 0;\n\n    /* The \"draw list\", comprised collectively of three lists of state chunks belong to visible objects\n     * within #_objectList: a \"pick\" list to render a pick buffer for colour-indexed GPU picking, along with an\n     * \"draw\" list for normal image rendering.  The chunks in these lists are held in the state-sorted order of\n     * their objects in #_objectList, with runs of duplicate states removed.\n     */\n    this._drawList = [];                // State chunk list to render all objects\n    this._drawListLen = 0;\n\n    this._pickDrawList = [];            // State chunk list to render scene to pick buffer\n    this._pickDrawListLen = 0;\n\n    this._targetList = [];\n    this._targetListLen = 0;\n\n    /* The frame context holds state shared across a single render of the draw list, along with any results of\n     * the render, such as pick hits\n     */\n    this._frameCtx = {\n        pickNames: [], // Pick names of objects hit during pick render\n        canvas: this._canvas,           // The canvas\n        VAO: null                       // Vertex array object extension\n    };\n\n    /* The frame context has this facade which is given to scene node \"rendered\" listeners\n     * to allow application code to access things like transform matrices from within those listeners.\n     */\n    this._frameCtx.renderListenerCtx = new SceneJS.RenderContext(this._frameCtx);\n\n    /*-------------------------------------------------------------------------------------\n     * Flags which schedule what the display is to do when #render is next called.\n     *------------------------------------------------------------------------------------*/\n\n    /**\n     * Flags the object list as needing to be rebuilt from existing objects on the next call to {@link #render} or {@link #pick}.\n     * Setting this will cause the rendering pipeline to be executed from stage #2 (see class comment),\n     * causing object list rebuild, state order determination, state sort, draw list construction and image render.\n     * @type Boolean\n     */\n    this.objectListDirty = true;\n\n    /**\n     * Flags the object list as needing state orders to be computed on the next call to {@link #render} or {@link #pick}.\n     * Setting this will cause the rendering pipeline to be executed from stage #3 (see class comment),\n     * causing state order determination, state sort, draw list construction and image render.\n     * @type Boolean\n     */\n    this.stateOrderDirty = true;\n\n    /**\n     * Flags the object list as needing to be state sorted on the next call to {@link #render} or {@link #pick}.\n     * Setting this will cause the rendering pipeline to be executed from stage #4 (see class comment),\n     * causing state sort, draw list construction and image render.\n     * @type Boolean\n     */\n    this.stateSortDirty = true;\n\n    /**\n     * Flags the draw list as needing to be rebuilt from the object list on the next call to {@link #render} or {@link #pick}.\n     * Setting this will cause the rendering pipeline to be executed from stage #5 (see class comment),\n     * causing draw list construction and image render.\n     * @type Boolean\n     */\n    this.drawListDirty = true;\n\n    /**\n     * Flags the image as needing to be redrawn from the draw list on the next call to {@link #render} or {@link #pick}.\n     * Setting this will cause the rendering pipeline to be executed from stage #6 (see class comment),\n     * causing the image render.\n     * @type Boolean\n     */\n    this.imageDirty = true;\n\n    /**\n     * Flags the neccessity for the image buffer to be re-rendered from the draw list.\n     * @type Boolean\n     */\n    this.pickBufDirty = true;           // Redraw pick buffer\n    this.rayPickBufDirty = true;        // Redraw raypick buffer\n};\n\n/**\n * Reallocates WebGL resources for objects within this display\n */\nSceneJS_Display.prototype.webglRestored = function () {\n    this._programFactory.webglRestored();// Reallocate programs\n    this._chunkFactory.webglRestored(); // Recache shader var locations\n    var gl = this._canvas.gl;\n    if (this.pickBuf) {\n        this.pickBuf.webglRestored(gl);          // Rebuild pick buffers\n    }\n    if (this.rayPickBuf) {\n        this.rayPickBuf.webglRestored(gl);\n    }\n    this.imageDirty = true;             // Need redraw\n};\n\n/**\n * Internally creates (or updates) a {@link SceneJS_Object} of the given ID from whatever node state cores are currently set\n * on this {@link SceneJS_Display}. The object is created if it does not already exist in the display, otherwise it is\n * updated with the current state cores, possibly replacing cores already referenced by the object.\n *\n * @param {String} objectId ID of object to create or update\n */\nSceneJS_Display.prototype.buildObject = function (objectId) {\n\n    var object = this._objects[objectId];\n\n    if (!object) { // Create object\n        object = this._objects[objectId] = this._objectFactory.getObject(objectId);\n        this.objectListDirty = true;\n    }\n\n    object.stage = this.stage;\n    object.layer = this.layer;\n    object.renderTarget = this.renderTarget;\n    object.texture = this.texture;\n    object.cubemap = this.cubemap;\n    object.geometry = this.geometry;\n    object.enable = this.enable;\n    object.flags = this.flags;\n    object.tag = this.tag;\n\n    //if (!object.hash) {\n\n    var hash = ([                   // Build current state hash\n        this.geometry.hash,\n        this.shader.hash,\n        this.clips.hash,\n        this.morphGeometry.hash,\n        this.texture.hash,\n        this.cubemap.hash,\n        this.lights.hash\n    ]).join(\";\");\n\n    if (!object.program || hash != object.hash) {\n        // Get new program for object if no program or hash mismatch\n        if (object.program) {\n            this._programFactory.putProgram(object.program);\n        }\n        object.program = this._programFactory.getProgram(hash, this);\n        object.hash = hash;\n    }\n    //}\n\n    // Build draw chunks for object\n\n    this._setChunk(object, 0, \"program\");          // Must be first\n    this._setChunk(object, 1, \"xform\", this.modelTransform);\n    this._setChunk(object, 2, \"lookAt\", this.viewTransform);\n    this._setChunk(object, 3, \"camera\", this.projTransform);\n    this._setChunk(object, 4, \"flags\", this.flags);\n    this._setChunk(object, 5, \"shader\", this.shader);\n    this._setChunk(object, 6, \"shaderParams\", this.shaderParams);\n    this._setChunk(object, 7, \"style\", this.style);\n    this._setChunk(object, 8, \"depthBuffer\", this.depthBuffer);\n    this._setChunk(object, 9, \"colorBuffer\", this.colorBuffer);\n    this._setChunk(object, 10, \"view\", this.view);\n    this._setChunk(object, 11, \"name\", this.name);\n    this._setChunk(object, 12, \"lights\", this.lights);\n    this._setChunk(object, 13, \"material\", this.material);\n    this._setChunk(object, 14, \"texture\", this.texture);\n    this._setChunk(object, 15, \"cubemap\", this.cubemap);\n    this._setChunk(object, 16, \"clips\", this.clips);\n    this._setChunk(object, 17, \"renderer\", this.renderer);\n    this._setChunk(object, 18, \"geometry\", this.morphGeometry, this.geometry);\n    this._setChunk(object, 19, \"listeners\", this.renderListeners);      // Must be after the above chunks\n    this._setChunk(object, 20, \"draw\", this.geometry); // Must be last\n};\n\nSceneJS_Display.prototype._setChunk = function (object, order, chunkType, core, core2) {\n\n    var chunkId;\n    var chunkClass = this._chunkFactory.chunkTypes[chunkType];\n\n    if (core) {\n\n        // Core supplied\n        if (core.empty) { // Only set default cores for state types that have them\n            var oldChunk = object.chunks[order];\n            if (oldChunk) {\n                this._chunkFactory.putChunk(oldChunk); // Release previous chunk to pool\n            }\n            object.chunks[order] = null;\n            return;\n        }\n\n        // Note that core.stateId can be either a number or a string, that's why we make\n        // chunkId a string here.\n        // TODO: Would it be better if all were numbers?\n        chunkId = chunkClass.prototype.programGlobal\n            ? '_' + core.stateId\n            : 'p' + object.program.id + '_' + core.stateId;\n\n        if (core2) {\n            chunkId += '__' + core2.stateId;\n        }\n\n    } else {\n\n        // No core supplied, probably a program.\n        // Only one chunk of this type per program.\n        chunkId = 'p' + object.program.id;\n    }\n\n    // This is needed so that chunkFactory can distinguish between draw and geometry\n    // chunks with the same core.\n    chunkId = order + '__' + chunkId;\n\n    var oldChunk = object.chunks[order];\n\n    if (oldChunk) {\n        if (oldChunk.id == chunkId) { // Avoid needless chunk reattachment\n            return;\n        }\n        this._chunkFactory.putChunk(oldChunk); // Release previous chunk to pool\n    }\n\n    object.chunks[order] = this._chunkFactory.getChunk(chunkId, chunkType, object.program, core, core2); // Attach new chunk\n\n    // Ambient light is global across everything in display, and\n    // can never be disabled, so grab it now because we want to\n    // feed it to gl.clearColor before each display list render\n    if (chunkType == \"lights\") {\n        this._setAmbient(core);\n    }\n};\n\nSceneJS_Display.prototype._setAmbient = function (core) {\n    var lights = core.lights;\n    var light;\n    for (var i = 0, len = lights.length; i < len; i++) {\n        light = lights[i];\n        if (light.mode == \"ambient\") {\n            this._ambientColor[0] = light.color[0];\n            this._ambientColor[1] = light.color[1];\n            this._ambientColor[2] = light.color[2];\n        }\n    }\n};\n\n/**\n * Removes an object from this display\n *\n * @param {String} objectId ID of object to remove\n */\nSceneJS_Display.prototype.removeObject = function (objectId) {\n    var object = this._objects[objectId];\n    if (!object) {\n        return;\n    }\n    this._programFactory.putProgram(object.program);\n    object.program = null;\n    object.hash = null;\n    this._objectFactory.putObject(object);\n    delete this._objects[objectId];\n    this.objectListDirty = true;\n};\n\n/**\n * Set a tag selector to selectively activate objects that have matching SceneJS.Tag nodes\n */\nSceneJS_Display.prototype.selectTags = function (tagSelector) {\n    this._tagSelector = tagSelector;\n    this.drawListDirty = true;\n};\n\n/**\n * Render this display. What actually happens in the method depends on what flags are set.\n *\n */\nSceneJS_Display.prototype.render = function (params) {\n\n    params = params || {};\n\n    if (this.objectListDirty) {\n        this._buildObjectList();          // Build object render bin\n        this.objectListDirty = false;\n        this.stateOrderDirty = true;        // Now needs state ordering\n    }\n\n    if (this.stateOrderDirty) {\n        this._makeStateSortKeys();       // Compute state sort order\n        this.stateOrderDirty = false;\n        this.stateSortDirty = true;     // Now needs state sorting\n    }\n\n    if (this.stateSortDirty) {\n        this._stateSort();              // State sort the object render bin\n        this.stateSortDirty = false;\n        this.drawListDirty = true;      // Now needs new visible object bin\n        //this._logObjectList();\n    }\n\n    if (this.drawListDirty) {           // Render visible list while building transparent list\n        this._buildDrawList();\n        this.imageDirty = true;\n        //this._logDrawList();\n        //this._logPickList();\n    }\n\n    if (this.imageDirty || params.force) {\n        this._doDrawList({ // Render, no pick\n            clear: (params.clear !== false) // Clear buffers by default\n        });\n        this.imageDirty = false;\n        this.pickBufDirty = true;       // Pick buff will now need rendering on next pick\n    }\n};\n\nSceneJS_Display.prototype._buildObjectList = function () {\n    this._objectListLen = 0;\n    for (var objectId in this._objects) {\n        if (this._objects.hasOwnProperty(objectId)) {\n            this._objectList[this._objectListLen++] = this._objects[objectId];\n        }\n    }\n};\n\nSceneJS_Display.prototype._makeStateSortKeys = function () {\n  //  console.log(\"--------------------------------------------------------------------------------------------------\");\n   // console.log(\"SceneJS_Display_makeSortKeys\");\n    var object;\n    for (var i = 0, len = this._objectListLen; i < len; i++) {\n        object = this._objectList[i];\n        if (!object.program) {\n            // Non-visual object (eg. sound)\n            object.sortKey = -1;\n        } else {\n\n//            console.log(\"object.stage.priority = \" + ((object.stage.priority + 1) * 1000000000000));\n//            console.log(\"object.flags.transparent = \" + ((object.flags.transparent ? 2 : 1) * 1000000000));\n//            console.log(\"object.layer.priority = \" +  ((object.layer.priority + 1) * 1000000));\n//            console.log(\"object.program.id = \" +  ((object.program.id + 1) * 1000));\n//            console.log(\"object.texture.stateId = \" +  object.texture.stateId);\n\n            object.sortKey =\n                ((object.stage.priority + 1) * 1000000000000)\n                    + ((object.flags.transparent ? 2 : 1) * 1000000000)\n                    + ((object.layer.priority + 1) * 1000000)\n                    + ((object.program.id + 1) * 1000)\n                    + object.texture.stateId;\n\n            //console.log(\"object.sortKey = \" +  object.sortKey);\n          //  console.log(\"\");\n        }\n    }\n  //  console.log(\"--------------------------------------------------------------------------------------------------\");\n};\n\nSceneJS_Display.prototype._stateSort = function () {\n    this._objectList.length = this._objectListLen;\n    this._objectList.sort(this._stateSortObjects);\n};\n\nSceneJS_Display.prototype._stateSortObjects = function (a, b) {\n    return a.sortKey - b.sortKey;\n};\n\nSceneJS_Display.prototype._logObjectList = function () {\n    console.log(\"--------------------------------------------------------------------------------------------------\");\n    console.log(this._objectListLen + \" objects\");\n    for (var i = 0, len = this._objectListLen; i < len; i++) {\n        var object = this._objectList[i];\n        console.log(\"SceneJS_Display : object[\" + i + \"] sortKey = \" + object.sortKey);\n    }\n    console.log(\"--------------------------------------------------------------------------------------------------\");\n};\n\nSceneJS_Display.prototype._buildDrawList = function () {\n\n    this._lastStateId = this._lastStateId || [];\n    this._lastPickStateId = this._lastPickStateId || [];\n\n    for (var i = 0; i < 23; i++) {\n        this._lastStateId[i] = null;\n        this._lastPickStateId[i] = null;\n    }\n\n    this._drawListLen = 0;\n    this._pickDrawListLen = 0;\n\n    // For each render target, a list of objects to render to that target\n    var targetObjectLists = {};\n\n    // A list of all the render target object lists\n    var targetListList = [];\n\n    // List of all targets\n    var targetList = [];\n\n    var object;\n    var tagMask;\n    var tagRegex;\n    var tagCore;\n    var flags;\n\n    if (this._tagSelector) {\n        tagMask = this._tagSelector.mask;\n        tagRegex = this._tagSelector.regex;\n    }\n\n    this._objectDrawList = this._objectDrawList || [];\n    this._objectDrawListLen = 0;\n\n    for (var i = 0, len = this._objectListLen; i < len; i++) {\n\n        object = this._objectList[i];\n\n        // Cull invisible objects\n        if (object.enable.enabled === false) {\n            continue;\n        }\n\n        flags = object.flags;\n\n        // Cull invisible objects\n        if (flags.enabled === false) {\n            continue;\n        }\n\n        // Cull objects in disabled layers\n        if (!object.layer.enabled) {\n            continue;\n        }\n\n        // Cull objects with unmatched tags\n        if (tagMask) {\n            tagCore = object.tag;\n            if (tagCore.tag) {\n                if (tagCore.mask != tagMask) { // Scene tag mask was updated since last render\n                    tagCore.mask = tagMask;\n                    tagCore.matches = tagRegex.test(tagCore.tag);\n                }\n                if (!tagCore.matches) {\n                    continue;\n                }\n            }\n        }\n\n        // Put objects with render targets into a bin for each target\n        if (object.renderTarget.targets) {\n            var targets = object.renderTarget.targets;\n            var target;\n            var coreId;\n            var list;\n            for (var j = 0, lenj = targets.length; j < lenj; j++) {\n                target = targets[j];\n                coreId = target.coreId;\n                list = targetObjectLists[coreId];\n                if (!list) {\n                    list = [];\n                    targetObjectLists[coreId] = list;\n                    targetListList.push(list);\n                    targetList.push(this._chunkFactory.getChunk(target.stateId, \"renderTarget\", object.program, target));\n                }\n                list.push(object);\n            }\n        } else {\n\n            //\n            this._objectDrawList[this._objectDrawListLen++] = object;\n        }\n    }\n\n    // Append chunks for objects within render targets first\n\n    var list;\n    var target;\n    var object;\n    var pickable;\n\n    for (var i = 0, len = targetListList.length; i < len; i++) {\n\n        list = targetListList[i];\n        target = targetList[i];\n\n        this._appendRenderTargetChunk(target);\n\n        for (var j = 0, lenj = list.length; j < lenj; j++) {\n            object = list[j];\n            pickable = object.stage && object.stage.pickable; // We'll only pick objects in pickable stages\n            this._appendObjectToDrawLists(object, pickable);\n        }\n    }\n\n    if (object) {\n\n        // Unbinds any render target bound previously\n        this._appendRenderTargetChunk(this._chunkFactory.getChunk(-1, \"renderTarget\", object.program, {}));\n    }\n\n    // Append chunks for objects not in render targets\n    for (var i = 0, len = this._objectDrawListLen; i < len; i++) {\n        object = this._objectDrawList[i];\n        pickable = !object.stage || (object.stage && object.stage.pickable); // We'll only pick objects in pickable stages\n        this._appendObjectToDrawLists(object, pickable);\n    }\n\n    this.drawListDirty = false;\n};\n\n\nSceneJS_Display.prototype._appendRenderTargetChunk = function (chunk) {\n    this._drawList[this._drawListLen++] = chunk;\n};\n\n/**\n * Appends an object to the draw and pick lists.\n * @param object\n * @param pickable\n * @private\n */\nSceneJS_Display.prototype._appendObjectToDrawLists = function (object, pickable) {\n    var chunks = object.chunks;\n    var picking = object.flags.picking;\n    var chunk;\n    for (var i = 0, len = chunks.length; i < len; i++) {\n        chunk = chunks[i];\n        if (chunk) {\n\n            // As we apply the state chunk lists we track the ID of most types of chunk in order\n            // to cull redundant re-applications of runs of the same chunk - except for those chunks with a\n            // 'unique' flag, because we don't want to cull runs of draw chunks because they contain the GL\n            // drawElements calls which render the objects.\n\n            if (chunk.draw) {\n                if (chunk.unique || this._lastStateId[i] != chunk.id) { // Don't reapply repeated states\n                    this._drawList[this._drawListLen++] = chunk;\n                    this._lastStateId[i] = chunk.id;\n                }\n            }\n\n            if (chunk.pick) {\n                if (pickable !== false) {   // Don't pick objects in unpickable stages\n                    if (picking) {          // Don't pick unpickable objects\n                        if (chunk.unique || this._lastPickStateId[i] != chunk.id) { // Don't reapply repeated states\n                            this._pickDrawList[this._pickDrawListLen++] = chunk;\n                            this._lastPickStateId[i] = chunk.id;\n                        }\n                    }\n                }\n            }\n        }\n    }\n};\n\n/**\n * Logs the contents of the draw list to the console.\n * @private\n */\nSceneJS_Display.prototype._logDrawList = function () {\n    console.log(\"--------------------------------------------------------------------------------------------------\");\n    console.log(this._drawListLen + \" draw list chunks\");\n    for (var i = 0, len = this._drawListLen; i < len; i++) {\n        var chunk = this._drawList[i];\n        console.log(\"[chunk \" + i + \"] type = \" + chunk.type);\n        switch (chunk.type) {\n            case \"draw\":\n                console.log(\"\\n\");\n                break;\n            case \"renderTarget\":\n                console.log(\" bufType = \" + chunk.core.bufType);\n                break;\n        }\n    }\n    console.log(\"--------------------------------------------------------------------------------------------------\");\n};\n\n/**\n * Logs the contents of the pick list to the console.\n * @private\n */\nSceneJS_Display.prototype._logPickList = function () {\n    console.log(\"--------------------------------------------------------------------------------------------------\");\n    console.log(this._pickDrawListLen + \" pick list chunks\");\n    for (var i = 0, len = this._pickDrawListLen; i < len; i++) {\n        var chunk = this._pickDrawList[i];\n        console.log(\"[chunk \" + i + \"] type = \" + chunk.type);\n        switch (chunk.type) {\n            case \"draw\":\n                console.log(\"\\n\");\n                break;\n            case \"renderTarget\":\n                console.log(\" bufType = \" + chunk.core.bufType);\n                break;\n        }\n    }\n    console.log(\"--------------------------------------------------------------------------------------------------\");\n};\n\n/**\n * Performs a pick on the display graph and returns info on the result.\n * @param {*} params\n * @returns {*}\n */\nSceneJS_Display.prototype.pick = function (params) {\n\n    var canvas = this._canvas.canvas;\n    var hit = null;\n    var canvasX = params.canvasX;\n    var canvasY = params.canvasY;\n    var pickBuf = this.pickBuf;                                                     // Lazy-create pick buffer\n\n    if (!pickBuf) {\n        pickBuf = this.pickBuf = new SceneJS._webgl.RenderBuffer({ canvas: this._canvas });\n        this.pickBufDirty = true;                                                   // Freshly-created pick buffer is dirty\n    }\n\n    this.render(); // Do any pending visible render\n\n    pickBuf.bind();                                                                 // Bind pick buffer\n\n    if (this.pickBufDirty) {                          // Render pick buffer\n        pickBuf.clear();\n        this._doDrawList({\n            pick: true,\n            clear: true\n        });\n        this._canvas.gl.finish();\n        this.pickBufDirty = false;                                                  // Pick buffer up to date\n        this.rayPickBufDirty = true;                                                // Ray pick buffer now dirty\n    }\n\n    var pix = pickBuf.read(canvasX, canvasY);                                       // Read pick buffer\n    var pickedObjectIndex = pix[0] + pix[1] * 256 + pix[2] * 65536;\n    var pickIndex = (pickedObjectIndex >= 1) ? pickedObjectIndex - 1 : -1;\n    pickBuf.unbind();                                                               // Unbind pick buffer\n\n    var pickName = this._frameCtx.pickNames[pickIndex];                                   // Map pixel to name\n\n    if (pickName) {\n\n        hit = {\n            name: pickName.name,\n            path: pickName.path,\n            nodeId: pickName.nodeId,\n            canvasPos: [canvasX, canvasY]\n        };\n\n        if (params.rayPick) { // Ray pick to find position\n            var rayPickBuf = this.rayPickBuf; // Lazy-create Z-pick buffer\n            if (!rayPickBuf) {\n                rayPickBuf = this.rayPickBuf = new SceneJS._webgl.RenderBuffer({ canvas: this._canvas });\n            }\n\n            rayPickBuf.bind();\n\n            if (this.rayPickBufDirty) {\n                rayPickBuf.clear();\n                this._doDrawList({\n                    pick: true,\n                    rayPick: true,\n                    clear: true\n                });\n                this.rayPickBufDirty = false;\n            }\n\n            pix = rayPickBuf.read(canvasX, canvasY);\n\n            rayPickBuf.unbind();\n\n            // Read normalised device Z coordinate, which will be\n            // in range of [0..1] with z=0 at front\n            var screenZ = this._unpackDepth(pix);\n            var w = canvas.width;\n            var h = canvas.height;\n            // Calculate clip space coordinates, which will be in range\n            // of x=[-1..1] and y=[-1..1], with y=(+1) at top\n            var x = (canvasX - w / 2) / (w / 2);           // Calculate clip space coordinates\n            var y = -(canvasY - h / 2) / (h / 2);\n            var projMat = this._frameCtx.cameraMat;\n            var viewMat = this._frameCtx.viewMat;\n            var pvMat = SceneJS_math_mulMat4(projMat, viewMat, []);\n            var pvMatInverse = SceneJS_math_inverseMat4(pvMat, []);\n            var world1 = SceneJS_math_transformVector4(pvMatInverse, [x, y, -1, 1]);\n            world1 = SceneJS_math_mulVec4Scalar(world1, 1 / world1[3]);\n            var world2 = SceneJS_math_transformVector4(pvMatInverse, [x, y, 1, 1]);\n            world2 = SceneJS_math_mulVec4Scalar(world2, 1 / world2[3]);\n            var dir = SceneJS_math_subVec3(world2, world1, []);\n            var vWorld = SceneJS_math_addVec3(world1, SceneJS_math_mulVec4Scalar(dir, screenZ, []), []);\n\n            hit.worldPos = vWorld;\n        }\n    }\n\n    return hit;\n};\n\n/**\n * Unpacks a color-encoded depth\n * @param {Array(Number)} depthZ Depth encoded as an RGBA color value\n * @returns {Number}\n * @private\n */\nSceneJS_Display.prototype._unpackDepth = function (depthZ) {\n    var vec = [depthZ[0] / 256.0, depthZ[1] / 256.0, depthZ[2] / 256.0, depthZ[3] / 256.0];\n    var bitShift = [1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0];\n    return SceneJS_math_dotVector4(vec, bitShift);\n};\n\n/** Renders either the draw or pick list.\n *\n * @param {*} params\n * @param {Boolean} params.clear Set true to clear the color, depth and stencil buffers first\n * @param {Boolean} params.pick Set true to render for picking\n * @param {Boolean} params.rayPick Set true to render for ray-picking\n * @private\n */\nSceneJS_Display.prototype._doDrawList = function (params) {\n\n    var gl = this._canvas.gl;\n\n    // Reset frame context\n    var frameCtx = this._frameCtx;\n    frameCtx.renderTarget = null;\n    frameCtx.targetIndex = 0;\n    frameCtx.renderBuf = null;\n    frameCtx.viewMat = null;\n    frameCtx.modelMat = null;\n    frameCtx.cameraMat = null;\n    frameCtx.renderer = null;\n    frameCtx.depthbufEnabled = null;\n    frameCtx.clearDepth = null;\n    frameCtx.depthFunc = gl.LESS;\n    frameCtx.scissorTestEnabled = false;\n    frameCtx.blendEnabled = false;\n    frameCtx.backfaces = true;\n    frameCtx.frontface = \"ccw\";\n    frameCtx.pick = !!params.pick;\n    frameCtx.rayPick = !!params.rayPick;\n    frameCtx.pickIndex = 0;\n    frameCtx.textureUnit = 0;\n    frameCtx.lineWidth = 1;\n    frameCtx.transparent = false;\n    frameCtx.ambientColor = this._ambientColor;\n\n    // The extension needs to be re-queried in case the context was lost and has been recreated.\n    var VAO = gl.getExtension(\"OES_vertex_array_object\");\n    frameCtx.VAO = (VAO) ? VAO : null;\n\n    gl.viewport(0, 0, this._canvas.canvas.width, this._canvas.canvas.height);\n\n    if (this.transparent) {\n        gl.clearColor(0, 0, 0, 0);\n    } else {\n        gl.clearColor(this._ambientColor[0], this._ambientColor[1], this._ambientColor[2], 0.0);\n    }\n\n   if (params.clear) {\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\n    }\n\n    gl.frontFace(gl.CCW);\n    gl.disable(gl.CULL_FACE);\n    gl.disable(gl.BLEND);\n\n    if (params.pick) {\n        // Render for pick\n        for (var i = 0, len = this._pickDrawListLen; i < len; i++) {\n            this._pickDrawList[i].pick(frameCtx);\n        }\n    } else {\n        // Render for draw\n        for (var i = 0, len = this._drawListLen; i < len; i++) {      // Push opaque rendering chunks\n            this._drawList[i].draw(frameCtx);\n        }\n    }\n\n    gl.flush();\n\n    if (frameCtx.renderBuf) {\n        gl.finish();\n        frameCtx.renderBuf.unbind();\n    }\n\n    if (frameCtx.VAO) {\n        frameCtx.VAO.bindVertexArrayOES(null);\n        for (var i = 0; i < 10; i++) {\n            gl.disableVertexAttribArray(i);\n        }\n    }\n//\n//    var numTextureUnits = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n//    for (var ii = 0; ii < numTextureUnits; ++ii) {\n//        gl.activeTexture(gl.TEXTURE0 + ii);\n//        gl.bindTexture(gl.TEXTURE_CUBE_MAP, null);\n//        gl.bindTexture(gl.TEXTURE_2D, null);\n//    }\n};\n\nSceneJS_Display.prototype.destroy = function () {\n    this._programFactory.destroy();\n};\n/**\n * @class Manages creation, sharing and recycle of {@link SceneJS_ProgramSource} instances\n * @private\n */\nvar SceneJS_ProgramSourceFactory = new (function () {\n\n    this._sourceCache = {}; // Source codes are shared across all scenes\n\n\n    /**\n     * Get sourcecode for a program to render the given states\n     */\n    this.getSource = function (hash, states) {\n\n        var source = this._sourceCache[hash];\n        if (source) {\n            source.useCount++;\n            return source;\n        }\n\n        return this._sourceCache[hash] = new SceneJS_ProgramSource(\n\n            hash,\n\n            this._composePickingVertexShader(states), // pickVertexSrc\n            this._composePickingFragmentShader(states), // pickFragmentSrc\n            this._composeRenderingVertexShader(states), // drawVertexSrc\n            this._composeRenderingFragmentShader(states)  // drawfragmentSrc\n        );\n    };\n\n    /**\n     * Releases program source code\n     */\n    this.putSource = function (hash) {\n        var source = this._sourceCache[hash];\n        if (source) {\n            if (--source.useCount == 0) {\n                this._sourceCache[source.hash] = null;\n            }\n        }\n    };\n\n    this._composePickingVertexShader = function (states) {\n\n        var customShaders = states.shader.shaders || {};\n\n        var customVertexShader = customShaders.vertex || {};\n        var vertexHooks = customVertexShader.hooks || {};\n\n        var customFragmentShader = customShaders.fragment || {};\n        var fragmentHooks = customFragmentShader.hooks || {};\n\n        // Do a full custom shader replacement if code supplied without hooks\n        if (customShaders.vertex\n            && customShaders.vertex.code\n            && customShaders.vertex.code != \"\"\n            && SceneJS._isEmpty(customShaders.vertex.hooks)) {\n            return [customShaders.vertex.code];\n        }\n\n        var clipping = states.clips.clips.length > 0;\n        var morphing = !!states.morphGeometry.targets;\n        var normals = this._hasNormals(states);\n\n        var src = [\n            \"precision mediump float;\",\n            \"attribute vec3 SCENEJS_aVertex;\",\n            \"uniform mat4 SCENEJS_uMMatrix;\",\n            \"uniform mat4 SCENEJS_uMNMatrix;\",\n            \"uniform mat4 SCENEJS_uVMatrix;\",\n            \"uniform mat4 SCENEJS_uVNMatrix;\",\n            \"uniform mat4 SCENEJS_uPMatrix;\"\n        ];\n\n        if (normals) {\n            src.push(\"attribute vec3 SCENEJS_aNormal;\");\n        }\n\n        if (normals && (fragmentHooks.worldNormal || fragmentHooks.viewNormal)) {\n            src.push(\"varying vec3 SCENEJS_vWorldNormal;\");   // Output world-space vertex normal\n            src.push(\"varying vec3 SCENEJS_vViewNormal;\");   // Output view-space vertex normal\n        }\n\n        src.push(\"varying vec4 SCENEJS_vWorldVertex;\");\n        src.push(\"varying vec4 SCENEJS_vViewVertex;\");\n        src.push(\"varying vec4 SCENEJS_vProjVertex;\");\n\n        src.push(\"uniform vec3 SCENEJS_uWorldEye;\");                     // World-space eye position\n        src.push(\"varying vec3 SCENEJS_vWorldEyeVec;\");\n\n        if (customVertexShader.code) {\n            src.push(\"\\n\" + customVertexShader.code + \"\\n\");\n        }\n\n        if (morphing) {\n            src.push(\"uniform float SCENEJS_uMorphFactor;\");       // LERP factor for morph\n            if (states.morphGeometry.targets[0].vertexBuf) {      // target2 has these arrays also\n                src.push(\"attribute vec3 SCENEJS_aMorphVertex;\");\n            }\n        }\n\n        src.push(\"void main(void) {\");\n        src.push(\"   vec4 tmpVertex=vec4(SCENEJS_aVertex, 1.0); \");\n\n        if (normals) {\n            src.push(\"  vec4 modelNormal = vec4(SCENEJS_aNormal, 0.0); \");\n        }\n\n        if (vertexHooks.modelPos) {\n            src.push(\"tmpVertex=\" + vertexHooks.modelPos + \"(tmpVertex);\");\n        }\n\n        if (morphing) {\n            if (states.morphGeometry.targets[0].vertexBuf) {\n                src.push(\"  vec4 vMorphVertex = vec4(SCENEJS_aMorphVertex, 1.0); \");\n\n                if (vertexHooks.modelPos) {\n                    src.push(\"vMorphVertex=\" + vertexHooks.modelPos + \"(vMorphVertex);\");\n                }\n\n                src.push(\"  tmpVertex = vec4(mix(tmpVertex.xyz, vMorphVertex.xyz, SCENEJS_uMorphFactor), 1.0); \");\n            }\n        }\n\n\n        src.push(\"  tmpVertex = SCENEJS_uMMatrix * tmpVertex; \");\n\n        if (vertexHooks.worldPos) {\n            src.push(\"tmpVertex=\" + vertexHooks.worldPos + \"(tmpVertex);\");\n        }\n\n        // if (clipping || fragmentHooks.worldPosClip) {\n        src.push(\"  SCENEJS_vWorldVertex = tmpVertex; \");\n        //    }\n\n        src.push(\"SCENEJS_vWorldEyeVec = normalize(SCENEJS_uWorldEye - tmpVertex.xyz);\");\n\n        src.push(\"  tmpVertex = SCENEJS_uVMatrix * tmpVertex; \");\n\n        if (vertexHooks.viewPos) {\n            src.push(\"tmpVertex=\" + vertexHooks.viewPos + \"(tmpVertex);\");\n        }\n\n        src.push(\"  SCENEJS_vViewVertex = tmpVertex;\");\n\n        if (normals && (fragmentHooks.worldNormal || fragmentHooks.viewNormal)) {\n            src.push(\"  vec3 worldNormal = normalize((SCENEJS_uMNMatrix * modelNormal).xyz); \");\n            src.push(\"  SCENEJS_vWorldNormal = worldNormal;\");\n            src.push(\"  SCENEJS_vViewNormal = (SCENEJS_uVNMatrix * vec4(worldNormal, 1.0)).xyz;\");\n        }\n\n        src.push(\"  SCENEJS_vProjVertex = SCENEJS_uPMatrix * tmpVertex;\");\n\n\n        src.push(\"  gl_Position = SCENEJS_vProjVertex;\");\n        src.push(\"}\");\n\n        if (false && debugCfg.logScripts == true) {\n            SceneJS.log.info(src);\n        }\n        return src;\n    };\n\n    /**\n     * Composes a fragment shader script for rendering mode in current scene state\n     * @private\n     */\n    this._composePickingFragmentShader = function (states) {\n\n        var customShaders = states.shader.shaders || {};\n        var customFragmentShader = customShaders.fragment || {};\n        var fragmentHooks = customFragmentShader.hooks || {};\n\n        // Do a full custom shader replacement if code supplied without hooks\n        if (customShaders.fragment\n            && customShaders.fragment.code\n            && customShaders.fragment.code != \"\"\n            && SceneJS._isEmpty(customShaders.fragment.hooks)) {\n            return [customShaders.fragment.code];\n        }\n\n        var clipping = states.clips.clips.length > 0;\n\n        var normals = this._hasNormals(states);\n\n        var src = [\n            \"precision mediump float;\"\n        ];\n\n        src.push(\"vec4 packDepth(const in float depth) {\");\n        src.push(\"  const vec4 bitShift = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\");\n        src.push(\"  const vec4 bitMask  = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\");\n        src.push(\"  vec4 res = fract(depth * bitShift);\");\n        src.push(\"  res -= res.xxyz * bitMask;\");\n        src.push(\"  return res;\");\n        src.push(\"}\");\n\n\n        src.push(\"varying vec4 SCENEJS_vWorldVertex;\");\n        src.push(\"varying vec4 SCENEJS_vViewVertex;\");                  // View-space vertex\n        src.push(\"varying vec4 SCENEJS_vProjVertex;\");\n\n        src.push(\"uniform bool SCENEJS_uRayPickMode;\");                   // Z-pick mode when true else colour-pick\n\n        src.push(\"uniform vec3 SCENEJS_uPickColor;\");                   // Used in colour-pick mode\n\n        src.push(\"uniform float SCENEJS_uZNear;\");                      // Used in Z-pick mode\n        src.push(\"uniform float SCENEJS_uZFar;\");                       // Used in Z-pick mode\n\n        src.push(\"varying vec3 SCENEJS_vWorldEyeVec;\");                          // Direction of view-space vertex from eye\n\n        src.push(\"uniform bool  SCENEJS_uClipping;\");\n\n        if (normals && (fragmentHooks.worldNormal || fragmentHooks.viewNormal)) {\n            src.push(\"varying vec3 SCENEJS_vWorldNormal;\");                  // World-space normal\n            src.push(\"varying vec3 SCENEJS_vViewNormal;\");                   // View-space normal\n        }\n        /*-----------------------------------------------------------------------------------\n         * Variables - Clipping\n         *----------------------------------------------------------------------------------*/\n\n        if (clipping) {\n            for (var i = 0; i < states.clips.clips.length; i++) {\n                src.push(\"uniform float SCENEJS_uClipMode\" + i + \";\");\n                src.push(\"uniform vec4  SCENEJS_uClipNormalAndDist\" + i + \";\");\n            }\n        }\n\n        /*-----------------------------------------------------------------------------------\n         * Custom GLSL\n         *----------------------------------------------------------------------------------*/\n\n        if (customFragmentShader.code) {\n            src.push(\"\\n\" + customFragmentShader.code + \"\\n\");\n        }\n\n        src.push(\"void main(void) {\");\n\n        if (fragmentHooks.worldPosClip) {\n            src.push(\"if (\" + fragmentHooks.worldPosClip + \"(SCENEJS_vWorldVertex) == false) { discard; };\");\n        }\n        if (fragmentHooks.viewPosClip) {\n            src.push(\"if (!\" + fragmentHooks.viewPosClip + \"(SCENEJS_vViewVertex) == false) { discard; };\");\n        }\n\n        if (clipping) {\n            src.push(\"if (SCENEJS_uClipping) {\");\n            src.push(\"  float   dist;\");\n            for (var i = 0; i < states.clips.clips.length; i++) {\n                src.push(\"    if (SCENEJS_uClipMode\" + i + \" != 0.0) {\");\n                src.push(\"        dist = dot(SCENEJS_vWorldVertex.xyz, SCENEJS_uClipNormalAndDist\" + i + \".xyz) - SCENEJS_uClipNormalAndDist\" + i + \".w;\");\n                src.push(\"        if (SCENEJS_uClipMode\" + i + \" == 1.0) {\");\n                src.push(\"            if (dist > 0.0) { discard; }\");\n                src.push(\"        }\");\n                src.push(\"        if (SCENEJS_uClipMode\" + i + \" == 2.0) {\");\n                src.push(\"            if (dist > 0.0) { discard; }\");\n                src.push(\"        }\");\n                src.push(\"    }\");\n            }\n            src.push(\"}\");\n        }\n\n        if (fragmentHooks.worldPos) {\n            src.push(fragmentHooks.worldPos + \"(SCENEJS_vWorldVertex);\");\n        }\n\n        if (fragmentHooks.viewPos) {\n            src.push(fragmentHooks.viewPos + \"(SCENEJS_vViewVertex);\");\n        }\n\n        if (fragmentHooks.worldEyeVec) {\n            src.push(fragmentHooks.worldEyeVec + \"(SCENEJS_vWorldEyeVec);\");\n        }\n\n        if (normals && fragmentHooks.worldNormal) {\n            src.push(fragmentHooks.worldNormal + \"(SCENEJS_vWorldNormal);\");\n        }\n\n        if (normals && fragmentHooks.viewNormal) {\n            src.push(fragmentHooks.viewNormal + \"(SCENEJS_vViewNormal);\");\n        }\n\n        src.push(\"    if (SCENEJS_uRayPickMode) {\");\n        src.push(\"          float zNormalizedDepth = abs((SCENEJS_uZNear + SCENEJS_vViewVertex.z) / (SCENEJS_uZFar - SCENEJS_uZNear));\");\n        src.push(\"          gl_FragColor = packDepth(zNormalizedDepth); \");\n\n        src.push(\"    } else {\");\n        src.push(\"          gl_FragColor = vec4(SCENEJS_uPickColor.rgb, 1.0);  \");\n        src.push(\"    }\");\n        src.push(\"}\");\n\n\n        if (false && debugCfg.logScripts == true) {\n            SceneJS.log.info(src);\n        }\n        return src;\n    };\n\n    this._isTexturing = function (states) {\n        if (states.texture.layers && states.texture.layers.length > 0) {\n            if (states.geometry.uvBuf || states.geometry.uvBuf2) {\n                return true;\n            }\n            if (states.morphGeometry.targets && (states.morphGeometry.targets[0].uvBuf || states.morphGeometry.targets[0].uvBuf2)) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    this._isCubeMapping = function (states) {\n        return (states.cubemap.layers && states.cubemap.layers.length > 0 && states.geometry.normalBuf);\n    };\n\n    this._hasNormals = function (states) {\n        if (states.geometry.normalBuf) {\n            return true;\n        }\n        if (states.morphGeometry.targets && states.morphGeometry.targets[0].normalBuf) {\n            return true;\n        }\n        return false;\n    };\n\n    this._composeRenderingVertexShader = function (states) {\n\n        var customShaders = states.shader.shaders || {};\n\n        // Do a full custom shader replacement if code supplied without hooks\n        if (customShaders.vertex\n            && customShaders.vertex.code\n            && customShaders.vertex.code != \"\"\n            && SceneJS._isEmpty(customShaders.vertex.hooks)) {\n            return [customShaders.vertex.code];\n        }\n\n        var customVertexShader = customShaders.vertex || {};\n        var vertexHooks = customVertexShader.hooks || {};\n\n        var customFragmentShader = customShaders.fragment || {};\n        var fragmentHooks = customFragmentShader.hooks || {};\n\n        var texturing = this._isTexturing(states);\n        var normals = this._hasNormals(states);\n        var clipping = states.clips.clips.length > 0;\n        var morphing = !!states.morphGeometry.targets;\n\n        var src = [\n            \"precision mediump float;\"\n        ];\n\n        src.push(\"attribute vec3 SCENEJS_aVertex;\");                // Model coordinates\n\n        src.push(\"uniform vec3 SCENEJS_uWorldEye;\");                     // World-space eye position\n        src.push(\"varying vec3 SCENEJS_vWorldEyeVec;\");                  // Output world-space eye vector\n\n        /*-----------------------------------------------------------------------------------\n         * Variables - normals\n         *----------------------------------------------------------------------------------*/\n\n        if (normals) {\n\n            src.push(\"attribute vec3 SCENEJS_aNormal;\");        // Normal vectors\n            src.push(\"uniform   mat4 SCENEJS_uMNMatrix;\");      // Model normal matrix\n            src.push(\"uniform   mat4 SCENEJS_uVNMatrix;\");      // View normal matrix\n\n            src.push(\"varying   vec3 SCENEJS_vWorldNormal;\");   // Output world-space vertex normal\n            src.push(\"varying   vec3 SCENEJS_vViewNormal;\");    // Output view-space vertex normal\n\n            for (var i = 0; i < states.lights.lights.length; i++) {\n                var light = states.lights.lights[i];\n                if (light.mode == \"ambient\") {\n                    continue;\n                }\n                if (light.mode == \"dir\") {\n                    src.push(\"uniform vec3 SCENEJS_uLightDir\" + i + \";\");\n                }\n                if (light.mode == \"point\") {\n                    src.push(\"uniform vec3 SCENEJS_uLightPos\" + i + \";\");\n                }\n                if (light.mode == \"spot\") {\n                    src.push(\"uniform vec3 SCENEJS_uLightPos\" + i + \";\");\n                }\n\n                /* Vector from vertex to light, packaged with the pre-computed length of that vector\n                 */\n                src.push(\"varying vec4 SCENEJS_vViewLightVecAndDist\" + i + \";\");    // varying for fragment lighting\n            }\n        }\n\n        if (texturing) {\n            if (states.geometry.uvBuf) {\n                src.push(\"attribute vec2 SCENEJS_aUVCoord;\");      // UV coords\n            }\n            if (states.geometry.uvBuf2) {\n                src.push(\"attribute vec2 SCENEJS_aUVCoord2;\");     // UV2 coords\n            }\n        }\n\n        /* Vertex color variables\n         */\n        if (states.geometry.colorBuf) {\n            src.push(\"attribute vec4 SCENEJS_aVertexColor;\");       // UV2 coords\n            src.push(\"varying vec4 SCENEJS_vColor;\");               // Varying for fragment texturing\n        }\n\n        src.push(\"uniform mat4 SCENEJS_uMMatrix;\");                 // Model matrix\n        src.push(\"uniform mat4 SCENEJS_uVMatrix;\");                 // View matrix\n        src.push(\"uniform mat4 SCENEJS_uPMatrix;\");                 // Projection matrix\n\n        if (clipping || fragmentHooks.worldPos) {\n            src.push(\"varying vec4 SCENEJS_vWorldVertex;\");         // Varying for fragment clip or world pos hook\n        }\n\n        //    if (fragmentHooks.viewPos) {\n        src.push(\"varying vec4 SCENEJS_vViewVertex;\");          // Varying for fragment view clip hook\n        //  }\n\n        if (texturing) {                                            // Varyings for fragment texturing\n            if (states.geometry.uvBuf) {\n                src.push(\"varying vec2 SCENEJS_vUVCoord;\");\n            }\n            if (states.geometry.uvBuf2) {\n                src.push(\"varying vec2 SCENEJS_vUVCoord2;\");\n            }\n        }\n\n        /*-----------------------------------------------------------------------------------\n         * Variables - Morphing\n         *----------------------------------------------------------------------------------*/\n\n        if (morphing) {\n            src.push(\"uniform float SCENEJS_uMorphFactor;\");       // LERP factor for morph\n            if (states.morphGeometry.targets[0].vertexBuf) {      // target2 has these arrays also\n                src.push(\"attribute vec3 SCENEJS_aMorphVertex;\");\n            }\n            if (normals) {\n                if (states.morphGeometry.targets[0].normalBuf) {\n                    src.push(\"attribute vec3 SCENEJS_aMorphNormal;\");\n                }\n            }\n        }\n\n        if (customVertexShader.code) {\n            src.push(\"\\n\" + customVertexShader.code + \"\\n\");\n        }\n\n\n        src.push(\"void main(void) {\");\n        src.push(\"vec4 tmpVertex=vec4(SCENEJS_aVertex, 1.0); \");\n\n        if (vertexHooks.modelPos) {\n            src.push(\"tmpVertex=\" + vertexHooks.modelPos + \"(tmpVertex);\");\n        }\n\n        src.push(\"  vec4 modelVertex = tmpVertex; \");\n        if (normals) {\n            src.push(\"  vec4 modelNormal = vec4(SCENEJS_aNormal, 0.0); \");\n        }\n\n        /*\n         * Morphing - morph targets are in same model space as the geometry\n         */\n        if (morphing) {\n            if (states.morphGeometry.targets[0].vertexBuf) {\n                src.push(\"  vec4 vMorphVertex = vec4(SCENEJS_aMorphVertex, 1.0); \");\n                src.push(\"  modelVertex = vec4(mix(modelVertex.xyz, vMorphVertex.xyz, SCENEJS_uMorphFactor), 1.0); \");\n            }\n            if (normals) {\n                if (states.morphGeometry.targets[0].normalBuf) {\n                    src.push(\"  vec4 vMorphNormal = vec4(SCENEJS_aMorphNormal, 1.0); \");\n                    src.push(\"  modelNormal = vec4( mix(modelNormal.xyz, vMorphNormal.xyz, SCENEJS_uMorphFactor), 1.0); \");\n                }\n            }\n        }\n\n        src.push(\"  vec4 worldVertex = SCENEJS_uMMatrix * modelVertex; \");\n\n        if (vertexHooks.worldPos) {\n            src.push(\"worldVertex=\" + vertexHooks.worldPos + \"(worldVertex);\");\n        }\n\n        if (vertexHooks.viewMatrix) {\n            src.push(\"vec4 viewVertex = \" + vertexHooks.viewMatrix + \"(SCENEJS_uVMatrix) * worldVertex;\");\n        } else {\n            src.push(\"vec4 viewVertex  = SCENEJS_uVMatrix * worldVertex; \");\n        }\n\n        if (vertexHooks.viewPos) {\n            src.push(\"viewVertex=\" + vertexHooks.viewPos + \"(viewVertex);\");    // Vertex hook function\n        }\n\n        if (normals) {\n            src.push(\"  vec3 worldNormal = normalize((SCENEJS_uMNMatrix * modelNormal).xyz); \");\n            src.push(\"  SCENEJS_vWorldNormal = worldNormal;\");\n            src.push(\"  SCENEJS_vViewNormal = (SCENEJS_uVNMatrix * vec4(worldNormal, 1.0)).xyz;\");\n        }\n\n        if (clipping || fragmentHooks.worldPos) {\n            src.push(\"  SCENEJS_vWorldVertex = worldVertex;\");                  // Varying for fragment world clip or hooks\n        }\n\n        // if (fragmentHooks.viewPos) {\n        src.push(\"  SCENEJS_vViewVertex = viewVertex;\");                    // Varying for fragment hooks\n        //  }\n\n        if (vertexHooks.projMatrix) {\n            src.push(\"gl_Position = \" + vertexHooks.projMatrix + \"(SCENEJS_uPMatrix) * viewVertex;\");\n        } else {\n            src.push(\"  gl_Position = SCENEJS_uPMatrix * viewVertex;\");\n        }\n\n        /*-----------------------------------------------------------------------------------\n         * Logic - normals\n         *\n         * Transform the world-space lights into view space\n         *----------------------------------------------------------------------------------*/\n\n        src.push(\"  vec3 tmpVec3;\");\n        if (normals) {\n\n            for (var i = 0; i < states.lights.lights.length; i++) {\n\n                light = states.lights.lights[i];\n\n                if (light.mode == \"ambient\") {\n                    continue;\n                }\n\n                if (light.mode == \"dir\") {\n\n                    /* Directional light\n                     */\n                    if (light.space == \"world\") {\n\n                        /* World space light - transform vector to View space\n                         */\n                        src.push(\"SCENEJS_vViewLightVecAndDist\" + i + \" = vec4(-normalize((SCENEJS_uVMatrix * vec4(SCENEJS_uLightDir\" + i + \", 0.0)).xyz), 0.0);\");\n\n                    } else {\n\n                        /* View space light\n                         */\n                        src.push(\"SCENEJS_vViewLightVecAndDist\" + i + \" = vec4(-normalize(SCENEJS_uLightDir\" + i + \"), 0.0);\");\n                    }\n                }\n\n                if (light.mode == \"point\") {\n\n                    /* Positional light\n                     */\n                    if (light.space == \"world\") {\n\n                        /* World space light - transform position to View space\n                         */\n                        src.push(\"tmpVec3 = ((SCENEJS_uVMatrix * vec4(SCENEJS_uLightPos\" + i + \", 1.0)).xyz - worldVertex.xyz);\");\n                        src.push(\"SCENEJS_vViewLightVecAndDist\" + i + \" = vec4(normalize(tmpVec3), length(tmpVec3));\");\n\n                    } else {\n\n                        /* View space light\n                         */\n                        src.push(\"tmpVec3 = (SCENEJS_uLightPos\" + i + \".xyz - worldVertex.xyz);\");\n                        src.push(\"SCENEJS_vViewLightVecAndDist\" + i + \" = vec4(normalize(tmpVec3), length(tmpVec3));\");\n                    }\n                }\n            }\n        }\n\n        src.push(\"SCENEJS_vWorldEyeVec = normalize(SCENEJS_uWorldEye - worldVertex.xyz);\");\n\n        if (texturing) {                                                        // varyings for fragment texturing\n            if (states.geometry.uvBuf) {\n                src.push(\"SCENEJS_vUVCoord = SCENEJS_aUVCoord;\");\n            }\n            if (states.geometry.uvBuf2) {\n                src.push(\"SCENEJS_vUVCoord2 = SCENEJS_aUVCoord2;\");\n            }\n        }\n\n        if (states.geometry.colorBuf) {\n            src.push(\"SCENEJS_vColor = SCENEJS_aVertexColor;\");                 // Varyings for fragment interpolated vertex coloring\n        }\n        src.push(\"}\");\n\n\n        if (false && debugCfg.logScripts === true) {\n            SceneJS.log.info(src);\n        }\n        return src;\n    };\n\n    /*-----------------------------------------------------------------------------------------------------------------\n     * Rendering Fragment shader\n     *---------------------------------------------------------------------------------------------------------------*/\n\n    this._composeRenderingFragmentShader = function (states) {\n\n        var customShaders = states.shader.shaders || {};\n\n        // Do a full custom shader replacement if code supplied without hooks\n        if (customShaders.fragment\n            && customShaders.fragment.code\n            && customShaders.fragment.code != \"\"\n            && SceneJS._isEmpty(customShaders.fragment.hooks)) {\n            return [customShaders.fragment.code];\n        }\n\n        var customFragmentShader = customShaders.fragment || {};\n        var fragmentHooks = customFragmentShader.hooks || {};\n\n        var texturing = this._isTexturing(states);\n        var cubeMapping = this._isCubeMapping(states);\n        var normals = this._hasNormals(states);\n        var clipping = states.clips.clips.length > 0;\n\n        var src = [\"\\n\"];\n\n        src.push(\"precision mediump float;\");\n\n\n        if (clipping || fragmentHooks.worldPos) {\n            src.push(\"varying vec4 SCENEJS_vWorldVertex;\");             // World-space vertex\n        }\n\n        //  if (fragmentHooks.viewPos) {\n        src.push(\"varying vec4 SCENEJS_vViewVertex;\");              // View-space vertex\n        //  }\n\n        src.push(\"uniform float SCENEJS_uZNear;\");                      // Used in Z-pick mode\n        src.push(\"uniform float SCENEJS_uZFar;\");                       // Used in Z-pick mode\n\n\n        /*-----------------------------------------------------------------------------------\n         * Variables\n         *----------------------------------------------------------------------------------*/\n\n        if (clipping) {\n            for (var i = 0; i < states.clips.clips.length; i++) {\n                src.push(\"uniform float SCENEJS_uClipMode\" + i + \";\");\n                src.push(\"uniform vec4  SCENEJS_uClipNormalAndDist\" + i + \";\");\n            }\n        }\n\n        if (texturing) {\n            if (states.geometry.uvBuf) {\n                src.push(\"varying vec2 SCENEJS_vUVCoord;\");\n            }\n            if (states.geometry.uvBuf2) {\n                src.push(\"varying vec2 SCENEJS_vUVCoord2;\");\n            }\n            var layer;\n            for (var i = 0, len = states.texture.layers.length; i < len; i++) {\n                layer = states.texture.layers[i];\n                src.push(\"uniform sampler2D SCENEJS_uSampler\" + i + \";\");\n                if (layer.matrix) {\n                    src.push(\"uniform mat4 SCENEJS_uLayer\" + i + \"Matrix;\");\n                }\n                src.push(\"uniform float SCENEJS_uLayer\" + i + \"BlendFactor;\");\n            }\n        }\n\n        if (normals && cubeMapping) {\n            var layer;\n            for (var i = 0, len = states.cubemap.layers.length; i < len; i++) {\n                layer = states.cubemap.layers[i];\n                src.push(\"uniform samplerCube SCENEJS_uCubeMapSampler\" + i + \";\");\n                src.push(\"uniform float SCENEJS_uCubeMapIntensity\" + i + \";\");\n            }\n        }\n\n        /* True when lighting\n         */\n        src.push(\"uniform bool  SCENEJS_uBackfaceTexturing;\");\n        src.push(\"uniform bool  SCENEJS_uBackfaceLighting;\");\n        src.push(\"uniform bool  SCENEJS_uSpecularLighting;\");\n        src.push(\"uniform bool  SCENEJS_uClipping;\");\n        src.push(\"uniform bool  SCENEJS_uAmbient;\");\n        src.push(\"uniform bool  SCENEJS_uDiffuse;\");\n        src.push(\"uniform bool  SCENEJS_uReflection;\");\n\n        // Added in v4.0 to support depth targets\n        src.push(\"uniform bool  SCENEJS_uDepthMode;\");\n\n        /* True when rendering transparency\n         */\n        src.push(\"uniform bool  SCENEJS_uTransparent;\");\n\n        /* Vertex color variable\n         */\n        if (states.geometry.colorBuf) {\n            src.push(\"varying vec4 SCENEJS_vColor;\");\n        }\n\n        src.push(\"uniform vec3  SCENEJS_uAmbientColor;\");                         // Scene ambient colour - taken from clear colour\n\n        src.push(\"uniform vec3  SCENEJS_uMaterialColor;\");\n        src.push(\"uniform float SCENEJS_uMaterialAlpha;\");\n        src.push(\"uniform float SCENEJS_uMaterialEmit;\");\n        src.push(\"uniform vec3  SCENEJS_uMaterialSpecularColor;\");\n        src.push(\"uniform float SCENEJS_uMaterialSpecular;\");\n        src.push(\"uniform float SCENEJS_uMaterialShine;\");\n\n        src.push(\"varying vec3 SCENEJS_vWorldEyeVec;\");                          // Direction of world-space vertex from eye\n\n        if (normals) {\n\n            src.push(\"varying vec3 SCENEJS_vWorldNormal;\");                  // World-space normal\n            src.push(\"varying vec3 SCENEJS_vViewNormal;\");                   // View-space normal\n\n            var light;\n            for (var i = 0; i < states.lights.lights.length; i++) {\n                light = states.lights.lights[i];\n                if (light.mode == \"ambient\") {\n                    continue;\n                }\n                src.push(\"uniform vec3  SCENEJS_uLightColor\" + i + \";\");\n                if (light.mode == \"point\") {\n                    src.push(\"uniform vec3  SCENEJS_uLightAttenuation\" + i + \";\");\n                }\n                src.push(\"varying vec4  SCENEJS_vViewLightVecAndDist\" + i + \";\");         // Vector from light to vertex\n            }\n        }\n\n        if (customFragmentShader.code) {\n            src.push(\"\\n\" + customFragmentShader.code + \"\\n\");\n        }\n\n        src.push(\"void main(void) {\");\n\n        src.push(\"  vec3    ambient= SCENEJS_uAmbient ? SCENEJS_uAmbientColor : vec3(0.0, 0.0, 0.0);\");\n\n        /*-----------------------------------------------------------------------------------\n         * Logic - Clipping\n         *----------------------------------------------------------------------------------*/\n\n        if (clipping) {\n            src.push(\"if (SCENEJS_uClipping) {\");\n            src.push(\"  float   dist;\");\n            for (var i = 0; i < states.clips.clips.length; i++) {\n                src.push(\"    if (SCENEJS_uClipMode\" + i + \" != 0.0) {\");\n                src.push(\"        dist = dot(SCENEJS_vWorldVertex.xyz, SCENEJS_uClipNormalAndDist\" + i + \".xyz) - SCENEJS_uClipNormalAndDist\" + i + \".w;\");\n                src.push(\"        if (SCENEJS_uClipMode\" + i + \" == 1.0) {\");\n                src.push(\"            if (dist > 0.0) { discard; }\");\n                src.push(\"        }\");\n                src.push(\"        if (SCENEJS_uClipMode\" + i + \" == 2.0) {\");\n                src.push(\"            if (dist > 0.0) { discard; }\");\n                src.push(\"        }\");\n                src.push(\"    }\");\n            }\n            src.push(\"}\");\n        }\n\n        if (texturing && states.geometry.uvBuf && fragmentHooks.texturePos) {\n            src.push(fragmentHooks.texturePos + \"(SCENEJS_vUVCoord);\");\n        }\n\n        if (fragmentHooks.worldPos) {\n            src.push(fragmentHooks.worldPos + \"(SCENEJS_vWorldVertex);\");\n        }\n\n        if (fragmentHooks.viewPos) {\n            src.push(fragmentHooks.viewPos + \"(SCENEJS_vViewVertex);\");\n        }\n\n        if (fragmentHooks.worldEyeVec) {\n            src.push(fragmentHooks.worldEyeVec + \"(SCENEJS_vWorldEyeVec);\");\n        }\n\n        if (normals && fragmentHooks.worldNormal) {\n            src.push(fragmentHooks.worldNormal + \"(SCENEJS_vWorldNormal);\");\n        }\n\n        if (normals && fragmentHooks.viewNormal) {\n            src.push(fragmentHooks.viewNormal + \"(SCENEJS_vViewNormal);\");\n        }\n\n        if (states.geometry.colorBuf) {\n            src.push(\"  vec3    color   = SCENEJS_vColor.rgb;\");\n        } else {\n            src.push(\"  vec3    color   = SCENEJS_uMaterialColor;\")\n        }\n\n        src.push(\"  float alpha         = SCENEJS_uMaterialAlpha;\");\n        src.push(\"  float emit          = SCENEJS_uMaterialEmit;\");\n        src.push(\"  float specular      = SCENEJS_uMaterialSpecular;\");\n        src.push(\"  vec3  specularColor = SCENEJS_uMaterialSpecularColor;\");\n        src.push(\"  float shine         = SCENEJS_uMaterialShine;\");\n\n        if (fragmentHooks.materialBaseColor) {\n            src.push(\"color=\" + fragmentHooks.materialBaseColor + \"(color);\");\n        }\n        if (fragmentHooks.materialAlpha) {\n            src.push(\"alpha=\" + fragmentHooks.materialAlpha + \"(alpha);\");\n        }\n        if (fragmentHooks.materialEmit) {\n            src.push(\"emit=\" + fragmentHooks.materialEmit + \"(emit);\");\n        }\n        if (fragmentHooks.materialSpecular) {\n            src.push(\"specular=\" + fragmentHooks.materialSpecular + \"(specular);\");\n        }\n        if (fragmentHooks.materialSpecularColor) {\n            src.push(\"specularColor=\" + fragmentHooks.materialSpecularColor + \"(specularColor);\");\n        }\n        if (fragmentHooks.materialShine) {\n            src.push(\"shine=\" + fragmentHooks.materialShine + \"(shine);\");\n        }\n\n        if (normals) {\n            src.push(\"  float   attenuation = 1.0;\");\n            src.push(\"  vec3    viewNormalVec = SCENEJS_vViewNormal;\");\n            src.push(\"  vec3    worldNormalVec = SCENEJS_vWorldNormal;\");\n        }\n\n        var layer;\n        if (texturing) {\n\n            if (normals) {\n                src.push(\"if (SCENEJS_uBackfaceTexturing || dot(SCENEJS_vWorldNormal, SCENEJS_vWorldEyeVec) > 0.0) {\");\n            }\n\n            src.push(\"  vec4    texturePos;\");\n            src.push(\"  vec2    textureCoord=vec2(0.0,0.0);\");\n\n            for (var i = 0, len = states.texture.layers.length; i < len; i++) {\n                layer = states.texture.layers[i];\n\n                /* Texture input\n                 */\n                if (layer.applyFrom == \"normal\" && normals) {\n                    if (states.geometry.normalBuf) {\n                        src.push(\"texturePos=vec4(viewNormalVec.xyz, 1.0);\");\n                    } else {\n                        SceneJS.log.warn(\"Texture layer applyFrom='normal' but geo has no normal vectors\");\n                        continue;\n                    }\n                }\n                if (layer.applyFrom == \"uv\") {\n                    if (states.geometry.uvBuf) {\n                        src.push(\"texturePos = vec4(SCENEJS_vUVCoord.s, SCENEJS_vUVCoord.t, 1.0, 1.0);\");\n                    } else {\n                        SceneJS.log.warn(\"Texture layer applyTo='uv' but geometry has no UV coordinates\");\n                        continue;\n                    }\n                }\n                if (layer.applyFrom == \"uv2\") {\n                    if (states.geometry.uvBuf2) {\n                        src.push(\"texturePos = vec4(SCENEJS_vUVCoord2.s, SCENEJS_vUVCoord2.t, 1.0, 1.0);\");\n                    } else {\n                        SceneJS.log.warn(\"Texture layer applyTo='uv2' but geometry has no UV2 coordinates\");\n                        continue;\n                    }\n                }\n\n                /* Texture matrix\n                 */\n                if (layer.matrix) {\n                    src.push(\"textureCoord=(SCENEJS_uLayer\" + i + \"Matrix * texturePos).xy;\");\n                } else {\n                    src.push(\"textureCoord=texturePos.xy;\");\n                }\n\n                /* Alpha from Texture\n                 */\n                if (layer.applyTo == \"alpha\") {\n                    if (layer.blendMode == \"multiply\") {\n                        src.push(\"alpha = alpha * (SCENEJS_uLayer\" + i + \"BlendFactor * texture2D(SCENEJS_uSampler\" + i + \", vec2(textureCoord.x, 1.0 - textureCoord.y)).b);\");\n                    } else if (layer.blendMode == \"add\") {\n                        src.push(\"alpha = ((1.0 - SCENEJS_uLayer\" + i + \"BlendFactor) * alpha) + (SCENEJS_uLayer\" + i + \"BlendFactor * texture2D(SCENEJS_uSampler\" + i + \", vec2(textureCoord.x, 1.0 - textureCoord.y)).b);\");\n                    }\n\n                    //=====================================================================\n                    // TODO: \"mix\" blendMode\n                    //=====================================================================\n                }\n\n                /* Texture output\n                 */\n                if (layer.applyTo == \"baseColor\") {\n                    if (layer.blendMode == \"multiply\") {\n                        src.push(\"color = color * (SCENEJS_uLayer\" + i + \"BlendFactor * texture2D(SCENEJS_uSampler\" + i + \", vec2(textureCoord.x, 1.0 - textureCoord.y)).rgb);\");\n                    } else {\n                        src.push(\"color = ((1.0 - SCENEJS_uLayer\" + i + \"BlendFactor) * color) + (SCENEJS_uLayer\" + i + \"BlendFactor * texture2D(SCENEJS_uSampler\" + i + \", vec2(textureCoord.x, 1.0 - textureCoord.y)).rgb);\");\n                    }\n                }\n\n                if (layer.applyTo == \"emit\") {\n                    if (layer.blendMode == \"multiply\") {\n                        src.push(\"emit  = emit * (SCENEJS_uLayer\" + i + \"BlendFactor * texture2D(SCENEJS_uSampler\" + i + \", vec2(textureCoord.x, 1.0 - textureCoord.y)).r);\");\n                    } else {\n                        src.push(\"emit = ((1.0 - SCENEJS_uLayer\" + i + \"BlendFactor) * emit) + (SCENEJS_uLayer\" + i + \"BlendFactor * texture2D(SCENEJS_uSampler\" + i + \", vec2(textureCoord.x, 1.0 - textureCoord.y)).r);\");\n                    }\n                }\n\n                if (layer.applyTo == \"specular\" && normals) {\n                    if (layer.blendMode == \"multiply\") {\n                        src.push(\"specular  = specular * (SCENEJS_uLayer\" + i + \"BlendFactor * texture2D(SCENEJS_uSampler\" + i + \", vec2(textureCoord.x, 1.0 - textureCoord.y)).r);\");\n                    } else {\n                        src.push(\"specular = ((1.0 - SCENEJS_uLayer\" + i + \"BlendFactor) * specular) + (SCENEJS_uLayer\" + i + \"BlendFactor * texture2D(SCENEJS_uSampler\" + i + \", vec2(textureCoord.x, 1.0 - textureCoord.y)).r);\");\n                    }\n                }\n\n                if (layer.applyTo == \"shine\") {\n                    if (layer.blendMode == \"multiply\") {\n                        src.push(\"shine  = shine * (SCENEJS_uLayer\" + i + \"BlendFactor * texture2D(SCENEJS_uSampler\" + i + \", vec2(textureCoord.x, 1.0 - textureCoord.y)).r);\");\n                    } else {\n                        src.push(\"shine = ((1.0 - SCENEJS_uLayer\" + i + \"BlendFactor) * shine) + (SCENEJS_uLayer\" + i + \"BlendFactor * texture2D(SCENEJS_uSampler\" + i + \", vec2(textureCoord.x, 1.0 - textureCoord.y)).r);\");\n                    }\n                }\n\n                if (layer.applyTo == \"normals\" && normals) {\n                    src.push(\"vec3 bump = normalize(texture2D(SCENEJS_uSampler\" + i + \", vec2(textureCoord.x, -textureCoord.y)).xyz * 2.0 - 1.0);\");\n                    src.push(\"worldNormalVec = bump;\");\n                }\n            }\n            if (normals) {\n                src.push(\"}\");\n            }\n        }\n\n        if (normals && cubeMapping) {\n            src.push(\"if (SCENEJS_uReflection) {\"); // Flag which can enable/disable reflection\n            src.push(\"vec3 envLookup = reflect(normalize(SCENEJS_vWorldEyeVec), normalize(worldNormalVec));\");\n            src.push(\"envLookup.y = envLookup.y * -1.0;\"); // Need to flip textures on Y-axis for some reason\n            src.push(\"vec4 envColor;\");\n            for (var i = 0, len = states.cubemap.layers.length; i < len; i++) {\n                layer = states.cubemap.layers[i];\n                src.push(\"envColor = textureCube(SCENEJS_uCubeMapSampler\" + i + \", envLookup);\");\n                src.push(\"color = mix(color, envColor.rgb, specular * SCENEJS_uCubeMapIntensity\" + i + \");\");\n            }\n            src.push(\"}\"); // if (SCENEJS_uReflection)\n        }\n\n        src.push(\"  vec4    fragColor;\");\n\n        if (normals) {\n\n            src.push(\"if (SCENEJS_uBackfaceLighting || dot(SCENEJS_vWorldNormal, SCENEJS_vWorldEyeVec) > 0.0) {\");\n\n            src.push(\"  vec3    lightValue      = vec3(0.0, 0.0, 0.0);\");\n            src.push(\"  vec3    specularValue   = vec3(0.0, 0.0, 0.0);\");\n            src.push(\"  vec3    viewLightVec;\");\n            src.push(\"  float   dotN;\");\n            src.push(\"  float   lightDist;\");\n\n            var light;\n\n            for (var i = 0, len = states.lights.lights.length; i < len; i++) {\n                light = states.lights.lights[i];\n\n                if (light.mode == \"ambient\") {\n                    continue;\n                }\n\n                src.push(\"viewLightVec = SCENEJS_vViewLightVecAndDist\" + i + \".xyz;\");\n\n                if (light.mode == \"point\") {\n\n                    src.push(\"dotN = max(dot(viewNormalVec, viewLightVec), 0.0);\");\n\n                    //src.push(\"if (dotN > 0.0) {\");\n\n                    src.push(\"lightDist = SCENEJS_vViewLightVecAndDist\" + i + \".w;\");\n\n                    src.push(\"attenuation = 1.0 - (\" +\n                        \"  SCENEJS_uLightAttenuation\" + i + \"[0] + \" +\n                        \"  SCENEJS_uLightAttenuation\" + i + \"[1] * lightDist + \" +\n                        \"  SCENEJS_uLightAttenuation\" + i + \"[2] * lightDist * lightDist);\");\n\n                    if (light.diffuse) {\n                        src.push(\"if (SCENEJS_uDiffuse) {\");\n                        src.push(\"      lightValue += dotN * SCENEJS_uLightColor\" + i + \" * attenuation;\");\n                        src.push(\"}\");\n                    }\n\n                    if (light.specular) {\n                        src.push(\"if (SCENEJS_uSpecularLighting) {\");\n                        src.push(\"    specularValue += specularColor * SCENEJS_uLightColor\" + i +\n                            \" * specular * pow(max(dot(reflect(-viewLightVec, -viewNormalVec), vec3(0.0,0.0,1.0)), 0.0), shine) * attenuation;\");\n                        src.push(\"}\");\n                    }\n                    //src.push(\"}\");\n                }\n\n                if (light.mode == \"dir\") {\n\n                    src.push(\"dotN = max(dot(viewNormalVec, viewLightVec), 0.0);\");\n\n                    //src.push(\"if (dotN > 0.0) {\");\n                    if (light.diffuse) {\n                        src.push(\"if (SCENEJS_uDiffuse) {\");\n                        src.push(\"      lightValue += dotN * SCENEJS_uLightColor\" + i + \";\");\n                        src.push(\"}\");\n                    }\n\n                    if (light.specular) {\n                        src.push(\"if (SCENEJS_uSpecularLighting) {\");\n                        src.push(\"    specularValue += specularColor * SCENEJS_uLightColor\" + i +\n                            \" * specular * pow(max(dot(reflect(-viewLightVec, -viewNormalVec), vec3(0.0,0.0,1.0)), 0.0), shine);\");\n                        src.push(\"}\");\n                    }\n                    // src.push(\"}\");\n                }\n            }\n\n            src.push(\"      fragColor = vec4((specularValue.rgb + color.rgb * (lightValue.rgb + ambient.rgb)) + (emit * color.rgb), alpha);\");\n            src.push(\"   } else {\");\n            src.push(\"      fragColor = vec4((color.rgb + (emit * color.rgb)) *  (vec3(1.0, 1.0, 1.0) + ambient.rgb), alpha);\");\n            src.push(\"   }\");\n\n        } else { // No normals\n            src.push(\"fragColor = vec4((color.rgb + (emit * color.rgb)) *  (vec3(1.0, 1.0, 1.0) + ambient.rgb), alpha);\");\n        }\n\n        if (fragmentHooks.pixelColor) {\n            src.push(\"fragColor=\" + fragmentHooks.pixelColor + \"(fragColor);\");\n        }\n        if (false && debugCfg.whitewash === true) {\n            src.push(\"    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\");\n        } else {\n            src.push(\"    if (SCENEJS_uDepthMode) {\");\n            src.push(\"          float depth = length(SCENEJS_vViewVertex) / (SCENEJS_uZFar - SCENEJS_uZNear);\");\n            src.push(\"          const vec4 bias = vec4(1.0 / 255.0,\");\n            src.push(\"          1.0 / 255.0,\");\n            src.push(\"          1.0 / 255.0,\");\n            src.push(\"          0.0);\");\n            src.push(\"          float r = depth;\");\n            src.push(\"          float g = fract(r * 255.0);\");\n            src.push(\"          float b = fract(g * 255.0);\");\n            src.push(\"          float a = fract(b * 255.0);\");\n            src.push(\"          vec4 colour = vec4(r, g, b, a);\");\n            src.push(\"          gl_FragColor = colour - (colour.yzww * bias);\");\n            src.push(\"    } else {\");\n            src.push(\"          gl_FragColor = fragColor;\");\n            src.push(\"    };\");\n        }\n        src.push(\"}\");\n\n        return src;\n    };\n\n})();/**\n * @class Source code for pick and draw shader programs, to be compiled into one or more {@link SceneJS_Program}s\n * @private\n * \n * @param {String} hash Hash code identifying the rendering capabilities of the programs\n * @param {String} pickVertexSrc Source code of the pick vertex shader\n * @param {String} pickFragmentSrc Source code of the pick fragment shader\n * @param {String} drawVertexSrc Source code of the draw vertex shader\n * @param {String} drawFragmentSrc Source code of the draw fragment shader\n */\nvar SceneJS_ProgramSource = function(hash, pickVertexSrc, pickFragmentSrc, drawVertexSrc, drawFragmentSrc) {\n\n    /**\n     * Hash code identifying the capabilities of the {@link SceneJS_Program} that is compiled from this source\n     * @type String\n     */\n    this.hash = hash;\n\n    /**\n     * Source code for pick vertex shader\n     * @type String\n     */\n    this.pickVertexSrc = pickVertexSrc;\n\n    /**\n     * Source code for pick fragment shader\n     * @type String\n     */\n    this.pickFragmentSrc = pickFragmentSrc;\n\n    /**\n     * Source code for draw vertex shader\n     * @type String\n     */\n    this.drawVertexSrc = drawVertexSrc;\n\n    /**\n     * Source code for draw fragment shader\n     * @type String\n     */\n    this.drawFragmentSrc = drawFragmentSrc;\n\n    /**\n     * Count of {@link SceneJS_Program}s compiled from this program source code\n     * @type Number\n     */\n    this.useCount = 0;\n};\n\n/**  \n * @class Manages creation, sharing and recycle of {@link SceneJS_Program} instances\n * @private\n */\nvar SceneJS_ProgramFactory = function(cfg) {\n\n    this._canvas = cfg.canvas;\n\n    this._programs = {};\n\n    this._nextProgramId = 0;\n};\n\n/**\n * Gets a program to render the given states\n */\nSceneJS_ProgramFactory.prototype.getProgram = function(hash, states) {\n\n    var program = this._programs[hash];\n\n    if (!program) {\n\n        var source = SceneJS_ProgramSourceFactory.getSource(hash, states);\n\n        program = new SceneJS_Program(this._nextProgramId++, hash, source, this._canvas.gl);\n\n        this._programs[hash] = program;\n    }\n\n    program.useCount++;\n\n    return program;\n};\n\n/**\n * Releases a program back to the shader factory\n */\nSceneJS_ProgramFactory.prototype.putProgram = function(program) {\n\n    if (--program.useCount <= 0) {\n\n        program.draw.destroy();\n        program.pick.destroy();\n\n        SceneJS_ProgramSourceFactory.putSource(program.hash);\n\n        this._programs[program.hash] = null;\n    }\n};\n\n/**\n * Notifies this shader factory that the WebGL context has been restored after previously being lost\n */\nSceneJS_ProgramFactory.prototype.webglRestored = function() {\n\n    var gl = this._canvas.gl;\n\n    for (var id in this._programs) {\n        if (this._programs.hasOwnProperty(id)) {\n            this._programs[id].build(gl);\n        }\n    }\n};\n\n/**\n * Destroys this shader factory\n */\nSceneJS_ProgramFactory.prototype.destroy = function() {\n};\n/**\n * @class Vertex and fragment shaders for pick and draw\n * @private\n *\n * @param {Number} id ID unique among all programs in the owner {@link SceneJS_ProgramFactory}\n * @param {String} hash Hash code which uniquely identifies the capabilities of the program, computed from hashes on the {@link Scene_Core}s that the {@link SceneJS_ProgramSource} composed to render\n * @param {SceneJS_ProgramSource} source Sourcecode from which the the program is compiled in {@link #build}\n * @param {WebGLRenderingContext} gl WebGL context \n */\nvar SceneJS_Program = function(id, hash, source, gl) {\n\n    /**\n     * ID for this program, unique among all programs in the display\n     * @type Number\n     */\n    this.id = id;\n\n    /**\n     * Hash code for this program's capabilities, same as the hash on {@link #source}\n     * @type String\n     */\n    this.hash = source.hash;\n\n    /**\n     * Source code for this program's shaders\n     * @type SceneJS_ProgramSource\n     */\n    this.source = source;\n\n    /**\n     * WebGL context on which this program's shaders are allocated\n     * @type WebGLRenderingContext\n     */\n    this.gl = gl;\n\n    /**\n     * The drawing program\n     * @type SceneJS._webgl.Program\n     */\n    this.draw = null;\n\n    /**\n     * The picking program\n     * @type SceneJS._webgl.Program\n     */\n    this.pick = null;\n\n    /**\n     * The count of display objects using this program\n     * @type Number\n     */\n    this.useCount = 0;\n\n    this.build(gl);\n};\n\n/**\n *  Creates the render and pick programs.\n * This is also re-called to re-create them after WebGL context loss.\n */\nSceneJS_Program.prototype.build = function(gl) {\n    /**\n     * Current draw uniform state cached as a bitfield to avoid costly extra uniform1i calls\n     * @type Number\n     */\n    this.drawUniformFlags = 0;\n\n    this.gl = gl;\n    this.draw = new SceneJS._webgl.Program(gl, [this.source.drawVertexSrc.join(\"\\n\")], [this.source.drawFragmentSrc.join(\"\\n\")]);\n    this.pick = new SceneJS._webgl.Program(gl, [this.source.pickVertexSrc.join(\"\\n\")], [this.source.pickFragmentSrc.join(\"\\n\")]);\n};\n/**\n * @class Manages creation and recycle of {@link SceneJS_Object} instances\n * @private\n */\nvar SceneJS_ObjectFactory = function() {\n\n};\n\n/**\n * @property {[SceneJS_Object]} _freeObjects Pool of free display objects, shared by all object factories\n */\nSceneJS_ObjectFactory.prototype._freeObjects = [];\n\n/**\n * @property {Number} _numFreeObjects Number of free objects\n */\nSceneJS_ObjectFactory.prototype._numFreeObjects = 0;\n\n/**\n * Gets a display object from this factory\n *\n * @param {String} id ID to assign to the object\n * @returns {SceneJS_Object} The object\n */\nSceneJS_ObjectFactory.prototype.getObject = function(id) {\n\n    var object;\n\n    if (this._numFreeObjects > 0) {\n\n        object = this._freeObjects[--this._numFreeObjects];\n        object.id = id;\n\n        return object;\n    }\n\n    return new SceneJS_Object(id);\n};\n\n/**\n * Releases a display object back to this factory\n * @param {SceneJS_Object} object Object to release\n */\nSceneJS_ObjectFactory.prototype.putObject = function (object) {\n\n    this._freeObjects[this._numFreeObjects++] = object;\n};/**\n * @class An object within a {@link SceneJS_Display}\n * @private\n */\nvar SceneJS_Object = function(id) {\n\n    /**\n     * ID for this objects, unique among all objects in the display\n     * @type Number\n     */\n    this.id = id;\n\n    /**\n     * Hash code for this object, unique among all objects in the display\n     * @type String\n     */\n    this.hash = null;\n\n    /**\n     * State sort key, computed from {@link #layer}, {@link #program} and {@link #texture}\n     * @type Number\n     */\n    this.sortKey = null;\n\n    /**\n     * Sequence of state chunks applied to render this object\n     * @type {[SceneJS_Chunk]} chunks\n     */\n    this.chunks = [];\n\n    /**\n     * Number of state chunks applied to render this object\n     * @type Number\n     */\n    this.chunksLen = 0;\n\n    /**\n     * Shader programs that render this object, also used for (re)computing {@link #sortKey}\n     * @type SceneJS_Program\n     */\n    this.program = null;\n\n    /**\n     * State core for the {@link SceneJS.Layer} that this object was compiled from, used for (re)computing {@link #sortKey} and visibility cull\n     */\n    this.layer = null;\n\n     /**\n     * State core for the {@link SceneJS.Texture} that this object was compiled from, used for (re)computing {@link #sortKey}\n     */\n    this.texture = null;\n\n    /**\n     * State core for the {@link SceneJS.Flags} that this object was compiled from, used for visibility cull\n     */\n    this.flags = null;\n\n    /**\n     * State core for the {@link SceneJS.Tag} that this object was compiled from, used for visibility cull\n     */\n    this.tag = null;\n};/**\n * @class A facade which exposes internal scene rendering state to \"rendered\" event listeners bound to scene graph nodes with {@link SceneJS.Node#bind}.\n *\n * <p>The listener is fired for each {@link SceneJS.Geometry} that is rendered within the subgraph of the bound node.\n * An instance of this facade is passed into the listener's handler, enabling the listener to obtain the various transform\n * matrices that are active at that {@link SceneJS.Geometry}.</p>\n *\n * <p>The facade instance is only valid within the callback's execution; internally, SceneJS reuses the same instance of the\n * facade with each scene.</p>\n */\nSceneJS.RenderContext = function(frameCtx) {\n    this._frameCtx = frameCtx;\n};\n\n/**\n * Get the projection matrix, as defined by the active {@link SceneJS.Camera} node.\n */\nSceneJS.RenderContext.prototype.getCameraMatrix = function() {\n    return this._frameCtx.cameraMat;\n};\n\n/**\n * Get the view matrix, as defined by the active {@link SceneJS.LookAt} node.\n */\nSceneJS.RenderContext.prototype.getViewMatrix = function() {\n    return this._frameCtx.viewMat;\n};\n\n/**\n * Get the model matrix, as defined by the active {@link SceneJS.XForm} node.\n */\nSceneJS.RenderContext.prototype.getModelMatrix = function() {\n    return this._frameCtx.modelMat;\n};\n\n/**\n * Transforms the given world coordinate by the model, view and projection matrices defined by the active {@link SceneJS.XForm}, {@link SceneJS.LookAt} and {@link SceneJS.Camera} nodes.\n * @returns [Number] The 2D Canvas-space coordinate\n */\nSceneJS.RenderContext.prototype.getCanvasPos = function(offset) {\n\n    this.getProjPos(offset);\n\n    var canvas = this._frameCtx.canvas.canvas;\n    var canvasWidth = canvas.width;\n    var canvasHeight = canvas.height;\n\n    /* Projection division and map to canvas\n     */\n    var pc = this._pc;\n\n    var x = (pc[0] / pc[3]) * canvasWidth * 0.5;\n    var y = (pc[1] / pc[3]) * canvasHeight * 0.5;\n\n    return {\n        x: x + (canvasWidth * 0.5),\n        y: canvasHeight - y - (canvasHeight * 0.5)\n    };\n};\n\n/**\n * Transforms the given world coordinate by the model and view matrices defined by the active {@link SceneJS.XForm} and {@link SceneJS.LookAt} nodes.\n * @returns [Number] The 3D Projection-space coordinate\n */\nSceneJS.RenderContext.prototype.getCameraPos = function(offset) {\n    this.getProjPos(offset);\n    this._camPos = SceneJS_math_normalizeVec3(this._pc, [0,0,0]);\n    return { x: this._camPos[0], y: this._camPos[1], z: this._camPos[2] }; // TODO: return _camPos and lose the temp object\n};\n\n\nSceneJS.RenderContext.prototype.getProjPos = function(offset) {\n    this.getViewPos(offset);\n    this._pc = SceneJS_math_transformPoint3(this._frameCtx.cameraMat, this._vc);\n    return { x: this._pc[0], y: this._pc[1], z: this._pc[2],  w: this._pc[3] };\n};\n\nSceneJS.RenderContext.prototype.getViewPos = function(offset) {\n    this.getWorldPos(offset);\n    this._vc = SceneJS_math_transformPoint3(this._frameCtx.viewMat, this._wc);\n    return { x: this._vc[0], y: this._vc[1], z: this._vc[2],  w: this._vc[3] };\n};\n\nSceneJS.RenderContext.prototype.getWorldPos = function(offset) {\n    this._wc = SceneJS_math_transformPoint3(this._frameCtx.modelMat, offset || [0,0,0]);\n    return { x: this._wc[0], y: this._wc[1], z: this._wc[2],  w: this._wc[3] };\n};\n/**\n * @class A chunk of WebGL state changes to render a {@link SceneJS_Core} for drawing and picking (if applicable to the core type).\n *\n * <p>Instances of this class are created and recycled by a {@link SceneJS_ChunkFactory}.</p>\n *\n * <p>Each {@link SceneJS_Object} has a list of chunks to render it's {@link SceneJS_Core}s</p>\n *\n * @private\n */\nvar SceneJS_Chunk = function() {};\n\n/**\n * Initialises the chunk. This is called within the constructor, and also to by the owner {@link SceneJS_ChunkFactory}\n * when recycling a chunk from its free chunk pool. This method sets the given properties on the chunk, then calls the\n * chunk instance's <b>build</b> method if the chunk has been augmented with one.\n *\n * @param {String} id Chunk ID\n * @param {SceneJS_Program} program Program to render the chunk\n * @param {SceneJS_Core} core The state core rendered by this chunk\n * @param {SceneJS_Core} core2 Another state core rendered by this chunk, only used for geometry\n */\nSceneJS_Chunk.prototype.init = function(id, program, core, core2) {\n\n    this.id = id;\n    this.program = program;\n    this.core = core;\n    this.core2 = core2;\n\n    if (this.build) {\n        this.build();\n    }\n};\n/**\n * @class Manages creation, reuse and destruction of {@link SceneJS_Chunk}s for the nodes within a single {@link SceneJS_Display}.\n * @private\n */\nvar SceneJS_ChunkFactory = function() {\n\n    this._chunks = {};\n    this.chunkTypes = SceneJS_ChunkFactory.chunkTypes;\n};\n\n/**\n * Sub-classes of {@link SceneJS_Chunk} provided by this factory\n */\nSceneJS_ChunkFactory.chunkTypes = {};    // Supported chunk classes, installed by #createChunkType\n\n/**\n * Free pool of unused {@link SceneJS_Chunk} instances\n */\nSceneJS_ChunkFactory._freeChunks = {};    // Free chunk pool for each type\n\n/**\n * Creates a chunk class for instantiation by this factory\n *\n * @param params Members to augment the chunk class prototype with\n * @param params.type Type name for the new chunk class\n * @param params.draw Method to render the chunk in draw render\n * @param params.pick Method to render the chunk in pick render\n * @param params.drawAndPick Method to render the chunk in both draw and pick renders\n */\nSceneJS_ChunkFactory.createChunkType = function(params) {\n\n    if (!params.type) {\n        throw \"'type' expected in params\";\n    }\n\n    var supa = SceneJS_Chunk;\n\n    var chunkClass = function() { // Create the class\n        this.useCount = 0;\n        this.init.apply(this, arguments);\n    };\n\n    chunkClass.prototype = new supa();              // Inherit from base class\n    chunkClass.prototype.constructor = chunkClass;\n\n    if (params.drawAndPick) {                       // Common method for draw and pick render\n        params.draw = params.pick = params.drawAndPick;\n    }\n\n    SceneJS_ChunkFactory.chunkTypes[params.type] = chunkClass;\n\n    SceneJS._apply(params, chunkClass.prototype);   // Augment subclass\n\n    SceneJS_ChunkFactory._freeChunks[params.type] = { // Set up free chunk pool for this type\n        chunks: [],\n        chunksLen: 0\n    };\n\n    return chunkClass;\n};\n\n/**\n *\n */\nSceneJS_ChunkFactory.prototype.getChunk = function(chunkId, type, program, core, core2) {\n\n    var chunkClass = SceneJS_ChunkFactory.chunkTypes[type]; // Check type supported\n\n    if (!chunkClass) {\n        throw \"chunk type not supported: '\" + type + \"'\";\n    }\n\n    var chunk = this._chunks[chunkId];  // Try to reference an existing chunk\n\n    if (chunk) {\n        chunk.useCount++;\n        return chunk;\n    }\n\n    var freeChunks = SceneJS_ChunkFactory._freeChunks[type]; // Try to recycle a free chunk\n\n    if (freeChunks.chunksLen > 0) {\n        chunk = freeChunks.chunks[--freeChunks.chunksLen];\n    }\n\n    if (chunk) {    // Reinitialise the recycled chunk\n\n        chunk.init(chunkId, program, core, core2);\n\n    } else {        // Instantiate a fresh chunk\n\n        chunk = new chunkClass(chunkId, program, core, core2); // Create new chunk\n\n    }\n\n    chunk.type = type;\n\n    chunk.useCount = 1;\n\n    this._chunks[chunkId] = chunk;\n\n    return chunk;\n};\n\n/**\n * Releases a display state chunk back to this factory, destroying it if the chunk's use count is then zero.\n *\n * @param {SceneJS_Chunk} chunk Chunk to release\n */\nSceneJS_ChunkFactory.prototype.putChunk = function (chunk) {\n\n    if (chunk.useCount == 0) {\n        return; // In case of excess puts\n    }\n\n    if (--chunk.useCount <= 0) {    // Release shared core if use count now zero\n\n        if (chunk.recycle) {\n            chunk.recycle();\n        }\n\n        this._chunks[chunk.id] = null;\n\n        var freeChunks = SceneJS_ChunkFactory._freeChunks[chunk.type];\n\n        freeChunks.chunks[freeChunks.chunksLen++] = chunk;\n    }\n};\n\n/**\n * Re-cache shader variable locations for each active chunk and reset VAOs if any\n */\nSceneJS_ChunkFactory.prototype.webglRestored = function () {\n\n    var chunk;\n\n    for (var chunkId in this._chunks) {\n\n        if (this._chunks.hasOwnProperty(chunkId)) {\n\n            chunk = this._chunks[chunkId]; // Re-cache chunk's shader variable locations\n\n            if (chunk.build) {\n                chunk.build();\n            }\n        }\n    }\n};\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"camera\",\n\n    build : function() {\n\n        this._uPMatrixDraw = this.program.draw.getUniformLocation(\"SCENEJS_uPMatrix\");\n        this._uZNearDraw = this.program.draw.getUniformLocation(\"SCENEJS_uZNear\");\n        this._uZFarDraw = this.program.draw.getUniformLocation(\"SCENEJS_uZFar\");\n\n        this._uPMatrixPick = this.program.pick.getUniformLocation(\"SCENEJS_uPMatrix\");\n        this._uZNearPick = this.program.pick.getUniformLocation(\"SCENEJS_uZNear\");\n        this._uZFarPick = this.program.pick.getUniformLocation(\"SCENEJS_uZFar\");\n    },\n\n    draw : function(frameCtx) {\n\n        if (this.core.dirty) {\n            this.core.rebuild();\n        }\n\n        var gl = this.program.gl;\n\n        if (this._uPMatrixDraw) {\n            gl.uniformMatrix4fv(this._uPMatrixDraw, gl.FALSE, this.core.mat);\n        }\n\n        if (this._uZNearDraw) {\n            gl.uniform1f(this._uZNearDraw, this.core.optics.near);\n        }\n\n        if (this._uZFarDraw) {\n            gl.uniform1f(this._uZFarDraw, this.core.optics.far);\n        }\n\n        frameCtx.cameraMat = this.core.mat; // Query only in draw pass\n    },\n\n\n    pick : function(frameCtx) {\n\n        var gl = this.program.gl;\n\n        if (this._uPMatrixPick) {\n            gl.uniformMatrix4fv(this._uPMatrixPick, gl.FALSE, this.core.mat);\n        }\n\n        if (frameCtx.rayPick) { // Z-pick pass: feed near and far clip planes into shader\n\n            if (this._uZNearPick) {\n                gl.uniform1f(this._uZNearPick, this.core.optics.near);\n            }\n\n            if (this._uZFarPick) {\n                gl.uniform1f(this._uZFarPick, this.core.optics.far);\n            }\n        }\n\n        frameCtx.cameraMat = this.core.mat; // Query only in draw pass\n    }\n});/**\n * Create display state chunk type for draw and pick render of user clipping planes\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"clips\",\n\n    build : function() {\n\n        this._draw = this._draw || [];\n\n        var draw = this.program.draw;\n\n        for (var i = 0, len = this.core.clips.length; i < len; i++) {\n            this._draw[i] = {\n                uClipMode :draw.getUniformLocation(\"SCENEJS_uClipMode\" + i),\n                uClipNormalAndDist: draw.getUniformLocation(\"SCENEJS_uClipNormalAndDist\" + i)\n            };\n        }\n\n        this._pick = this._pick || [];\n\n        var pick = this.program.pick;\n\n        for (var i = 0, len = this.core.clips.length; i < len; i++) {\n            this._pick[i] = {\n                uClipMode :pick.getUniformLocation(\"SCENEJS_uClipMode\" + i),\n                uClipNormalAndDist: pick.getUniformLocation(\"SCENEJS_uClipNormalAndDist\" + i)\n            };\n        }\n    },\n\n    drawAndPick: function(frameCtx) {\n\n        var vars = (frameCtx.pick) ? this._pick : this._draw;\n\n        var mode;\n        var normalAndDist;\n        var clips = this.core.clips;\n        var clip;\n        var gl = this.program.gl;\n\n        for (var i = 0, len = clips.length; i < len; i++) {\n\n            if (frameCtx.pick) {\n                mode = vars[i].uClipMode;\n                normalAndDist = vars[i].uClipNormalAndDist;\n            } else {\n                mode = vars[i].uClipMode;\n                normalAndDist = vars[i].uClipNormalAndDist;\n            }\n\n            if (mode && normalAndDist) {\n\n                clip = clips[i];\n\n                if (clip.mode == \"inside\") {\n\n                    gl.uniform1f(mode, 2);\n                    gl.uniform4fv(normalAndDist, clip.normalAndDist);\n\n                } else if (clip.mode == \"outside\") {\n\n                    gl.uniform1f(mode, 1);\n                    gl.uniform4fv(normalAndDist, clip.normalAndDist);\n\n                } else { // disabled\n                    gl.uniform1f(mode, 0);\n                }\n            }\n        }\n    }\n});/**\n *\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type:\"draw\",\n\n    /**\n     * As we apply a list of state chunks in a {@link SceneJS_Display}, we track the ID of each chunk\n     * in order to avoid redundantly re-applying the same chunk.\n     *\n     * We don't want that for draw chunks however, because they contain GL drawElements calls,\n     * which we need to do for each object.\n     */\n    unique:true,\n\n    build:function () {\n        this._depthModeDraw = this.program.draw.getUniformLocation(\"SCENEJS_uDepthMode\");\n        this._depthModePick = this.program.pick.getUniformLocation(\"SCENEJS_uDepthMode\");\n    },\n\n    drawAndPick:function (frameCtx) {\n        var gl = this.program.gl;\n        gl.uniform1i(frameCtx.pick ? this._depthModePick : this._depthModeDraw, frameCtx.depthMode);\n        gl.drawElements(this.core.primitive, this.core.indexBuf.numItems, gl.UNSIGNED_SHORT, 0);\n        //frameCtx.textureUnit = 0;\n    }\n});\n/**\n *  Create display state chunk type for draw and pick render of flags\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"flags\",\n\n    build: function () {\n\n        var draw = this.program.draw;\n\n        this._uBackfaceTexturingDraw = draw.getUniformLocation(\"SCENEJS_uBackfaceTexturing\");\n        this._uBackfaceLightingDraw = draw.getUniformLocation(\"SCENEJS_uBackfaceLighting\");\n        this._uSpecularLightingDraw = draw.getUniformLocation(\"SCENEJS_uSpecularLighting\");\n        this._uClippingDraw = draw.getUniformLocation(\"SCENEJS_uClipping\");\n        this._uAmbientDraw = draw.getUniformLocation(\"SCENEJS_uAmbient\");\n        this._uDiffuseDraw = draw.getUniformLocation(\"SCENEJS_uDiffuse\");\n        this._uReflectionDraw = draw.getUniformLocation(\"SCENEJS_uReflection\");\n\n        var pick = this.program.pick;\n\n        this._uClippingPick = pick.getUniformLocation(\"SCENEJS_uClipping\");\n    },\n\n    drawAndPick: function (frameCtx) {\n\n        var gl = this.program.gl;\n\n        var backfaces = this.core.backfaces;\n\n        if (frameCtx.backfaces != backfaces) {\n            if (backfaces) {\n                gl.disable(gl.CULL_FACE);\n            } else {\n                gl.enable(gl.CULL_FACE);\n            }\n            frameCtx.backfaces = backfaces;\n        }\n\n        var frontface = this.core.frontface;\n\n        if (frameCtx.frontface != frontface) {\n            if (frontface == \"ccw\") {\n                gl.frontFace(gl.CCW);\n            } else {\n                gl.frontFace(gl.CW);\n            }\n            frameCtx.frontface = frontface;\n        }\n\n        var transparent = this.core.transparent;\n\n        if (frameCtx.transparent != transparent) {\n            if (transparent) {\n\n                // Entering a transparency bin\n\n                gl.enable(gl.BLEND);\n                gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                frameCtx.blendEnabled = true;\n\n            } else {\n\n                // Leaving a transparency bin\n\n                gl.disable(gl.BLEND);\n                frameCtx.blendEnabled = false;\n            }\n            frameCtx.transparent = transparent;\n        }\n\n        if (frameCtx.pick) {\n            gl.uniform1i(this._uClippingPick, this.core.clipping);\n\n        } else {\n            var drawUniforms = (this.core.backfaceTexturing ? 1 : 0) +\n                (this.core.backfaceLighting ? 2 : 0) +\n                (this.core.specular ? 4 : 0) +\n                (this.core.clipping ? 8 : 0) +\n                (this.core.ambient ? 16 : 0) +\n                (this.core.diffuse ? 32 : 0) +\n                (this.core.reflection ? 64 : 0);\n            if (this.program.drawUniformFlags != drawUniforms) {\n                gl.uniform1i(this._uBackfaceTexturingDraw, this.core.backfaceTexturing);\n                gl.uniform1i(this._uBackfaceLightingDraw, this.core.backfaceLighting);\n                gl.uniform1i(this._uSpecularLightingDraw, this.core.specular);\n                gl.uniform1i(this._uClippingDraw, this.core.clipping);\n                gl.uniform1i(this._uAmbientDraw, this.core.ambient);\n                gl.uniform1i(this._uDiffuseDraw, this.core.diffuse);\n                gl.uniform1i(this._uReflectionDraw, this.core.reflection);\n                this.program.drawUniformFlags = drawUniforms;\n            }\n        }\n    }\n});\n/**\n *   Create display state chunk type for draw and pick render of renderTarget\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"renderTarget\",\n\n    // Avoid reapplication of this chunk type after a program switch.\n    programGlobal: true,\n\n    draw: function (frameCtx) {\n\n        var gl = this.program.gl;\n\n        // Flush and unbind any render buffer already bound\n        if (frameCtx.renderBuf) {\n            gl.finish();\n            frameCtx.renderBuf.unbind();\n            frameCtx.renderBuf = null;\n        }\n\n        // Set depthMode false and bail if no render buffer for this chunk\n        var renderBuf = this.core.renderBuf;\n        if (!renderBuf) {\n            frameCtx.depthMode = false;\n            return;\n        }\n\n        // Bind this chunk's render buffer, set depthMode, enable blend if depthMode false, clear buffer\n        renderBuf.bind();\n\n        frameCtx.depthMode = (this.core.bufType === \"depth\");\n\n        if (!frameCtx.depthMode) {\n\n            //  Enable blending for non-depth targets\n            if (frameCtx.blendEnabled) {\n                gl.enable(gl.BLEND);\n                gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n            }\n        }\n\n        var canvas = frameCtx.canvas.canvas;\n        gl.viewport(0, 0, canvas.width, canvas.height);\n        gl.clearColor(frameCtx.ambientColor[0], frameCtx.ambientColor[1], frameCtx.ambientColor[2], 1.0);\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\n      //  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n        frameCtx.renderBuf = renderBuf;\n    }\n});/**\n *  Create display state chunk type for draw and pick render of geometry\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type:\"geometry\",\n\n    build:function () {\n\n        var draw = this.program.draw;\n\n        this._aVertexDraw = draw.getAttribute(\"SCENEJS_aVertex\");\n        this._aNormalDraw = draw.getAttribute(\"SCENEJS_aNormal\");\n        this._aUVDraw = draw.getAttribute(\"SCENEJS_aUVCoord\");\n        this._aUV2Draw = draw.getAttribute(\"SCENEJS_aUVCoord2\");\n        this._aColorDraw = draw.getAttribute(\"SCENEJS_aVertexColor\");\n\n        this._aMorphVertexDraw = draw.getAttribute(\"SCENEJS_aMorphVertex\");\n        this._aMorphNormalDraw = draw.getAttribute(\"SCENEJS_aMorphNormal\");\n        this._uMorphFactorDraw = draw.getUniformLocation(\"SCENEJS_uMorphFactor\");\n\n        var pick = this.program.pick;\n\n        this._aVertexPick = pick.getAttribute(\"SCENEJS_aVertex\");\n        this._aNormalPick = pick.getAttribute(\"SCENEJS_aNormal\");\n        this._aUVPick = pick.getAttribute(\"SCENEJS_aUVCoord\");\n        this._aUV2Pick = pick.getAttribute(\"SCENEJS_aUVCoord2\");\n\n        this._aMorphVertexPick = pick.getAttribute(\"SCENEJS_aMorphVertex\");\n        this._aMorphNormalPick = pick.getAttribute(\"SCENEJS_aMorphNormal\");\n        this._uMorphFactorPick = pick.getUniformLocation(\"SCENEJS_uMorphFactor\");\n\n        this.VAO = null;\n        this.VAOMorphKey1 = 0;\n        this.VAOMorphKey2 = 0;\n        this.VAOHasInterleavedBuf = false;\n    },\n\n    recycle:function () {\n        if (this.VAO) {\n            // Guarantee that the old VAO is deleted immediately when recycling the object.\n            var VAOExt = this.program.gl.getExtension(\"OES_vertex_array_object\");\n            VAOExt.deleteVertexArrayOES(this.VAO);\n            this.VAO = null;\n        }\n    },\n\n    morphDraw:function () {\n        this.VAOMorphKey1 = this.core.key1;\n        this.VAOMorphKey2 = this.core.key2;\n\n        var target1 = this.core.targets[this.core.key1]; // Keys will update\n        var target2 = this.core.targets[this.core.key2];\n\n        if (this._aMorphVertexDraw) {\n            this._aVertexDraw.bindFloatArrayBuffer(target1.vertexBuf);\n            this._aMorphVertexDraw.bindFloatArrayBuffer(target2.vertexBuf);\n        } else if (this._aVertexDraw) {\n            this._aVertexDraw.bindFloatArrayBuffer(this.core2.vertexBuf);\n        }\n\n        if (this._aMorphNormalDraw) {\n            this._aNormalDraw.bindFloatArrayBuffer(target1.normalBuf);\n            this._aMorphNormalDraw.bindFloatArrayBuffer(target2.normalBuf);\n        } else if (this._aNormalDraw) {\n            this._aNormalDraw.bindFloatArrayBuffer(this.core2.normalBuf);\n        }\n\n        if (this._aUVDraw) {\n            this._aUVDraw.bindFloatArrayBuffer(this.core2.uvBuf);\n        }\n\n        if (this._aUV2Draw) {\n            this._aUV2Draw.bindFloatArrayBuffer(this.core2.uvBuf2);\n        }\n\n        if (this._aColorDraw) {\n            this._aColorDraw.bindFloatArrayBuffer(this.core2.colorBuf);\n        }\n\n        this.setDrawMorphFactor();\n    },\n\n    setDrawMorphFactor:function () {\n\n        if (this._uMorphFactorDraw) {\n            this.program.gl.uniform1f(this._uMorphFactorDraw, this.core.factor); // Bind LERP factor\n        }\n\n    },\n\n    draw:function (frameCtx) {\n        var doMorph = this.core.targets && this.core.targets.length;\n        var cleanInterleavedBuf = this.core2.interleavedBuf && !this.core2.interleavedBuf.dirty;\n\n        if (this.VAO) {\n            frameCtx.VAO.bindVertexArrayOES(this.VAO);\n            if (doMorph) {\n                if (this.VAOMorphKey1 == this.core.key1 && this.VAOMorphKey2 == this.core.key2) {\n                    this.setDrawMorphFactor();\n                    return;\n                }\n            } else if (cleanInterleavedBuf || !this.VAOHasInterleavedBuf) {\n                return;\n            }\n        } else if (frameCtx.VAO) {\n            // Start creating a new VAO by switching to the default VAO, which doesn't have attribs enabled.\n            frameCtx.VAO.bindVertexArrayOES(null);\n            this.VAO = frameCtx.VAO.createVertexArrayOES();\n            frameCtx.VAO.bindVertexArrayOES(this.VAO);\n            var gl = this.program.gl;\n        }\n\n        if (doMorph) {\n            this.morphDraw();\n        } else {\n            if (cleanInterleavedBuf) {\n                this.VAOHasInterleavedBuf = true;\n                this.core2.interleavedBuf.bind();\n                if (this._aVertexDraw) {\n                    this._aVertexDraw.bindInterleavedFloatArrayBuffer(3, this.core2.interleavedStride, this.core2.interleavedPositionOffset);\n                }\n                if (this._aNormalDraw) {\n                    this._aNormalDraw.bindInterleavedFloatArrayBuffer(3, this.core2.interleavedStride, this.core2.interleavedNormalOffset);\n                }\n                if (this._aUVDraw) {\n                    this._aUVDraw.bindInterleavedFloatArrayBuffer(2, this.core2.interleavedStride, this.core2.interleavedUVOffset);\n                }\n                if (this._aUV2Draw) {\n                    this._aUV2Draw.bindInterleavedFloatArrayBuffer(2, this.core2.interleavedStride, this.core2.interleavedUV2Offset);\n                }\n                if (this._aColorDraw) {\n                    this._aColorDraw.bindInterleavedFloatArrayBuffer(4, this.core2.interleavedStride, this.core2.interleavedColorOffset);\n                }\n            } else {\n                this.VAOHasInterleavedBuf = false;\n                if (this._aVertexDraw) {\n                    this._aVertexDraw.bindFloatArrayBuffer(this.core2.vertexBuf);\n                }\n\n                if (this._aNormalDraw) {\n                    this._aNormalDraw.bindFloatArrayBuffer(this.core2.normalBuf);\n                }\n\n                if (this._aUVDraw) {\n                    this._aUVDraw.bindFloatArrayBuffer(this.core2.uvBuf);\n                }\n\n                if (this._aUV2Draw) {\n                    this._aUV2Draw.bindFloatArrayBuffer(this.core2.uvBuf2);\n                }\n\n                if (this._aColorDraw) {\n                    this._aColorDraw.bindFloatArrayBuffer(this.core2.colorBuf);\n                }\n            }\n        }\n\n        this.core2.indexBuf.bind();\n\n    },\n\n    morphPick:function () {\n\n        var target1 = this.core.targets[this.core.key1]; // Keys will update\n        var target2 = this.core.targets[this.core.key2];\n\n        if (this._aMorphVertexPick) {\n            this._aVertexPick.bindFloatArrayBuffer(target1.vertexBuf);\n            this._aMorphVertexPick.bindFloatArrayBuffer(target2.vertexBuf);\n        } else if (this._aVertexPick) {\n            this._aVertexPick.bindFloatArrayBuffer(this.core2.vertexBuf);\n        }\n\n        if (this._aMorphNormalPick) {\n            this._aNormalPick.bindFloatArrayBuffer(target1.normalBuf);\n            this._aMorphNormalPick.bindFloatArrayBuffer(target2.normalBuf);\n        } else if (this._aNormalPick) {\n            this._aNormalPick.bindFloatArrayBuffer(this.core2.normalBuf);\n        }\n\n        if (this._aUVPick) {\n            this._aUVPick.bindFloatArrayBuffer(this.core2.uvBuf);\n        }\n\n        if (this._aUV2Pick) {\n            this._aUV2Pick.bindFloatArrayBuffer(this.core2.uvBuf2);\n        }\n\n        if (this._uMorphFactorPick) {\n            this.program.gl.uniform1f(this._uMorphFactorPick, this.core.factor); // Bind LERP factor\n        }\n\n    },\n\n    pick:function (frameCtx) {\n\n        if (this.core.targets && this.core.targets.length) {\n            this.morphPick();\n        } else {\n\n            if (this._aVertexPick) {\n                this._aVertexPick.bindFloatArrayBuffer(this.core2.vertexBuf);\n            }\n\n            if (this._aNormalPick) {\n                this._aNormalPick.bindFloatArrayBuffer(this.core2.normalBuf);\n            }\n\n            if (this._aUVPick) {\n                this._aUVPick.bindFloatArrayBuffer(this.core2.uvBuf);\n            }\n\n            if (this._aUV2Pick) {\n                this._aUV2Pick.bindFloatArrayBuffer(this.core2.uvBuf2);\n            }\n\n        }\n\n        this.core2.indexBuf.bind();\n    }\n});\n/**\n *  Create display state chunk type for draw render of lights projection\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type:\"lights\",\n\n    build:function () {\n\n        this._uAmbientColor = this._uAmbientColor || [];\n        this._uLightColor = this._uLightColor || [];\n        this._uLightDir = this._uLightDir || [];\n        this._uLightPos = this._uLightPos || [];\n        this._uLightCutOff = this._uLightCutOff || [];\n        this._uLightSpotExp = this._uLightSpotExp || [];\n        this._uLightAttenuation = this._uLightAttenuation || [];\n\n        var lights = this.core.lights;\n        var program = this.program;\n\n        for (var i = 0, len = lights.length; i < len; i++) {\n\n            switch (lights[i].mode) {\n\n                case \"ambient\":\n                    this._uAmbientColor[i] = (program.draw.getUniformLocation(\"SCENEJS_uAmbientColor\"));\n                    break;\n\n                case \"dir\":\n                    this._uLightColor[i] = program.draw.getUniformLocation(\"SCENEJS_uLightColor\" + i);\n                    this._uLightPos[i] = null;\n                    this._uLightDir[i] = program.draw.getUniformLocation(\"SCENEJS_uLightDir\" + i);\n                    break;\n\n                case \"point\":\n                    this._uLightColor[i] = program.draw.getUniformLocation(\"SCENEJS_uLightColor\" + i);\n                    this._uLightPos[i] = program.draw.getUniformLocation(\"SCENEJS_uLightPos\" + i);\n                    this._uLightDir[i] = null;\n                    this._uLightAttenuation[i] = program.draw.getUniformLocation(\"SCENEJS_uLightAttenuation\" + i);\n                    break;\n            }\n        }\n    },\n\n    draw:function (frameCtx) {\n\n        if (frameCtx.dirty) {\n            this.build();\n        }\n\n        var lights = this.core.lights;\n        var light;\n\n        var gl = this.program.gl;\n\n        for (var i = 0, len = lights.length; i < len; i++) {\n\n            light = lights[i];\n\n            if (this._uAmbientColor[i]) {\n                gl.uniform3fv(this._uAmbientColor[i], light.color);\n\n            } else {\n\n                if (this._uLightColor[i]) {\n                    gl.uniform3fv(this._uLightColor[i], light.color);\n                }\n\n                if (this._uLightPos[i]) {\n                    gl.uniform3fv(this._uLightPos[i], light.pos);\n\n                    if (this._uLightAttenuation[i]) {\n                        gl.uniform3fv(this._uLightAttenuation[i], light.attenuation);\n                    }\n                }\n\n                if (this._uLightDir[i]) {\n                    gl.uniform3fv(this._uLightDir[i], light.dir);\n                }\n            }\n        }\n    }\n});/**\n *\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"listeners\",\n\n    // Avoid reapplication of a chunk after a program switch.\n    programGlobal:true,\n\n    build : function() {\n    },\n\n    draw : function(frameCtx) {\n\n        var listeners = this.core.listeners;\n        var renderListenerCtx = frameCtx.renderListenerCtx;\n\n        for (var i = listeners.length - 1; i >= 0; i--) { // Child listeners first\n            if (listeners[i](renderListenerCtx) === true) { // Call listener with query facade object as scope\n                return true;\n            }\n        }\n    }\n});/**\n * Create display state chunk type for draw and pick render of lookAt transform\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"lookAt\",\n\n    build : function() {\n\n        this._uvMatrixDraw = this.program.draw.getUniformLocation(\"SCENEJS_uVMatrix\");\n        this._uVNMatrixDraw = this.program.draw.getUniformLocation(\"SCENEJS_uVNMatrix\");\n        this._uWorldEyeDraw = this.program.draw.getUniformLocation(\"SCENEJS_uWorldEye\");\n\n        this._uvMatrixPick = this.program.pick.getUniformLocation(\"SCENEJS_uVMatrix\");\n    },\n\n    draw : function(frameCtx) {\n\n        if (this.core.dirty) {\n            this.core.rebuild();\n        }\n\n        var gl = this.program.gl;\n\n        if (this._uvMatrixDraw) {\n            gl.uniformMatrix4fv(this._uvMatrixDraw, gl.FALSE, this.core.mat);\n        }\n\n        if (this._uVNMatrixDraw) {\n            gl.uniformMatrix4fv(this._uVNMatrixDraw, gl.FALSE, this.core.normalMat);\n        }\n\n        if (this._uWorldEyeDraw) {\n            gl.uniform3fv(this._uWorldEyeDraw, this.core.lookAt.eye);\n        }\n\n        frameCtx.viewMat = this.core.mat;\n    },\n\n    pick : function(frameCtx) {\n\n        var gl = this.program.gl;\n\n        if (this._uvMatrixPick) {\n            gl.uniformMatrix4fv(this._uvMatrixPick, gl.FALSE, this.core.mat);\n        }\n\n        frameCtx.viewMat = this.core.mat;\n    }\n});/**\n * Create display state chunk type for draw render of material transform\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"material\",\n\n    build : function() {\n\n        var draw = this.program.draw;\n\n        this._uMaterialBaseColor = draw.getUniformLocation(\"SCENEJS_uMaterialColor\");\n        this._uMaterialSpecularColor = draw.getUniformLocation(\"SCENEJS_uMaterialSpecularColor\");\n        this._uMaterialSpecular = draw.getUniformLocation(\"SCENEJS_uMaterialSpecular\");\n        this._uMaterialShine = draw.getUniformLocation(\"SCENEJS_uMaterialShine\");\n        this._uMaterialEmit = draw.getUniformLocation(\"SCENEJS_uMaterialEmit\");\n        this._uMaterialAlpha = draw.getUniformLocation(\"SCENEJS_uMaterialAlpha\");\n    },\n\n    draw : function() {\n\n        var gl = this.program.gl;\n        var materialSettings = this.program.draw.materialSettings;\n\n        if (this._uMaterialBaseColor) {\n            gl.uniform3fv(this._uMaterialBaseColor, this.core.baseColor);\n        }\n\n        if (this._uMaterialSpecularColor &&\n            (materialSettings.specularColor[0] != this.core.specularColor[0] ||\n             materialSettings.specularColor[1] != this.core.specularColor[1] ||\n             materialSettings.specularColor[2] != this.core.specularColor[2])) {\n            gl.uniform3fv(this._uMaterialSpecularColor, this.core.specularColor);\n            materialSettings.specularColor[0] = this.core.specularColor[0];\n            materialSettings.specularColor[1] = this.core.specularColor[1];\n            materialSettings.specularColor[2] = this.core.specularColor[2];\n        }\n\n        if (this._uMaterialSpecular && materialSettings.specular != this.core.specular) {\n            gl.uniform1f(this._uMaterialSpecular, this.core.specular);\n            materialSettings.specular = this.core.specular;\n        }\n\n        if (this._uMaterialShine && materialSettings.shine != this.core.shine) {\n            gl.uniform1f(this._uMaterialShine, this.core.shine);\n            materialSettings.shine = this.core.shine;\n        }\n\n        if (this._uMaterialEmit && materialSettings.emit != this.core.emit) {\n            gl.uniform1f(this._uMaterialEmit, this.core.emit);\n            materialSettings.emit = this.core.emit;\n        }\n\n        if (this._uMaterialAlpha && materialSettings.alpha != this.core.alpha) {\n            gl.uniform1f(this._uMaterialAlpha, this.core.alpha);\n            materialSettings.alpha = this.core.alpha;\n        }\n    }\n});\n/**\n * Create display state chunk type for draw render of material transform\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"name\",\n\n    build : function() {\n        this._uPickColor = this.program.pick.getUniformLocation(\"SCENEJS_uPickColor\");\n    },\n\n    pick : function(frameCtx) {\n\n        if (this._uPickColor && this.core.name) {\n\n            frameCtx.pickNames[frameCtx.pickIndex++] = this.core;\n\n            var b = frameCtx.pickIndex >> 16 & 0xFF;\n            var g = frameCtx.pickIndex >> 8 & 0xFF;\n            var r = frameCtx.pickIndex & 0xFF;\n\n            this.program.gl.uniform3fv(this._uPickColor, [r / 255, g / 255, b / 255]);\n        }\n    }\n});SceneJS_ChunkFactory.createChunkType({\n\n    type: \"program\",\n\n    build : function() {\n\n        // Note that \"program\" chunks are always after \"renderTarget\" chunks\n        this._depthModeDraw = this.program.draw.getUniformLocation(\"SCENEJS_uDepthMode\");\n        this._depthModePick = this.program.pick.getUniformLocation(\"SCENEJS_uDepthMode\");\n        this._rayPickMode = this.program.pick.getUniformLocation(\"SCENEJS_uRayPickMode\");\n    },\n\n    draw : function(frameCtx) {\n        var drawProgram = this.program.draw;\n        drawProgram.bind();\n        frameCtx.textureUnit = 0;\n        var gl = this.program.gl;\n        gl.uniform1i(this._depthModeDraw, frameCtx.depthMode);\n        if (!frameCtx.VAO) {\n            for (var i = 0; i < 10; i++) {\n                gl.disableVertexAttribArray(i);\n            }\n        }\n\n        frameCtx.drawProgram = this.program.draw;\n    },\n\n    pick : function(frameCtx) {\n        var pickProgram = this.program.pick;\n        pickProgram.bind();\n        var gl = this.program.gl;\n        gl.uniform1i(this._rayPickMode, frameCtx.rayPick);\n        gl.uniform1i(this._depthModePick, frameCtx.depthMode);\n        frameCtx.textureUnit = 0;\n        for (var i = 0; i < 10; i++) {\n            gl.disableVertexAttribArray(i);\n        }\n    }\n});\n\n\n\n/**\n *\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"renderer\",\n\n    build: function () {\n    },\n\n    drawAndPick: function (frameCtx) {\n\n        if (this.core.props) {\n            var gl = this.program.gl;\n            if (frameCtx.renderer) {\n                frameCtx.renderer.props.restoreProps(gl);\n                frameCtx.renderer = this.core;\n            }\n            this.core.props.setProps(gl);\n        }\n    }\n});\n/**\n *\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type:\"depthBuffer\",\n\n    // Avoid reapplication of a chunk after a program switch.\n    programGlobal:true,\n\n    drawAndPick:function (frameCtx) {\n\n        var enabled = this.core.enabled;\n\n        if (frameCtx.depthbufEnabled != enabled) {\n            var gl = this.program.gl;\n            if (enabled) {\n                gl.enable(gl.DEPTH_TEST);\n            } else {\n                gl.disable(gl.DEPTH_TEST);\n            }\n            frameCtx.depthbufEnabled = enabled;\n        }\n\n        var clearDepth = this.core.clearDepth;\n\n        if (frameCtx.clearDepth != clearDepth) {\n            gl.clearDepth(clearDepth);\n            frameCtx.clearDepth = clearDepth;\n        }\n\n        var depthFunc = this.core.depthFunc;\n\n        if (frameCtx.depthFunc != depthFunc) {\n            gl.depthFunc(depthFunc);\n            frameCtx.depthFunc = depthFunc;\n        }\n\n        if (this.core.clear) {\n            gl.clear(gl.DEPTH_BUFFER_BIT);\n        }\n    }\n});\n/**\n *\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type:\"colorBuffer\",\n\n    // Avoid reapplication of a chunk after a program switch.\n    programGlobal:true,\n\n    build:function () {\n    },\n\n    drawAndPick:function (frameCtx) {\n\n        if (!frameCtx.transparent) { // Blending forced when rendering transparent bin\n\n            var blendEnabled = this.core.blendEnabled;\n\n            var gl = this.program.gl;\n\n            if (frameCtx.blendEnabled != blendEnabled) {\n                if (blendEnabled) {\n                    gl.enable(gl.BLEND);\n                } else {\n                    gl.disable(gl.BLEND);\n                }\n                frameCtx.blendEnabled = blendEnabled;\n            }\n\n            var colorMask = this.core.colorMask;\n            gl.colorMask(colorMask.r, colorMask.g, colorMask.b, colorMask.a);\n        }\n    }\n});\n/**\n *\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type:\"view\",\n\n    // Avoid reapplication of a chunk after a program switch.\n    programGlobal:true,\n\n    build:function () {\n    },\n\n    drawAndPick:function (frameCtx) {\n\n        var scissorTestEnabled = this.core.scissorTestEnabled;\n\n        if (frameCtx.scissorTestEnabled != scissorTestEnabled) {\n            var gl = this.program.gl;\n            if (scissorTestEnabled) {\n                gl.enable(gl.SCISSOR_TEST);\n            } else {\n                gl.disable(gl.SCISSOR_TEST);\n            }\n            frameCtx.scissorTestEnabled = scissorTestEnabled;\n        }\n    }\n});\n/**\n *\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"shader\",\n\n    build : function() {\n    },\n\n    drawAndPick : function(frameCtx) {\n\n        var paramsStack = this.core.paramsStack;\n\n        if (paramsStack) {\n\n            var program = frameCtx.pick ? this.program.pick : this.program.draw;\n            var params;\n            var name;\n\n            for (var i = 0, len = paramsStack.length; i < len; i++) {\n                params = paramsStack[i];\n                for (name in params) {\n                    if (params.hasOwnProperty(name)) {\n                        program.setUniform(name, params[name]);  // TODO: cache locations\n                    }\n                }\n            }\n        }\n    }\n});/**\n *\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"shaderParams\",\n\n    build : function() {\n    },\n\n    drawAndPick: function(frameCtx) {\n\n        var paramsStack = this.core.paramsStack;\n\n        if (paramsStack) {\n\n            var program = frameCtx.pick ? this.program.pick : this.program.draw;\n            var params;\n            var name;\n\n            for (var i = 0, len = paramsStack.length; i < len; i++) {\n                params = paramsStack[i];\n                for (name in params) {\n                    if (params.hasOwnProperty(name)) {\n                        program.setUniform(name, params[name]);  // TODO: cache locations\n                    }\n                }\n            }\n        }\n    }\n});/**\n *\n */\nSceneJS_ChunkFactory.createChunkType({\n\n    type:\"style\",\n\n    // Avoid reapplication of a chunk after a program switch.\n    programGlobal:true,\n\n    drawAndPick:function (frameCtx) {\n\n        var lineWidth = this.core.lineWidth;\n\n        if (frameCtx.lineWidth != lineWidth) {\n            var gl = this.program.gl;\n            gl.lineWidth(lineWidth);\n            frameCtx.lineWidth = lineWidth;\n        }\n    }\n});\nSceneJS_ChunkFactory.createChunkType({\n\n    type: \"texture\",\n\n    build : function() {\n\n        this._uTexSampler = this._uTexSampler || [];\n        this._uTexMatrix = this._uTexMatrix || [];\n        this._uTexBlendFactor = this._uTexBlendFactor || [];\n\n        var layers = this.core.layers;\n\n        if (layers) {\n\n            var layer;\n            var draw = this.program.draw;\n\n            for (var i = 0, len = layers.length; i < len; i++) {\n\n                layer = layers[i];\n\n                this._uTexSampler[i] = \"SCENEJS_uSampler\" + i;\n\n//                this._uTexMatrix[i] = layer.matrixAsArray\n//                        ? draw.getUniform(\"SCENEJS_uLayer\" + i + \"Matrix\")\n//                        : null;\n\n                this._uTexMatrix[i] = draw.getUniform(\"SCENEJS_uLayer\" + i + \"Matrix\");\n\n                this._uTexBlendFactor[i] = draw.getUniform(\"SCENEJS_uLayer\" + i + \"BlendFactor\");\n            }\n        }\n    },\n\n    draw : function(frameCtx) {\n\n        frameCtx.textureUnit = 0;\n\n        var layers = this.core.layers;\n\n        if (layers) {\n\n            var draw = this.program.draw;\n            var layer;\n\n            for (var i = 0, len = layers.length; i < len; i++) {\n\n                layer = layers[i];\n\n                if (this._uTexSampler[i] && layer.texture) {    // Lazy-loads\n\n                    draw.bindTexture(this._uTexSampler[i], layer.texture, frameCtx.textureUnit++);\n\n                    if (layer._matrixDirty && layer.buildMatrix) {\n                        layer.buildMatrix.call(layer);\n                    }\n\n                    if (this._uTexMatrix[i]) {\n                        this._uTexMatrix[i].setValue(layer.matrixAsArray);\n                    }\n\n                    if (this._uTexBlendFactor[i]) {\n                        this._uTexBlendFactor[i].setValue(layer.blendFactor);\n                    }\n\n                } else {\n                     // draw.bindTexture(this._uTexSampler[i], null, i); // Unbind\n                }\n            }\n        }\n\n        if (frameCtx.textureUnit > 10) { // TODO: Find how many textures allowed\n            frameCtx.textureUnit = 0;\n        }\n    }\n});SceneJS_ChunkFactory.createChunkType({\n\n    type: \"cubemap\",\n\n    build: function () {\n        this._uCubeMapSampler = this._uCubeMapSampler || [];\n        this._uCubeMapIntensity = this._uCubeMapIntensity || [];\n        var layers = this.core.layers;\n        if (layers) {\n            var layer;\n            var draw = this.program.draw;\n            for (var i = 0, len = layers.length; i < len; i++) {\n                layer = layers[i];\n                this._uCubeMapSampler[i] = \"SCENEJS_uCubeMapSampler\" + i;\n                this._uCubeMapIntensity[i] = draw.getUniform(\"SCENEJS_uCubeMapIntensity\" + i);\n            }\n        }\n    },\n\n    draw: function (frameCtx) {\n        var layers = this.core.layers;\n        if (layers) {\n            var layer;\n            var draw = this.program.draw;\n            for (var i = 0, len = layers.length; i < len; i++) {\n                layer = layers[i];\n                if (this._uCubeMapSampler[i] && layer.texture) {\n                    draw.bindTexture(this._uCubeMapSampler[i], layer.texture, frameCtx.textureUnit++);\n                    if (this._uCubeMapIntensity[i]) {\n                        this._uCubeMapIntensity[i].setValue(layer.intensity);\n                    }\n                }\n            }\n        }\n\n        if (frameCtx.textureUnit > 10) { // TODO: Find how many textures allowed\n            frameCtx.textureUnit = 0;\n        }\n    }\n});SceneJS_ChunkFactory.createChunkType({\n\n    type: \"xform\",\n\n    build : function() {\n\n        var draw = this.program.draw;\n\n        this._uMatLocationDraw = draw.getUniformLocation(\"SCENEJS_uMMatrix\");\n        this._uNormalMatLocationDraw = draw.getUniformLocation(\"SCENEJS_uMNMatrix\");\n\n        var pick = this.program.pick;\n\n        this._uMatLocationPick = pick.getUniformLocation(\"SCENEJS_uMMatrix\");\n        this._uNormalMatLocationPick = pick.getUniformLocation(\"SCENEJS_uMNMatrix\");\n    },\n\n    draw : function(frameCtx) {\n\n        /* Rebuild core's matrix from matrices at cores on path up to root\n         */\n        if (SceneJS_configsModule.configs.forceXFormCoreRebuild === true || this.core.dirty && this.core.build) {\n            this.core.build();\n        }\n\n        var gl = this.program.gl;\n\n        if (this._uMatLocationDraw) {\n            gl.uniformMatrix4fv(this._uMatLocationDraw, gl.FALSE, this.core.mat);\n        }\n\n        if (this._uNormalMatLocationDraw) {\n            gl.uniformMatrix4fv(this._uNormalMatLocationDraw, gl.FALSE, this.core.normalMat);\n        }\n\n        frameCtx.modelMat = this.core.mat;\n    },\n\n    pick : function(frameCtx) {\n\n        /* Rebuild core's matrix from matrices at cores on path up to root\n         */\n        if (this.core.dirty) {\n            this.core.build();\n        }\n\n        var gl = this.program.gl;\n\n        if (this._uMatLocationPick) {\n            gl.uniformMatrix4fv(this._uMatLocationPick, gl.FALSE, this.core.mat);\n        }\n\n        if (this._uNormalMatLocationPick) {\n            gl.uniformMatrix4fv(this._uNormalMatLocationPick, gl.FALSE, this.core.normalMat);\n        }\n\n        frameCtx.modelMat = this.core.mat;\n    }\n});\nSceneJS.configure({ pluginPath: \"http://xeolabs.github.com/scenejs/api/latest/plugins\" });\nfunction ReadUTF8(asyncStream, callback) {\r\n\tthis.state = 0;\r\n\tthis.length = -1;\r\n\r\n\tthis.process = function(){\r\n\t\tif (this.state == 0) {\r\n\t\t\tif (asyncStream.available() >= 2) {\r\n\t\t\t\tlength = asyncStream.dataView.getInt16(asyncStream.pos);\r\n\t\t\t\tasyncStream.pos += 2;\r\n\t\t\t\tthis.state = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.state == 1) {\r\n\t\t\tif (asyncStream.available() >= length) {\r\n\t\t\t\tvar view = asyncStream.arrayBuffer.slice(asyncStream.pos, asyncStream.pos + length);\r\n\t\t\t\tvar result = new StringView(view).toString();\r\n\t\t\t\tasyncStream.pos += length;\r\n\t\t\t\tasyncStream.pop();\r\n\t\t\t\tif (callback(result) == false) {\r\n\t\t\t\t\tconsole.log(\"error\");\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction ReadByte(asyncStream, callback) {\r\n\tthis.process = function(){\r\n\t\tif (asyncStream.available() > 0) {\r\n\t\t\tvar value = asyncStream.dataView.getInt8(asyncStream.pos);\r\n\t\t\tasyncStream.pos += 1;\r\n\t\t\tasyncStream.pop();\r\n\t\t\tif (callback(value) == false) {\r\n\t\t\t\tconsole.log(\"error\");\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction ReadFloatArray(asyncStream, length, callback) {\r\n\tthis.process = function(){\r\n\t\tasyncStream.align4();\r\n\t\tif (asyncStream.available() >= 4 * length) {\r\n\t\t\tvar result = new Float32Array(asyncStream.arrayBuffer, asyncStream.pos, length);\r\n\t\t\tasyncStream.pos += length * 4;\r\n\t\t\tasyncStream.pop();\r\n\t\t\tif (callback(result) == false) {\r\n\t\t\t\tconsole.log(\"error\");\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction ReadIntArray(asyncStream, length, callback) {\r\n\tthis.process = function(){\r\n\t\tasyncStream.align4();\r\n\t\tif (asyncStream.available() >= 4 * length) {\r\n\t\t\tvar result = new Int32Array(asyncStream.arrayBuffer, asyncStream.pos, length);\r\n\t\t\tasyncStream.pos += length * 4;\r\n\t\t\tasyncStream.pop();\r\n\t\t\tif (callback(result) == false) {\r\n\t\t\t\tconsole.log(\"error\");\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction ReadInt(asyncStream, callback) {\r\n\tthis.process = function(){\r\n\t\tif (asyncStream.available() >= 4) {\r\n\t\t\tvar value = asyncStream.dataView.getInt32(asyncStream.pos);\r\n\t\t\tasyncStream.pos += 4;\r\n\t\t\tasyncStream.pop();\r\n\t\t\tif (callback(value) == false) {\r\n\t\t\t\tconsole.log(\"error\");\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction ReadFloats(asyncStream, length, callback) {\r\n\tthis.process = function(){\r\n\t\tif (asyncStream.available() >= 4 * length) {\r\n\t\t\tvar results = [];\r\n\t\t\tfor (var i=0; i<length; i++) {\r\n\t\t\t\tvar value = asyncStream.dataView.getFloat32(asyncStream.pos);\r\n\t\t\t\tasyncStream.pos += 4;\r\n\t\t\t\tresults.push(value);\r\n\t\t\t}\r\n\t\t\tasyncStream.pop();\r\n\t\t\tif (callback(results) == false) {\r\n\t\t\t\tconsole.log(\"error\");\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction ReadLong(asyncStream, callback) {\r\n\tthis.process = function(){\r\n\t\tif (asyncStream.available() >= 4) {\r\n\t\t\t// We are throwing away the first 4 bytes here...\r\n\t\t\tvar value = asyncStream.dataView.getInt32(asyncStream.pos + 4);\r\n\t\t\tasyncStream.pos += 8;\r\n\t\t\tasyncStream.pop();\r\n\t\t\tif (callback(value) == false) {\r\n\t\t\t\tconsole.log(\"error\");\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction AsyncStream() {\r\n\tvar othis = this;\r\n\t\r\n\twindow.lastStream = othis;\r\n\t\r\n\tothis.arrayBuffer = null;\r\n\tothis.dataView = null;\r\n\tothis.pos = 4;\r\n\t\r\n\tothis.todolist = [];\r\n\tothis.data = [];\r\n\tothis.totalReceived = 0;\r\n\tothis.lastTotalReceived = -1;\r\n\tothis.stoppedOnMax = false;\r\n\r\n\tothis.pop = function(){\r\n\t\tothis.todolist.splice(0, 1);\r\n\t};\r\n\t\r\n\tothis.available = function(){\r\n\t\treturn othis.arrayBuffer.byteLength - othis.pos;\r\n\t};\r\n\t\r\n\tothis.addReadUTF8 = function(callback){\r\n\t\tothis.todolist.push(new ReadUTF8(othis, callback));\r\n\t};\r\n\t\r\n\tothis.addReadByte = function(callback){\r\n\t\tothis.todolist.push(new ReadByte(othis, callback));\r\n\t};\r\n\t\r\n\tothis.addReadFloatArray = function(length, callback){\r\n\t\tif (length == 0) {\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\tothis.todolist.push(new ReadFloatArray(othis, length, callback));\r\n\t\t}\r\n\t};\r\n\r\n\tothis.addReadIntArray = function(length, callback){\r\n\t\tif (length == 0) {\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\tothis.todolist.push(new ReadIntArray(othis, length, callback));\r\n\t\t}\r\n\t};\r\n\r\n\tothis.addReadFloats = function(length, callback){\r\n\t\tif (length == 0) {\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\tothis.todolist.push(new ReadFloats(othis, length, callback));\r\n\t\t}\r\n\t};\r\n\t\r\n\tothis.addReadInt = function(callback){\r\n\t\tothis.todolist.push(new ReadInt(othis, callback));\r\n\t};\r\n\t\r\n\tothis.addReadLong = function(callback){\r\n\t\tothis.todolist.push(new ReadLong(othis, callback));\r\n\t};\r\n\t\r\n\tothis.align4 = function() {\r\n\t\t// Skips to the next alignment of 4 (source should have done the same!)\r\n\t\tvar skip = 4 - (othis.pos % 4);\r\n\t\tif(skip > 0 && skip != 4) {\r\n\t\t\tothis.pos += skip;\r\n\t\t}\r\n\t};\r\n\t\r\n\tothis.process = function(max){\r\n\t\tvar c = 0;\r\n\t\tif (othis.totalReceived == othis.lastTotalReceived && !othis.stoppedOnMax) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tothis.lastTotalReceived = othis.totalReceived;\r\n\t\tothis.stoppedOnMax = false;\r\n\t\twhile (othis.todolist.length > 0 && othis.data.length > 0) {\r\n\t\t\tvar todoitem = othis.todolist[0];\r\n\t\t\tvar data = othis.data[0];\r\n\r\n\t\t\tothis.arrayBuffer = data;\r\n\t\t\tothis.dataView = new DataView(othis.arrayBuffer);\r\n\t\t\t\r\n\t\t\tvar processDone = todoitem.process();\r\n\t\t\t\r\n\t\t\tif (data.byteLength == othis.pos) {\r\n\t\t\t\tothis.data.splice(0, 1);\r\n\t\t\t\tothis.pos = 4;\r\n\t\t\t}\r\n\t\t\tif (!processDone) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tc++;\r\n\t\t\tif (c > max) {\r\n\t\t\t\tothis.stoppedOnMax = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\tothis.newData = function(data) {\r\n\t\tothis.data.push(data);\r\n\t\tothis.totalReceived += (data.byteLength - 4);\r\n\t};\r\n}\nvar BIMSURFER = {\n\tCLASS: \"BIMSURFER\",\n\tVERSION_NUMBER: \"2.0 Dev\"\n};\n\n\n/**\n * Constructor: BIMSURFER.Class\n * Base class used to construct all other classes. Includes support for multiple inheritance.\n */\nBIMSURFER.Class = function(baseClass, subClass){\n\tvar constructor = null;\n\tvar classObject = subClass || baseClass;\n\n\tif(typeof classObject.__construct == 'function') {\n\t\tconstructor = classObject.__construct;\n\t} else if(typeof baseClass.prototype.__construct == 'function') {\n\t\tconstructor = function() {\n\t\t\tbaseClass.prototype.__construct.apply(this, arguments);\n\t\t}\n\t} else {\n\t\tconstructor = function() { };\n\t}\n\n\tvar Class = constructor;\n\n\tif(typeof subClass == 'undefined') {\n\t\tClass.prototype = classObject\n\t} else {\n\t\tvar newClass = function() {};\n\t\tnewClass.prototype = jQuery.extend({}, baseClass.prototype);\n\t\tjQuery.extend(newClass.prototype, subClass);\n\t\tClass.prototype = new newClass;\n\t}\n\n\treturn Class;\n};\nif(typeof BIMSURFER.Constants != 'object') {\n\tBIMSURFER.Constants = {};\n}\n\n\n/**\n * Time in milliseconds before a connect or login action will timeout\n */\nBIMSURFER.Constants.timeoutTime = 10000; // ms\n\n/**\n * The default IFC Types to load\n */\nBIMSURFER.Constants.defaultTypes = [\n\t\"IfcColumn\",\n\t\"IfcStair\",\n\t\"IfcSlab\",\n\t\"IfcWindow\",\n//\t\"IfcOpeningElement\",\n\t\"IfcDoor\",\n\t\"IfcBuildingElementProxy\",\n\t\"IfcWallStandardCase\",\n\t\"IfcWall\",\n\t\"IfcBeam\",\n\t\"IfcRailing\",\n\t\"IfcProxy\",\n\t\"IfcRoof\"\n];\n\n//writeMaterial(jsonWriter, \"IfcSpace\", new double[] { 0.137255f, 0.403922f, 0.870588f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcRoof\", new double[] { 0.837255f, 0.203922f, 0.270588f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcSlab\", new double[] { 0.637255f, 0.603922f, 0.670588f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcWall\", new double[] { 0.537255f, 0.337255f, 0.237255f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcWallStandardCase\", new double[] { 1.0f, 1.0f, 1.0f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcDoor\", new double[] { 0.637255f, 0.603922f, 0.670588f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcWindow\", new double[] { 0.2f, 0.2f, 0.8f }, 0.2f);\n//writeMaterial(jsonWriter, \"IfcRailing\", new double[] { 0.137255f, 0.203922f, 0.270588f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcColumn\", new double[] { 0.437255f, 0.603922f, 0.370588f, }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcBeam\", new double[] { 0.437255f, 0.603922f, 0.370588f, }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcFurnishingElement\", new double[] { 0.437255f, 0.603922f, 0.370588f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcCurtainWall\", new double[] { 0.5f, 0.5f, 0.5f }, 0.5f);\n//writeMaterial(jsonWriter, \"IfcStair\", new double[] { 0.637255f, 0.603922f, 0.670588f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcBuildingElementProxy\", new double[] { 0.5f, 0.5f, 0.5f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcFlowSegment\", new double[] { 0.8470588235f, 0.427450980392f, 0f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcFlowFitting\", new double[] { 0.8470588235f, 0.427450980392f, 0f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcFlowTerminal\", new double[] { 0.8470588235f, 0.427450980392f, 0f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcProxy\", new double[] { 0.637255f, 0.603922f, 0.670588f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcSite\", new double[] { 0.637255f, 0.603922f, 0.670588f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcLightFixture\", new double[] {0.8470588235f, 0.8470588235f, 0f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcDuctSegment\", new double[] {0.8470588235f, 0.427450980392f, 0f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcDuctFitting\", new double[] {0.8470588235f, 0.427450980392f, 0f }, 1.0f);\n//writeMaterial(jsonWriter, \"IfcAirTerminal\", new double[] {0.8470588235f, 0.427450980392f, 0f }, 1.0f);\n\nBIMSURFER.Constants.materials = {\n\tIfcSpace: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcRoof: {r: 0.837255, g: 0.203922, b: 0.270588, a: 1.0},\n\tIfcSlab: {r: 0.637255, g: 0.603922, b: 0.670588, a: 1.0},\n\tIfcWall: {r: 0.537255, g: 0.337255, b: 0.237255, a: 1.0},\n\tIfcWallStandardCase: {r: 0.537255, g: 0.337255, b: 0.237255, a: 1.0},\n\tIfcDoor: {r: 0.637255, g: 0.603922, b: 0.670588, a: 1.0},\n\tIfcWindow: {r: 0.137255, g: 0.403922, b: 0.870588, a: 0.5},\n\tIfcOpeningElement: {r: 0.137255, g: 0.403922, b: 0.870588, a: 0},\n\tIfcRailing: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcColumn: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcBeam: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcBeamStandardCase: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcFurnishingElement: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcCurtainWall: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcStair: {r: 0.637255, g: 0.603922, b: 0.670588, a: 1.0},\n\tIfcStairFlight: {r: 0.637255, g: 0.603922, b: 0.670588, a: 1.0},\n\tIfcBuildingElementProxy: {r: 0.5, g: 0.5, b: 0.5, a: 1.0},\n\tIfcFlowSegment: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcFlowitting: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcFlowTerminal: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcProxy: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcSite: {r: 0.137255, g: 0.403922, b: 0.870588, a: 1.0},\n\tIfcLightFixture: {r: 0.8470588235, g: 0.8470588235, b: 0.870588, a: 1.0},\n\tIfcDuctSegment: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcDistributionFlowElement: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcDuctFitting: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcPlate: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 0.5},\n\tIfcPile: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcAirTerminal: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcMember: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcCovering: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcTransportElement: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcFlowController: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcFlowFitting: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcRamp: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcFurniture: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcFooting: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcSystemFurnitureElement: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0},\n\tIfcSpace: {r: 0.137255, g: 0.303922, b: 0.570588, a: 0.5},\n\tIfcBuildingElementPart: {r: 1, g: 0.5, b: 0.5, a: 1.0},\n\tIfcDistributionElement: {r: 1, g: 0.5, b: 0.5, a: 1.0},\n\tDEFAULT: {r: 0.8470588235, g: 0.427450980392, b: 0, a: 1.0}\n}\n\n/*\n * Default camera settings\n */\nBIMSURFER.Constants.camera = {\n\tmaxOrbitSpeed : Math.PI * 0.1,\n\torbitSpeedFactor : 0.05,\n\tzoomSpeedFactor : 0.1,\n\tpanSpeedFactor : 0.6\n};\n\n/*\n * Default markup for highlighted objects\n */\nBIMSURFER.Constants.highlightSelectedObject = {\n\ttype : 'material',\n\twire: true,\n\tid : 'highlight',\n\temit : 0.0,\n\tbaseColor : {r: 0.0, g: 1, b: 0}\n}\n\n/*\n * Default markup for highlighted special objects\n */\nBIMSURFER.Constants.highlightSelectedSpecialObject = {\n\ttype : 'material',\n\tid : 'specialselectedhighlight',\n\temit : 1,\n\tbaseColor : {r: 0.16,g: 0.70,b: 0.88},\n\tshine : 10.0\n};\n\n/*\n * Enumeration for progressbar types\n */\nBIMSURFER.Constants.ProgressBarStyle = {\n\tContinuous: 1,\n\tMarquee: 2\n}\n\n\n\n/**\n * Returns a number whose value is limited to the given range.\n *\n * Example: limit the output of this computation to between 0 and 255\n * (x * 255).clamp(0, 255)\n *\n * @param {Number} s The number to clamp\n * @param {Number} min The lower boundary of the output range\n * @param {Number} max The upper boundary of the output range\n * @returns A number in the range [min, max]\n * @type Number\n */\nBIMSURFER.Constants.clamp = function(s, min, max) {\n\treturn Math.min(Math.max(s, min), max);\n};\n\"use strict\"\n\n/**\n * Class: BIMSURFER.Control\n * Controls affect the behavior of the viewer.\n * They allow everything from zooming, panning and navigating to selecting en showing an object tree.\n * Controls can be added to a Viewer. Some controls need a div to be binded to.\n *\n * Example:\n * The following example shows how to add controls to a viewer\n *\n * > var viewer = new BIM.Viewer('viewport');\n * > var panOrbit = new BIMSURFER.Control.PickFlyOrbit();\n * > viewer.addControl(panOrbit);\n * > panOrbit.activate();\n * >\n * > var clickSelect = new BIMSURFER.Control.ClickSelect();\n * > clickSelect.events.register('select', nodeSelected);\n * > clickSelect.events.register('unselect', nodeUnselected);\n * > viewer.addControl(clickSelect);\n * > clickSelect.activate();\n */\nBIMSURFER.Control = BIMSURFER.Class({\n\tCLASS: 'BIMSURFER.Control',\n\n\t/**\n\t * BIMSURFER.Viewer instance\n\t */\n\tSYSTEM: null,\n\n\t/**\n\t * The DIV element containing the control\n\t */\n\tdiv: null,\n\n\t/**\n\t * The DOM element of the control (drawn by the function redraw)\n\t */\n\tDOMelement: null,\n\n\t/**\n\t * Is the control active?\n\t */\n\tactive: false,\n\n\t/**\n\t * BIMSURFER.Events instance. The events meganism of this control\n\t */\n\tevents: null,\n\n\t/**\n\t * Default constructor for the controls\n\t *\n\t * @constructor\n\t * @param {string|DOMelement} div ID or reference to a div\n\t */\n\t__construct: function(div) {\n\t\tif(typeof div == 'string') {\n\t\t\tthis.div = jQuery(document).find('div#' + div)[0] || null;\n\t\t} else if(jQuery(div).is('div')) {\n\t\t\tthis.div = div;\n\t\t}\n\n\t\tthis.events = new BIMSURFER.Events(this);\n\t},\n\n\t/**\n\t * Default function to redraw the control\n\t * @return this\n\t */\n\tredraw: function() {\n\t\tjQuery(this.div).empty();\n\t\tjQuery(this.DOMelement).remove();\n\t\tthis.DOMelement = jQuery('<div />').addClass(this.CLASS.replace(/\\./g,\"-\"));\n\t\tif(this.active) {\n\t\t\tjQuery(this.div).append(this.DOMelement);\n\t\t}\n\t\treturn this;\n\t},\n\n\t/**\n\t * Default function to set the parent viewer\n\t *\n\t * @param {BIMSURFER.Viewer} viewer The viewer the control is working for\n\t * @return this\n\t */\n\tsetViewer: function(viewer) {\n\t\tif(this.active) {\n\t\t\tthis.deactivate();\n\t\t}\n\t\tthis.SYSTEM = viewer;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Default function to remove the control from the viewer\n\t * Sets the this.SYSTEM to null\n\t *\n\t * @return this\n\t */\n\tremoveFromSurfer: function() {\n\t\tthis.SYSTEM = null;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Default function to initialize the control events\n\t *\n\t * @return this\n\t */\n\tinitEvents: function() {\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Default function to activate the control\n\t *\n\t * @return this\n\t */\n\tactivate: function() {\n\t\tif(this.div) {\n\t\t\tthis.active = true;\n\t\t\tthis.redraw();\n\t\t\tthis.initEvents();\n\t\t\tthis.show();\n\t\t}\n\t\tthis.events.trigger('activated');\n\t\treturn this;\n\t},\n\n\t/**\n\t * Default function to activate the control when the scene is loaded\n\t *\n\t * @return this\n\t */\n\tactivateWhenReady: function() {\n\t\tif(this.SYSTEM.sceneLoaded) {\n\t\t\tthis.activate();\n\t\t} else {\n\t\t\tvar _this = this;\n\t\t\tvar sceneLoaded = function() {\n\t\t\t\t_this.SYSTEM.events.unregister('sceneLoaded', sceneLoaded);\n\t\t\t\t_this.activate();\n\t\t\t}\n\t\t\tthis.SYSTEM.events.register('sceneLoaded', sceneLoaded);\n\t\t}\n\t\treturn this;\n\t},\n\n\t/**\n\t * Default function to deactivate the control\n\t *\n\t * @return this\n\t */\n\tdeactivate: function() {\n\t\tthis.active = false;\n\t\tthis.initEvents();\n\t\tjQuery(this.DOMelement).remove();\n\t\tthis.DOMelement = null;\n\t\tthis.events.trigger('deactivated');\n\t\treturn this;\n\t},\n\n\t/**\n\t * Default function to show the control\n\t *\n\t * @param {String} [speed] The speed of the animation ('fast', 'normal' or 'slow'). Leave empty for no animation\n\t * @return this\n\t */\n\tshow: function(speed) {\n\t\tswitch(speed) {\n\t\t\tcase 'fast':\n\t\t\tcase 'normal':\n\t\t\tcase 'slow':\n\t\t\t\tjQuery(this.DOMelement).stop().fadeIn(speed);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tjQuery(this.DOMelement).stop().show();\n\t\t}\n\t\treturn this;\n\t},\n\n\t/**\n\t * Default function to hide the control\n\t *\n\t * @param {String} [speed] The speed of the animation ('fast', 'normal' or 'slow'). Leave empty for no animation\n\t * @return this\n\t */\n\thide: function(speed) {\n\t\tswitch(speed) {\n\t\t\tcase 'fast':\n\t\t\tcase 'normal':\n\t\t\tcase 'slow':\n\t\t\t\tjQuery(this.DOMelement).stop().fadeOut(speed);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tjQuery(this.DOMelement).stop().hide();\n\t\t}\n\t\treturn this;\n\t}\n});\n\"use strict\"\n\n/**\n * Class: BIMSURFER.DataInputStreamReader\n * Class to read binary data from the BIMServer\n */\nBIMSURFER.DataInputStreamReader = BIMSURFER.Class({\n\tCLASS: 'BIMSurfer.DataInputStreamReader',\n\tSYSTEM: null,\n\n\tarrayBuffer: null,\n\tdataView: null,\n\tpos: null,\n\n\t__construct: function(system, arrayBuffer) {\n\t\tthis.arrayBuffer = arrayBuffer;\n\t\tthis.dataView = new DataView(this.arrayBuffer);\n\t\tthis.pos = 0;\n\t},\n\n\treadUTF8: function() {\n\t\tvar length = this.dataView.getInt16(this.pos);\n\t\tthis.pos += 2;\n\t\tvar view = this.arrayBuffer.slice(this.pos, this.pos + length);\n\t\tvar result = new StringView(view).toString();\n\t\tthis.pos += length;\n\t\treturn result;\n\t},\n\n\talign4: function() {\n\t\t// Skips to the next alignment of 4 (source should have done the same!)\n\t\tvar skip = 4 - (this.pos % 4);\n\t\tif(skip > 0 && skip != 4) {\n//\t\t\tconsole.log(\"Skip\", skip);\n\t\t\tthis.pos += skip;\n\t\t}\n\t},\n\n\talign8: function() {\n\t\t// Skips to the next alignment of 4 (source should have done the same!)\n\t\tvar skip = 8 - (this.pos % 8);\n\t\tif(skip > 0 && skip != 8) {\n//\t\t\tconsole.log(\"Skip\", skip);\n\t\t\tthis.pos += skip;\n\t\t}\n\t},\n\n\treadFloat: function() {\n\t\tvar value = this.dataView.getFloat32(this.pos, true);\n\t\tthis.pos += 4;\n\t\treturn value;\n\t},\n\n\treadInt: function() {\n\t\tvar value = this.dataView.getInt32(this.pos, true);\n\t\tthis.pos += 4;\n\t\treturn value;\n\t},\n\n\treadByte: function() {\n\t\tvar value = this.dataView.getInt8(this.pos);\n\t\tthis.pos += 1;\n\t\treturn value;\n\t},\n\n\treadLong: function() {\n\t\tvar value = this.dataView.getUint32(this.pos, true) + 0x100000000 * this.dataView.getUint32(this.pos + 4, true);\n\t\tthis.pos += 8;\n\t\treturn value;\n\t},\n\n\treadFloatArray2: function(length) {\n\t\tvar results = [];\n\t\tfor (var i=0; i<length; i++) {\n\t\t\tvar value = this.dataView.getFloat32(this.pos, true);\n\t\t\tthis.pos += 4;\n\t\t\tresults.push(value);\n\t\t}\n\t\treturn results;\n\t},\n\t\n\treadFloatArray: function(length) {\n\t\ttry {\n\t\t\tvar result = new Float32Array(this.arrayBuffer, this.pos, length);\n\t\t\tthis.pos += length * 4;\n\t\t\treturn result;\n\t\t} catch (e) {\n\t\t\tconsole.error(e, this.arrayBuffer.byteLength, this.pos, length);\n\t\t}\n\t},\n\n\treadDoubleArray: function(length) {\n\t\tvar result = new Float64Array(this.arrayBuffer, this.pos, length);\n\t\tthis.pos += length * 8;\n\t\treturn result;\n\t},\n\n\treadIntArray2: function(length) {\n\t\tvar results = [];\n\t\tfor (var i=0; i<length; i++) {\n\t\t\tvar value = this.dataView.getInt32(this.pos, true);\n\t\t\tthis.pos += 4;\n\t\t\tresults.push(value);\n\t\t}\n\t\treturn results;\n\t},\n\t\n\treadIntArray: function(length) {\n\t\tvar result = new Int32Array(this.arrayBuffer, this.pos, length);\n\t\tthis.pos += length * 4;\n\t\treturn result;\n\t},\n\t\n\treadShortArray: function(length) {\n\t\ttry {\n\t\t\tvar result = new Int16Array(this.arrayBuffer, this.pos, length);\n\t\t\tthis.pos += length * 2;\n\t\t\treturn result;\n\t\t} catch (e) {\n\t\t\tconsole.error(e, this.pos, length);\n\t\t}\n\t}\n});\n\"use strict\"\n\n/**\n * Class: BIMSURFER.Events\n * Event system that can be used for all BIMSURFER classes.\n * Enables the user to register, unregister and trigger events, based on object instances\n */\nBIMSURFER.Events = BIMSURFER.Class({\n\tCLASS: 'BIMSURFER.Events',\n\tSYSTEM: null,\n\n\tlisteners: {},\n\tobject: null,\n\n\t__construct: function(object) {\n\t\tthis.object = object;\n\t\tthis.listeners = {};\n\t},\n\n\t/**\n\t * Register an event.\n\t *\n\t * @param {String} event The event name\n\t * @param {Function} callback The callback function that will be fired when the event is triggered\n\t * @param {Object} [object] The object that will be used as \"this\" in the callback function. Defaut = this.object\n\t */\n\tregister: function(event, callback, object) {\n\t\tif(typeof event != 'string' || typeof callback != 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\tif(!this.listeners[event]) {\n\t\t\tthis.listeners[event] = new Array();\n\t\t}\n\t\tthis.listeners[event].push({object: (!BIMSURFER.Util.isset(object) ? this.object : object), callback: callback});\n\t},\n\n\t/**\n\t * Unregister a registered event\n\t *\n\t * @param {String} event The event name\n\t * @param {Function} callback The callback function that would be called when teh event was triggered\n\t * @param {Object} [object] The object that would be used as \"this\" in the callback function. Default = this.object\n\t */\n\tunregister: function(event, callback, object) {\n\t\tif(typeof event != 'string' || typeof callback != 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\tobject = (!BIMSURFER.Util.isset(object) ? this.object : object);\n\n\t\tif(this.listeners[event]) {\n\t\t\tfor(var i = 0; i < this.listeners[event].length; i++) {\n\t\t\t\tif(this.listeners[event][i].object == object && this.listeners[event][i].callback == callback) {\n\t\t\t\t\tthis.listeners[event].splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Trigger an event\n\t *\n\t * @param {String} event The event name\n\t * @param {Array} [eventArguments] The parameters that will be passed to the registered callback function(s)\n\t * @param {Object} [object] The object that will be used as \"this\" in the callback function instead of the preset one.\n\t * @return success\n\t */\n\ttrigger: function(event, eventArguments, object) {\n\t\tif(typeof event != 'string') {\n\t\t\treturn false;\n\t\t}\n\t\teventArguments = eventArguments || new Array();\n\t\tif(!BIMSURFER.Util.isset(eventArguments)) {\n\t\t\teventArguments = new Array();\n\t\t} else if(!BIMSURFER.Util.isArray(eventArguments)) {\n\t\t\teventArguments = [eventArguments];\n\t\t}\n\n\t\tif(event.substring(0, 5).toLowerCase() == 'mouse') {\n\t\t\teventArguments[0] = this.normalizeEvent(eventArguments[0]);\n\t\t}\n\n\t\tif(!this.listeners[event] || this.listeners[event].length == 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tvar listeners = this.listeners[event].slice(0);\n\n\t\tfor(var i = 0; i < listeners.length; i++) {\n\t\t\tvar continueEvent = null;\n\t\t\tif(BIMSURFER.Util.isset(object)) {\n\t\t\t\tcontinueEvent = listeners[i].callback.apply(object, eventArguments);\n\t\t\t} else {\n\t\t\t\tcontinueEvent = listeners[i].callback.apply(listeners[i].object, eventArguments);\n\t\t\t}\n\n\t\t\tif(continueEvent === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t * Normalize mouse/touch events for browser compability\n\t *\n\t * @param {Event} event The event to be normalized\n\t * @return event\n\t */\n\tnormalizeEvent: function(event) {\n//\t\tif(!event.offsetX) {\n//\t\t\tevent.offsetX = (event.pageX - jQuery(event.target).offset().left);\n//\t\t\tevent.offsetY = (event.pageY - jQuery(event.target).offset().top);\n//\t\t}\n\t\treturn event;\n\t}\n});\nfunction GeometryLoader(bimServerApi, models, viewer, type) {\r\n\tvar o = this;\r\n\to.models = models;\r\n\to.bimServerApi = bimServerApi;\r\n\to.viewer = viewer;\r\n\to.state = {};\r\n\to.progressListeners = [];\r\n\to.objectAddedListeners = [];\r\n\to.prepareReceived = false;\r\n\to.todo = [];\r\n\to.type = type;\r\n\t\r\n\tif (o.type == null) {\r\n\t\to.type = \"triangles\";\r\n\t}\r\n\t\r\n\to.stats = {\r\n\t\tnrPrimitives: 0,\r\n\t\tnrVertices: 0,\r\n\t\tnrNormals: 0,\r\n\t\tnrColors: 0\r\n\t};\r\n\t\r\n\t// GeometryInfo.oid -> GeometryData.oid\r\n//\to.infoToData = {};\r\n\t\r\n\t// GeometryData.oid -> [GeometryInfo.oid]\r\n\to.dataToInfo = {};\r\n\t\r\n\t// Loaded geometry, GeometryData.oid -> Boolean\r\n\to.loadedGeometry = {};\r\n\t\r\n\t// GeometryInfo.oid -> IfcProduct.oid\r\n\to.infoToOid = {};\r\n\t\r\n\tthis.addProgressListener = function(progressListener) {\r\n\t\to.progressListeners.push(progressListener);\r\n\t};\r\n\t\r\n\tthis.readObject = function(data, geometryType) {\r\n\t\tdata.align8();\r\n\t\tif (geometryType == 5) {\r\n\t\t\tvar roid = data.readLong();\r\n\t\t\tvar geometryInfoOid = data.readLong();\r\n\t\t\tvar hasTransparency = data.readLong() == 1;\r\n\t\t\tvar objectBounds = data.readDoubleArray(6);\r\n//\t\t\tif (objectBounds[0] < o.modelBounds.min.x) {\r\n//\t\t\t\to.modelBounds.min.x = objectBounds[0];\r\n//\t\t\t}\r\n//\t\t\tif (objectBounds[1] < o.modelBounds.min.y) {\r\n//\t\t\t\to.modelBounds.min.y = objectBounds[1];\r\n//\t\t\t}\r\n//\t\t\tif (objectBounds[2] < o.modelBounds.min.z) {\r\n//\t\t\t\to.modelBounds.min.z = objectBounds[2];\r\n//\t\t\t}\r\n//\t\t\tif (objectBounds[3] > o.modelBounds.max.x) {\r\n//\t\t\t\to.modelBounds.max.x = objectBounds[3];\r\n//\t\t\t}\r\n//\t\t\tif (objectBounds[4] > o.modelBounds.max.y) {\r\n//\t\t\t\to.modelBounds.max.y = objectBounds[4];\r\n//\t\t\t}\r\n//\t\t\tif (objectBounds[5] > o.modelBounds.max.z) {\r\n//\t\t\t\to.modelBounds.max.z = objectBounds[5];\r\n//\t\t\t}\r\n\t\t\t\r\n\t\t\tvar transformationMatrix = data.readDoubleArray(16);\r\n\t\t\tvar geometryDataOid = data.readLong();\r\n\t\t\tvar coreIds = [geometryDataOid];\r\n//\t\t\to.infoToData[geometryInfoOid] = geometryDataOid;\r\n\t\t\t\r\n\t\t\tif (o.state.mode == 0) {\r\n\t\t\t\tconsole.log(\"Mode is still 0, should be 1\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar oid = o.infoToOid[geometryInfoOid];\r\n\t\t\tif (oid == null) {\r\n\t\t\t\tconsole.log(\"Not found\", geometryInfoOid);\r\n\t\t\t} else {\r\n\t\t\t\to.models[roid].get(oid, function(object){\r\n\t\t\t\t\tobject.gid = geometryInfoOid;\r\n\t\t\t\t\tif (o.viewer.scene.findNode(geometryInfoOid) != null) {\r\n\t\t\t\t\t\tconsole.log(\"Node with id \" + geometryInfoOid + \" already existed\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar material = BIMSURFER.Constants.materials[object.getType()];\r\n\t\t\t\t\tvar hasTransparency = false;\r\n\t\t\t\t\tif (material == null) {\r\n\t\t\t\t\t\tconsole.log(\"material not found\", object.getType());\r\n\t\t\t\t\t\tmaterial = BIMSURFER.Constants.materials[\"DEFAULT\"];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (material.a < 1) {\r\n\t\t\t\t\t\thasTransparency = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar enabled = object.trans.mode == 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar coreNodes = null;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar loaded = o.loadedGeometry[geometryDataOid];\r\n\t\t\t\t\tif (loaded != null) {\r\n\t\t\t\t\t\tif (Array.isArray(loaded)) {\r\n\t\t\t\t\t\t\tcoreNodes = [];\r\n\t\t\t\t\t\t\tloaded.forEach(function(id){\r\n\t\t\t\t\t\t\t\tcoreNodes.push({\r\n\t\t\t\t\t\t\t\t\ttype: \"geometry\",\r\n\t\t\t\t\t\t\t\t\tcoreId: id\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcoreNodes = [{\r\n\t\t\t\t\t\t\t\ttype: \"geometry\",\r\n\t\t\t\t\t\t\t\tcoreId: geometryDataOid\r\n\t\t\t\t\t\t\t}];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (o.dataToInfo[geometryDataOid] == null) {\r\n\t\t\t\t\t\t\to.dataToInfo[geometryDataOid] = [geometryInfoOid];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\to.dataToInfo[geometryDataOid].push(geometryInfoOid);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar flags = {\r\n\t\t\t\t\t\ttype : \"flags\",\r\n\t\t\t\t\t\tflags : {\r\n\t\t\t\t\t\t\ttransparent : hasTransparency\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tnodes : [{\r\n\t\t\t\t\t\t\ttype: \"enable\",\r\n\t\t\t\t\t\t\tenabled: enabled,\r\n\t\t\t\t\t\t\tnodes : [\r\n//\t\t\t\t\t\t\t\t{\r\n//\t\t\t\t\t\t\t\ttype : \"material\",\r\n//\t\t\t\t\t\t\t\tbaseColor: material,\r\n//\t\t\t\t\t\t\t\talpha: 1,\r\n//\t\t\t\t\t\t\t\tnodes : [{}]\r\n//\t\t\t\t\t\t\t\tnodes : [{\r\n//\t\t\t\t\t\t\t\t\ttype: \"translate\",\r\n//\t\t\t\t\t\t\t\t\tx: objectBounds[0] + (objectBounds[3] - objectBounds[0]) / 2,\r\n//\t\t\t\t\t\t\t\t\ty: objectBounds[1] + (objectBounds[4] - objectBounds[1]) / 2,\r\n//\t\t\t\t\t\t\t\t\tz: objectBounds[2] + (objectBounds[5] - objectBounds[2]) / 2,\r\n//\t\t\t\t\t\t\t\t\tnodes : [{\r\n//\t\t\t\t\t\t\t\t\t\ttype: \"scale\",\r\n//\t\t\t\t\t\t\t\t\t\tx: (objectBounds[3] - objectBounds[0]) / 2,\r\n//\t\t\t\t\t\t\t\t\t\ty: (objectBounds[4] - objectBounds[1]) / 2,\r\n//\t\t\t\t\t\t\t\t\t\tz: (objectBounds[5] - objectBounds[2]) / 2,\r\n//\t\t\t\t\t\t\t\t\t\tnodes: [{\r\n//\t\t\t\t\t\t\t\t\t\t\ttype: \"geometry/box\",\r\n//\t\t\t\t\t\t\t\t\t\t\twire: true\r\n//\t\t\t\t\t\t\t\t\t\t}]\r\n//\t\t\t\t\t\t\t\t\t}]\r\n//\t\t\t\t\t\t\t\t}]\r\n//\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype : \"material\",\r\n\t\t\t\t\t\t\t\tbaseColor: material,\r\n\t\t\t\t\t\t\t\talpha: material.a,\r\n\t\t\t\t\t\t\t\tnodes : [{\r\n\t\t\t\t\t\t\t\t\ttype : \"name\",\r\n\t\t\t\t\t\t\t\t\tid : geometryInfoOid,\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tobject: object\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tnodes : [{\r\n\t\t\t\t\t\t\t\t\t\ttype: \"matrix\",\r\n\t\t\t\t\t\t\t\t\t\telements: transformationMatrix,\r\n\t\t\t\t\t\t\t\t\t\tnodes: coreNodes\r\n\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\to.modelNode.addNode(flags);\r\n\t\t\t\t\t\r\n\t\t\t\t\to.objectAddedListeners.forEach(function(listener){\r\n\t\t\t\t\t\tlistener(oid);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else if (geometryType == 3) {\r\n\t\t\tvar hasTransparency = data.readLong() == 1;\r\n\t\t\tvar coreIds = [];\r\n\t\t\tvar geometryDataOid = data.readLong();\r\n\t\t\tvar nrParts = data.readInt();\r\n\t\t\t//var objectBounds = data.readFloatArray(6);\r\n\t\t\t\r\n\t\t\tfor (var i=0; i<nrParts; i++) {\r\n\t\t\t\tvar partId = data.readLong();\r\n\t\t\t\tvar coreId = geometryDataOid + \"_\" + i;\r\n\t\t\t\tcoreIds.push(coreId);\r\n\t\t\t\tvar nrIndices = data.readInt();\r\n\t\t\t\to.stats.nrPrimitives += nrIndices / 3;\r\n\t\t\t\tvar indices = data.readShortArray(nrIndices);\r\n\t\t\t\tif (o.state.version >= 11) {\r\n\t\t\t\t\tvar b = data.readInt();\r\n\t\t\t\t\tif (b == 1) {\r\n\t\t\t\t\t\tvar color = {r: data.readFloat(), g: data.readFloat(), b: data.readFloat(), a: data.readFloat()};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdata.align4();\r\n\t\t\t\tvar nrVertices = data.readInt();\r\n\t\t\t\to.stats.nrVertices += nrVertices;\r\n\t\t\t\tvar vertices = data.readFloatArray(nrVertices);\r\n\t\t\t\tvar nrNormals = data.readInt();\r\n\t\t\t\to.stats.nrNormals += nrNormals;\r\n\t\t\t\tvar normals = data.readFloatArray(nrNormals);\r\n\t\t\t\tvar nrColors = data.readInt();\r\n\t\t\t\to.stats.nrColors += nrColors;\r\n\t\t\t\tvar colors = data.readFloatArray(nrColors);\r\n\t\t\t\t\r\n\t\t\t\tvar geometry = {\r\n\t\t\t\t\ttype: \"geometry\",\r\n\t\t\t\t\tprimitive: o.type\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tif (color != null) {\r\n\t\t\t\t\t// Creating vertex colors here anyways (not transmitted over the line is a plus), should find a way to do this with scenejs without vertex-colors\r\n\t\t\t\t\tgeometry.colors = new Array(nrVertices * 4);\r\n\t\t\t\t\tfor (var i=0; i<nrVertices; i++) {\r\n\t\t\t\t\t\tgeometry.colors[i * 4 + 0] = color.r;\r\n\t\t\t\t\t\tgeometry.colors[i * 4 + 1] = color.g;\r\n\t\t\t\t\t\tgeometry.colors[i * 4 + 2] = color.b;\r\n\t\t\t\t\t\tgeometry.colors[i * 4 + 3] = color.a;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgeometry.coreId = coreId;\r\n\t\t\t\t\r\n\t\t\t\tif (o.type == \"lines\") {\r\n\t\t\t\t\tgeometry.indices = o.convertToLines(indices);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgeometry.indices = indices;\r\n\t\t\t\t}\r\n\t\t\t\tgeometry.positions = vertices;\r\n\t\t\t\tgeometry.normals = normals;\r\n\t\t\t\t\r\n\t\t\t\tif (colors != null && colors.length > 0) {\r\n\t\t\t\t\tgeometry.colors = colors;\r\n\t\t\t\t}\r\n\t\t\t\to.library.add(\"node\", geometry);\r\n\t\t\t}\r\n\t\t\to.loadedGeometry[geometryDataOid] = coreIds;\r\n\t\t\tif (o.dataToInfo[geometryDataOid] != null) {\r\n\t\t\t\to.dataToInfo[geometryDataOid].forEach(function(geometryInfoId){\r\n\t\t\t\t\tvar node = o.viewer.scene.findNode(geometryInfoId);\r\n\t\t\t\t\tif (node != null && node.nodes[0] != null) {\r\n\t\t\t\t\t\tcoreIds.forEach(function(coreId){\r\n\t\t\t\t\t\t\tnode.nodes[0].addNode({\r\n\t\t\t\t\t\t\t\ttype: \"geometry\",\r\n\t\t\t\t\t\t\t\tcoreId: coreId\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tdelete o.dataToInfo[geometryDataOid];\r\n\t\t\t}\r\n\t\t} else if (geometryType == 1) {\r\n\t\t\tvar hasTransparency = data.readLong() == 1;\r\n\t\t\tvar geometryDataOid = data.readLong();\r\n\t\t\tvar nrIndices = data.readInt();\r\n\t\t\tvar indices = data.readShortArray(nrIndices);\r\n\t\t\to.stats.nrPrimitives += nrIndices / 3;\r\n\t\t\tif (o.state.version >= 11) {\r\n\t\t\t\tvar b = data.readInt();\r\n\t\t\t\tif (b == 1) {\r\n\t\t\t\t\tvar color = {r: data.readFloat(), g: data.readFloat(), b: data.readFloat(), a: data.readFloat()};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdata.align4();\r\n\t\t\tvar nrVertices = data.readInt();\r\n\t\t\tvar vertices = data.readFloatArray(nrVertices);\r\n\t\t\to.stats.nrVertices += nrVertices;\r\n\t\t\tvar nrNormals = data.readInt();\r\n\t\t\to.stats.nrNormals += nrNormals;\r\n\t\t\tvar normals = data.readFloatArray(nrNormals);\r\n\t\t\tvar nrColors = data.readInt();\r\n\t\t\to.stats.nrColors += nrColors;\r\n\t\t\tvar colors = data.readFloatArray(nrColors);\r\n\t\t\t\r\n\t\t\tvar geometry = {\r\n\t\t\t\ttype: \"geometry\",\r\n\t\t\t\tprimitive: o.type\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tif (color != null) {\r\n\t\t\t\t// Creating vertex colors here anyways (not transmitted over the line is a plus), should find a way to do this with scenejs without vertex-colors\r\n\t\t\t\tgeometry.colors = new Array(nrVertices * 4);\r\n\t\t\t\tfor (var i=0; i<nrVertices; i++) {\r\n\t\t\t\t\tgeometry.colors[i * 4 + 0] = color.r;\r\n\t\t\t\t\tgeometry.colors[i * 4 + 1] = color.g;\r\n\t\t\t\t\tgeometry.colors[i * 4 + 2] = color.b;\r\n\t\t\t\t\tgeometry.colors[i * 4 + 3] = color.a;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tgeometry.coreId = geometryDataOid;\r\n\t\t\tif (o.type == \"lines\") {\r\n\t\t\t\tgeometry.indices = o.convertToLines(indices);\r\n\t\t\t} else {\r\n\t\t\t\tgeometry.indices = indices;\r\n\t\t\t}\r\n\t\t\tgeometry.positions = vertices;\r\n\t\t\tgeometry.normals = normals;\r\n\t\t\t\r\n\t\t\tif (colors != null && colors.length > 0) {\r\n\t\t\t\tgeometry.colors = colors;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\to.library.add(\"node\", geometry);\r\n\t\t\t\r\n\t\t\to.loadedGeometry[geometryDataOid] = true;\r\n\t\t\tif (o.dataToInfo[geometryDataOid] != null) {\r\n\t\t\t\to.dataToInfo[geometryDataOid].forEach(function(geometryInfoId){\r\n\t\t\t\t\tvar node = o.viewer.scene.findNode(geometryInfoId);\r\n\t\t\t\t\tif (node != null && node.nodes[0] != null) {\r\n\t\t\t\t\t\tnode.nodes[0].addNode({\r\n\t\t\t\t\t\t\ttype: \"geometry\",\r\n\t\t\t\t\t\t\tcoreId: geometryDataOid\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tdelete o.dataToInfo[geometryDataOid];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\to.state.nrObjectsRead++;\r\n//\t\to.updateProgress();\r\n\t};\r\n\t\r\n\tthis.convertToLines = function(indices) {\r\n\t\tvar lineIndices = [];\r\n\t\tfor (var i=0; i<indices.length; i+=3) {\r\n\t\t\tvar i1 = indices[i];\r\n\t\t\tvar i2 = indices[i+1];\r\n\t\t\tvar i3 = indices[i+2];\r\n\t\t\t\r\n\t\t\tlineIndices.push(i1, i2);\r\n\t\t\tlineIndices.push(i2, i3);\r\n\t\t\tlineIndices.push(i3, i1);\r\n\t\t}\r\n\t\treturn lineIndices;\r\n\t}\r\n\t\r\n\tthis.updateProgress = function() {\r\n\t\to.progressListeners.forEach(function(progressListener){\r\n\t\t\tprogressListener(\"Loading\", -1);\r\n\t\t});\r\n\r\n//\t\tif (o.state.nrObjectsRead < o.state.nrObjects) {\r\n//\t\t\tvar progress = Math.ceil(100 * o.state.nrObjectsRead / o.state.nrObjects);\r\n//\t\t\tif (progress != o.state.lastProgress) {\r\n//\t\t\t\to.progressListeners.forEach(function(progressListener){\r\n//\t\t\t\t\tprogressListener(progress, o.state.nrObjectsRead, o.state.nrObjects);\r\n//\t\t\t\t});\r\n//\t\t\t\to.viewer.SYSTEM.events.trigger('progressChanged', [progress]);\r\n//\t\t\t\to.state.lastProgress = progress;\r\n//\t\t\t}\r\n//\t\t} else {\r\n//\t\t\to.viewer.SYSTEM.events.trigger('progressDone');\r\n//\t\t\to.progressListeners.forEach(function(progressListener){\r\n//\t\t\t\tprogressListener(\"done\", o.state.nrObjectsRead, o.state.nrObjects);\r\n//\t\t\t});\r\n//\t\t\to.viewer.events.trigger('sceneLoaded', [o.viewer.scene]);\r\n//\t\t\to.bimServerApi.call(\"ServiceInterface\", \"cleanupLongAction\", {topicId: o.topicId}, function(){\r\n//\t\t\t});\r\n//\t\t}\r\n\t};\r\n\t\r\n\tthis.downloadInitiated = function(){\r\n\t\to.state = {\r\n\t\t\tmode: 0,\r\n\t\t\tnrObjectsRead: 0,\r\n\t\t\tnrObjects: 0\r\n\t\t};\r\n//\t\to.viewer.SYSTEM.events.trigger('progressStarted', ['Loading Geometry']);\r\n//\t\to.viewer.SYSTEM.events.trigger('progressBarStyleChanged', BIMSURFER.Constants.ProgressBarStyle.Continuous);\r\n\t\t\r\n//\t\to.viewer.refreshMask();\r\n\r\n\t\to.library = o.viewer.scene.findNode(\"library-\" + o.groupId);\r\n\t\tif (o.library == null) {\r\n\t\t\to.library = o.viewer.scene.addNode({\r\n\t\t\t\tid: \"library-\" + o.groupId,\r\n\t\t\t\ttype: \"library\"\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tvar msg = {\r\n\t\t\ttopicId: o.topicId\r\n\t\t};\r\n\t\t\r\n\t\to.bimServerApi.setBinaryDataListener(o.topicId, o.binaryDataListener);\r\n\t\to.bimServerApi.downloadViaWebsocket(msg);\r\n\t};\r\n\t\r\n\tthis.binaryDataListener = function(data){\r\n\t\to.todo.push(data);\r\n\t};\r\n\t\r\n\tthis.readEnd = function(data){\r\n\t\tif (Object.keys(o.dataToInfo).length > 0) {\r\n\t\t\tconsole.error(\"Unsolved links\");\r\n\t\t\tfor (var key in o.dataToInfo) {\r\n\t\t\t\tconsole.log(key, o.dataToInfo[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n//\t\to.boundsTranslate = o.viewer.scene.findNode(\"bounds_translate\");\r\n//\r\n//\t\tvar center = {\r\n//\t\t\tx: (o.modelBounds.max.x + o.modelBounds.min.x) / 2,\r\n//\t\t\ty: (o.modelBounds.max.y + o.modelBounds.min.y) / 2,\r\n//\t\t\tz: (o.modelBounds.max.z + o.modelBounds.min.z) / 2,\r\n//\t\t};\r\n//\t\t\r\n//\t\to.boundsTranslate.x = -o.center.x;\r\n//\t\to.boundsTranslate.y = -o.center.y;\r\n//\t\to.boundsTranslate.z = -o.center.z;\r\n//\r\n//\t\tvar lookat = o.viewer.scene.findNode(\"main-lookAt\");\r\n//\t\tvar eye = { x: (o.modelBounds.max.x - o.modelBounds.min.x) * 0.5, y: (o.modelBounds.max.y - o.modelBounds.min.y) * -1, z: (o.modelBounds.max.z - o.modelBounds.min.z) * 0.5 };\r\n//\t\tlookat.set(\"eye\", eye);\r\n//\t\t\r\n//\t\tvar maincamera = o.viewer.scene.findNode(\"main-camera\");\r\n//\t\t\r\n//\t\tvar diagonal = Math.sqrt(Math.pow(o.modelBounds.max.x - o.modelBounds.min.x, 2) + Math.pow(o.modelBounds.max.y - o.modelBounds.min.y, 2) + Math.pow(o.modelBounds.max.z - o.modelBounds.min.z, 2));\r\n//\t\t\r\n//\t\tvar far = diagonal * 5; // 5 being a guessed constant that should somehow coincide with the max zoom-out-factor\r\n//\t\t\r\n//\t\tmaincamera.setOptics({\r\n//\t\t\ttype: 'perspective',\r\n//\t\t\tfar: far,\r\n//\t\t\tnear: far / 1000,\r\n//\t\t\taspect: jQuery(o.viewer.canvas).width() / jQuery(o.viewer.canvas).height(),\r\n//\t\t\tfovy: 37.8493\r\n//\t\t});\r\n\t\t\r\n\t\tconsole.log(o.stats);\r\n\t\t\r\n\t\to.viewer.SYSTEM.events.trigger('progressDone');\r\n\t\to.progressListeners.forEach(function(progressListener){\r\n\t\t\tprogressListener(\"done\", o.state.nrObjectsRead, o.state.nrObjectsRead);\r\n\t\t});\r\n\t\to.bimServerApi.call(\"ServiceInterface\", \"cleanupLongAction\", {topicId: o.topicId}, function(){\r\n\t\t});\r\n\t}\r\n\t\r\n\tthis.readStart = function(data){\r\n\t\tvar start = data.readUTF8();\r\n\t\tif (start != \"BGS\") {\r\n\t\t\tconsole.log(\"Stream does not start with BGS (\" + start + \")\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tvar version = data.readByte();\r\n\t\tif (version != 12) {\r\n\t\t\tconsole.log(\"Unimplemented version\");\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\to.state.version = version;\r\n\t\t}\r\n\t\tdata.align8();\r\n\t\t\r\n\t\tvar modelBounds = data.readDoubleArray(6);\r\n\t\to.modelBounds = {\r\n\t\t\tmin: {x: modelBounds[0], y: modelBounds[1], z: modelBounds[2]},\r\n\t\t\tmax: {x: modelBounds[3], y: modelBounds[4], z: modelBounds[5]}\r\n\t\t};\r\n\t\to.center = {\r\n\t\t\tx: (o.modelBounds.max.x + o.modelBounds.min.x) / 2,\r\n\t\t\ty: (o.modelBounds.max.y + o.modelBounds.min.y) / 2,\r\n\t\t\tz: (o.modelBounds.max.z + o.modelBounds.min.z) / 2,\r\n\t\t};\r\n\r\n\t\to.boundsTranslate = o.viewer.scene.findNode(\"bounds_translate\");\r\n\t\tvar firstModel = false;\r\n\t\tif (o.boundsTranslate == null) {\r\n\t\t\tvar firstModel = true;\r\n\t\t\to.boundsTranslate = {\r\n\t\t\t\tid: \"bounds_translate\",\r\n\t\t\t\ttype: \"translate\",\r\n\t\t\t\tx: -o.center.x,\r\n\t\t\t\ty: -o.center.y,\r\n\t\t\t\tz: -o.center.z,\r\n\t\t\t\tnodes: []\r\n\t\t\t}\r\n\t\t\to.boundsTranslate = o.viewer.scene.findNode(\"my-lights\").addNode(o.boundsTranslate);\r\n\t\t}\r\n\t\t\r\n\t\to.modelNode = o.viewer.scene.findNode(\"model_node_\" + o.groupId);\r\n\t\tif (o.modelNode == null) {\r\n\t\t\to.modelNode = {\r\n\t\t\t\tid: \"model_node_\" + o.groupId,\r\n\t\t\t\ttype: \"translate\",\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\tz: 0,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tgroupId: o.groupId\r\n\t\t\t\t},\r\n\t\t\t\tnodes: []\r\n\t\t\t};\r\n\t\t\to.modelNode = o.boundsTranslate.addNode(o.modelNode);\r\n\t\t}\r\n\t\t\r\n\t\tif (firstModel) {\r\n\t\t\tvar lookat = o.viewer.scene.findNode(\"main-lookAt\");\r\n\t\t\tvar eye = { x: (o.modelBounds.max.x - o.modelBounds.min.x) * 0.5, y: (o.modelBounds.max.y - o.modelBounds.min.y) * -1, z: (o.modelBounds.max.z - o.modelBounds.min.z) * 0.5 };\r\n\t\t\tlookat.set(\"eye\", eye);\r\n\t\t\t\r\n\t\t\tvar maincamera = o.viewer.scene.findNode(\"main-camera\");\r\n\t\t\t\r\n\t\t\tvar diagonal = Math.sqrt(Math.pow(o.modelBounds.max.x - o.modelBounds.min.x, 2) + Math.pow(o.modelBounds.max.y - o.modelBounds.min.y, 2) + Math.pow(o.modelBounds.max.z - o.modelBounds.min.z, 2));\r\n\t\t\t\r\n\t\t\tvar far = diagonal * 5; // 5 being a guessed constant that should somehow coincide with the max zoom-out-factor\r\n\t\t\t\r\n\t\t\tmaincamera.setOptics({\r\n\t\t\t\ttype: 'perspective',\r\n\t\t\t\tfar: far,\r\n\t\t\t\tnear: far / 1000,\r\n\t\t\t\taspect: jQuery(o.viewer.canvas).width() / jQuery(o.viewer.canvas).height(),\r\n\t\t\t\tfovy: 37.8493\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\to.viewer.events.trigger('sceneLoaded', [o.viewer.scene]);\r\n\t\t}\r\n\t\to.state.mode = 1;\r\n//o.state.nrObjects = data.readInt();\r\n//\t\to.updateProgress();\r\n//\t\tconsole.log(\"Nr Objects\", o.state.nrObjects);\r\n\t};\r\n\t\r\n\tthis.process = function(){\r\n\t\tvar data = o.todo.shift();\r\n\t\twhile (data != null) {\r\n\t\t\tinputStream = new BIMSURFER.DataInputStreamReader(null, data);\r\n\t\t\tvar topicId = inputStream.readLong(); // Which we don't use here\r\n\t\t\tvar messageType = inputStream.readByte();\r\n\t\t\tif (messageType == 0) {\r\n\t\t\t\to.readStart(inputStream);\r\n\t\t\t} else if (messageType == 6) {\r\n\t\t\t\to.readEnd(inputStream);\r\n\t\t\t} else {\r\n\t\t\t\to.readObject(inputStream, messageType);\r\n\t\t\t}\r\n\t\t\tdata = o.todo.shift();\r\n\t\t}\r\n\t};\r\n\t\r\n\tthis.progressHandler = function(topicId, state){\r\n\t\tif (topicId == o.topicId) {\r\n\t\t\tif (state.title == \"Done preparing\") {\r\n\t\t\t\tif (!o.prepareReceived) {\r\n\t\t\t\t\to.prepareReceived = true;\r\n\t\t\t\t\to.downloadInitiated();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (state.state == \"FINISHED\") {\r\n\t\t\t\to.bimServerApi.unregisterProgressHandler(o.topicId, o.progressHandler);\r\n\t\t\t}\r\n\t\t\to.progressListeners.forEach(function(progressListener){\r\n\t\t\t\tprogressListener(\"Loading\" + (o.options.title == null ? \"\" : \" \" + o.options.title) + \"...\", state.progress);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\tthis.setTitle = function(title) {\r\n\t\to.options.title = title;\r\n\t}\r\n\r\n\tthis.setLoadOids = function(roids, oids) {\r\n\t\to.options = {type: \"oids\", roids: roids, oids: oids};\r\n\t}\r\n\r\n\tthis.start = function(){\r\n\t\tif (o.options != null) {\r\n\t\t\to.groupId = o.options.roids[0];\r\n\t\t\t\r\n\t\t\to.infoToOid = {};\r\n\t\t\t\r\n\t\t\tvar oids = [];\r\n\t\t\to.options.oids.forEach(function(object){\r\n\t\t\t\tif (object.gid != null) {\r\n\t\t\t\t\to.infoToOid[object.gid] = object.oid;\r\n\t\t\t\t\toids.push(object.gid);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (oids.length > 0) {\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\ttype: \"GeometryInfo\",\r\n\t\t\t\t\toids: oids,\r\n\t\t\t\t\tinclude: {\r\n\t\t\t\t\t\ttype: \"GeometryInfo\",\r\n\t\t\t\t\t\tfield: \"data\"\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\to.bimServerApi.getSerializerByPluginClassName(\"org.bimserver.serializers.binarygeometry.BinaryGeometryMessagingStreamingSerializerPlugin3\", function(serializer){\r\n\t\t\t\t\to.bimServerApi.call(\"ServiceInterface\", \"download\", {\r\n\t\t\t\t\t\troids: o.options.roids,\r\n\t\t\t\t\t\tserializerOid : serializer.oid,\r\n\t\t\t\t\t\tsync : false,\r\n\t\t\t\t\t\tquery: JSON.stringify(query)\r\n\t\t\t\t\t}, function(topicId){\r\n\t\t\t\t\t\to.topicId = topicId;\r\n\t\t\t\t\t\to.bimServerApi.registerProgressHandler(o.topicId, o.progressHandler);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\n\"use strict\"\n\n/**\n * Class: BIMSURFER.ProgressLoader\n * A class to manage the BIMServer progress.\n * Can register progress listeners on the server for long running actions\n */\nBIMSURFER.ProgressLoader = BIMSURFER.Class({\n\tCLASS: 'BIMSURFER.Class',\n\tSYSTEM: null,\n\n\tserver: null,\n\ttopicId: null,\n\tstep: null,\n\tdone: null,\n\tautoUnregister: null,\n\tregistered: null,\n\n\t/**\n\t * @constructor\n\t * @param {BIMSURFER.Viewer instance} system The viewer instance\n\t * @param {BimServerAPI instance} server The API provided by a connected BIMServer\n\t * @param {Number} topicId The TopicID, provided by the BIMServer\n\t * @param {Function} step The callback function for everey progress response by the server\n\t * @param {Function done The callback function that will be fired when the server gives a STATE == Finished\n\t * @param {Boolean} [autoUnregister] Should it automatically unregister the progress listener on the server?\n\t */\n\n\t__construct: function(system, server, topicId, step, done, autoUnregister) {\n\t\tthis.SYSTEM = system;\n\t\tthis.server = server;\n\t\tthis.topicId = topicId;\n\t\tthis.step = step;\n\t\tthis.done = done;\n\t\tthis.autoUnregister = autoUnregister;\n\t\tthis.registered = false;\n\n\t\tvar _this = this;\n\t\tvar registering = true;\n\n\t\tthis.responseHandler = function(topicId, state) {\n\t\t\tif(!_this.registered && !registering) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_this.registered = true;\n\t\t\t_this.progressHandler.apply(_this, [topicId, state]);\n\t\t};\n\n\t\tthis.server.registerProgressHandler(this.topicId, this.responseHandler, function() {\n\t\t\t_this.registered = true; registering = false;\n\t\t});\n\t},\n\n\tunregister: function() {\n\t\tvar _this = this;\n\t\tthis.server.unregisterProgressHandler(this.topicId, this.responseHandler);\n\t\tthis.registered = false;\n\t},\n\n\tresponseHandler: null,\n\n\tprogressHandler: function(topicId, state) {\n\t\tif(state.state == \"FINISHED\") {\n\t\t\tif(this.autoUnregister && this.registered) {\n\t\t\t\tthis.unregister();\n\t\t\t}\n\t\t\tthis.done(state, this);\n\t\t} else {\n\t\t\tthis.step(state, this);\n\t\t}\n\t}\n});\n\nif(typeof SceneJS != 'object')\n{\n\tconsole.error('SceneJS: SceneJS is not loaded!');\n}\n\nSceneJS.FX = {};\n\nSceneJS.FX.Tween = {};\n\nSceneJS.FX.TweenSpline = (function() {\n\tvar TweenSpline, _dt, _intervalID, _r, _tick, _tweens;\n\tTweenSpline = (function() {\n\n\t\tfunction TweenSpline(lookAtNode, play) {\n\t\t\tthis._target = lookAtNode;\n\t\t\tthis._sequence = [];\n\t\t\tthis._timeline = [];\n\t\t\tthis._play = play != null ? play : true;\n\t\t\tthis._t = 0.0;\n\t\t}\n\n\t\tTweenSpline.prototype.tick = function(dt) {\n\t\t\tif (this._play)\n\t\t\t\treturn this._t += dt;\n\t\t};\n\n\t\tTweenSpline.prototype.start = function(lookAt) {\n\t\t\tthis._sequence = [ lookAt != null ? lookAt : {\n\t\t\t\teye : this._target.get('eye'),\n\t\t\t\tlook : this._target.get('look'),\n\t\t\t\tup : this._target.get('up')\n\t\t\t} ];\n\t\t\tthis._timeline = [ 0.0 ];\n\t\t\treturn this._t = 0.0;\n\t\t};\n\n\t\tTweenSpline.prototype.push = function(lookAt, dt) {\n\t\t\tvar dt_prime;\n\t\t\tif (this._sequence.length === 0)\n\t\t\t\tthis._t = 0.0;\n\t\t\tdt_prime = dt != null ? dt : 5000;\n\t\t\tif (this._timeline.length === 0)\n\t\t\t\tdt_prime = 0.0;\n\t\t\tthis._timeline.push(this.totalTime() + dt_prime);\n\t\t\treturn this._sequence.push(lookAt);\n\t\t};\n\n\t\tTweenSpline.prototype.sequence = function(lookAts, dt) {\n\t\t\tvar dt_prime, lookAt, _i, _len;\n\t\t\tif (this._sequence.length === 0)\n\t\t\t\tthis._t = 0.0;\n\t\t\tfor (_i = 0, _len = lookAts.length; _i < _len; _i++) {\n\t\t\t\tlookAt = lookAts[_i];\n\t\t\t\tdt_prime = dt != null ? dt : 800; // speedfactor of\n\t\t\t\t// playing sequences\n\t\t\t\tif (this._timeline.length === 0)\n\t\t\t\t\tdt_prime = 0.0;\n\t\t\t\tthis._timeline.push(this.totalTime() + dt_prime);\n\t\t\t\tthis._sequence.push(lookAt);\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\tTweenSpline.prototype.pause = function() {\n\t\t\treturn this._play = false;\n\t\t};\n\n\t\tTweenSpline.prototype.play = function() {\n\t\t\treturn this._play = true;\n\t\t};\n\n\t\tTweenSpline.prototype.totalTime = function() {\n\t\t\tif (this._timeline.length > 0) {\n\t\t\t\treturn this._timeline[this._timeline.length - 1];\n\t\t\t}\n\t\t\treturn 0;\n\t\t};\n\n\t\tTweenSpline.prototype.update = function() {\n\t\t\tvar dt, i;\n\t\t\tif (this._sequence.length === 0)\n\t\t\t\treturn false;\n\t\t\tif (!this._play)\n\t\t\t\treturn true;\n\t\t\tif (this._t >= this.totalTime() || this._sequence.length === 1) {\n\t\t\t\tthis._target.set(this._sequence[this._sequence.length - 1]);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\ti = 0;\n\t\t\twhile (this._timeline[i] <= this._t) {\n\t\t\t\t++i;\n\t\t\t}\n\t\t\tdt = this._timeline[i] - this._timeline[i - 1];\n\t\t\t_this.lerpLookAtNode(this._target, (this._t - this._timeline[i - 1]) / dt, this._sequence[i - 1], this._sequence[i]);\n\t\t\treturn true;\n\t\t};\n\n\t\treturn TweenSpline;\n\n\t})();\n\t_tweens = [];\n\t_intervalID = null;\n\t_dt = 0;\n\t_tick = function() {\n\t\tvar tween, _i, _len;\n\t\tfor (_i = 0, _len = _tweens.length; _i < _len; _i++) {\n\t\t\ttween = _tweens[_i];\n\t\t\ttween.tick(_dt);\n\t\t}\n\t\treturn null;\n\t};\n\t_r = function(lookAtNode, interval) {\n\t\tvar tween;\n\t\t_dt = interval || 50;\n\t\tif (_intervalID !== null)\n\t\t\tclearInterval(_intervalID);\n\t\t_intervalID = setInterval(_tick, _dt);\n\t\ttween = new TweenSpline(lookAtNode);\n\t\t_tweens.push(tween);\n\t\treturn tween;\n\t};\n\t_r.update = function() {\n\t\tvar i, tween, _results;\n\t\ti = 0;\n\t\t_results = [];\n\t\twhile (i < _tweens.length) {\n\t\t\ttween = _tweens[i];\n\t\t\tif (!tween.update()) {\n\t\t\t\t_results.push(_tweens.splice(i, 1));\n\t\t\t} else {\n\t\t\t\t_results.push(i += 1);\n\t\t\t}\n\t\t}\n\t\treturn _results;\n\t};\n\treturn _r;\n})();\n\nSceneJS.FX.idle = function() {\n\tSceneJS.FX.TweenSpline.update();\n\treturn null;\n};\n\"use strict\";\n\n/*\\\n|*|\n|*|  :: Number.isInteger() polyfill ::\n|*|\n|*|  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n|*|\n\\*/\n\nif (!Number.isInteger) {\n  Number.isInteger = function isInteger (nVal) {\n    return typeof nVal === \"number\" && isFinite(nVal) && nVal > -9007199254740992 && nVal < 9007199254740992 && Math.floor(nVal) === nVal;\n  };\n}\n\n/*\\\n|*|\n|*|  StringView - Mozilla Developer Network - revision #6\n|*|\n|*|  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Typed_arrays/StringView\n|*|  https://developer.mozilla.org/User:fusionchess\n|*|\n|*|  This framework is released under the GNU Public License, version 3 or later.\n|*|  http://www.gnu.org/licenses/gpl-3.0-standalone.html\n|*|\n\\*/\n\nfunction StringView (vInput, sEncoding /* optional (default: UTF-8) */, nOffset /* optional */, nLength /* optional */) {\n\n  var fTAView, aWhole, aRaw, fPutOutptCode, fGetOutptChrSize, nInptLen, nStartIdx = isFinite(nOffset) ? nOffset : 0, nTranscrType = 15;\n\n  if (sEncoding) { this.encoding = sEncoding.toString(); }\n\n  encSwitch: switch (this.encoding) {\n    case \"UTF-8\":\n      fPutOutptCode = StringView.putUTF8CharCode;\n      fGetOutptChrSize = StringView.getUTF8CharLength;\n      fTAView = Uint8Array;\n      break encSwitch;\n    case \"UTF-16\":\n      fPutOutptCode = StringView.putUTF16CharCode;\n      fGetOutptChrSize = StringView.getUTF16CharLength;\n      fTAView = Uint16Array;\n      break encSwitch;\n    case \"UTF-32\":\n      fTAView = Uint32Array;\n      nTranscrType &= 14;\n      break encSwitch;\n    default:\n      /* case \"ASCII\", or case \"BinaryString\" or unknown cases */\n      fTAView = Uint8Array;\n      nTranscrType &= 14;\n  }\n\n  typeSwitch: switch (typeof vInput) {\n    case \"string\":\n      /* the input argument is a primitive string: a new buffer will be created. */\n      nTranscrType &= 7;\n      break typeSwitch;\n    case \"object\":\n      classSwitch: switch (vInput.constructor) {\n        case StringView:\n          /* the input argument is a stringView: a new buffer will be created. */\n          nTranscrType &= 3;\n          break typeSwitch;\n        case String:\n          /* the input argument is an objectified string: a new buffer will be created. */\n          nTranscrType &= 7;\n          break typeSwitch;\n        case ArrayBuffer:\n          /* the input argument is an arrayBuffer: the buffer will be shared. */\n          aWhole = new fTAView(vInput);\n          nInptLen = this.encoding === \"UTF-32\" ?\n              vInput.byteLength >>> 2\n            : this.encoding === \"UTF-16\" ?\n              vInput.byteLength >>> 1\n            :\n              vInput.byteLength;\n          aRaw = nStartIdx === 0 && (!isFinite(nLength) || nLength === nInptLen) ?\n            aWhole\n            : new fTAView(vInput, nStartIdx, !isFinite(nLength) ? nInptLen - nStartIdx : nLength);\n\n          break typeSwitch;\n        case Uint32Array:\n        case Uint16Array:\n        case Uint8Array:\n          /* the input argument is a typedArray: the buffer, and possibly the array itself, will be shared. */\n          fTAView = vInput.constructor;\n          nInptLen = vInput.length;\n          aWhole = vInput.byteOffset === 0 && vInput.length === (\n            fTAView === Uint32Array ?\n              vInput.buffer.byteLength >>> 2\n            : fTAView === Uint16Array ?\n              vInput.buffer.byteLength >>> 1\n            :\n              vInput.buffer.byteLength\n          ) ? vInput : new fTAView(vInput.buffer);\n          aRaw = nStartIdx === 0 && (!isFinite(nLength) || nLength === nInptLen) ?\n            vInput\n            : vInput.subarray(nStartIdx, isFinite(nLength) ? nStartIdx + nLength : nInptLen);\n\n          break typeSwitch;\n        default:\n          /* the input argument is an array or another serializable object: a new typedArray will be created. */\n          aWhole = new fTAView(vInput);\n          nInptLen = aWhole.length;\n          aRaw = nStartIdx === 0 && (!isFinite(nLength) || nLength === nInptLen) ?\n            aWhole\n            : aWhole.subarray(nStartIdx, isFinite(nLength) ? nStartIdx + nLength : nInptLen);\n      }\n      break typeSwitch;\n    default:\n      /* the input argument is a number, a boolean or a function: a new typedArray will be created. */\n      aWhole = aRaw = new fTAView(Number(vInput) || 0);\n\n  }\n\n  if (nTranscrType < 8) {\n\n    var vSource, nOutptLen, nCharStart, nCharEnd, nEndIdx, fGetInptChrSize, fGetInptChrCode;\n\n    if (nTranscrType & 4) { /* input is string */\n\n      vSource = vInput;\n      nOutptLen = nInptLen = vSource.length;\n      nTranscrType ^= this.encoding === \"UTF-32\" ? 0 : 2;\n      /* ...or...: nTranscrType ^= Number(this.encoding !== \"UTF-32\") << 1; */\n      nStartIdx = nCharStart = nOffset ? Math.max((nOutptLen + nOffset) % nOutptLen, 0) : 0;\n      nEndIdx = nCharEnd = (Number.isInteger(nLength) ? Math.min(Math.max(nLength, 0) + nStartIdx, nOutptLen) : nOutptLen) - 1;\n\n    } else { /* input is stringView */\n\n      vSource = vInput.rawData;\n      nInptLen = vInput.makeIndex();\n      nStartIdx = nCharStart = nOffset ? Math.max((nInptLen + nOffset) % nInptLen, 0) : 0;\n      nOutptLen = Number.isInteger(nLength) ? Math.min(Math.max(nLength, 0), nInptLen - nCharStart) : nInptLen;\n      nEndIdx = nCharEnd = nOutptLen + nCharStart;\n\n      if (vInput.encoding === \"UTF-8\") {\n        fGetInptChrSize = StringView.getUTF8CharLength;\n        fGetInptChrCode = StringView.loadUTF8CharCode;\n      } else if (vInput.encoding === \"UTF-16\") {\n        fGetInptChrSize = StringView.getUTF16CharLength;\n        fGetInptChrCode = StringView.loadUTF16CharCode;\n      } else {\n        nTranscrType &= 1;\n      }\n\n    }\n\n    if (nOutptLen === 0 || nTranscrType < 4 && vSource.encoding === this.encoding && nCharStart === 0 && nOutptLen === nInptLen) {\n\n      /* the encoding is the same, the length too and the offset is 0... or the input is empty! */\n\n      nTranscrType = 7;\n\n    }\n\n    conversionSwitch: switch (nTranscrType) {\n\n      case 0:\n\n      /* both the source and the new StringView have a fixed-length encoding... */\n\n        aWhole = new fTAView(nOutptLen);\n        for (var nOutptIdx = 0; nOutptIdx < nOutptLen; aWhole[nOutptIdx] = vSource[nStartIdx + nOutptIdx++]);\n        break conversionSwitch;\n\n      case 1:\n\n      /* the source has a fixed-length encoding but the new StringView has a variable-length encoding... */\n\n        /* mapping... */\n\n        nOutptLen = 0;\n\n        for (var nInptIdx = nStartIdx; nInptIdx < nEndIdx; nInptIdx++) {\n          nOutptLen += fGetOutptChrSize(vSource[nInptIdx]);\n        }\n\n        aWhole = new fTAView(nOutptLen);\n\n        /* transcription of the source... */\n\n        for (var nInptIdx = nStartIdx, nOutptIdx = 0; nOutptIdx < nOutptLen; nInptIdx++) {\n          nOutptIdx = fPutOutptCode(aWhole, vSource[nInptIdx], nOutptIdx);\n        }\n\n        break conversionSwitch;\n\n      case 2:\n\n      /* the source has a variable-length encoding but the new StringView has a fixed-length encoding... */\n\n        /* mapping... */\n\n        nStartIdx = 0;\n\n        var nChrCode;\n\n        for (nChrIdx = 0; nChrIdx < nCharStart; nChrIdx++) {\n          nChrCode = fGetInptChrCode(vSource, nStartIdx);\n          nStartIdx += fGetInptChrSize(nChrCode);\n        }\n\n        aWhole = new fTAView(nOutptLen);\n\n        /* transcription of the source... */\n\n        for (var nInptIdx = nStartIdx, nOutptIdx = 0; nOutptIdx < nOutptLen; nInptIdx += fGetInptChrSize(nChrCode), nOutptIdx++) {\n          nChrCode = fGetInptChrCode(vSource, nInptIdx);\n          aWhole[nOutptIdx] = nChrCode;\n        }\n\n        break conversionSwitch;\n\n      case 3:\n\n      /* both the source and the new StringView have a variable-length encoding... */\n\n        /* mapping... */\n\n        nOutptLen = 0;\n\n        var nChrCode;\n\n        for (var nChrIdx = 0, nInptIdx = 0; nChrIdx < nCharEnd; nInptIdx += fGetInptChrSize(nChrCode)) {\n          nChrCode = fGetInptChrCode(vSource, nInptIdx);\n          if (nChrIdx === nCharStart) { nStartIdx = nInptIdx; }\n          if (++nChrIdx > nCharStart) { nOutptLen += fGetOutptChrSize(nChrCode); }\n        }\n\n        aWhole = new fTAView(nOutptLen);\n\n        /* transcription... */\n\n        for (var nInptIdx = nStartIdx, nOutptIdx = 0; nOutptIdx < nOutptLen; nInptIdx += fGetInptChrSize(nChrCode)) {\n          nChrCode = fGetInptChrCode(vSource, nInptIdx);\n          nOutptIdx = fPutOutptCode(aWhole, nChrCode, nOutptIdx);\n        }\n\n        break conversionSwitch;\n\n      case 4:\n\n      /* DOMString to ASCII or BinaryString or other unknown encodings */\n\n        aWhole = new fTAView(nOutptLen);\n\n        /* transcription... */\n\n        for (var nIdx = 0; nIdx < nOutptLen; nIdx++) {\n          aWhole[nIdx] = vSource.charCodeAt(nIdx) & 0xff;\n        }\n\n        break conversionSwitch;\n\n      case 5:\n\n      /* DOMString to UTF-8 or to UTF-16 */\n\n        /* mapping... */\n\n        nOutptLen = 0;\n\n        for (var nMapIdx = 0; nMapIdx < nInptLen; nMapIdx++) {\n          if (nMapIdx === nCharStart) { nStartIdx = nOutptLen; }\n          nOutptLen += fGetOutptChrSize(vSource.charCodeAt(nMapIdx));\n          if (nMapIdx === nCharEnd) { nEndIdx = nOutptLen; }\n        }\n\n        aWhole = new fTAView(nOutptLen);\n\n        /* transcription... */\n\n        for (var nOutptIdx = 0, nChrIdx = 0; nOutptIdx < nOutptLen; nChrIdx++) {\n          nOutptIdx = fPutOutptCode(aWhole, vSource.charCodeAt(nChrIdx), nOutptIdx);\n        }\n\n        break conversionSwitch;\n\n      case 6:\n\n      /* DOMString to UTF-32 */\n\n        aWhole = new fTAView(nOutptLen);\n\n        /* transcription... */\n\n        for (var nIdx = 0; nIdx < nOutptLen; nIdx++) {\n          aWhole[nIdx] = vSource.charCodeAt(nIdx);\n        }\n\n        break conversionSwitch;\n\n      case 7:\n\n        aWhole = new fTAView(nOutptLen ? vSource : 0);\n        break conversionSwitch;\n\n    }\n\n    aRaw = nTranscrType > 3 && (nStartIdx > 0 || nEndIdx < aWhole.length - 1) ? aWhole.subarray(nStartIdx, nEndIdx) : aWhole;\n\n  }\n\n  this.buffer = aWhole.buffer;\n  this.bufferView = aWhole;\n  this.rawData = aRaw;\n\n  Object.freeze(this);\n\n}\n\n/* CONSTRUCTOR'S METHODS */\n\nStringView.loadUTF8CharCode = function (aChars, nIdx) {\n\n  var nLen = aChars.length, nPart = aChars[nIdx];\n\n  return nPart > 251 && nPart < 254 && nIdx + 5 < nLen ?\n      /* (nPart - 252 << 32) is not possible in ECMAScript! So...: */\n      /* six bytes */ (nPart - 252) * 1073741824 + (aChars[nIdx + 1] - 128 << 24) + (aChars[nIdx + 2] - 128 << 18) + (aChars[nIdx + 3] - 128 << 12) + (aChars[nIdx + 4] - 128 << 6) + aChars[nIdx + 5] - 128\n    : nPart > 247 && nPart < 252 && nIdx + 4 < nLen ?\n      /* five bytes */ (nPart - 248 << 24) + (aChars[nIdx + 1] - 128 << 18) + (aChars[nIdx + 2] - 128 << 12) + (aChars[nIdx + 3] - 128 << 6) + aChars[nIdx + 4] - 128\n    : nPart > 239 && nPart < 248 && nIdx + 3 < nLen ?\n      /* four bytes */(nPart - 240 << 18) + (aChars[nIdx + 1] - 128 << 12) + (aChars[nIdx + 2] - 128 << 6) + aChars[nIdx + 3] - 128\n    : nPart > 223 && nPart < 240 && nIdx + 2 < nLen ?\n      /* three bytes */ (nPart - 224 << 12) + (aChars[nIdx + 1] - 128 << 6) + aChars[nIdx + 2] - 128\n    : nPart > 191 && nPart < 224 && nIdx + 1 < nLen ?\n      /* two bytes */ (nPart - 192 << 6) + aChars[nIdx + 1] - 128\n    :\n      /* one byte */ nPart;\n\n};\n\nStringView.putUTF8CharCode = function (aTarget, nChar, nPutAt) {\n\n  var nIdx = nPutAt;\n\n  if (nChar < 0x80 /* 128 */) {\n    /* one byte */\n    aTarget[nIdx++] = nChar;\n  } else if (nChar < 0x800 /* 2048 */) {\n    /* two bytes */\n    aTarget[nIdx++] = 0xc0 /* 192 */ + (nChar >>> 6);\n    aTarget[nIdx++] = 0x80 /* 128 */ + (nChar & 0x3f /* 63 */);\n  } else if (nChar < 0x10000 /* 65536 */) {\n    /* three bytes */\n    aTarget[nIdx++] = 0xe0 /* 224 */ + (nChar >>> 12);\n    aTarget[nIdx++] = 0x80 /* 128 */ + ((nChar >>> 6) & 0x3f /* 63 */);\n    aTarget[nIdx++] = 0x80 /* 128 */ + (nChar & 0x3f /* 63 */);\n  } else if (nChar < 0x200000 /* 2097152 */) {\n    /* four bytes */\n    aTarget[nIdx++] = 0xf0 /* 240 */ + (nChar >>> 18);\n    aTarget[nIdx++] = 0x80 /* 128 */ + ((nChar >>> 12) & 0x3f /* 63 */);\n    aTarget[nIdx++] = 0x80 /* 128 */ + ((nChar >>> 6) & 0x3f /* 63 */);\n    aTarget[nIdx++] = 0x80 /* 128 */ + (nChar & 0x3f /* 63 */);\n  } else if (nChar < 0x4000000 /* 67108864 */) {\n    /* five bytes */\n    aTarget[nIdx++] = 0xf8 /* 248 */ + (nChar >>> 24);\n    aTarget[nIdx++] = 0x80 /* 128 */ + ((nChar >>> 18) & 0x3f /* 63 */);\n    aTarget[nIdx++] = 0x80 /* 128 */ + ((nChar >>> 12) & 0x3f /* 63 */);\n    aTarget[nIdx++] = 0x80 /* 128 */ + ((nChar >>> 6) & 0x3f /* 63 */);\n    aTarget[nIdx++] = 0x80 /* 128 */ + (nChar & 0x3f /* 63 */);\n  } else /* if (nChar <= 0x7fffffff) */ { /* 2147483647 */\n    /* six bytes */\n    aTarget[nIdx++] = 0xfc /* 252 */ + /* (nChar >>> 32) is not possible in ECMAScript! So...: */ (nChar / 1073741824);\n    aTarget[nIdx++] = 0x80 /* 128 */ + ((nChar >>> 24) & 0x3f /* 63 */);\n    aTarget[nIdx++] = 0x80 /* 128 */ + ((nChar >>> 18) & 0x3f /* 63 */);\n    aTarget[nIdx++] = 0x80 /* 128 */ + ((nChar >>> 12) & 0x3f /* 63 */);\n    aTarget[nIdx++] = 0x80 /* 128 */ + ((nChar >>> 6) & 0x3f /* 63 */);\n    aTarget[nIdx++] = 0x80 /* 128 */ + (nChar & 0x3f /* 63 */);\n  }\n\n  return nIdx;\n\n};\n\nStringView.getUTF8CharLength = function (nChar) {\n  return nChar < 0x80 ? 1 : nChar < 0x800 ? 2 : nChar < 0x10000 ? 3 : nChar < 0x200000 ? 4 : nChar < 0x4000000 ? 5 : 6;\n};\n\nStringView.loadUTF16CharCode = function (aChars, nIdx) {\n\n  /* UTF-16 to DOMString decoding algorithm */\n  var nFrstChr = aChars[nIdx];\n\n  return nFrstChr > 0xD7BF /* 55231 */ && nIdx + 1 < aChars.length ?\n    (nFrstChr - 0xD800 /* 55296 */ << 10) + aChars[nIdx + 1] + 0x2400 /* 9216 */\n    : nFrstChr;\n\n};\n\nStringView.putUTF16CharCode = function (aTarget, nChar, nPutAt) {\n\n  var nIdx = nPutAt;\n\n  if (nChar < 0x10000 /* 65536 */) {\n    /* one element */\n    aTarget[nIdx++] = nChar;\n  } else {\n    /* two elements */\n    aTarget[nIdx++] = 0xD7C0 /* 55232 */ + (nChar >>> 10);\n    aTarget[nIdx++] = 0xDC00 /* 56320 */ + (nChar & 0x3FF /* 1023 */);\n  }\n\n  return nIdx;\n\n};\n\nStringView.getUTF16CharLength = function (nChar) {\n  return nChar < 0x10000 ? 1 : 2;\n};\n\n/* Array of bytes to base64 string decoding */\n\nStringView.b64ToUint6 = function (nChr) {\n\n  return nChr > 64 && nChr < 91 ?\n      nChr - 65\n    : nChr > 96 && nChr < 123 ?\n      nChr - 71\n    : nChr > 47 && nChr < 58 ?\n      nChr + 4\n    : nChr === 43 ?\n      62\n    : nChr === 47 ?\n      63\n    :\n      0;\n\n};\n\nStringView.uint6ToB64 = function (nUint6) {\n\n  return nUint6 < 26 ?\n      nUint6 + 65\n    : nUint6 < 52 ?\n      nUint6 + 71\n    : nUint6 < 62 ?\n      nUint6 - 4\n    : nUint6 === 62 ?\n      43\n    : nUint6 === 63 ?\n      47\n    :\n      65;\n\n};\n\n/* Base64 string to array encoding */\n\nStringView.bytesToBase64 = function (aBytes) {\n\n  var sB64Enc = \"\";\n\n  for (var nMod3, nLen = aBytes.length, nUint24 = 0, nIdx = 0; nIdx < nLen; nIdx++) {\n    nMod3 = nIdx % 3;\n    if (nIdx > 0 && (nIdx * 4 / 3) % 76 === 0) { sB64Enc += \"\\r\\n\"; }\n    nUint24 |= aBytes[nIdx] << (16 >>> nMod3 & 24);\n    if (nMod3 === 2 || aBytes.length - nIdx === 1) {\n      sB64Enc += String.fromCharCode(StringView.uint6ToB64(nUint24 >>> 18 & 63), StringView.uint6ToB64(nUint24 >>> 12 & 63), StringView.uint6ToB64(nUint24 >>> 6 & 63), StringView.uint6ToB64(nUint24 & 63));\n      nUint24 = 0;\n    }\n  }\n\n  return sB64Enc.replace(/A(?=A$|$)/g, \"=\");\n\n};\n\n\nStringView.base64ToBytes = function (sBase64, nBlockBytes) {\n\n  var\n    sB64Enc = sBase64.replace(/[^A-Za-z0-9\\+\\/]/g, \"\"), nInLen = sB64Enc.length,\n    nOutLen = nBlockBytes ? Math.ceil((nInLen * 3 + 1 >>> 2) / nBlockBytes) * nBlockBytes : nInLen * 3 + 1 >>> 2, aBytes = new Uint8Array(nOutLen);\n\n  for (var nMod3, nMod4, nUint24 = 0, nOutIdx = 0, nInIdx = 0; nInIdx < nInLen; nInIdx++) {\n    nMod4 = nInIdx & 3;\n    nUint24 |= StringView.b64ToUint6(sB64Enc.charCodeAt(nInIdx)) << 18 - 6 * nMod4;\n    if (nMod4 === 3 || nInLen - nInIdx === 1) {\n      for (nMod3 = 0; nMod3 < 3 && nOutIdx < nOutLen; nMod3++, nOutIdx++) {\n        aBytes[nOutIdx] = nUint24 >>> (16 >>> nMod3 & 24) & 255;\n      }\n      nUint24 = 0;\n    }\n  }\n\n  return aBytes;\n\n};\n\nStringView.makeFromBase64 = function (sB64Inpt, sEncoding, nByteOffset, nLength) {\n\n  return new StringView(sEncoding === \"UTF-16\" || sEncoding === \"UTF-32\" ? StringView.base64ToBytes(sB64Inpt, sEncoding === \"UTF-16\" ? 2 : 4).buffer : StringView.base64ToBytes(sB64Inpt), sEncoding, nByteOffset, nLength);\n\n};\n\n/* DEFAULT VALUES */\n\nStringView.prototype.encoding = \"UTF-8\"; /* Default encoding... */\n\n/* INSTANCES' METHODS */\n\nStringView.prototype.makeIndex = function (nChrLength, nStartFrom) {\n\n  var\n\n    aTarget = this.rawData, nChrEnd, nRawLength = aTarget.length,\n    nStartIdx = nStartFrom || 0, nIdxEnd = nStartIdx, nStopAtChr = isNaN(nChrLength) ? Infinity : nChrLength;\n\n  if (nChrLength + 1 > aTarget.length) { throw new RangeError(\"StringView.prototype.makeIndex - The offset can\\'t be major than the length of the array - 1.\"); }\n\n  switch (this.encoding) {\n\n    case \"UTF-8\":\n\n      var nPart;\n\n      for (nChrEnd = 0; nIdxEnd < nRawLength && nChrEnd < nStopAtChr; nChrEnd++) {\n        nPart = aTarget[nIdxEnd];\n        nIdxEnd += nPart > 251 && nPart < 254 && nIdxEnd + 5 < nRawLength ? 6\n          : nPart > 247 && nPart < 252 && nIdxEnd + 4 < nRawLength ? 5\n          : nPart > 239 && nPart < 248 && nIdxEnd + 3 < nRawLength ? 4\n          : nPart > 223 && nPart < 240 && nIdxEnd + 2 < nRawLength ? 3\n          : nPart > 191 && nPart < 224 && nIdxEnd + 1 < nRawLength ? 2\n          : 1;\n      }\n\n      break;\n\n    case \"UTF-16\":\n\n      for (nChrEnd = nStartIdx; nIdxEnd < nRawLength && nChrEnd < nStopAtChr; nChrEnd++) {\n        nIdxEnd += aTarget[nIdxEnd] > 0xD7BF /* 55231 */ && nIdxEnd + 1 < aTarget.length ? 2 : 1;\n      }\n\n      break;\n\n    default:\n\n      nIdxEnd = nChrEnd = isFinite(nChrLength) ? nChrLength : nRawLength - 1;\n\n  }\n\n  if (nChrLength) { return nIdxEnd; }\n\n  return nChrEnd;\n\n};\n\nStringView.prototype.toBase64 = function (bWholeBuffer) {\n\n  return StringView.bytesToBase64(\n    bWholeBuffer ?\n      (\n        this.bufferView.constructor === Uint8Array ?\n          this.bufferView\n        :\n          new Uint8Array(this.buffer)\n      )\n    : this.rawData.constructor === Uint8Array ?\n      this.rawData\n    :\n      new Uint8Array(this.buffer, this.rawData.byteOffset, this.rawData.length << (this.rawData.constructor === Uint16Array ? 1 : 2))\n    );\n\n};\n\nStringView.prototype.subview = function (nCharOffset /* optional */, nCharLength /* optional */) {\n\n  var\n\n    nChrLen, nCharStart, nStrLen, bVariableLen = this.encoding === \"UTF-8\" || this.encoding === \"UTF-16\",\n    nStartOffset = nCharOffset, nStringLength, nRawLen = this.rawData.length;\n\n  if (nRawLen === 0) {\n    return new StringView(this.buffer, this.encoding);\n  }\n\n  nStringLength = bVariableLen ? this.makeIndex() : nRawLen;\n  nCharStart = nCharOffset ? Math.max((nStringLength + nCharOffset) % nStringLength, 0) : 0;\n  nStrLen = Number.isInteger(nCharLength) ? Math.max(nCharLength, 0) + nCharStart > nStringLength ? nStringLength - nCharStart : nCharLength : nStringLength;\n\n  if (nCharStart === 0 && nStrLen === nStringLength) { return this; }\n\n  if (bVariableLen) {\n    nStartOffset = this.makeIndex(nCharStart);\n    nChrLen = this.makeIndex(nStrLen, nStartOffset) - nStartOffset;\n  } else {\n    nStartOffset = nCharStart;\n    nChrLen = nStrLen - nCharStart;\n  }\n\n  if (this.encoding === \"UTF-16\") {\n    nStartOffset <<= 1;\n  } else if (this.encoding === \"UTF-32\") {\n    nStartOffset <<= 2;\n  }\n\n  return new StringView(this.buffer, this.encoding, nStartOffset, nChrLen);\n\n};\n\nStringView.prototype.forEachChar = function (fCallback, oThat, nChrOffset, nChrLen) {\n\n  var aSource = this.rawData, nRawEnd, nRawIdx;\n\n  if (this.encoding === \"UTF-8\" || this.encoding === \"UTF-16\") {\n\n    var fGetInptChrSize, fGetInptChrCode;\n\n    if (this.encoding === \"UTF-8\") {\n      fGetInptChrSize = StringView.getUTF8CharLength;\n      fGetInptChrCode = StringView.loadUTF8CharCode;\n    } else if (this.encoding === \"UTF-16\") {\n      fGetInptChrSize = StringView.getUTF16CharLength;\n      fGetInptChrCode = StringView.loadUTF16CharCode;\n    }\n\n    nRawIdx = isFinite(nChrOffset) ? this.makeIndex(nChrOffset) : 0;\n    nRawEnd = isFinite(nChrLen) ? this.makeIndex(nChrLen, nRawIdx) : aSource.length;\n\n    for (var nChrCode, nChrIdx = 0; nRawIdx < nRawEnd; nChrIdx++) {\n      nChrCode = fGetInptChrCode(aSource, nRawIdx);\n      fCallback.call(oThat || null, nChrCode, nChrIdx, nRawIdx, aSource);\n      nRawIdx += fGetInptChrSize(nChrCode);\n    }\n\n  } else {\n\n    nRawIdx = isFinite(nChrOffset) ? nChrOffset : 0;\n    nRawEnd = isFinite(nChrLen) ? nChrLen + nRawIdx : aSource.length;\n\n    for (nRawIdx; nRawIdx < nRawEnd; nRawIdx++) {\n      fCallback.call(oThat || null, aSource[nRawIdx], nRawIdx, nRawIdx, aSource);\n    }\n\n  }\n\n};\n\nStringView.prototype.valueOf = StringView.prototype.toString = function () {\n\n  if (this.encoding !== \"UTF-8\" && this.encoding !== \"UTF-16\") {\n    /* ASCII, UTF-32 or BinaryString to DOMString */\n    return String.fromCharCode.apply(null, this.rawData);\n  }\n\n  var fGetCode, fGetIncr, sView = \"\";\n\n  if (this.encoding === \"UTF-8\") {\n    fGetIncr = StringView.getUTF8CharLength;\n    fGetCode = StringView.loadUTF8CharCode;\n  } else if (this.encoding === \"UTF-16\") {\n    fGetIncr = StringView.getUTF16CharLength;\n    fGetCode = StringView.loadUTF16CharCode;\n  }\n\n  for (var nChr, nLen = this.rawData.length, nIdx = 0; nIdx < nLen; nIdx += fGetIncr(nChr)) {\n    nChr = fGetCode(this.rawData, nIdx);\n    sView += String.fromCharCode(nChr);\n  }\n\n  return sView;\n\n};\nif(typeof BIMSURFER.Util != 'object')\n\tBIMSURFER.Util = {};\n\n\nBIMSURFER.Util.isset = function(variable)\n{\n\tfor(var i = 0; i < arguments.length; i++) {\n\t\tif(typeof arguments[i] == 'undefined' || arguments[i] == null) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\nBIMSURFER.Util.isArray = function(variable) {\n\treturn Object.prototype.toString.call(variable) === '[object Array]'\n}\n\nfunction removeA(arr) {\n    var what, a = arguments, L = a.length, ax;\n    while (L > 1 && arr.length) {\n        what = a[--L];\n        while ((ax= arr.indexOf(what)) !== -1) {\n            arr.splice(ax, 1);\n        }\n    }\n    return arr;\n}\n\n\n/******************************************************************************/\n/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation\n    and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\n\n\n\nif(!GLMAT_EPSILON) {\n    var GLMAT_EPSILON = 0.000001;\n}\n\nif(!GLMAT_ARRAY_TYPE) {\n    var GLMAT_ARRAY_TYPE = (typeof Float32Array !== 'undefined') ? Float32Array : Array;\n}\n\nif(!GLMAT_RANDOM) {\n    var GLMAT_RANDOM = Math.random;\n}\n\n/**\n * @class Common utilities\n * @name glMatrix\n */\nBIMSURFER.Util.glMatrix = {};\n\n/**\n * Sets the type of array used when creating new vectors and matricies\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nBIMSURFER.Util.glMatrix.setMatrixArrayType = function(type) {\n    GLMAT_ARRAY_TYPE = type;\n}\n\n/**\n* Convert Degree To Radian\n*\n* @param {Number} Angle in Degrees\n*/\nBIMSURFER.Util.glMatrix.toRadian = function(a){\n     return a * (Math.PI / 180);\n}\n\n\n/**\n * @class 4 Dimensional Vector\n * @name vec4\n */\nBIMSURFER.Util.glMatrix.vec4 = {};\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\nBIMSURFER.Util.glMatrix.vec4.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {vec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\nBIMSURFER.Util.glMatrix.vec4.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\nBIMSURFER.Util.glMatrix.vec4.fromValues = function(x, y, z, w) {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n};\n\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the source vector\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.set = function(out, x, y, z, w) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n};\n\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec4.subtract}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec4.sub = BIMSURFER.Util.glMatrix.vec4.subtract;\n\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    out[3] = a[3] * b[3];\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec4.multiply}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec4.mul = BIMSURFER.Util.glMatrix.vec4.multiply;\n\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    out[3] = a[3] / b[3];\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec4.divide}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec4.div = BIMSURFER.Util.glMatrix.vec4.divide;\n\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    out[2] = Math.min(a[2], b[2]);\n    out[3] = Math.min(a[3], b[3]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    out[2] = Math.max(a[2], b[2]);\n    out[3] = Math.max(a[3], b[3]);\n    return out;\n};\n\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    return out;\n};\n\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    out[2] = a[2] + (b[2] * scale);\n    out[3] = a[3] + (b[3] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} distance between a and b\n */\nBIMSURFER.Util.glMatrix.vec4.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2],\n        w = b[3] - a[3];\n    return Math.sqrt(x*x + y*y + z*z + w*w);\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec4.distance}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec4.dist = BIMSURFER.Util.glMatrix.vec4.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\nBIMSURFER.Util.glMatrix.vec4.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2],\n        w = b[3] - a[3];\n    return x*x + y*y + z*z + w*w;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec4.squaredDistance}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec4.sqrDist = BIMSURFER.Util.glMatrix.vec4.squaredDistance;\n\n/**\n * Calculates the length of a vec4\n *\n * @param {vec4} a vector to calculate length of\n * @returns {Number} length of a\n */\nBIMSURFER.Util.glMatrix.vec4.length = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    return Math.sqrt(x*x + y*y + z*z + w*w);\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec4.length}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec4.len = BIMSURFER.Util.glMatrix.vec4.length;\n\n/**\n * Calculates the squared length of a vec4\n *\n * @param {vec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nBIMSURFER.Util.glMatrix.vec4.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    return x*x + y*y + z*z + w*w;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec4.squaredLength}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec4.sqrLen = BIMSURFER.Util.glMatrix.vec4.squaredLength;\n\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to negate\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = -a[3];\n    return out;\n};\n\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to normalize\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    var len = x*x + y*y + z*z + w*w;\n    if (len > 0) {\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n        out[2] = a[2] * len;\n        out[3] = a[3] * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} dot product of a and b\n */\nBIMSURFER.Util.glMatrix.vec4.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n};\n\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    out[3] = aw + t * (b[3] - aw);\n    return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.random = function (out, scale) {\n    scale = scale || 1.0;\n\n    //TODO: This is a pretty awful way of doing this. Find something better.\n    out[0] = GLMAT_RANDOM();\n    out[1] = GLMAT_RANDOM();\n    out[2] = GLMAT_RANDOM();\n    out[3] = GLMAT_RANDOM();\n    BIMSURFER.Util.glMatrix.vec4.normalize(out, out);\n    BIMSURFER.Util.glMatrix.vec4.scale(out, out, scale);\n    return out;\n};\n\n/**\n * Transforms the vec4 with a BIMSURFER.Util.glMatrix.mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.transformMat4 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2], w = a[3];\n    out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n    out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n    out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n    out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n    return out;\n};\n\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec4} out\n */\nBIMSURFER.Util.glMatrix.vec4.transformQuat = function(out, a, q) {\n    var x = a[0], y = a[1], z = a[2],\n        qx = q[0], qy = q[1], qz = q[2], qw = q[3],\n\n        // calculate quat * vec\n        ix = qw * x + qy * z - qz * y,\n        iy = qw * y + qz * x - qx * z,\n        iz = qw * z + qx * y - qy * x,\n        iw = -qx * x - qy * y - qz * z;\n\n    // calculate result * inverse quat\n    out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n    return out;\n};\n\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each BIMSURFER.Util.glMatrix.vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nBIMSURFER.Util.glMatrix.vec4.forEach = (function() {\n    var vec = BIMSURFER.Util.glMatrix.vec4.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 4;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n\n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2]; vec[3] = a[i+3];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2]; a[i+3] = vec[3];\n        }\n\n        return a;\n    };\n})();\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec4} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nBIMSURFER.Util.glMatrix.vec4.str = function (a) {\n    return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\n\n\n/**\n * @class 3 Dimensional Vector\n * @name vec3\n */\nBIMSURFER.Util.glMatrix.vec3 = {};\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nBIMSURFER.Util.glMatrix.vec3.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(3);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nBIMSURFER.Util.glMatrix.vec3.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(3);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n};\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nBIMSURFER.Util.glMatrix.vec3.fromValues = function(x, y, z) {\n    var out = new GLMAT_ARRAY_TYPE(3);\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n};\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.set = function(out, x, y, z) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec3.subtract}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec3.sub = BIMSURFER.Util.glMatrix.vec3.subtract;\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec3.multiply}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec3.mul = BIMSURFER.Util.glMatrix.vec3.multiply;\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec3.divide}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec3.div = BIMSURFER.Util.glMatrix.vec3.divide;\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    out[2] = Math.min(a[2], b[2]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    out[2] = Math.max(a[2], b[2]);\n    return out;\n};\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    return out;\n};\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    out[2] = a[2] + (b[2] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nBIMSURFER.Util.glMatrix.vec3.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2];\n    return Math.sqrt(x*x + y*y + z*z);\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec3.distance}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec3.dist = BIMSURFER.Util.glMatrix.vec3.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nBIMSURFER.Util.glMatrix.vec3.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2];\n    return x*x + y*y + z*z;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec3.squaredDistance}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec3.sqrDist = BIMSURFER.Util.glMatrix.vec3.squaredDistance;\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nBIMSURFER.Util.glMatrix.vec3.length = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    return Math.sqrt(x*x + y*y + z*z);\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec3.length}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec3.len = BIMSURFER.Util.glMatrix.vec3.length;\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nBIMSURFER.Util.glMatrix.vec3.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    return x*x + y*y + z*z;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec3.squaredLength}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec3.sqrLen = BIMSURFER.Util.glMatrix.vec3.squaredLength;\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    return out;\n};\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    var len = x*x + y*y + z*z;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n        out[2] = a[2] * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nBIMSURFER.Util.glMatrix.vec3.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n};\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.cross = function(out, a, b) {\n    var ax = a[0], ay = a[1], az = a[2],\n        bx = b[0], by = b[1], bz = b[2];\n\n    out[0] = ay * bz - az * by;\n    out[1] = az * bx - ax * bz;\n    out[2] = ax * by - ay * bx;\n    return out;\n};\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1],\n        az = a[2];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.random = function (out, scale) {\n    scale = scale || 1.0;\n\n    var r = GLMAT_RANDOM() * 2.0 * Math.PI;\n    var z = (GLMAT_RANDOM() * 2.0) - 1.0;\n    var zScale = Math.sqrt(1.0-z*z) * scale;\n\n    out[0] = Math.cos(r) * zScale;\n    out[1] = Math.sin(r) * zScale;\n    out[2] = z * scale;\n    return out;\n};\n\n/**\n * Transforms the vec3 with a BIMSURFER.Util.glMatrix.mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.transformMat4 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2];\n    out[0] = m[0] * x + m[4] * y + m[8] * z + m[12];\n    out[1] = m[1] * x + m[5] * y + m[9] * z + m[13];\n    out[2] = m[2] * x + m[6] * y + m[10] * z + m[14];\n    return out;\n};\n\n/**\n * Transforms the vec3 with a BIMSURFER.Util.glMatrix.mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.transformMat3 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2];\n    out[0] = x * m[0] + y * m[3] + z * m[6];\n    out[1] = x * m[1] + y * m[4] + z * m[7];\n    out[2] = x * m[2] + y * m[5] + z * m[8];\n    return out;\n};\n\n/**\n * Transforms the vec3 with a quat\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec3.transformQuat = function(out, a, q) {\n    // benchmarks: http://jsperf.com/quaternion-transform-vec3-implementations\n\n    var x = a[0], y = a[1], z = a[2],\n        qx = q[0], qy = q[1], qz = q[2], qw = q[3],\n\n        // calculate quat * vec\n        ix = qw * x + qy * z - qz * y,\n        iy = qw * y + qz * x - qx * z,\n        iz = qw * z + qx * y - qy * x,\n        iw = -qx * x - qy * y - qz * z;\n\n    // calculate result * inverse quat\n    out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n    return out;\n};\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each BIMSURFER.Util.glMatrix.vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nBIMSURFER.Util.glMatrix.vec3.forEach = (function() {\n    var vec = BIMSURFER.Util.glMatrix.vec3.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 3;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n\n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2];\n        }\n\n        return a;\n    };\n})();\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nBIMSURFER.Util.glMatrix.vec3.str = function (a) {\n    return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n};\n\n\n\n/**\n * @class 2 Dimensional Vector\n * @name vec2\n */\nBIMSURFER.Util.glMatrix.vec2 = {};\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nBIMSURFER.Util.glMatrix.vec2.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(2);\n    out[0] = 0;\n    out[1] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\nBIMSURFER.Util.glMatrix.vec2.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(2);\n    out[0] = a[0];\n    out[1] = a[1];\n    return out;\n};\n\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\nBIMSURFER.Util.glMatrix.vec2.fromValues = function(x, y) {\n    var out = new GLMAT_ARRAY_TYPE(2);\n    out[0] = x;\n    out[1] = y;\n    return out;\n};\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    return out;\n};\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.set = function(out, x, y) {\n    out[0] = x;\n    out[1] = y;\n    return out;\n};\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec2.subtract}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec2.sub = BIMSURFER.Util.glMatrix.vec2.subtract;\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec2.multiply}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec2.mul = BIMSURFER.Util.glMatrix.vec2.multiply;\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec2.divide}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec2.div = BIMSURFER.Util.glMatrix.vec2.divide;\n\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    return out;\n};\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    return out;\n};\n\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nBIMSURFER.Util.glMatrix.vec2.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return Math.sqrt(x*x + y*y);\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec2.distance}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec2.dist = BIMSURFER.Util.glMatrix.vec2.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nBIMSURFER.Util.glMatrix.vec2.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return x*x + y*y;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec2.squaredDistance}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec2.sqrDist = BIMSURFER.Util.glMatrix.vec2.squaredDistance;\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nBIMSURFER.Util.glMatrix.vec2.length = function (a) {\n    var x = a[0],\n        y = a[1];\n    return Math.sqrt(x*x + y*y);\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec2.length}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec2.len = BIMSURFER.Util.glMatrix.vec2.length;\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nBIMSURFER.Util.glMatrix.vec2.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1];\n    return x*x + y*y;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.vec2.squaredLength}\n * @function\n */\nBIMSURFER.Util.glMatrix.vec2.sqrLen = BIMSURFER.Util.glMatrix.vec2.squaredLength;\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    return out;\n};\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1];\n    var len = x*x + y*y;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nBIMSURFER.Util.glMatrix.vec2.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n};\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\nBIMSURFER.Util.glMatrix.vec2.cross = function(out, a, b) {\n    var z = a[0] * b[1] - a[1] * b[0];\n    out[0] = out[1] = 0;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.random = function (out, scale) {\n    scale = scale || 1.0;\n    var r = GLMAT_RANDOM() * 2.0 * Math.PI;\n    out[0] = Math.cos(r) * scale;\n    out[1] = Math.sin(r) * scale;\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.transformMat2 = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y;\n    out[1] = m[1] * x + m[3] * y;\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.transformMat2d = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.transformMat3 = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nBIMSURFER.Util.glMatrix.vec2.transformMat4 = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[4] * y + m[12];\n    out[1] = m[1] * x + m[5] * y + m[13];\n    return out;\n};\n\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each BIMSURFER.Util.glMatrix.vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nBIMSURFER.Util.glMatrix.vec2.forEach = (function() {\n    var vec = BIMSURFER.Util.glMatrix.vec2.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 2;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n\n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1];\n        }\n\n        return a;\n    };\n})();\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nBIMSURFER.Util.glMatrix.vec2.str = function (a) {\n    return 'vec2(' + a[0] + ', ' + a[1] + ')';\n};\n\n\n\n/**\n * @class 4x4 Matrix\n * @name mat4\n */\nBIMSURFER.Util.glMatrix.mat4 = {};\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\nBIMSURFER.Util.glMatrix.mat4.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(16);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {mat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\nBIMSURFER.Util.glMatrix.mat4.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(16);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a01 = a[1], a02 = a[2], a03 = a[3],\n            a12 = a[6], a13 = a[7],\n            a23 = a[11];\n\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a01;\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a02;\n        out[9] = a12;\n        out[11] = a[14];\n        out[12] = a03;\n        out[13] = a13;\n        out[14] = a23;\n    } else {\n        out[0] = a[0];\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a[1];\n        out[5] = a[5];\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a[2];\n        out[9] = a[6];\n        out[10] = a[10];\n        out[11] = a[14];\n        out[12] = a[3];\n        out[13] = a[7];\n        out[14] = a[11];\n        out[15] = a[15];\n    }\n\n    return out;\n};\n\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.invert = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32,\n\n        // Calculate the determinant\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.adjoint = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    out[0]  =  (a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22));\n    out[1]  = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n    out[2]  =  (a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12));\n    out[3]  = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n    out[4]  = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n    out[5]  =  (a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22));\n    out[6]  = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n    out[7]  =  (a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12));\n    out[8]  =  (a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21));\n    out[9]  = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n    out[10] =  (a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11));\n    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n    out[13] =  (a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21));\n    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n    out[15] =  (a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11));\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {mat4} a the source matrix\n * @returns {Number} determinant of a\n */\nBIMSURFER.Util.glMatrix.mat4.determinant = function (a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n};\n\n/**\n * Multiplies two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.multiply = function (out, a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    // Cache only the current line of the second matrix\n    var b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n    out[0] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[1] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[2] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[3] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\n    out[4] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[5] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[6] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[7] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\n    out[8] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[9] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[10] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[11] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\n    out[12] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[13] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[14] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[15] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.mat4.multiply}\n * @function\n */\nBIMSURFER.Util.glMatrix.mat4.mul = BIMSURFER.Util.glMatrix.mat4.multiply;\n\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.translate = function (out, a, v) {\n    var x = v[0], y = v[1], z = v[2],\n        a00, a01, a02, a03,\n        a10, a11, a12, a13,\n        a20, a21, a22, a23;\n\n    if (a === out) {\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n    } else {\n        a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n        a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n        a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n        out[0] = a00; out[1] = a01; out[2] = a02; out[3] = a03;\n        out[4] = a10; out[5] = a11; out[6] = a12; out[7] = a13;\n        out[8] = a20; out[9] = a21; out[10] = a22; out[11] = a23;\n\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\n    }\n\n    return out;\n};\n\n/**\n * Scales the mat4 by the dimensions in the given vec3\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nBIMSURFER.Util.glMatrix.mat4.scale = function(out, a, v) {\n    var x = v[0], y = v[1], z = v[2];\n\n    out[0] = a[0] * x;\n    out[1] = a[1] * x;\n    out[2] = a[2] * x;\n    out[3] = a[3] * x;\n    out[4] = a[4] * y;\n    out[5] = a[5] * y;\n    out[6] = a[6] * y;\n    out[7] = a[7] * y;\n    out[8] = a[8] * z;\n    out[9] = a[9] * z;\n    out[10] = a[10] * z;\n    out[11] = a[11] * z;\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Rotates a mat4 by the given angle\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.rotate = function (out, a, rad, axis) {\n    var x = axis[0], y = axis[1], z = axis[2],\n        len = Math.sqrt(x * x + y * y + z * z),\n        s, c, t,\n        a00, a01, a02, a03,\n        a10, a11, a12, a13,\n        a20, a21, a22, a23,\n        b00, b01, b02,\n        b10, b11, b12,\n        b20, b21, b22;\n\n    if (Math.abs(len) < GLMAT_EPSILON) { return null; }\n\n    len = 1 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n\n    s = Math.sin(rad);\n    c = Math.cos(rad);\n    t = 1 - c;\n\n    a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n    a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n    a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n    // Construct the elements of the rotation matrix\n    b00 = x * x * t + c; b01 = y * x * t + z * s; b02 = z * x * t - y * s;\n    b10 = x * y * t - z * s; b11 = y * y * t + c; b12 = z * y * t + x * s;\n    b20 = x * z * t + y * s; b21 = y * z * t - x * s; b22 = z * z * t + c;\n\n    // Perform rotation-specific matrix multiplication\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.rotateX = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n        out[0]  = a[0];\n        out[1]  = a[1];\n        out[2]  = a[2];\n        out[3]  = a[3];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[4] = a10 * c + a20 * s;\n    out[5] = a11 * c + a21 * s;\n    out[6] = a12 * c + a22 * s;\n    out[7] = a13 * c + a23 * s;\n    out[8] = a20 * c - a10 * s;\n    out[9] = a21 * c - a11 * s;\n    out[10] = a22 * c - a12 * s;\n    out[11] = a23 * c - a13 * s;\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.rotateY = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n        out[4]  = a[4];\n        out[5]  = a[5];\n        out[6]  = a[6];\n        out[7]  = a[7];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[0] = a00 * c - a20 * s;\n    out[1] = a01 * c - a21 * s;\n    out[2] = a02 * c - a22 * s;\n    out[3] = a03 * c - a23 * s;\n    out[8] = a00 * s + a20 * c;\n    out[9] = a01 * s + a21 * c;\n    out[10] = a02 * s + a22 * c;\n    out[11] = a03 * s + a23 * c;\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.rotateZ = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[8]  = a[8];\n        out[9]  = a[9];\n        out[10] = a[10];\n        out[11] = a[11];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[0] = a00 * c + a10 * s;\n    out[1] = a01 * c + a11 * s;\n    out[2] = a02 * c + a12 * s;\n    out[3] = a03 * c + a13 * s;\n    out[4] = a10 * c - a00 * s;\n    out[5] = a11 * c - a01 * s;\n    out[6] = a12 * c - a02 * s;\n    out[7] = a13 * c - a03 * s;\n    return out;\n};\n\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     BIMSURFER.Util.glMatrix.mat4.identity(dest);\n *     BIMSURFER.Util.glMatrix.mat4.translate(dest, vec);\n *     var quatMat = BIMSURFER.Util.glMatrix.mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     BIMSURFER.Util.glMatrix.mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.fromRotationTranslation = function (out, q, v) {\n    // Quaternion math\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        xy = x * y2,\n        xz = x * z2,\n        yy = y * y2,\n        yz = y * z2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - (yy + zz);\n    out[1] = xy + wz;\n    out[2] = xz - wy;\n    out[3] = 0;\n    out[4] = xy - wz;\n    out[5] = 1 - (xx + zz);\n    out[6] = yz + wx;\n    out[7] = 0;\n    out[8] = xz + wy;\n    out[9] = yz - wx;\n    out[10] = 1 - (xx + yy);\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n* Calculates a 4x4 matrix from the given quaternion\n*\n* @param {mat4} out mat4 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat4} out\n*/\nBIMSURFER.Util.glMatrix.mat4.fromQuat = function (out, q) {\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        xy = x * y2,\n        xz = x * z2,\n        yy = y * y2,\n        yz = y * z2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - (yy + zz);\n    out[1] = xy + wz;\n    out[2] = xz - wy;\n    out[3] = 0;\n\n    out[4] = xy - wz;\n    out[5] = 1 - (xx + zz);\n    out[6] = yz + wx;\n    out[7] = 0;\n\n    out[8] = xz + wy;\n    out[9] = yz - wx;\n    out[10] = 1 - (xx + yy);\n    out[11] = 0;\n\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.frustum = function (out, left, right, bottom, top, near, far) {\n    var rl = 1 / (right - left),\n        tb = 1 / (top - bottom),\n        nf = 1 / (near - far);\n    out[0] = (near * 2) * rl;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = (near * 2) * tb;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = (right + left) * rl;\n    out[9] = (top + bottom) * tb;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = (far * near * 2) * nf;\n    out[15] = 0;\n    return out;\n};\n\n/**\n * Generates a perspective projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.perspective = function (out, fovy, aspect, near, far) {\n    var f = 1.0 / Math.tan(fovy / 2),\n        nf = 1 / (near - far);\n    out[0] = f / aspect;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = f;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = (2 * far * near) * nf;\n    out[15] = 0;\n    return out;\n};\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.ortho = function (out, left, right, bottom, top, near, far) {\n    var lr = 1 / (left - right),\n        bt = 1 / (bottom - top),\n        nf = 1 / (near - far);\n    out[0] = -2 * lr;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = -2 * bt;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 2 * nf;\n    out[11] = 0;\n    out[12] = (left + right) * lr;\n    out[13] = (top + bottom) * bt;\n    out[14] = (far + near) * nf;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} center Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nBIMSURFER.Util.glMatrix.mat4.lookAt = function (out, eye, center, up) {\n    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len,\n        eyex = eye[0],\n        eyey = eye[1],\n        eyez = eye[2],\n        upx = up[0],\n        upy = up[1],\n        upz = up[2],\n        centerx = center[0],\n        centery = center[1],\n        centerz = center[2];\n\n    if (Math.abs(eyex - centerx) < GLMAT_EPSILON &&\n        Math.abs(eyey - centery) < GLMAT_EPSILON &&\n        Math.abs(eyez - centerz) < GLMAT_EPSILON) {\n        return BIMSURFER.Util.glMatrix.mat4.identity(out);\n    }\n\n    z0 = eyex - centerx;\n    z1 = eyey - centery;\n    z2 = eyez - centerz;\n\n    len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n\n    x0 = upy * z2 - upz * z1;\n    x1 = upz * z0 - upx * z2;\n    x2 = upx * z1 - upy * z0;\n    len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n    if (!len) {\n        x0 = 0;\n        x1 = 0;\n        x2 = 0;\n    } else {\n        len = 1 / len;\n        x0 *= len;\n        x1 *= len;\n        x2 *= len;\n    }\n\n    y0 = z1 * x2 - z2 * x1;\n    y1 = z2 * x0 - z0 * x2;\n    y2 = z0 * x1 - z1 * x0;\n\n    len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n    if (!len) {\n        y0 = 0;\n        y1 = 0;\n        y2 = 0;\n    } else {\n        len = 1 / len;\n        y0 *= len;\n        y1 *= len;\n        y2 *= len;\n    }\n\n    out[0] = x0;\n    out[1] = y0;\n    out[2] = z0;\n    out[3] = 0;\n    out[4] = x1;\n    out[5] = y1;\n    out[6] = z1;\n    out[7] = 0;\n    out[8] = x2;\n    out[9] = y2;\n    out[10] = z2;\n    out[11] = 0;\n    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Returns a string representation of a mat4\n *\n * @param {mat4} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nBIMSURFER.Util.glMatrix.mat4.str = function (a) {\n    return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' +\n                    a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' +\n                    a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' +\n                    a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n};\n\n\n\n\n/**\n * @class 3x3 Matrix\n * @name mat3\n */\nBIMSURFER.Util.glMatrix.mat3 = {};\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nBIMSURFER.Util.glMatrix.mat3.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(9);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n};\n\n/**\n * Copies the upper-left 3x3 values into the given BIMSURFER.Util.glMatrix.mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nBIMSURFER.Util.glMatrix.mat3.fromMat4 = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[4];\n    out[4] = a[5];\n    out[5] = a[6];\n    out[6] = a[8];\n    out[7] = a[9];\n    out[8] = a[10];\n    return out;\n};\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\nBIMSURFER.Util.glMatrix.mat3.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(9);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nBIMSURFER.Util.glMatrix.mat3.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nBIMSURFER.Util.glMatrix.mat3.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nBIMSURFER.Util.glMatrix.mat3.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a01 = a[1], a02 = a[2], a12 = a[5];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a01;\n        out[5] = a[7];\n        out[6] = a02;\n        out[7] = a12;\n    } else {\n        out[0] = a[0];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a[1];\n        out[4] = a[4];\n        out[5] = a[7];\n        out[6] = a[2];\n        out[7] = a[5];\n        out[8] = a[8];\n    }\n\n    return out;\n};\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nBIMSURFER.Util.glMatrix.mat3.invert = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        b01 = a22 * a11 - a12 * a21,\n        b11 = -a22 * a10 + a12 * a20,\n        b21 = a21 * a10 - a11 * a20,\n\n        // Calculate the determinant\n        det = a00 * b01 + a01 * b11 + a02 * b21;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nBIMSURFER.Util.glMatrix.mat3.adjoint = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8];\n\n    out[0] = (a11 * a22 - a12 * a21);\n    out[1] = (a02 * a21 - a01 * a22);\n    out[2] = (a01 * a12 - a02 * a11);\n    out[3] = (a12 * a20 - a10 * a22);\n    out[4] = (a00 * a22 - a02 * a20);\n    out[5] = (a02 * a10 - a00 * a12);\n    out[6] = (a10 * a21 - a11 * a20);\n    out[7] = (a01 * a20 - a00 * a21);\n    out[8] = (a00 * a11 - a01 * a10);\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nBIMSURFER.Util.glMatrix.mat3.determinant = function (a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8];\n\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n};\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nBIMSURFER.Util.glMatrix.mat3.multiply = function (out, a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        b00 = b[0], b01 = b[1], b02 = b[2],\n        b10 = b[3], b11 = b[4], b12 = b[5],\n        b20 = b[6], b21 = b[7], b22 = b[8];\n\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.mat3.multiply}\n * @function\n */\nBIMSURFER.Util.glMatrix.mat3.mul = BIMSURFER.Util.glMatrix.mat3.multiply;\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nBIMSURFER.Util.glMatrix.mat3.translate = function(out, a, v) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n        x = v[0], y = v[1];\n\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n\n    out[3] = a10;\n    out[4] = a11;\n    out[5] = a12;\n\n    out[6] = x * a00 + y * a10 + a20;\n    out[7] = x * a01 + y * a11 + a21;\n    out[8] = x * a02 + y * a12 + a22;\n    return out;\n};\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nBIMSURFER.Util.glMatrix.mat3.rotate = function (out, a, rad) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n\n    out[0] = c * a00 + s * a10;\n    out[1] = c * a01 + s * a11;\n    out[2] = c * a02 + s * a12;\n\n    out[3] = c * a10 - s * a00;\n    out[4] = c * a11 - s * a01;\n    out[5] = c * a12 - s * a02;\n\n    out[6] = a20;\n    out[7] = a21;\n    out[8] = a22;\n    return out;\n};\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nBIMSURFER.Util.glMatrix.mat3.scale = function(out, a, v) {\n    var x = v[0], y = v[1];\n\n    out[0] = x * a[0];\n    out[1] = x * a[1];\n    out[2] = x * a[2];\n\n    out[3] = y * a[3];\n    out[4] = y * a[4];\n    out[5] = y * a[5];\n\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\nBIMSURFER.Util.glMatrix.mat3.fromMat2d = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = 0;\n\n    out[3] = a[2];\n    out[4] = a[3];\n    out[5] = 0;\n\n    out[6] = a[4];\n    out[7] = a[5];\n    out[8] = 1;\n    return out;\n};\n\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\nBIMSURFER.Util.glMatrix.mat3.fromQuat = function (out, q) {\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        xy = x * y2,\n        xz = x * z2,\n        yy = y * y2,\n        yz = y * z2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - (yy + zz);\n    out[3] = xy + wz;\n    out[6] = xz - wy;\n\n    out[1] = xy - wz;\n    out[4] = 1 - (xx + zz);\n    out[7] = yz + wx;\n\n    out[2] = xz + wy;\n    out[5] = yz - wx;\n    out[8] = 1 - (xx + yy);\n\n    return out;\n};\n\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\nBIMSURFER.Util.glMatrix.mat3.normalFromMat4 = function (out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32,\n\n        // Calculate the determinant\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n    out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n    out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n    return out;\n};\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nBIMSURFER.Util.glMatrix.mat3.str = function (a) {\n    return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' +\n                    a[3] + ', ' + a[4] + ', ' + a[5] + ', ' +\n                    a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n};\n\n\n\n\n\n/**\n * @class 2x3 Matrix\n * @name mat2d\n *\n * @description\n * A mat2d contains six elements defined as:\n * <pre>\n * [a, b,\n *  c, d,\n *  tx,ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, b, 0\n *  c, d, 0\n *  tx,ty,1]\n * </pre>\n * The last column is ignored so the array is shorter and operations are faster.\n */\nBIMSURFER.Util.glMatrix.mat2d = {};\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\nBIMSURFER.Util.glMatrix.mat2d.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(6);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n};\n\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {mat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\nBIMSURFER.Util.glMatrix.mat2d.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(6);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    return out;\n};\n\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the source matrix\n * @returns {mat2d} out\n */\nBIMSURFER.Util.glMatrix.mat2d.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    return out;\n};\n\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\nBIMSURFER.Util.glMatrix.mat2d.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n};\n\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the source matrix\n * @returns {mat2d} out\n */\nBIMSURFER.Util.glMatrix.mat2d.invert = function(out, a) {\n    var aa = a[0], ab = a[1], ac = a[2], ad = a[3],\n        atx = a[4], aty = a[5];\n\n    var det = aa * ad - ab * ac;\n    if(!det){\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {mat2d} a the source matrix\n * @returns {Number} determinant of a\n */\nBIMSURFER.Util.glMatrix.mat2d.determinant = function (a) {\n    return a[0] * a[3] - a[1] * a[2];\n};\n\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the first operand\n * @param {mat2d} b the second operand\n * @returns {mat2d} out\n */\nBIMSURFER.Util.glMatrix.mat2d.multiply = function (out, a, b) {\n    var aa = a[0], ab = a[1], ac = a[2], ad = a[3],\n        atx = a[4], aty = a[5],\n        ba = b[0], bb = b[1], bc = b[2], bd = b[3],\n        btx = b[4], bty = b[5];\n\n    out[0] = aa*ba + ab*bc;\n    out[1] = aa*bb + ab*bd;\n    out[2] = ac*ba + ad*bc;\n    out[3] = ac*bb + ad*bd;\n    out[4] = ba*atx + bc*aty + btx;\n    out[5] = bb*atx + bd*aty + bty;\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.mat2d.multiply}\n * @function\n */\nBIMSURFER.Util.glMatrix.mat2d.mul = BIMSURFER.Util.glMatrix.mat2d.multiply;\n\n\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\nBIMSURFER.Util.glMatrix.mat2d.rotate = function (out, a, rad) {\n    var aa = a[0],\n        ab = a[1],\n        ac = a[2],\n        ad = a[3],\n        atx = a[4],\n        aty = a[5],\n        st = Math.sin(rad),\n        ct = Math.cos(rad);\n\n    out[0] = aa*ct + ab*st;\n    out[1] = -aa*st + ab*ct;\n    out[2] = ac*ct + ad*st;\n    out[3] = -ac*st + ct*ad;\n    out[4] = ct*atx + st*aty;\n    out[5] = ct*aty - st*atx;\n    return out;\n};\n\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to translate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\nBIMSURFER.Util.glMatrix.mat2d.scale = function(out, a, v) {\n    var vx = v[0], vy = v[1];\n    out[0] = a[0] * vx;\n    out[1] = a[1] * vy;\n    out[2] = a[2] * vx;\n    out[3] = a[3] * vy;\n    out[4] = a[4] * vx;\n    out[5] = a[5] * vy;\n    return out;\n};\n\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to translate\n * @param {vec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\nBIMSURFER.Util.glMatrix.mat2d.translate = function(out, a, v) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4] + v[0];\n    out[5] = a[5] + v[1];\n    return out;\n};\n\n/**\n * Returns a string representation of a mat2d\n *\n * @param {mat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nBIMSURFER.Util.glMatrix.mat2d.str = function (a) {\n    return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' +\n                    a[3] + ', ' + a[4] + ', ' + a[5] + ')';\n};\n\n\n\n\n\n/**\n * @class 2x2 Matrix\n * @name mat2\n */\nBIMSURFER.Util.glMatrix.mat2 = {};\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\nBIMSURFER.Util.glMatrix.mat2.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {mat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\nBIMSURFER.Util.glMatrix.mat2.clone = function(a) {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nBIMSURFER.Util.glMatrix.mat2.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\nBIMSURFER.Util.glMatrix.mat2.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nBIMSURFER.Util.glMatrix.mat2.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a1 = a[1];\n        out[1] = a[2];\n        out[2] = a1;\n    } else {\n        out[0] = a[0];\n        out[1] = a[2];\n        out[2] = a[1];\n        out[3] = a[3];\n    }\n\n    return out;\n};\n\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nBIMSURFER.Util.glMatrix.mat2.invert = function(out, a) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n\n        // Calculate the determinant\n        det = a0 * a3 - a2 * a1;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] =  a3 * det;\n    out[1] = -a1 * det;\n    out[2] = -a2 * det;\n    out[3] =  a0 * det;\n\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nBIMSURFER.Util.glMatrix.mat2.adjoint = function(out, a) {\n    // Caching this value is nessecary if out == a\n    var a0 = a[0];\n    out[0] =  a[3];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] =  a0;\n\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat2\n *\n * @param {mat2} a the source matrix\n * @returns {Number} determinant of a\n */\nBIMSURFER.Util.glMatrix.mat2.determinant = function (a) {\n    return a[0] * a[3] - a[2] * a[1];\n};\n\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the first operand\n * @param {mat2} b the second operand\n * @returns {mat2} out\n */\nBIMSURFER.Util.glMatrix.mat2.multiply = function (out, a, b) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n    out[0] = a0 * b0 + a1 * b2;\n    out[1] = a0 * b1 + a1 * b3;\n    out[2] = a2 * b0 + a3 * b2;\n    out[3] = a2 * b1 + a3 * b3;\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.mat2.multiply}\n * @function\n */\nBIMSURFER.Util.glMatrix.mat2.mul = BIMSURFER.Util.glMatrix.mat2.multiply;\n\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\nBIMSURFER.Util.glMatrix.mat2.rotate = function (out, a, rad) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n    out[0] = a0 *  c + a1 * s;\n    out[1] = a0 * -s + a1 * c;\n    out[2] = a2 *  c + a3 * s;\n    out[3] = a2 * -s + a3 * c;\n    return out;\n};\n\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\nBIMSURFER.Util.glMatrix.mat2.scale = function(out, a, v) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        v0 = v[0], v1 = v[1];\n    out[0] = a0 * v0;\n    out[1] = a1 * v1;\n    out[2] = a2 * v0;\n    out[3] = a3 * v1;\n    return out;\n};\n\n/**\n * Returns a string representation of a mat2\n *\n * @param {mat2} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nBIMSURFER.Util.glMatrix.mat2.str = function (a) {\n    return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\n\n\n\n\n/**\n * @class Quaternion\n * @name quat\n */\nBIMSURFER.Util.glMatrix.quat = {};\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\nBIMSURFER.Util.glMatrix.quat.create = function() {\n    var out = new GLMAT_ARRAY_TYPE(4);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {vec3} a the initial vector\n * @param {vec3} b the destination vector\n * @returns {quat} out\n */\nBIMSURFER.Util.glMatrix.quat.rotationTo = (function() {\n    var tmpvec3 = BIMSURFER.Util.glMatrix.vec3.create();\n    var xUnitVec3 = BIMSURFER.Util.glMatrix.vec3.fromValues(1,0,0);\n    var yUnitVec3 = BIMSURFER.Util.glMatrix.vec3.fromValues(0,1,0);\n\n    return function(out, a, b) {\n        var dot = BIMSURFER.Util.glMatrix.vec3.dot(a, b);\n        if (dot < -0.999999) {\n            BIMSURFER.Util.glMatrix.vec3.cross(tmpvec3, xUnitVec3, a);\n            if (BIMSURFER.Util.glMatrix.vec3.length(tmpvec3) < 0.000001)\n                BIMSURFER.Util.glMatrix.vec3.cross(tmpvec3, yUnitVec3, a);\n            BIMSURFER.Util.glMatrix.vec3.normalize(tmpvec3, tmpvec3);\n            BIMSURFER.Util.glMatrix.quat.setAxisAngle(out, tmpvec3, Math.PI);\n            return out;\n        } else if (dot > 0.999999) {\n            out[0] = 0;\n            out[1] = 0;\n            out[2] = 0;\n            out[3] = 1;\n            return out;\n        } else {\n            BIMSURFER.Util.glMatrix.vec3.cross(tmpvec3, a, b);\n            out[0] = tmpvec3[0];\n            out[1] = tmpvec3[1];\n            out[2] = tmpvec3[2];\n            out[3] = 1 + dot;\n            return BIMSURFER.Util.glMatrix.quat.normalize(out, out);\n        }\n    };\n})();\n\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {vec3} view  the vector representing the viewing direction\n * @param {vec3} right the vector representing the local \"right\" direction\n * @param {vec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\nBIMSURFER.Util.glMatrix.quat.setAxes = (function() {\n    var matr = BIMSURFER.Util.glMatrix.mat3.create();\n\n    return function(out, view, right, up) {\n        matr[0] = right[0];\n        matr[3] = right[1];\n        matr[6] = right[2];\n\n        matr[1] = up[0];\n        matr[4] = up[1];\n        matr[7] = up[2];\n\n        matr[2] = view[0];\n        matr[5] = view[1];\n        matr[8] = view[2];\n\n        return BIMSURFER.Util.glMatrix.quat.normalize(out, BIMSURFER.Util.glMatrix.quat.fromMat3(out, matr));\n    };\n})();\n\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {quat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.clone = BIMSURFER.Util.glMatrix.vec4.clone;\n\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.fromValues = BIMSURFER.Util.glMatrix.vec4.fromValues;\n\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the source quaternion\n * @returns {quat} out\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.copy = BIMSURFER.Util.glMatrix.vec4.copy;\n\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.set = BIMSURFER.Util.glMatrix.vec4.set;\n\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\nBIMSURFER.Util.glMatrix.quat.identity = function(out) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\nBIMSURFER.Util.glMatrix.quat.setAxisAngle = function(out, axis, rad) {\n    rad = rad * 0.5;\n    var s = Math.sin(rad);\n    out[0] = s * axis[0];\n    out[1] = s * axis[1];\n    out[2] = s * axis[2];\n    out[3] = Math.cos(rad);\n    return out;\n};\n\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.add = BIMSURFER.Util.glMatrix.vec4.add;\n\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n */\nBIMSURFER.Util.glMatrix.quat.multiply = function(out, a, b) {\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n    out[0] = ax * bw + aw * bx + ay * bz - az * by;\n    out[1] = ay * bw + aw * by + az * bx - ax * bz;\n    out[2] = az * bw + aw * bz + ax * by - ay * bx;\n    out[3] = aw * bw - ax * bx - ay * by - az * bz;\n    return out;\n};\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.quat.multiply}\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.mul = BIMSURFER.Util.glMatrix.quat.multiply;\n\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {quat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.scale = BIMSURFER.Util.glMatrix.vec4.scale;\n\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nBIMSURFER.Util.glMatrix.quat.rotateX = function (out, a, rad) {\n    rad *= 0.5;\n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw + aw * bx;\n    out[1] = ay * bw + az * bx;\n    out[2] = az * bw - ay * bx;\n    out[3] = aw * bw - ax * bx;\n    return out;\n};\n\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nBIMSURFER.Util.glMatrix.quat.rotateY = function (out, a, rad) {\n    rad *= 0.5;\n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        by = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw - az * by;\n    out[1] = ay * bw + aw * by;\n    out[2] = az * bw + ax * by;\n    out[3] = aw * bw - ay * by;\n    return out;\n};\n\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nBIMSURFER.Util.glMatrix.quat.rotateZ = function (out, a, rad) {\n    rad *= 0.5;\n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bz = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw + ay * bz;\n    out[1] = ay * bw - ax * bz;\n    out[2] = az * bw + aw * bz;\n    out[3] = aw * bw - az * bz;\n    return out;\n};\n\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate W component of\n * @returns {quat} out\n */\nBIMSURFER.Util.glMatrix.quat.calculateW = function (out, a) {\n    var x = a[0], y = a[1], z = a[2];\n\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = -Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n    return out;\n};\n\n/**\n * Calculates the dot product of two quat's\n *\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.dot = BIMSURFER.Util.glMatrix.vec4.dot;\n\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.lerp = BIMSURFER.Util.glMatrix.vec4.lerp;\n\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n */\nBIMSURFER.Util.glMatrix.quat.slerp = function (out, a, b, t) {\n    // benchmarks:\n    //    http://jsperf.com/quaternion-slerp-implementations\n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n    var        omega, cosom, sinom, scale0, scale1;\n\n    // calc cosine\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n    // adjust signs (if necessary)\n    if ( cosom < 0.0 ) {\n        cosom = -cosom;\n        bx = - bx;\n        by = - by;\n        bz = - bz;\n        bw = - bw;\n    }\n    // calculate coefficients\n    if ( (1.0 - cosom) > 0.000001 ) {\n        // standard case (slerp)\n        omega  = Math.acos(cosom);\n        sinom  = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n    } else {\n        // \"from\" and \"to\" quaternions are very close\n        //  ... so we can do a linear interpolation\n        scale0 = 1.0 - t;\n        scale1 = t;\n    }\n    // calculate final values\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n\n    return out;\n};\n\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate inverse of\n * @returns {quat} out\n */\nBIMSURFER.Util.glMatrix.quat.invert = function(out, a) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        dot = a0*a0 + a1*a1 + a2*a2 + a3*a3,\n        invDot = dot ? 1.0/dot : 0;\n\n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n    out[0] = -a0*invDot;\n    out[1] = -a1*invDot;\n    out[2] = -a2*invDot;\n    out[3] = a3*invDot;\n    return out;\n};\n\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than BIMSURFER.Util.glMatrix.quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate conjugate of\n * @returns {quat} out\n */\nBIMSURFER.Util.glMatrix.quat.conjugate = function (out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Calculates the length of a quat\n *\n * @param {quat} a vector to calculate length of\n * @returns {Number} length of a\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.length = BIMSURFER.Util.glMatrix.vec4.length;\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.quat.length}\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.len = BIMSURFER.Util.glMatrix.quat.length;\n\n/**\n * Calculates the squared length of a quat\n *\n * @param {quat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.squaredLength = BIMSURFER.Util.glMatrix.vec4.squaredLength;\n\n/**\n * Alias for {@link BIMSURFER.Util.glMatrix.quat.squaredLength}\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.sqrLen = BIMSURFER.Util.glMatrix.quat.squaredLength;\n\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.normalize = BIMSURFER.Util.glMatrix.vec4.normalize;\n\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {mat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\nBIMSURFER.Util.glMatrix.quat.fromMat3 = function(out, m) {\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n    // article \"Quaternion Calculus and Fast Animation\".\n    var fTrace = m[0] + m[4] + m[8];\n    var fRoot;\n\n    if ( fTrace > 0.0 ) {\n        // |w| > 1/2, may as well choose w > 1/2\n        fRoot = Math.sqrt(fTrace + 1.0);  // 2w\n        out[3] = 0.5 * fRoot;\n        fRoot = 0.5/fRoot;  // 1/(4w)\n        out[0] = (m[7]-m[5])*fRoot;\n        out[1] = (m[2]-m[6])*fRoot;\n        out[2] = (m[3]-m[1])*fRoot;\n    } else {\n        // |w| <= 1/2\n        var i = 0;\n        if ( m[4] > m[0] )\n          i = 1;\n        if ( m[8] > m[i*3+i] )\n          i = 2;\n        var j = (i+1)%3;\n        var k = (i+2)%3;\n\n        fRoot = Math.sqrt(m[i*3+i]-m[j*3+j]-m[k*3+k] + 1.0);\n        out[i] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot;\n        out[3] = (m[k*3+j] - m[j*3+k]) * fRoot;\n        out[j] = (m[j*3+i] + m[i*3+j]) * fRoot;\n        out[k] = (m[k*3+i] + m[i*3+k]) * fRoot;\n    }\n\n    return out;\n};\n\n/**\n * Returns a string representation of a quatenion\n *\n * @param {quat} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nBIMSURFER.Util.glMatrix.quat.str = function (a) {\n    return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\n\"use strict\"\n\n/**\n * Class: BIMSURFER.Viewer\n * The viewer can load and show the BIM Models.\n */\nvar GEOMETRY_TYPE_TRIANGLES = 0;\nvar GEOMETRY_TYPE_INSTANCE = 1;\n\n\nBIMSURFER.Viewer = BIMSURFER.Class({\n\tCLASS: 'BIMSURFER.Viewer',\n\tSYSTEM: null,\n\n\tconnectedServers: null,\n\tdiv: null,\n\tmode: null,\n\tcanvas: null,\n\tevents: null,\n\tcontrols: null,\n\tlights: null,\n\tscene: null,\n\tsceneLoaded: false,\n\tbimServerApi: null,\n\tactiveGeometryLoaders: [],\n\twaitingGeometryLoaders: [],\n\ttick: 0,\n//\tselectedObj: 'emtpy Selection',\n//\tmouseRotate: 0,\n//\toldZoom: 15,\n//\tautoLoadPath: \"\",\n\n\n\t/**\n\t * @constructor\n\t * @param {String|div DOMelement} div The viewport div that will be used for the canvas\n\t * @param {Object} [options] An object with options for controls and/or lights\n\t * @param {Boolean} autoStart Full start automatically with the given options (default = false)\n\t */\n\t__construct: function(bimServerApi, div, options, autoStart) {\n\t\tthis.bimServerApi = bimServerApi;\n\t\tif(typeof div == 'string') {\n\t\t\tdiv = jQuery('div#' + div)[0];\n\t\t}\n\n\t\tif(!jQuery(div).is('div')) {\n\t\t\tconsole.error('BIMSURFER: Can not find div element');\n\t\t\treturn;\n\t\t}\n\t\tif(!BIMSURFER.Util.isset(options)) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tthis.SYSTEM = this;\n\t\tthis.div = div;\n\t\tthis.events = new BIMSURFER.Events(this);\n\t\tthis.connectedServers = new Array();\n\t\tthis.controls = new Array();\n\t\tif(!BIMSURFER.Util.isset(options.controls)) {\n\t\t\tthis.addControl(new BIMSURFER.Control.PickFlyOrbit()).activateWhenReady();\n\t\t} else if (BIMSURFER.Util.isArray(options.controls)) {\n\t\t\tfor(var i = 0; i < options.controls.length; i++) {\n\t\t\t\tthis.addControl(options.controls[i]).activateWhenReady();\n\t\t\t}\n\t\t}\n\n\t\tthis.lights = new Array();\n\t\tif(typeof options.lights == 'undefined') {\n\t\t\tthis.addLight(new BIMSURFER.Light.Sun());\n\t\t\tthis.addLight(new BIMSURFER.Light.Ambient());\n\t\t} else if (BIMSURFER.Util.isArray(options.lights)) {\n\t\t\tfor(var i = 0; i < options.lights.length; i++) {\n\t\t\t\tthis.addLight(options.lights[i]);\n\t\t\t}\n\t\t}\n\n\n\t\tthis.visibleTypes = new Array();\n\n\t\tif(BIMSURFER.Util.isset(options, options.autoStart)) {\n\t\t\tif(!BIMSURFER.Util.isset(options.autoStart.serverUrl, options.autoStart.serverUsername, options.autoStart.serverPassword, options.autoStart.projectOid)) {\n\t\t\t\tconsole.error('Some autostart parameters are missing');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar _this = this;\n\t\t\tvar BIMServer = new BIMSURFER.Server(this, options.autoStart.serverUrl, options.autoStart.serverUsername, options.autoStart.serverPassword, false, true, true, function() {\n\t\t\t\tif(BIMServer.loginStatus != 'loggedin') {\n\t\t\t\t\t_this.div.innerHTML = 'Something went wrong while connecting';\n\t\t\t\t\tconsole.error('Something went wrong while connecting');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar project = BIMServer.getProjectByOid(options.autoStart.projectOid);\n\t\t\t\tproject.loadScene((BIMSURFER.Util.isset(options.autoStart.revisionOid) ? options.autoStart.revisionOid : null), true);\n\t\t\t});\n\t\t}\n\t\tsetInterval(this.startNewLoaders, 200, this);\n\t},\n\n\t/**\n\t * Stores a connection to a server for later use\n\t *\n\t * @param {BIMSURFER.Server instance} server The server connection to store\n\t */\n\taddConnectedServer: function(server) {\n\t\tif(this.connectedServers.indexOf(server) == -1) {\n\t\t\tthis.connectedServers.push(server);\n\t\t}\n\t},\n\n\t/**\n\t * Adds a control to the viewer.\n\t *\n\t * @param {BIMSURFER.Control.* instance} control The control to add\n\t * @return The control object\n\t */\n\taddControl: function(control) {\n\t\tif(!BIMSURFER.Util.isset(this.controls[control.CLASS])) {\n\t\t\tthis.controls[control.CLASS] = new Array();\n\t\t}\n\n\t\tif(this.controls[control.CLASS].indexOf(control) == -1) {\n\t\t\tthis.controls[control.CLASS].push(control);\n\t\t}\n\n\t\tcontrol.setViewer(this);\n\t\treturn control;\n\t},\n\n\t/**\n\t * Removes a control from the viewer\n\t *\n\t * @param {BIMSURFER.Control.* instance} control The controle to remove\n\t * @return The control object\n\t */\n\tremoveControl: function(control) {\n\t\tif(BIMSURFER.Util.isArray(this.controls[control.CLASS])) {\n\t\t\tvar i = this.controls[control.CLASS].indexOf(control);\n\t\t\tif(i != -1) {\n\t\t\t\tthis.controls[control.CLASS].splice(i, 1);\n\t\t\t\tcontrol.deactivate();\n\t\t\t\tcontrol.removeFromViewer();\n\t\t\t}\n\t\t}\n\t\treturn control;\n\t},\n\t\n\tgetControl: function(type) {\n\t\tvar controls = this.controls[type];\n\t\tif (controls.length > 0) {\n\t\t\treturn controls[0];\n\t\t}\n\t\treturn null;\n\t},\n\n\t/**\n\t * Adds a light to the viewer\n\t *\n\t * @param {BIMSURFER.Light.* instance} light The light to add\n\t * @return The light object\n\t */\n\taddLight: function(light) {\n\t   \tif(light.CLASS.substr(0, 16) != 'BIMSURFER.Light.') {\n\t   \t\treturn;\n\t\t}\n\n\t\tif(this.lights.indexOf(light) == -1) {\n\t\t\tthis.lights.push(light);\n\t\t}\n\t\tlight.setViewer(this);\n\n\t\tif(this.scene) {\n\t\t\tlight.activate();\n\t\t}\n\t\treturn light;\n\t},\n\n\t/**\n\t * Resizes the viewport and updates the aspect ratio\n\t *\n\t * @param {Number} width The new width in px\n\t * @param {Number} height The new height in px\n\t */\n\tresize: function(width, height) {\n\t\tif(this.canvas) {\n\t\t\tjQuery(this.canvas).width(width).height(height);\n\t\t\tif(BIMSURFER.Util.isset(this.canvas[0])) {\n\t\t\t\tthis.canvas[0].width = width;\n\t\t\t\tthis.canvas[0].height = height;\n\t\t\t}\n\t\t}\n\n\t\tif(this.scene !== null) {\n\t\t\tvar optics = this.scene.findNode('main-camera').get('optics');\n\t\t\toptics['aspect'] = jQuery(this.canvas).width() / jQuery(this.canvas).height();\n\t\t\tthis.scene.findNode('main-camera').set('optics', optics);\n\t\t}\n\t},\n\n\t/**\n\t * Draws the HTML5 canvas element\n\t *\n\t * @return The canvas element\n\t */\n\tdrawCanvas: function() {\n\t\tvar width = jQuery(this.div).width();\n\t\tvar height = jQuery(this.div).height();\n\t\tif(!(width > 0 && height > 0)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(jQuery(this.canvas).length == 1) {\n\t\t\tjQuery(this.canvas).remove();\n\t\t}\n\n\t\tjQuery(this.div).empty();\n\n\t\tthis.canvas = jQuery('<canvas />')\n\t\t\t\t\t\t\t.attr('id', jQuery(this.div).attr('id') + \"-canvas\")\n\t\t\t\t\t\t\t.attr('width', width)\n\t\t\t\t\t\t\t.attr('height', height)\n\t\t\t\t\t\t\t.html('<p>This application requires a browser that supports the <a href=\"http://www.w3.org/html/wg/html5/\">HTML5</a> &lt;canvas&gt; feature.</p>')\n\t\t\t\t\t\t\t.addClass(this.CLASS.replace(/\\./g,\"-\"))\n\t\t\t\t\t\t\t.appendTo(this.div);\n\t\treturn this.canvas;\n\t},\n\n\t/**\n\t * Initializes the common events of the viewer\n\t */\n\tinitEvents: function() {\n\t\tvar _this = this;\n//\t\tTouchEmulator();\n\t\t\n\t\tvar canvas = this.scene.getCanvas();\n//\t\tvar hammer = new Hammer(canvas, { inputClass: Hammer.TouchInput });\n//\n//        hammer.on('pinch', function(e) { \n//        \t_this.events.trigger('touchPinch', [e]); \n//        });\n//        hammer.get('pinch').set({ threshold: 0.1 });\n//        hammer.get('pinch').set({ enable: true });\n//\n//        hammer.on('pan', function(e) { \n//        \t_this.events.trigger('touchPan', [e]); \n//        });\n//        hammer.get('pan').set({ pointers: 2 });\n\n\t\tcanvas.addEventListener('mousedown', function(e) { _this.events.trigger('mouseDown', [e]); }, true);\n\t\tcanvas.addEventListener('mousemove', function(e) { _this.events.trigger('mouseMove', [e]); }, true);\n\t\tcanvas.addEventListener('mouseup', function(e) { _this.events.trigger('mouseUp', [e]); }, true);\n\t\tcanvas.addEventListener('touchstart', function(e) { _this.events.trigger('touchStart', [e]); }, true);\n\t\tcanvas.addEventListener('touchmove', function(e) { _this.events.trigger('touchMove', [e]); }, true);\n\t\tcanvas.addEventListener('touchend', function(e) { _this.events.trigger('touchEnd', [e]); }, true);\n\t\tcanvas.addEventListener('mousewheel', function(e) { _this.events.trigger('mouseWheel', [e]); }, true);\n\t\tcanvas.addEventListener('DOMMouseScroll', function(e) { _this.events.trigger('mouseWheel', [e]); }, true);\n\t\tthis.scene.on('pick', function(hit) { _this.events.trigger('pick', [hit]); });\n\t\tthis.scene.on('tick', function() { _this.events.trigger('tick', []); });\n\n\t\tvar lastDown = { x: null, y: null, scene: this.scene };\n\t\tthis.events.register('mouseDown', function(e) {\n\t\t\tthis.x = e.offsetX;\n\t\t\tthis.y = e.offsetY;\n\t\t}, lastDown);\n\t\tthis.events.register('mouseUp', function(e) {\n\t\t\tif(((e.offsetX > this.x) ? (e.offsetX - this.x < 5) : (this.x - e.offsetX < 5)) &&\t((e.offsetY > this.y) ? (e.offsetY - this.y < 5) : (this.y - e.offsetY < 5))) {\n\t\t\t\tthis.scene.pick(this.x, this.y, {rayPick: true});\n\t\t\t}\n\t\t}, lastDown);\n\t},\n\n\t/**\n\t * Creates or updates the SceneJS Scene, based on a revision\n\t *\n\t * @param {BIMSURFER.ProjectRevision instance} revision The revision\n\t * @param {Object} [options] An object with options to overwrite the default values\n\t * @return The loaded scene\n\t */\n\tloadScene: function(callback, options) {\n\t\tSceneJS.reset();\n\t\tif(typeof options != 'object') {\n\t\t\toptions = {};\n\t\t}\n\n\t\tif (this.scene == null) {\n\t\t\ttry {\n\t\t\t\tvar self = this;\n\t\t\t\tvar CAPTURE_ID = \"canvasCaptureNode\";\n\t\t\t\t\t\t\n\t\t\t\tvar addCaptureNode = function(nodes) {\n\t\t\t\t\tif (options.useCapture) {\n\t\t\t\t\t\tnodes.push({\n\t\t\t\t\t\t\ttype: \"canvas/capture\",\n\t\t\t\t\t\t\tid  : CAPTURE_ID\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\treturn nodes;\n\t\t\t\t};\n\t\t\t\tthis.scene = {\n\t\t\t\t\tbackfaces: false,\n\t\t\t\t\ttype: \"scene\",\n\t\t\t\t\tnodes: [{\n\t\t\t\t\t\ttype: 'lookAt',\n\t\t\t\t\t\tid: 'main-lookAt',\n\t\t\t\t\t\teye: (typeof options.eye == 'object' ? options.eye : { x: 1, y: 1, z: 1 }),\n\t\t\t\t\t\tlook: (typeof options.look == 'object' ? options.look : { x: 0.0, y: 0.0, z: 0.0 }),\n\t\t\t\t\t\tup: (typeof options.up == 'object' ? options.up : { x: 0.0, y: 0.0, z: 1.0 }),\n\t\t\t\t\t\tnodes: [{\n\t\t\t\t\t\t\tnodes: addCaptureNode([{\n\t\t\t\t\t\t\t\ttype: 'camera',\n\t\t\t\t\t\t\t\tid: 'main-camera',\n\t\t\t\t\t\t\t\toptics: {\n\t\t\t\t\t\t\t\t\ttype: 'perspective',\n\t\t\t\t\t\t\t\t\tfar: (typeof options.far == 'number' ? options.far : 100),\n\t\t\t\t\t\t\t\t\tnear: (typeof options.near == 'number' ? options.near : 0.001),\n\t\t\t\t\t\t\t\t\taspect: (typeof options.aspect ==  'number' ? options.aspect : jQuery(this.canvas).width() / jQuery(this.canvas).height()),\n\t\t\t\t\t\t\t\t\tfovy: (typeof options.fovy ==  'number' ? options.fovy : 37.8493)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tnodes: [{\n\t\t\t\t\t\t\t\t\ttype: 'renderer',\n\t\t\t\t\t\t\t\t\tid: 'main-renderer',\n\t\t\t\t\t\t\t\t\tclear: {\n\t\t\t\t\t\t\t\t\t\tcolor: (typeof options.clearColor ==  'boolean' ? options.clearColor : true),\n\t\t\t\t\t\t\t\t\t\tdepth: (typeof options.clearDepth ==  'boolean' ? options.clearDepth : true),\n\t\t\t\t\t\t\t\t\t\tstencil: (typeof options.clearStencil ==  'boolean' ? options.clearStencil : true)\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tnodes: [{\n\t\t\t\t\t\t\t\t\t\ttype: 'lights',\n\t\t\t\t\t\t\t\t\t\tid: 'my-lights',\n//\t\t\t\t\t\t\t\t\t\tnodes: [\n//\t\t\t\t\t\t\t\t\t\t\t{\n//\t\t\t\t\t\t\t\t\t\t\t    type:\"material\",\n//\t\t\t\t\t\t\t\t\t\t\t    color:{ r:1, g:0, b:0 },\n//\t\t\t\t\t\t\t\t\t\t\t    nodes:[\n//\t\t\t\t\t\t\t\t\t\t\t        {\n//\t\t\t\t\t\t\t\t\t\t\t            type:\"geometry/box\",\n//\t\t\t\t\t\t\t\t\t\t\t            xSize: 100000,\n//\t\t\t\t\t\t\t\t\t\t\t            ySize: 1000,\n//\t\t\t\t\t\t\t\t\t\t\t            zSize: 1000\n//\t\t\t\t\t\t\t\t\t\t\t        }\n//\t\t\t\t\t\t\t\t\t\t\t    ]\n//\t\t\t\t\t\t\t\t\t\t\t},\n//\t\t\t\t\t\t\t\t\t\t\t{\n//\t\t\t\t\t\t\t\t\t\t\t    type:\"material\",\n//\t\t\t\t\t\t\t\t\t\t\t    color:{ r:0, g:1, b:0 },\n//\t\t\t\t\t\t\t\t\t\t\t    nodes:[\n//\t\t\t\t\t\t\t\t\t\t\t        {\n//\t\t\t\t\t\t\t\t\t\t\t            type:\"geometry/box\",\n//\t\t\t\t\t\t\t\t\t\t\t            xSize: 1000,\n//\t\t\t\t\t\t\t\t\t\t\t            ySize: 100000,\n//\t\t\t\t\t\t\t\t\t\t\t            zSize: 1000\n//\t\t\t\t\t\t\t\t\t\t\t        }\n//\t\t\t\t\t\t\t\t\t\t\t    ]\n//\t\t\t\t\t\t\t\t\t\t\t},\n//\t\t\t\t\t\t\t\t\t\t\t{\n//\t\t\t\t\t\t\t\t\t\t\t    type:\"material\",\n//\t\t\t\t\t\t\t\t\t\t\t    color:{ r:0, g:0, b:1 },\n//\t\t\t\t\t\t\t\t\t\t\t    nodes:[\n//\t\t\t\t\t\t\t\t\t\t\t        {\n//\t\t\t\t\t\t\t\t\t\t\t            type:\"geometry/box\",\n//\t\t\t\t\t\t\t\t\t\t\t            xSize: 1000,\n//\t\t\t\t\t\t\t\t\t\t\t            ySize: 1000,\n//\t\t\t\t\t\t\t\t\t\t\t            zSize: 100000\n//\t\t\t\t\t\t\t\t\t\t\t        }\n//\t\t\t\t\t\t\t\t\t\t\t    ]\n//\t\t\t\t\t\t\t\t\t\t\t}\n//\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\tlights: []\n\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t}])\n\t\t\t\t\t\t}]\n\t\t\t\t\t}]\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.drawCanvas();\n\t\t\t\tthis.scene.canvasId = jQuery(this.canvas).attr('id');\n\t\t\t\tthis.scene.id = this.scene.canvasId;\n\t\t\t\tthis.scene = SceneJS.createScene(this.scene);\n\t\t\t\t\n\t\t\t\tvar _this = this;\n\t\t\t\t\n\t\t\t\tif (options.useCapture) {\n\t\t\t\t\tthis.scene.getNode(CAPTURE_ID, function(node) {\n\t\t\t\t\t\tvar d;\n\t\t\t\t\t\tnode.on(\"image\", function(data) {\n\t\t\t\t\t\t\td.resolve(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_this.capture = function(options) {\n\t\t\t\t\t\t\td = jQuery.Deferred();\n\t\t\t\t\t\t\tnode.capture({\n\t\t\t\t\t\t\t        format: (options || {}).format || \"png\",\n\t\t\t\t\t\t\t        width : (options || {}).width  || 1024,\n\t\t\t\t\t\t\t        height: (options || {}).height || 1024\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn d;\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.scene.on(\"tick\", function(){\n\t\t\t\t\tif (_this.tick % 5 == 0) {\n\t\t\t\t\t\t_this.activeGeometryLoaders.forEach(function(geometryLoader){\n\t\t\t\t\t\t\tgeometryLoader.process();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t_this.tick++;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tfor(var i = 0; i < this.lights.length; i++) {\n\t\t\t\t\tthis.lights[i].activate();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar clickSelect = new BIMSURFER.Control.ClickSelect();\n\t\t\t\tthis.addControl(clickSelect);\n\t\t\t\t\n\t\t\t\tif(this.scene != null) {\n//\t\t\t\t\tthis.scene.set('tagMask', '^()$');\n\n\t\t\t\t\tthis.initEvents();\n\t\t\t\t\tthis.sceneLoaded = true;\n\t\t\t\t}\n\t\t\t\tcallback();\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\tconsole.error('loadScene: ', error, error.stack, this, arguments);\n\t\t\t\tconsole.debug('loadScene ERROR', error, error.stack, this, arguments);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tcallback();\n\t\t}\n\t\treturn null;\n\t},\n\n\tstartNewLoaders: function(o){\n\t\tif (o.waitingGeometryLoaders.length > 0 && o.activeGeometryLoaders.length < 3) {\n\t\t\tvar geometryLoader = o.waitingGeometryLoaders[0];\n\t\t\to.waitingGeometryLoaders = o.waitingGeometryLoaders.slice(1);\n\t\t\to.activeGeometryLoaders.push(geometryLoader);\n\t\t\tgeometryLoader.progressListeners.push(function(progress){\n\t\t\t\tif (progress == \"done\") {\n\t\t\t\t\to.tick = 0;\n\t\t\t\t\tremoveA(o.activeGeometryLoaders, geometryLoader);\n\t\t\t\t}\n\t\t\t});\n\t\t\tgeometryLoader.start();\n\t\t}\n\t},\n\t\n\t/**\n\t * Loads and shows the geometry of the revisions that are in the load queue\n\t */\n\tloadGeometry: function(geometryLoader) {\n\t\tvar o = this;\n\t\tif (o.activeGeometryLoaders.length < 3) {\n\t\t\to.activeGeometryLoaders.push(geometryLoader);\n\t\t\tgeometryLoader.progressListeners.push(function(progress){\n\t\t\t\tif (progress == \"done\") {\n\t\t\t\t\to.tick = 0;\n\t\t\t\t\tremoveA(o.activeGeometryLoaders, geometryLoader);\n\t\t\t\t}\n\t\t\t});\n\t\t\tgeometryLoader.start();\n\t\t} else {\n\t\t\to.waitingGeometryLoaders.push(geometryLoader);\n\t\t}\n\t},\n\n\t/**\n\t * Hides an ifcType of a revision.\n\t *\n\t * @param {String} typeName The name of the type to hide\n\t * @param {BIMSURFER.ProjectRevision instance} revision The revision\n\t */\n\thideType: function(typeName, revision) {\n\t\tvar i = revision.visibleTypes.indexOf(typeName.toLowerCase());\n\t\tif(i == -1) {\n\t\t\treturn;\n\t\t}\n\t\trevision.visibleTypes.splice(i, 1);\n\t\tthis.refreshMask();\n\t},\n\n\t/**\n\t * Updates the mask filter of the viewer (shows/hides the ifcTypes)\n\t */\n\trefreshMask: function() {\n\t\tvar mask = new Array();\n\n\t\tthis.visibleTypes.forEach(function(type){\n\t\t\tmask.push(type);\n\t\t});\n\t\t\n\t\tvar tagMask = '^(' + mask.join('|') + ')$';\n\t\tthis.scene.set('tagMask', tagMask);\n\t\tthis.events.trigger('tagMaskUpdated');\n\t},\n\n\t/**\n\t * Hides all the types of a revision\n\t *\n\t * @param {BIMSURFER.ProjectRevision} revision The revision to hide\n\t */\n\thideRevision: function(revision) {\n\t\tvar visibleTypes = revision.visibleTypes.slice(0);\n\t\tfor(var i = 0; i < visibleTypes.length; i++) {\n\t\t\tthis.hideType(visibleTypes[i], revision);\n\t\t}\n\t},\n\n\t/**\n\t * Shows a revision\n\t *\n\t * @param {BIMSURFER.ProjectRevision} revision The revision to show\n\t * @param {Array} [types] The types to show (default = BIMSURFER.Constants.defaultTypes)\n\t */\n\tshowRevision: function(revision, types) {\n\t\tif(!BIMSURFER.Util.isset(types)) {\n\t\t\ttypes = new Array();\n\t\t\tfor(var i = 0; i < revision.ifcTypes.length; i++) {\n\t\t\t\tif(BIMSURFER.Constants.defaultTypes.indexOf(revision.ifcTypes[i]) != -1) {\n\t\t\t\t\ttypes.push(revision.ifcTypes[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.showType(types, revision);\n\t}\n});\n\"use strict\"\n\n/**\n * Class: BIMSURFER.Control.ClickSelect\n * Control to select and hightlight a Scene JS by clicking on it.\n */\nBIMSURFER.Control.ClickSelect = BIMSURFER.Class(BIMSURFER.Control, {\n\tCLASS: \"BIMSURFER.Control.ClickSelect\",\n\n\t/**\n\t * X coordinate of the last mouse event\n\t */\n\tdownX: null,\n\n\t/**\n\t * Y coordinate of the last mouse event\n\t */\n\tdownY: null,\n\t\n\tactive: false,\n\n\t/**\n\t * The selected and highlighted SceneJS node\n\t */\n\thighlighted: null,\n\n\t/**\n\t * Timestamp of the last selection\n\t */\n\tlastSelected: 0,\n\n\t/**\n\t * Constructor.\n\t *\n\t * @constructor\n\t */\n\t__construct: function() {\n\t\tthis.events = new BIMSURFER.Events(this);\n\t},\n\n\t/**\n\t * Activates the contol\n\t */\n\tactivate: function() {\n\t\tif(this.SYSTEM == null || !this.SYSTEM.sceneLoaded) {\n\t\t\tconsole.error('Cannot activate ' + this.CLASS + ': Surfer or scene not ready');\n\t\t\treturn null;\n\t\t}\n\t\tif (!this.active) {\n\t\t\tthis.active = true;\n\t\t\tthis.initEvents();\n\t\t\tthis.events.trigger('activated');\n\t\t}\n\t\treturn this;\n\t},\n\n\t/**\n\t * Initializes the events necessary for the operation of this control\n\t *\n\t * @return this\n\t */\n\tinitEvents: function() {\n\t\tif(this.active) {\n\t\t\tthis.SYSTEM.events.register('pick', this.pick, this);\n\t\t\tthis.SYSTEM.events.register('mouseDown', this.mouseDown, this);\n\t\t\tthis.SYSTEM.events.register('mouseUp', this.mouseUp, this);\n\t\t} else {\n\t\t\tthis.SYSTEM.events.unregister('pick', this.pick, this);\n\t\t\tthis.SYSTEM.events.unregister('mouseDown', this.mouseDown, this);\n\t\t\tthis.SYSTEM.events.unregister('mouseUp', this.mouseUp, this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {mouseEvent} e Mouse event\n\t */\n\tmouseDown: function(e) {\n\t\tthis.downX = e.offsetX;\n\t\tthis.downY = e.offsetY;\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {mouseEvent} e Mouse event\n\t */\n\tmouseUp: function(e) {\n\t\tif(((e.offsetX > this.downX) ? (e.offsetX - this.downX < 5) : (this.downX - e.offsetX < 5)) &&\t((e.offsetY > this.downY) ? (e.offsetY - this.downY < 5) : (this.downY - e.offsetY < 5))) {\n\t\t\tif(Date.now() - this.lastSelected > 10) {\n\t\t\t\tthis.unselect();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {SceneJS.node} hit Selected SceneJS node\n\t */\n\tpick: function(hit) {\n\t\tthis.unselect();\n\t\tthis.highlighted = this.SYSTEM.scene.findNode(hit.nodeId);\n\t\tvar groupId = this.highlighted.findParentByType(\"translate\").data.groupId;\n\n\t\tvar matrix = this.highlighted.nodes[0];\n\t\tvar geometryNode = matrix.nodes[0];\n\n\t\tif (geometryNode._core.arrays.colors != null) {\n\t\t\tvar geometry = {\n\t\t\t\ttype: \"geometry\",\n\t\t\t\tprimitive: \"triangles\"\n\t\t\t};\n\t\n\t\t\tgeometry.coreId = geometryNode.getCoreId() + \"Highlighted\";\n\t\t\tgeometry.indices = geometryNode._core.arrays.indices;\n\t\t\tgeometry.positions = geometryNode._core.arrays.positions;\n\t\t\tgeometry.normals = geometryNode._core.arrays.normals;\n\t\t\t\n\t\t\tgeometry.colors = [];\n\t\t\tfor (var i=0; i<geometryNode._core.arrays.colors.length; i+=4) {\n\t\t\t\tgeometry.colors[i] = 0;\n\t\t\t\tgeometry.colors[i+1] = 1;\n\t\t\t\tgeometry.colors[i+2] = 0;\n\t\t\t\tgeometry.colors[i+3] = 1;\n\t\t\t}\n\t\t\t\n\t\t\tvar library = this.SYSTEM.scene.findNode(\"library-\" + groupId);\n\t\t\tlibrary.add(\"node\", geometry);\n\t\t\t\n\t\t\tvar newGeometry = {\n\t\t\t\ttype: \"geometry\",\n\t\t\t\tcoreId: geometryNode.getCoreId() + \"Highlighted\"\n\t\t\t}\n\t\t\t\n\t\t\tmatrix.removeNode(geometryNode);\n\t\t\tmatrix.addNode(newGeometry);\n\t\t}\n\t\t\n\t\tthis.highlighted.insert('node', BIMSURFER.Constants.highlightSelectedObject);\n\t\tthis.lastSelected = Date.now();\n\t\tvar o = this;\n\t\twindow.setTimeout(function(){\n\t\t\to.events.trigger('select', [groupId, o.highlighted]);\n\t\t}, 0);\n\t},\n\n\t/**\n\t * Event listener\n\t */\n\tunselect: function() {\n\t\tvar highlighted = this.SYSTEM.scene.findNode(BIMSURFER.Constants.highlightSelectedObject.id);\n\t\tif (highlighted != null) {\n\t\t\tvar groupId = highlighted.findParentByType(\"translate\").data.groupId;\n\t\t\tif(highlighted != null)\n\t\t\t{\n\t\t\t\tvar matrix = highlighted.nodes[0];\n\t\t\t\tvar geometryNode = matrix.nodes[0];\n\t\t\t\t\n\t\t\t\tif (geometryNode._core.arrays.colors != null) {\n\t\t\t\t\tmatrix.removeNode(geometryNode);\n\t\t\t\t\t\n\t\t\t\t\tvar newGeometry = {\n\t\t\t\t\t\ttype: \"geometry\",\n\t\t\t\t\t\tcoreId: geometryNode.getCoreId().replace(\"Highlighted\", \"\")\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tmatrix.addNode(newGeometry);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\thighlighted.splice();\n\t\t\t\t\n\t\t\t\tthis.events.trigger('unselect', [this.highlighted == null ? null : this.highlighted.findParentByType(\"translate\").groupId, this.highlighted]);\n\t\t\t\tthis.highlighted = null;\n\t\t\t}\n\t\t}\n\t}\n});\nBIMSURFER.Control.LayerList = BIMSURFER.Class(BIMSURFER.Control,\n{\n\tCLASS: \"BIMSURFER.Control.LayerList\",\n\tshowCheckboxes: true,\n\tautoDraw: true,\n\n\tredraw: function()\n\t{\n\t\tjQuery(this.div).empty();\n\t\tjQuery(this.DOMelement).remove();\n\t\tvar controlClass = this.CLASS.replace(/\\./g,\"-\");\n\t\tthis.DOMelement = jQuery('<ul />').addClass(controlClass);\n\t\tif(this.active)\n\t\t{\n\t\t\tjQuery(this.div).append(this.DOMelement);\n\n\t\t\tfor(var i = 0; i < this.SYSTEM.loadedProjects.length; i++) {\n\t\t\t\tvar project = this.SYSTEM.loadedProjects[i];\n\t\t\t\tvar projectLi = jQuery('<li />').addClass(controlClass + '-Project');\n\t\t\t\tjQuery('<span />').addClass(controlClass + '-Project-Title').text(project.name).appendTo(projectLi);\n\t\t\t\tvar projectUl = jQuery('<ul />').addClass(controlClass + '-Revisions').appendTo(projectLi);\n\n\t\t\t\tfor(var x = 0; x < project.loadedRevisions.length; x++) {\n\t\t\t\t\tvar revision = project.loadedRevisions[x];\n\t\t\t\t\tvar revisionLi = jQuery('<li />').addClass(controlClass + '-Revision');\n\t\t\t\t\tif(project.loadedRevisions.length > 1) {\n\t\t\t\t\t\tjQuery('<span />').addClass(controlClass + '-Revision-Title').text(revision.comment).appendTo(revisionLi);\n\t\t\t\t\t}\n\t\t\t\t\tvar revisionUl = jQuery('<ul />').addClass(controlClass + '-ifcTypes').appendTo(revisionLi);\n\n\t\t\t\t\tfor(var y = 0; y < revision.ifcTypes.length; y++) {\n\t\t\t\t\t\tvar ifcType = revision.ifcTypes[y];\n\t\t\t\t\t\tvar typeLi = jQuery('<li />').addClass(controlClass + '-ifcType');\n\t\t\t\t\t\tvar label = jQuery('<label />').addClass(controlClass + '-ifcType-Label').appendTo(typeLi);\n\n\t\t\t\t\t\tif(this.showCheckboxes) {\n\t\t\t\t\t\t\tvar _this = this;\n\t\t\t\t\t\t\tvar checkbox = jQuery('<input />')\n\t\t\t\t\t\t\t\t\t\t\t\t\t.attr('type', 'checkbox')\n\t\t\t\t\t\t\t\t\t\t\t\t\t.attr('name', controlClass + '-' + project.oid + '-' + revision.oid + '-' + ifcType)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.addClass(controlClass + '-ifcType-Checkbox')\n\t\t\t\t\t\t\t\t\t\t\t\t\t.data('ifcType', ifcType)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.data('revision', revision)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.change(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(jQuery(this).is(':checked')) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.SYSTEM.showType(jQuery(this).data('ifcType'), jQuery(this).data('revision'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.SYSTEM.hideType(jQuery(this).data('ifcType'), jQuery(this).data('revision'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tjQuery('<span />').addClass(controlClass + '-ifcType-checkboxContainer').append(checkbox).appendTo(label);\n\t\t\t\t\t\t\tif(revision.visibleTypes.indexOf(ifcType.toLowerCase()) > -1) {\n\t\t\t\t\t\t\t\tjQuery(checkbox).attr('checked', 'checked');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tjQuery('<span />').addClass(controlClass + '-ifcType-Name').text(ifcType).appendTo(label);\n\t\t\t\t\t\tjQuery(typeLi).appendTo(revisionUl);\n\t\t\t\t\t}\n\t\t\t\t\tjQuery(revisionLi).appendTo(projectUl);\n\t\t\t\t}\n\n\t\t\t\tjQuery(projectLi).appendTo(this.DOMelement);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\tinitEvents: function() {\n\t\tif(!this.SYSTEM) { return; }\n\n\t\tif(this.active) {\n\t\t\tvar _this = this;\n\t\t\tthis.SYSTEM.events.register('revisionSceneLoaded', function() {\n\t\t\t\tif(_this.autoDraw) { _this.redraw(); }\n\t\t\t});\n\n\t\t\tthis.SYSTEM.events.register('tagMaskUpdated', function() {\n\t\t\t\tif(_this.autoDraw) { _this.redraw(); }\n\t\t\t});\n\t\t}\n\t}\n});\nBIMSURFER.Control.ObjectTreeView = BIMSURFER.Class(BIMSURFER.Control,\n{\n\tCLASS: \"BIMSURFER.Control.ObjectTreeView\",\n\tshowCheckboxes: true,\n\n\tprojectHtml: null,\n\n\t__construct: function(div) {\n\t\tif(typeof div == 'string') {\n\t\t\tthis.div = jQuery(document).find('div#' + div)[0] || null;\n\t\t} else if(jQuery(div).is('div')) {\n\t\t\tthis.div = div;\n\t\t}\n\n\t\tthis.events = new BIMSURFER.Events(this);\n\n\t\t//this.projectHtml = '<li id=\"{ID}\"\n\t},\n\n\tredraw: function()\n\t{\n\t\tjQuery(this.div).empty();\n\t\tjQuery(this.DOMelement).remove();\n\t\tvar classIdPrefix = this.CLASS.replace(/\\./g,\"-\");\n\t\tthis.DOMelement = jQuery('<ul />').addClass(classIdPrefix);\n\t\tif(this.active)\n\t\t{\n\t\t\tjQuery(this.div).append(this.DOMelement);\n\n\t\t\tvar relationships = this.SYSTEM.scene.data.relationships;\n\t\t\tvar showCheckboxes = this.showCheckboxes;\n\n\t\t\tfunction drawRelationships(objects, relationship) {\n\t\t\t\tif(objects == null || objects.length == 0) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar div = jQuery('<div />');\n\t\t\t\tjQuery('<span />').text(relationship).appendTo(div);\n\t\t\t\tvar list = jQuery('<ul />').appendTo(div);\n\n\t\t\t\tfor(var i = 0; i < objects.length; i++) {\n\t\t\t\t\tjQuery(list).append(drawObject(objects[i]));\n\t\t\t\t}\n\t\t\t\treturn div;\n\t\t\t}\n\n\t\t\tfunction drawObject(object) {\n\t\t\t\tvar li = jQuery('<li />');\n\t\t\t\tvar div = jQuery('<div />').appendTo(li);\n\t\t\t\tif(showCheckboxes) {\n\t\t\t\t\tjQuery('<span />').append(jQuery('<input />').attr('type', 'checkbox').attr('checked', 'checked')).appendTo(div);\n\t\t\t\t}\n\t\t\t\tjQuery('<span />').text(object.name).appendTo(div);\n\t\t\t\tjQuery('<span />').text('(' + object.type + ')');\n\n\t\t\t\tjQuery(li).append(drawRelationships(object.decomposedBy, 'Decomposed by'));\n\t\t\t\tjQuery(li).append(drawRelationships(object.definedBy, 'Defined by'));\n\t\t\t\tjQuery(li).append(drawRelationships(object.contains, 'Contains'));\n\t\t\t\treturn li;\n\t\t\t}\n\n\t\t\tfunction drawProject(project) {\n\t\t\t\tvar projLi = jQuery('<li />').attr('id', classIdPrefix + '-project-' + project.id).addClass( + '-project');\n\t\t\t\tjQuery('<div />').appendTo(projLi)\n\t\t\t\t\t.append(jQuery('<span />').addClass(classIdPrefix + '-project-name').text(project.name))\n\t\t\t\t\t.append(jQuery('<span />').addClass(classIdPrefix + '-project-type').text('(' + project.type + ')'));\n\n\t\t\t\tjQuery(projLi).append(drawRelationships(project.decomposedBy, 'Decomposed by'));\n\t\t\t\tjQuery(projLi).append(drawRelationships(project.definedBy, 'Defined by'));\n\t\t\t\tjQuery(projLi).append(drawRelationships(project.contains, 'Contains'));\n\n\t\t\t\treturn projLi;\n\t\t\t}\n\n\t\t\tfor(var i = 0; i < this.SYSTEM.scene.data.relationships.length; i++) {\n\t\t\t\tvar project = this.SYSTEM.scene.data.relationships[i];\n\n\t\t\t\tjQuery(this.DOMelement).append(drawProject(project));\n\n/*\n\n\t\tifcRelationships = function(type, rel, indent) {\n\t\t\tvar html, obj, _i, _len;\n\t\t\tif ((rel != null) && rel.length > 0) {\n\t\t\t\tindent = Math.min(indent + 1, 6);\n\t\t\t\thtml = \"<ul class='controls-tree'>\";\n\t\t\t\thtml += \"<div class='controls-tree-heading'><hr><h4>\" + type + \"</h4></div>\";\n\t\t\t\tfor (_i = 0, _len = rel.length; _i < _len; _i++) {\n\t\t\t\t\tobj = rel[_i];\n\t\t\t\t\thtml += ifcObjectDescription(obj, indent);\n\t\t\t\t}\n\t\t\t\treturn html += \"</ul>\";\n\t\t\t} else {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t};\nifcObjectDescription = function(obj, indent) {\n\t\t\treturn \"<li class='controls-tree-rel' id='\" + obj.id + \"'><div class='controls-tree-item'><span class='indent-\" + String(indent) + \"'/>\"\n\t\t\t\t\t+ \"<input type='checkbox' checked='checked'> \" + obj.name + \"<span class='controls-tree-postfix'>(\" + obj.type + \")</span></div>\"\n\t\t\t\t\t+ (ifcDefinedBy(obj.decomposedBy, indent)) + (ifcDefinedBy(obj.definedBy, indent)) + (ifcContains(obj.contains, indent)) + \"</li>\";\n\t\t};\n\t\tifcProject = function(obj) {\n\t\t\treturn \"<li class='controls-tree-root' id='\" + obj.id + \"'><div class='controls-tree-item'>\" + obj.name + \"<span class='controls-tree-postfix'>(\" + obj.type\n\t\t\t\t\t+ \")</span></div>\" + (ifcDefinedBy(obj.decomposedBy, 0)) + (ifcDefinedBy(obj.definedBy, 0)) + (ifcContains(obj.contains, 0)) + \"</li>\";\n\t\t};\n*/\n\n\n\n\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n});\n\"use strict\"\n\n// Some helper functions to deal with the camera math: Note the these\n// operate on vectors represented as JavaScript objects {x:, y:, z:} not\n// arrays or typed arrays.\nvar vecCrossProduct = function(a, b) { var r = SceneJS_math_cross3Vec3([a.x, a.y, a.z], [b.x, b.y, b.z]); return {x:r[0], y:r[1], z:r[2]}; };\nvar vecMultiplyScalar = function(a, m) { return {x:a.x*m, y:a.y*m, z:a.z*m}; };\nvar vecSubtract = function (a, b) { return { x: a.x - b.x, y: a.y - b.y, z: a.z - b.z }; };\nvar vecMagnitude = function(v) { var x = v.x, y = v.y, z = v.z; return Math.sqrt(x*x + y*y + z*z); };\nvar vecNormalize = function(v) { return vecMultiplyScalar(v, 1/vecMagnitude(v)); };\nvar vecNegate = function(v) { return {x:-v.x, y:-v.y, z:-v.z}; };\nvar vecAdd = function (a, b) { return { x: a.x + b.x, y: a.y + b.y, z: a.z + b.z }; };\n\n/**\n * Class: BIMSURFER.Control.PickFlyOrbit\n * Control to control the main camera of the scene.\n * Allows the user to pan, orbit and zoom-in.\n */\nBIMSURFER.Control.PickFlyOrbit = BIMSURFER.Class(BIMSURFER.Control, {\n\tCLASS: \"BIMSURFER.Control.PickFlyOrbit\",\n\n\ttouching: false,\n\torbitDragging: false,\n\tpanDragging: false,\n\torbiting: false,\n\tflying: false,\n\tpanning: false,\n\tlastX: null,\n\tlastY: null,\n\tdownX: null,\n\tdownY: null,\n\n\tdirection: 1,\n\tyaw: 0,\n\tpitch: 0,\n\tzoom: 0,\n\tprevZoom: 0,\n\n\tscale: 1,\n\tprevScale: 1,\n\n    rate: 40,\n\n\tlookAt: null,\n\tstartEye: { x: 0, y: 0, z: 0 },\n\teye: { x: 0, y: 0, z: 0 },\n\tlook: { x: 0, y: 0, z: 0 },\n\n\tstartPivot: { x: 0, y: 0, z: 0 },\n\tendPivot: { x: 0, y: 0, z: 0 },\n\tcurrentPivot: { x: 0, y: 0, z: 0 },\n\n\tflightStartTime: null,\n\tflightDuration: null,\n\n\t/**\n\t * Consturctor\n\t *\n\t * @constructor\n\t * @param {object} params Options\n\t */\n\t__construct: function(params)\t{\n\t\tthis.events = new BIMSURFER.Events(this);\n\t\tif(BIMSURFER.Util.isset(params)) {\n\t\t\tthis.eye = params.eye || this.eye;\n\t\t\tthis.look = params.look || this.look;\n\t\t\tthis.zoom = params.zoom || this.zoom;\n\t\t}\n\t},\n\n\t/**\n\t * Activates the control\n\t *\n\t * @return this\n\t */\n\tactivate: function()\n\t{\n\t\tif(this.SYSTEM == null || !this.SYSTEM.sceneLoaded) {\n\t\t\tconsole.error('Cannot activate ' + this.CLASS + ': Surfer or scene not ready');\n\t\t\treturn null;\n\t\t}\n\n\t\tthis.lookAt = this.SYSTEM.scene.findNode('main-lookAt');\n\t\tthis.eye = this.lookAt.getEye();\n\t\tthis.startEye = this.lookAt.getEye();\n\n\t\tthis.rate = Math.abs(this.eye.z) / 500;\n\n\t\tthis.look = this.lookAt.getLook();\n\t\tthis.currentPivot = this.look;\n\t\tthis.active = true;\n\t\tthis.initEvents();\n\t\tthis.events.trigger('activated');\n\t\treturn this;\n\t},\n\n\t/**\n\t * Deactivates the control\n\t *\n\t * @return this\n\t */\n\tdeactivate: function()\n\t{\n\t\tthis.active = false;\n\t\tthis.initEvents();\n\t\tthis.events.trigger('deactivated');\n\t\treturn this;\n\t},\n\n\t/**\n\t * Initializes the events necessary for the operation of this control\n\t *\n\t * @return this\n\t */\n\tinitEvents: function() {\n\t\tif(this.active) {\n\t\t  \tthis.SYSTEM.events.register('mouseDown', this.mouseDown, this);\n\t\t\tthis.SYSTEM.events.register('mouseUp', this.mouseUp, this);\n\t\t\tthis.SYSTEM.events.register('mouseMove', this.mouseMove, this);\n\t\t\tthis.SYSTEM.events.register('mouseWheel', this.mouseWheel, this);\n\t\t\tthis.SYSTEM.events.register('DOMMouseScroll', this.mouseWheel, this);\n\t\t\tthis.SYSTEM.events.register('touchStart', this.touchStart, this);\n\t\t\tthis.SYSTEM.events.register('touchMove', this.touchMove, this);\n\t\t\tthis.SYSTEM.events.register('touchEnd', this.touchEnd, this);\n\t\t\tthis.SYSTEM.events.register('pick', this.pick, this);\n\t\t\tthis.SYSTEM.events.register('tick', this.tick, this);\n\t\t\tthis.SYSTEM.events.register('touchPinch', this.touchPinch, this);\n\t\t\tthis.SYSTEM.events.register('touchPan', this.touchPan, this);\n\t\t} else {\n\t\t\tthis.SYSTEM.events.unregister('mouseDown', this.mouseDown, this);\n\t\t\tthis.SYSTEM.events.unregister('mouseUp', this.mouseUp, this);\n\t\t\tthis.SYSTEM.events.unregister('mouseMove', this.mouseMove, this);\n\t\t\tthis.SYSTEM.events.unregister('mouseWheel', this.mouseWheel, this);\n\t\t\tthis.SYSTEM.events.unregister('touchStart', this.touchStart, this);\n\t\t\tthis.SYSTEM.events.unregister('touchMove', this.touchMove, this);\n\t\t\tthis.SYSTEM.events.unregister('touchEnd', this.touchEnd, this);\n\t\t\tthis.SYSTEM.events.unregister('pick', this.pick, this);\n\t\t\tthis.SYSTEM.events.unregister('tick', this.tick, this);\n\t\t\tthis.SYSTEM.events.unregister('touchPinch', this.touchPinch, this);\n\t\t\tthis.SYSTEM.events.unregister('touchPan', this.touchPan, this);\n\t\t}\n\t\treturn this;\n\t},\n\t\n\tease: function(t, b, c, d) {\n\t\tb = b || 0;\n\t\tc = c || 1;\n\t\td = d || 1;\n\t\tvar ts = (t /= d) * t;\n\t\tvar tc = ts * t;\n\t\treturn b + c * (-1 * ts * ts + 4 * tc + -6 * ts + 4 * t);\n\t},\n\t\n\tlerp: function(a, b, p) {\n\t\treturn a + (b-a) * p;\n\t},\n\t\n\tlerp3: function(dest, a, b, p) {\n\t\tfor (var i = 0; i < 3; ++i) {\n\t\t\tvar component = String.fromCharCode('x'.charCodeAt(0) + i);\n\t\t\tdest[component] = this.lerp(a[component], b[component], p);\n\t\t}\n\t},\n\t\n\tupdateTimer: function()\n\t{ \n\t\t// TODO: Use HTML5 Animation Frame\n\t\tthis.timeNow = +new Date();\n\t\tif (this.flightStartTime === null) {\n\t\t\tthis.flightStartTime = this.timeNow;\n\t\t}\n\t\tthis.timeElapsed = this.timeNow - this.flightStartTime;\n\t\tthis.timeElapsedNormalized = Math.min(this.timeElapsed / this.flightDuration, 1.0);\n\t\tif (this.timeElapsed >= this.flightDuration) {\n\t\t\tthis.flying = false;\n\t\t\tthis.flightStartTime = null;\n\t\t\t\n\t\t\tthis.rotating = false;\n\t\t\tthis.startYaw = this.startPitch = this.endYaw = this.endPitch = null;\n\t\t}\n\t},\n\t\n\tsphericalCoords: function(eye) {\n\t\tvar r     = vecMagnitude(eye);\n\t\tvar phi   = Math.acos(eye.z / r);\n\t\tvar theta = Math.atan2(eye.y, eye.x);\n\t\treturn {phi: phi, theta: theta};\n\t},\n\n\t/**\n\t * Event listener for every SceneJS tick\n\t */\n\ttick: function()\n\t{\n\t\tif(this.flying) {\n\t\t\tthis.updateTimer();\n\t\t\tvar easedTime = this.ease(this.timeElapsedNormalized);\n\t\t\tthis.lerp3(this.currentPivot, this.startPivot, this.endPivot, easedTime);\n\t\t\t// Need to rotate lookat\n\t\t\tthis.orbiting = true;\n\t\t\n\t\t\tif(this.rotating) {\n\t\t\t\tthis.pitch = this.lerp(this.startPitch, this.endPitch, easedTime);\n\t\t\t\tthis.yaw = this.lerp(this.startYaw, this.endYaw, easedTime);\n\t\t\t}\n\t\t}\n\t\tif(this.orbiting) {\n\t\t\tvar radius = vecMagnitude(this.startEye);\n\t\t\t\n\t\t\tvar phiTheta = this.sphericalCoords(this.startEye);\n\t\t\tvar startPhi = phiTheta.phi;\n\t\t\tvar startTheta = phiTheta.theta;\n\t\t\t\n\t\t\tvar PI_2 = 2*Math.PI;\n\n\t\t\tvar phi = this.pitch * BIMSURFER.Constants.camera.orbitSpeedFactor + startPhi;\n\t\t\t\n\t\t\twhile(phi > PI_2) phi -= PI_2;\n\t\t\twhile(phi < 0   ) phi += PI_2;\n\t\t\t\n\t\t\tif(phi > Math.PI) {\n\t\t\t\tif (this.direction != -1) {\n\t\t\t\t\tthis.direction = -1;\n\t\t\t\t\tthis.lookAt.set('up', {x: 0, y:0, z: -1});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.direction != 1) {\n\t\t\t\t\tthis.direction = 1;\n\t\t\t\t\tthis.lookAt.set('up', {x: 0, y:0, z: 1});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar theta = this.yaw * BIMSURFER.Constants.camera.orbitSpeedFactor + startTheta;\n\t\t\tvar x = radius * Math.sin(phi) * Math.cos(theta);\n\t\t\tvar y = radius * Math.sin(phi) * Math.sin(theta);\n\t\t\tvar z = radius * Math.cos(phi);\n\n\t\t\tvar zoomX = x * this.zoom*BIMSURFER.Constants.camera.zoomSpeedFactor;\n\t\t\tvar zoomY = y * this.zoom*BIMSURFER.Constants.camera.zoomSpeedFactor;\n\t\t\tvar zoomZ = z * this.zoom*BIMSURFER.Constants.camera.zoomSpeedFactor;\n\n\t   \t\tif((x >= 0 && zoomX > x) || (x < 0 && zoomX < x) || (y >= 0 && zoomY > y) || (y < 0 && zoomY < y) || (z >= 0 && zoomZ > z) || (z < 0 && zoomZ < z)) {\n\t  \t\t\tthis.zoom = this.prevZoom;\n\t\t\t\tzoomX = x * this.zoom*BIMSURFER.Constants.camera.zoomSpeedFactor;\n\t\t\t\tzoomY = y * this.zoom*BIMSURFER.Constants.camera.zoomSpeedFactor;\n\t\t\t\tzoomZ = z * this.zoom*BIMSURFER.Constants.camera.zoomSpeedFactor;\n\t  \t\t}\n\n\t\t\tx -= zoomX;\n\t\t\ty -= zoomY;\n\t\t\tz -= zoomZ;\n\n\t\t\tthis.prevZoom = this.zoom;\n\n\t\t\tx += this.currentPivot.x;\n\t\t\ty += this.currentPivot.y;\n\t\t\tz += this.currentPivot.z;\n\n\t\t\tthis.eye = { x: x, y: y, z: z };\n\n\t\t\t// Update view transform\n\t\t\tthis.lookAt.setLook(this.currentPivot);\n\t\t\tthis.lookAt.setEye(this.eye);\n\t\t\t\n\t\t\tthis.orbiting = false;\n\t\t}\n\t\tif(this.panning) {\n\n\t\t    this.lookAt.setLook(this.currentPivot);\n\t\t    this.lookAt.setEye(this.eye);\n\t\t\t\t \t\t  \t\t\t      \t\t  \n\t\t    this.panning = false;\n        } \t\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {SceneJS.node} hit Selected SceneJS node\n\t */\n\tpick: function(hit) {\n\t\t// Some plugins wrap things in this name to\n\t\t// avoid them being picked, such as skyboxes\n\t\tif (hit.name == \"__SceneJS_dontPickMe\") {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.startPivot = {x: this.currentPivot.x, y: this.currentPivot.y, z: this.currentPivot.z};\n\t\tthis.endPivot = {x: hit.worldPos[0], y: hit.worldPos[1], z: hit.worldPos[2]};\n\t\tvar dif = {x: this.endPivot.x - this.startPivot.x, y: this.endPivot.y - this.startPivot.y, z: this.endPivot.z - this.startPivot.z};\n\n\t\tvar flightDist = Math.sqrt(dif.x*dif.x + dif.y*dif.y + dif.z*dif.z);\n\n\t\tthis.flightStartTime = null;\n\t\tthis.flightDuration = 1000.0 * ((flightDist / 15000) + 1); // extra seconds to ensure arrival\n\n\t\tthis.flying = true;\n\t},\n\n\t/**\n\t * @return {Object} a structure containing eye point, view direction and up vector\n\t */\n\tobtainView: function() {\n\t\tvar eye = this.lookAt.getEye();\n\t\tvar tgt = this.lookAt.getLook();\n\t\tvar up  = this.lookAt.getUp();\n\n\t\tvar dir = vecNormalize(vecSubtract(tgt, eye));\n\t\tup = vecCrossProduct(vecCrossProduct(dir, up), dir);\n\t\tup = vecNormalize(up);\n\t\t\n\t\treturn {\n\t\t\teye: eye,\n\t\t\tdir: dir,\n\t\t\tup : up\n\t\t};\n\t},\n\t\n\t/**\n\t * @param {Object} a structure containing eye point, view direction and up vector\n\t */\n\trestoreView: function(lookat) {\n\t\t// Set the current camera orientation as our initial one and\n\t\t// transition to the new one. The lookat structure does not\n\t\t// contain the distance from camera to target so the end pivot\n\t\t// will be set the same distance from the camera as it is now.\n\t\t\n\t\tvar l = vecMagnitude(vecSubtract(this.eye, this.currentPivot));\n\t\t\n\t\tvar cy = vecSubtract(this.eye, this.currentPivot);\n\t\tthis.startEye = {x:cy.x, y:cy.y, z:cy.z};\n\t\t\n\t\tvar currentPT = this.sphericalCoords(this.startEye);\n\t\tvar eventualPT = this.sphericalCoords(vecNegate(lookat.dir));\n\t\t\n\t\tthis.endYaw = (eventualPT.theta - currentPT.theta) / BIMSURFER.Constants.camera.orbitSpeedFactor;\n\t\tthis.endPitch = (eventualPT.phi - currentPT.phi) / BIMSURFER.Constants.camera.orbitSpeedFactor;\n\t\tthis.rotating = true;\n\t\t \n\t\tthis.startYaw = this.startPitch = this.yaw = this.pitch = 0;\n\t\tthis.zoom = this.prevZoom = 0;\n\t\tthis.startPivot = {x: this.currentPivot.x, y: this.currentPivot.y, z: this.currentPivot.z};\n\t\tthis.endPivot = vecSubtract(lookat.eye, vecNegate(vecMultiplyScalar(lookat.dir, l)));\n\t\t\n\t\tthis.flightStartTime = null;\n\t\tthis.flightDuration = 1000;\n\t\tthis.flying = true;\n\t},\n\n\t/**\n\t * Handler for mouse and touch drag events\n\t *\n\t * @param {Number} x X coordinate\n\t * @param {Number} y Y coordinate\n\t */\n\tactionMove: function(x, y) {\n\t\tif(this.orbitDragging) {\n\t\t\tthis.yaw -= (x - this.lastX) * this.direction * 0.1;\n\t\t\tthis.pitch -= (y - this.lastY) * 0.1;\n\t\t\tthis.orbiting = true;\n\t\t} else if (this.panDragging) {\n\t\t    \n\t\t    var rate = this.rate;\n\n\t\t    var eye = this.lookAt.getEye();\n\t\t    var look = this.currentPivot;\n\t\t    //var look = this.lookAt.getLook();\n\t\t    var up = vecNormalize(this.lookAt.getUp());\n\n\t\t    var forward = vecNormalize(vecSubtract({x: look.x, y: look.y, z: look.z}, {x: eye.x, y: eye.y, z: eye.z}));\n\t\t    var axis = vecCrossProduct(up, forward);\n\t\t    up = vecNormalize(vecCrossProduct(axis, forward));\n\t\t    var right = vecNormalize(vecCrossProduct(forward, up));\n\n\t\t    var moveX = vecMultiplyScalar(right, (x - this.lastX) * rate);\n\t\t    var moveY = vecMultiplyScalar(up, -1 * (y - this.lastY) * rate);\n\t\t    var move = vecAdd(moveX, moveY);\n\n\t\t    this.currentPivot = vecAdd({ x: look.x, y: look.y, z: look.z }, move);\n\t\t    //this.look = vecAdd({ x: look.x, y: look.y, z: look.z }, move);\n\t\t    this.eye = vecAdd({ x: eye.x, y: eye.y, z: eye.z }, move);\n\n\t\t    this.panning = true;\n\t\t}\n\n\t\tthis.lastX = x;\n\t\tthis.lastY = y;\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {mouseEvent} e Mouse event\n\t */\n\tmouseDown: function(e) {\n\t\tthis.lastX = this.downX = e.offsetX;\n\t\tthis.lastY = this.downY = e.offsetY;\n\t\tif(e.which == 1) { // Left click\n\t\t\tthis.orbitDragging = true;\n\t\t}\t\t\n\t\tif (e.which == 2 || e.which == 3) { // Middle, Right click\n\t\t\tthis.panDragging = true;\n\t\t\t\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\t\t\t\t\t\n\t\t}\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {mouseEvent} e Mouse event\n\t */\n\tmouseUp: function(e) {\n\t\tthis.orbitDragging = false;\n\t\tthis.panDragging = false;\n\t\tif (e.which == 2 || e.which == 3) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {mouseEvent} e Mouse event\n\t */\n\tmouseMove: function(e) {\n\t\tif(!this.touching) {\n\t\t\tthis.actionMove(e.offsetX, e.offsetY);\n\t\t}\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {mouseEvent} e Mouse event\n\t */\n\tmouseWheel: function(e) {\n\t\tvar delta = 0;\n\t\tvar event = e;\n\t\tif (event.wheelDelta) {\n\t\t\tdelta = event.wheelDelta / 120;\n\t\t\tif (window.opera) {\n\t\t\t\tdelta = -delta;\n\t\t\t}\n\t\t}\n\t\telse if (event.detail) {\n\t\t\tdelta = -event.detail / 3;\n\t\t}\n\n\t\tif (delta) {\n\t\t\tif (delta < 0  && this.zoom > -25) {\n\t\t\t\tthis.zoom -= 1;\n\t\t\t} else if(delta > 0) {\n\t\t\t\tthis.zoom += 1;\n\t\t\t}\n\t\t}\n\n\t\tif (event.preventDefault) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tthis.orbiting = true;\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {touchEvent} e Touch event\n\t */\n\ttouchStart: function(e) {\n\t\tif (e.targetTouches.length == 1) {\n\t\t\tthis.lastX = this.downX = e.targetTouches[0].clientX;\n\t\t\tthis.lastY = this.downY = e.targetTouches[0].clientY;\n\t\t\tthis.orbitDragging = true;\n\t\t\tthis.touching = true;\n\t\t}\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {touchEvent} e Touch event\n\t */\n\ttouchMove: function(e) {\n\t\tif (e.targetTouches.length == 1) {\n\t\t\tthis.actionMove(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t\t}\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {touchEvent} e Touch event\n\t */\n\ttouchEnd: function(e) {\n\t\tif (e.targetTouches.length == 1) {\n\t\t\tthis.orbitDragging = false;\n\t\t\tthis.panDragging = false;\n\t\t\tthis.touching = false;\n\t\t}\n\t\telse {\n\t\t\tthis.prevScale = 1;\n\t\t}\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {touchEvent} e Touch event\n\t */\n\ttouchPinch: function(e) {\n\t\tvar delta = 0;\n\t\tvar event = e;\n\t\tif (event.scale) {\n\t\t\tthis.scale = event.scale;\n\t\t\tdelta = this.prevScale - this.scale;\n\t\t}\n\n\t\tif (delta) {\n\t\t\tif (delta > 0.1  && this.zoom > -25) {\n\t\t\t\tthis.zoom -= 1;\n\t\t\t\tthis.prevScale = this.scale;\n\t\t\t} else if (delta < -0.1) {\n\t\t\t\tthis.zoom += 1;\n\t\t\t\tthis.prevScale = this.scale;\n\t\t\t}\n\t\t}\n\n\t\tif (event.preventDefault) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tthis.orbiting = true;\n\t},\n\n\t/**\n\t * Event listener\n\t *\n\t * @param {touchEvent} e Touch event\n\t */\n\ttouchPan: function(e) {\n\t\tthis.orbitDragging = false;\n\t\tthis.panDragging = true;\n\t\tthis.actionMove(this.downX+e.deltaX, this.downY+e.deltaY);\n\t\tthis.panDragging = false;\n\t},\n\n});\n\"use strict\"\n\n/**\n * Class: BIMSURFER.Control.ProgressBar\n * A progressbar can show the progress of some long running actions\n * It will register and listen to some events on the Viewer instance.\n * Other objects can trigger these events and the progressbar will show the progress.\n */\n BIMSURFER.Control.ProgressBar = BIMSURFER.Class(BIMSURFER.Control, {\n\tCLASS: \"BIMSURFER.Control.ProgressBar\",\n\tpercentage: 0,\n\tshownPercentage: 0,\n\tmessage: '',\n\tanimationSpeed: 200,\n\tanimationTimer: null,\n\tcurrentType: BIMSURFER.Constants.ProgressBarStyle.Continuous,\n\tmarqueeImageSrc: './images/loader.png',\n\tmarqueeImage: null,\n\tmarqueeSpeed: 20,\n\n\tactivate: function() {\n\t\tif(this.div && this.SYSTEM) {\n\t\t\tthis.active = true;\n\t\t\tthis.marqueeImage = new Image();\n\t\t\tthis.marqueeImage.src = this.marqueeImageSrc;\n\t\t\tthis.redraw();\n\t\t\tthis.initEvents();\n\t\t}\n\t\tthis.events.trigger('activated');\n\t\treturn this;\n\t},\n\n\tdeactivate: function() {\n\t\tthis.active = false;\n\t\tthis.marqueeImage = null;\n\t\tthis.initEvents();\n\t\tjQuery(this.DOMelement).remove();\n\t\tthis.DOMelement = null;\n\t\tthis.events.trigger('deactivated');\n\t\treturn this;\n\t},\n\n\tinitEvents: function() {\n\t\tif(this.active) {\n\t\t\tthis.SYSTEM.events.register('progressStarted', this.start, this); // Register on global events\n\t\t\tthis.SYSTEM.events.register('progressDone', this.stop, this); // Register on global events\n\t\t\tthis.SYSTEM.events.register('progressBarStyleChanged', this.changeType, this); // Register on global events\n\t\t\tthis.SYSTEM.events.register('progressChanged', this.animateProgress, this); // Register on global events\n\t\t\tthis.SYSTEM.events.register('progressMessageChanged', this.changeMessage, this); // Register on global events\n\t\t} else {\n\t\t\tthis.SYSTEM.events.register('progressLoadingTypeChanged', this.animateProgress, this); // Register on global events\n\t\t\tthis.SYSTEM.events.unregister('progressChanged', this.animateProgress, this);\n\t\t\tthis.SYSTEM.events.unregister('progressMessageChanged', this.changeMessage, this);\n\t\t}\n\t},\n\tredraw: function() {\n\t\tjQuery(this.div).empty();\n\t\tjQuery(this.DOMelement).remove();\n\t\tthis.DOMelement = jQuery('<div />').addClass(this.CLASS.replace(/\\./g,\"-\"));\n\t\tif(this.active) {\n\t\t\tjQuery(this.div).append(this.DOMelement);\n\t\t}\n\n\t\tjQuery('<div />').addClass(this.CLASS.replace(/\\./g,\"-\") + '-progress').appendTo(this.DOMelement);\n\t\tjQuery('<div />').addClass(this.CLASS.replace(/\\./g,\"-\") + '-text').appendTo(this.DOMelement).text('0%');\n\t\treturn this;\n\t},\n\n\tstart: function(message) {\n\t\tif(this.active) {\n\t\t\tthis.changeMessage(message);\n\t\t\tthis.show();\n\t\t}\n\t},\n\tstop: function() {\n\t\tthis.hide('slow');\n\t},\n\n\tchangeType: function(loadingType) {\n\t\tvar bar = jQuery(this.DOMelement).find('.' + this.CLASS.replace(/\\./g,\"-\") + '-progress');\n\t\tvar text = jQuery(this.DOMelement).find('.' + this.CLASS.replace(/\\./g, \"-\") + '-text');\n\t\tswitch(loadingType) {\n\t\t\tcase BIMSURFER.Constants.ProgressBarStyle.Continuous:\n\t\t\t\tif(this.animationTimer != null) {\n\t\t\t\t\tclearInterval(this.animationTimer);\n\t\t\t\t\tthis.animationTimer = null;\n\t\t\t\t}\n\t\t\t\tjQuery(bar).removeAttr('style');\n\t\t\t\tjQuery(text).show();\n\t\t\t\tthis.currentType = BIMSURFER.Constants.ProgressBarStyle.Continuous;\n\t\t\t\tbreak;\n\n\t\t\tcase BIMSURFER.Constants.ProgressBarStyle.Marquee:\n\t\t\t\tjQuery(text).hide();\n\t\t\t\tvar width = Math.round(jQuery(this.DOMelement).height() / this.marqueeImage.height * this.marqueeImage.width);\n\n\t\t\t\tjQuery(bar).css({\n\t\t\t\t\t'width': '100%',\n\t\t\t\t\t'background-image': 'url(' + this.marqueeImageSrc + ')',\n\t\t\t\t\t'background-position': '0px 0px',\n\t\t\t\t\t'background-size': width + 'px ' + jQuery(this.DOMelement).height() + 'px'\n\t\t\t\t});\n\t\t\t\tif(this.animationTimer != null) {\n\t\t\t\t\tclearInterval(this.animationTimer);\n\t\t\t\t\tthis.animationTimer = null;\n\t\t\t\t}\n\t\t\t\tvar _this = this;\n\t\t\t\tthis.animationTimer = setInterval((function() {\n\t\t\t\t\tvar position = jQuery(bar).css('background-position').split('px');\n\t\t\t\t\tposition = position[0];\n\t\t\t\t\tif(position >= width) {\n\t\t\t\t\t\tposition = 0;\n\t\t\t\t\t}\n\n\t\t\t\t   \tjQuery(bar).css('background-position', position/1+1 + 'px 0px');\n\n\t\t\t\t}), this.marqueeSpeed);\n\t\t\t\tthis.currentType = BIMSURFER.Constants.ProgressBarStyle.Marquee;\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\tsetAnimationSpeed: function(speed) {\n\t\tthis.animationSpeed = speed;\n\t\treturn this;\n\t},\n\n\tchangeShownProgress: function(percentage) {\n\t\tif(this.currentType != BIMSURFER.Constants.ProgressBarStyle.Continuous) {\n\t\t\tthis.changeType(BIMSURFER.Constants.ProgressBarStyle.Continuous);\n\t\t}\n\t\tif(percentage > 100) {\n\t\t\tpercentage = 100;\n\t\t} else if(percentage < 0) {\n\t\t\tpercentage = 0;\n\t\t}\n\t\tthis.shownPercentage = percentage;\n\t\tjQuery(this.DOMelement).find('.' + this.CLASS.replace(/\\./g,\"-\") + '-text').text(this.shownPercentage + '%' + (this.message.length > 0 ? ' (' + this.message + ')': ''));\n\t\treturn this;\n\t},\n\n\tanimateProgress: function(percentage) {\n\n\t\tif(percentage > 100) {\n\t\t\tpercentage = 100;\n\t\t} else if(percentage < 0) {\n\t\t\tpercentage = 0;\n\t\t}\n\t\tif(this.animationTimer != null) {\n\t\t\tclearInterval(this.animationTimer);\n\t\t\tthis.animationTimer = null;\n\t\t}\n\n\t\tif(this.percentage < percentage) {\n\t\t\tjQuery(this.DOMelement).find('.' + this.CLASS.replace(/\\./g,\"-\") + '-progress').stop(true, false).animate({'width': percentage + '%'}, {duration: this.animationSpeed, queue: false});\n\n\t\t\tvar _this = this;\n\t\t\tthis.animationTimer = setInterval((function() {\n\n\t\t\t\tif(_this.shownPercentage == _this.percentage) {\n\t\t\t\t\tclearInterval(_this.animationTimer);\n\t\t\t\t\t_this.animationTimer = null;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_this.changeShownProgress(_this.shownPercentage + 1);\n\n\t\t\t}), Math.floor(this.animationSpeed / (percentage - this.shownPercentage)));\n\t\t} else {\n\t\t\tjQuery(this.DOMelement).find('.' + this.CLASS.replace(/\\./g,\"-\") + '-progress').stop().css('width', percentage + '%');\n\t\t\tthis.changeShownProgress(percentage);\n\t\t}\n\n\t\tthis.percentage = percentage;\n\t\treturn this;\n\t},\n\n\tchangeMessage: function(message) {\n\t\tjQuery(this.DOMelement).find('.' + this.CLASS.replace(/\\./g,\"-\") + '-text').text(this.percentage + '%' + (message.length > 0 ? ' (' + message + ')': ''));\n\t\tthis.message = message;\n\t\treturn this;\n\t}\n\n});\n\"use strict\"\n\n/**\n * Class: BIMSURFER.Light\n * This is the base class for Light objects.\n * Lights can be used to modify the lighting in the viewer\n */\nBIMSURFER.Light = BIMSURFER.Class({\n\tCLASS: 'BIMSURFER.Light',\n\tSYSTEM: null,\n\tlightObject: null,\n\t__construct: function() {\n\t},\n\tactivate: function() {\n\t\tvar myLights = this.SYSTEM.scene.findNode('my-lights');\n\t\tvar lights = myLights._core.lights;\n\n\t\tif(BIMSURFER.Util.isArray(this.lightObject)) {\n\t\t\tfor(var i = 0; i < this.lightObject.length; i++) {\n\t\t\t\tif(lights.indexOf(this.lightObject[i]) == -1) {\n\t\t\t\t\tlights.push(this.lightObject[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if(lights.indexOf(this.lightObject) == -1) {\n\t\t\tlights.push(this.lightObject);\n\t\t}\n\t\tmyLights.setLights(lights);\n\t},\n\tdeactivate: function() {\n\t\tvar myLight = this.SYSTEM.scene.findNode('my-lights');\n\t\tvar lights = myLights._core.lights;\n\n\t\tvar i = -1;\n\t\tif(BIMSURFER.Util.isArray(this.lightObject)) {\n\t\t\tfor(i = 0; i < this.lightObject.length; i++) {\n\t\t\t\tvar y = lights.indexOf(this.lightObject[i]);\n\t\t\t\tif(y > -1) {\n\t\t\t\t\tlights.splice(y, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if(i = lights.indexOf(this.lightObject) > -1) {\n\t\t\tlights.splice(i, 1);\n\t\t}\n\t\tmyLights.setLights(lights);\n\t},\n\n\tsetViewer: function(viewer) {\n\t\tthis.SYSTEM = viewer;\n\t}\n});\n\"use strict\"\n\n/**\n * Class: BIMSURFER.Light.Ambient\n * Default ambient light\n */\n BIMSURFER.Light.Ambient = BIMSURFER.Class(BIMSURFER.Light, {\n\tCLASS: 'BIMSURFER.Light.Ambient',\n\t__construct: function(system) {\n\t\tthis.SYSTEM = system;\n\t\tthis.lightObject = new Array({\n\t\t\t\tmode:\"ambient\",\n\t\t\t\tcolor:{ r:0.3, g:0.3, b:0.3 },\n\t\t\t\tdiffuse:false,\n\t\t\t\tspecular:false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode:\"dir\",\n\t\t\t\tcolor:{ r:1.0, g:1.0, b:1.0 },\n\t\t\t\tdiffuse:true,\n\t\t\t\tspecular:true,\n\t\t\t\tdir:{ x:-0.5, y:-0.5, z:-1.0 },\n\t\t\t\tspace:\"view\"\n\t\t\t}\n\t\t);\n\t}\n});\n\"use strict\"\n\n/**\n * Class: BIMSURFER.Light.Camera\n * This light will allways be behind the camera and pointed to the middle of the model\n */\nBIMSURFER.Light.Camera = BIMSURFER.Class(BIMSURFER.Light, {\n\tCLASS: 'BIMSURFER.Light.Camera',\n\t__construct: function(system){\n\t\tthis.SYSTEM = system;\n\t\tthis.lightObject = {\n\t\t\ttype:\t\t'light',\n\t\t\tid:\t\t\t'sun-light',\n\t\t\tmode:\t\t'dir',\n\t\t\tcolor:\t\t{r: 1, g: 1, b: 1},\n\t\t\tdir:   \t\t{x: -0.5, y: -0.5, z: -1.0},\n\t\t\tspace:\t\t'world',\n\t\t\tdiffuse:\ttrue,\n\t\t\tspecular:\ttrue\n\t\t};\n\t}\n});\n\"use strict\"\n\n/**\n * Class: BIMSURFER.Light.Camera\n * This light mimics the sunlight\n */\nBIMSURFER.Light.Sun = BIMSURFER.Class(BIMSURFER.Light, {\n\tCLASS: 'BIMSURFER.Light.Sun',\n\t__construct: function(system) {\n\t\tthis.SYSTEM = system;\n\t\tthis.lightObject = {\n\t\t\ttype:\t\t'light',\n\t\t\tid:\t\t\t'sun-light',\n\t\t\tmode:\t\t'dir',\n\t\t\tcolor:\t\t{r: 0.8, g: 0.8, b: 0.8},\n\t\t\tdir:   \t\t{x: -0.5, y: 0.5, z: -1.0},\n\t\t\tdiffuse:\ttrue,\n\t\t\tspecular:\ttrue\n\t\t};\n\t}\n});\n"],"sourceRoot":""}